{"Headers":{"Last-Modified":"Mon, 15 Mar 2021 16:54:30 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyoqDQogKiBDb3B5cmlnaHQgKGMpIFRpbnkgVGVjaG5vbG9naWVzLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgTEdQTCBvciBhIGNvbW1lcmNpYWwgbGljZW5zZS4NCiAqIEZvciBMR1BMIHNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLg0KICogRm9yIGNvbW1lcmNpYWwgbGljZW5zZXMgc2VlIGh0dHBzOi8vd3d3LnRpbnkuY2xvdWQvDQogKg0KICogVmVyc2lvbjogNS42LjIgKDIwMjAtMTItMDgpDQogKi8NCiFmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1mdW5jdGlvbihlKXtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7aWYoZT09PXVuZGVmaW5lZClyZXR1cm4idW5kZWZpbmVkIjt2YXIgdD10eXBlb2YgZTtyZXR1cm4ib2JqZWN0Ij09dCYmKEFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpfHxlLmNvbnN0cnVjdG9yJiYiQXJyYXkiPT09ZS5jb25zdHJ1Y3Rvci5uYW1lKT8iYXJyYXkiOiJvYmplY3QiPT10JiYoU3RyaW5nLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpfHxlLmNvbnN0cnVjdG9yJiYiU3RyaW5nIj09PWUuY29uc3RydWN0b3IubmFtZSk/InN0cmluZyI6dH0sdD1mdW5jdGlvbihlKXtyZXR1cm57ZXE6ZX19LHM9dChmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dH0pLGk9ZnVuY3Rpb24obyl7cmV0dXJuIHQoZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj1lLmxlbmd0aCxyPTA7cjxuO3IrKylpZighby5lcShlW3JdLHRbcl0pKXJldHVybiExO3JldHVybiEwfSl9LGM9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbj1pKGUpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZSxuPXIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkuc29ydChuKTt2YXIgdCxufSx0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZXEobyhlKSxvKHQpKX0pO3ZhciBuLG99LHU9ZnVuY3Rpb24odSl7cmV0dXJuIHQoZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKSxyPU9iamVjdC5rZXlzKHQpO2lmKCFjKHMpLmVxKG4scikpcmV0dXJuITE7Zm9yKHZhciBvPW4ubGVuZ3RoLGk9MDtpPG87aSsrKXt2YXIgYT1uW2ldO2lmKCF1LmVxKGVbYV0sdFthXSkpcmV0dXJuITF9cmV0dXJuITB9KX0sbD10KGZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuITA7dmFyIG49cihlKTtyZXR1cm4gbj09PXIodCkmJigtMSE9PVsidW5kZWZpbmVkIiwiYm9vbGVhbiIsIm51bWJlciIsInN0cmluZyIsImZ1bmN0aW9uIiwieG1sIiwibnVsbCJdLmluZGV4T2Yobik/ZT09PXQ6ImFycmF5Ij09PW4/aShsKS5lcShlLHQpOiJvYmplY3QiPT09biYmdShsKS5lcShlLHQpKX0pLFY9ZnVuY3Rpb24oKXt9LGE9ZnVuY3Rpb24obixyKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIG4oci5hcHBseShudWxsLGUpKX19LEU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlfTtmdW5jdGlvbiBOKHIpe2Zvcih2YXIgbz1bXSxlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylvW2UtMV09YXJndW1lbnRzW2VdO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgbj1vLmNvbmNhdChlKTtyZXR1cm4gci5hcHBseShudWxsLG4pfX12YXIgZSxuLGYsZD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIXQoZSl9fSxtPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihlKX19LGI9ZnVuY3Rpb24oZSl7ZSgpfSxDPUUoITEpLGs9RSghMCkscD1mdW5jdGlvbigpe3JldHVybiBnfSxnPShlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmlzTm9uZSgpfSx7Zm9sZDpmdW5jdGlvbihlLHQpe3JldHVybiBlKCl9LGlzOkMsaXNTb21lOkMsaXNOb25lOmssZ2V0T3I6Zj1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZ2V0T3JUaHVuazpuPWZ1bmN0aW9uKGUpe3JldHVybiBlKCl9LGdldE9yRGllOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlfHwiZXJyb3I6IGdldE9yRGllIGNhbGxlZCBvbiBub25lLiIpfSxnZXRPck51bGw6RShudWxsKSxnZXRPclVuZGVmaW5lZDpFKHVuZGVmaW5lZCksb3I6ZixvclRodW5rOm4sbWFwOnAsZWFjaDpWLGJpbmQ6cCxleGlzdHM6Qyxmb3JhbGw6ayxmaWx0ZXI6cCxlcXVhbHM6ZSxlcXVhbHNfOmUsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybltdfSx0b1N0cmluZzpFKCJub25lKCkiKX0pLGg9ZnVuY3Rpb24obil7dmFyIGU9RShuKSx0PWZ1bmN0aW9uKCl7cmV0dXJuIG99LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUobil9LG89e2ZvbGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdChuKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG49PT1lfSxpc1NvbWU6ayxpc05vbmU6QyxnZXRPcjplLGdldE9yVGh1bms6ZSxnZXRPckRpZTplLGdldE9yTnVsbDplLGdldE9yVW5kZWZpbmVkOmUsb3I6dCxvclRodW5rOnQsbWFwOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUobikpfSxlYWNoOmZ1bmN0aW9uKGUpe2Uobil9LGJpbmQ6cixleGlzdHM6cixmb3JhbGw6cixmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUobik/bzpnfSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW25dfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJzb21lKCIrbisiKSJ9LGVxdWFsczpmdW5jdGlvbihlKXtyZXR1cm4gZS5pcyhuKX0sZXF1YWxzXzpmdW5jdGlvbihlLHQpe3JldHVybiBlLmZvbGQoQyxmdW5jdGlvbihlKXtyZXR1cm4gdChuLGUpfSl9fTtyZXR1cm4gb30sVT17c29tZTpoLG5vbmU6cCxmcm9tOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8ZT09PXVuZGVmaW5lZD9nOmgoZSl9fSx2PWZ1bmN0aW9uKHIpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbj10eXBlb2YodD1lKSwobnVsbD09PXQ/Im51bGwiOiJvYmplY3QiPT1uJiYoQXJyYXkucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCl8fHQuY29uc3RydWN0b3ImJiJBcnJheSI9PT10LmNvbnN0cnVjdG9yLm5hbWUpPyJhcnJheSI6Im9iamVjdCI9PW4mJihTdHJpbmcucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCl8fHQuY29uc3RydWN0b3ImJiJTdHJpbmciPT09dC5jb25zdHJ1Y3Rvci5uYW1lKT8ic3RyaW5nIjpuKT09PXI7dmFyIHQsbn19LHk9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZT09PXR9fSx3PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdD09PWV9fSxxPXYoInN0cmluZyIpLF89digib2JqZWN0IiksUz12KCJhcnJheSIpLHg9dyhudWxsKSxBPXkoImJvb2xlYW4iKSxSPXcodW5kZWZpbmVkKSwkPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8ZT09PXVuZGVmaW5lZH0sRD1mdW5jdGlvbihlKXtyZXR1cm4hJChlKX0sVD15KCJmdW5jdGlvbiIpLE89eSgibnVtYmVyIiksQj1BcnJheS5wcm90b3R5cGUuc2xpY2UsUD1BcnJheS5wcm90b3R5cGUuaW5kZXhPZixMPUFycmF5LnByb3RvdHlwZS5wdXNoLEk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUC5jYWxsKGUsdCl9LE09ZnVuY3Rpb24oZSx0KXtyZXR1cm4tMTxJKGUsdCl9LEY9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspe2lmKHQoZVtuXSxuKSlyZXR1cm4hMH1yZXR1cm4hMX0sej1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPW5ldyBBcnJheShuKSxvPTA7bzxuO28rKyl7dmFyIGk9ZVtvXTtyW29dPXQoaSxvKX1yZXR1cm4gcn0sVz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl7dChlW25dLG4pfX0saj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aC0xOzA8PW47bi0tKXt0KGVbbl0sbil9fSxIPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MCxvPWUubGVuZ3RoO3I8bztyKyspe3ZhciBpPWVbcl07dChpLHIpJiZuLnB1c2goaSl9cmV0dXJuIG59LEs9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBqKGUsZnVuY3Rpb24oZSl7bj10KG4sZSl9KSxufSxYPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVyhlLGZ1bmN0aW9uKGUpe249dChuLGUpfSksbn0sWT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsbz1lLmxlbmd0aDtyPG87cisrKXt2YXIgaT1lW3JdO2lmKHQoaSxyKSlyZXR1cm4gVS5zb21lKGkpO2lmKG4oaSxyKSlicmVha31yZXR1cm4gVS5ub25lKCl9KGUsdCxDKX0sRz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl7aWYodChlW25dLG4pKXJldHVybiBVLnNvbWUobil9cmV0dXJuIFUubm9uZSgpfSxKPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTAscj1lLmxlbmd0aDtuPHI7KytuKXtpZighUyhlW25dKSl0aHJvdyBuZXcgRXJyb3IoIkFyci5mbGF0dGVuIGl0ZW0gIituKyIgd2FzIG5vdCBhbiBhcnJheSwgaW5wdXQ6ICIrZSk7TC5hcHBseSh0LGVbbl0pfXJldHVybiB0fSh6KGUsdCkpfSxRPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7KytuKXtpZighMCE9PXQoZVtuXSxuKSlyZXR1cm4hMX1yZXR1cm4hMH0sWj1mdW5jdGlvbihlKXt2YXIgdD1CLmNhbGwoZSwwKTtyZXR1cm4gdC5yZXZlcnNlKCksdH0sZWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSChlLGZ1bmN0aW9uKGUpe3JldHVybiFNKHQsZSl9KX0sdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDw9dCYmdDxlLmxlbmd0aD9VLnNvbWUoZVt0XSk6VS5ub25lKCl9LG5lPWZ1bmN0aW9uKGUpe3JldHVybiB0ZShlLDApfSxyZT1mdW5jdGlvbihlKXtyZXR1cm4gdGUoZSxlLmxlbmd0aC0xKX0sb2U9VChBcnJheS5mcm9tKT9BcnJheS5mcm9tOmZ1bmN0aW9uKGUpe3JldHVybiBCLmNhbGwoZSl9LGllPU9iamVjdC5rZXlzLGFlPU9iamVjdC5oYXNPd25Qcm9wZXJ0eSx1ZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1pZShlKSxyPTAsbz1uLmxlbmd0aDtyPG87cisrKXt2YXIgaT1uW3JdO3QoZVtpXSxpKX19LHNlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGNlKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm57azp0LHY6bihlLHQpfX0pfSxjZT1mdW5jdGlvbihlLHIpe3ZhciBvPXt9O3JldHVybiB1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49cihlLHQpO29bbi5rXT1uLnZ9KSxvfSxsZT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtuW3RdPWV9fSxmZT1mdW5jdGlvbihlLG4scixvKXtyZXR1cm4gdWUoZSxmdW5jdGlvbihlLHQpeyhuKGUsdCk/cjpvKShlLHQpfSkse319LGRlPWZ1bmN0aW9uKGUsdCl7dmFyIG49e30scj17fTtyZXR1cm4gZmUoZSx0LGxlKG4pLGxlKHIpKSx7dDpuLGY6cn19LG1lPWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuIGZlKGUsdCxsZShuKSxWKSxufSxwZT1mdW5jdGlvbihlKXtyZXR1cm4gbj1mdW5jdGlvbihlKXtyZXR1cm4gZX0scj1bXSx1ZShlLGZ1bmN0aW9uKGUsdCl7ci5wdXNoKG4oZSx0KSl9KSxyO3ZhciBuLHJ9LGdlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGhlKGUsdCk/VS5mcm9tKGVbdF0pOlUubm9uZSgpfSxoZT1mdW5jdGlvbihlLHQpe3JldHVybiBhZS5jYWxsKGUsdCl9LHZlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGhlKGUsdCkmJmVbdF0hPT11bmRlZmluZWQmJm51bGwhPT1lW3RdfSx5ZT1BcnJheS5pc0FycmF5LGJlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvO2lmKCFlKXJldHVybiExO2lmKG49bnx8ZSxlLmxlbmd0aCE9PXVuZGVmaW5lZCl7Zm9yKHI9MCxvPWUubGVuZ3RoO3I8bztyKyspaWYoITE9PT10LmNhbGwobixlW3JdLHIsZSkpcmV0dXJuITF9ZWxzZSBmb3IociBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikmJiExPT09dC5jYWxsKG4sZVtyXSxyLGUpKXJldHVybiExO3JldHVybiEwfSxDZT1mdW5jdGlvbihuLHIpe3ZhciBvPVtdO3JldHVybiBiZShuLGZ1bmN0aW9uKGUsdCl7by5wdXNoKHIoZSx0LG4pKX0pLG99LHdlPWZ1bmN0aW9uKG4scil7dmFyIG89W107cmV0dXJuIGJlKG4sZnVuY3Rpb24oZSx0KXtyJiYhcihlLHQsbil8fG8ucHVzaChlKX0pLG99LHhlPWZ1bmN0aW9uKGUsdCl7aWYoZSlmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LFNlPWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbz1SKG4pP2VbMF06bixpPTA7aTxlLmxlbmd0aDtpKyspbz10LmNhbGwocixvLGVbaV0saSk7cmV0dXJuIG99LE5lPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MCxvPWUubGVuZ3RoO3I8bztyKyspaWYodC5jYWxsKG4sZVtyXSxyLGUpKXJldHVybiByO3JldHVybi0xfSxFZT1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLmxlbmd0aC0xXX0sa2U9ZnVuY3Rpb24oKXtyZXR1cm4oa2U9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MSxyPWFyZ3VtZW50cy5sZW5ndGg7bjxyO24rKylmb3IodmFyIG8gaW4gdD1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBfZSgpe2Zvcih2YXIgZT0wLHQ9MCxuPWFyZ3VtZW50cy5sZW5ndGg7dDxuO3QrKyllKz1hcmd1bWVudHNbdF0ubGVuZ3RoO2Zvcih2YXIgcj1BcnJheShlKSxvPTAsdD0wO3Q8bjt0KyspZm9yKHZhciBpPWFyZ3VtZW50c1t0XSxhPTAsdT1pLmxlbmd0aDthPHU7YSsrLG8rKylyW29dPWlbYV07cmV0dXJuIHJ9dmFyIEFlLFJlLFRlLERlLE9lLEJlLFBlLExlPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtpZihyLnRlc3QodCkpcmV0dXJuIHJ9cmV0dXJuIHVuZGVmaW5lZH0oZSx0KTtpZighbilyZXR1cm57bWFqb3I6MCxtaW5vcjowfTt2YXIgcj1mdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyKHQucmVwbGFjZShuLCIkIitlKSl9O3JldHVybiBNZShyKDEpLHIoMikpfSxJZT1mdW5jdGlvbigpe3JldHVybiBNZSgwLDApfSxNZT1mdW5jdGlvbihlLHQpe3JldHVybnttYWpvcjplLG1pbm9yOnR9fSxGZT17bnU6TWUsZGV0ZWN0OmZ1bmN0aW9uKGUsdCl7dmFyIG49U3RyaW5nKHQpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIDA9PT1lLmxlbmd0aD9JZSgpOkxlKGUsbil9LHVua25vd246SWV9LFVlPWZ1bmN0aW9uKGUsdCl7dmFyIG49U3RyaW5nKHQpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIFkoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWFyY2gobil9KX0semU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gVWUoZSxuKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9RmUuZGV0ZWN0KGUudmVyc2lvblJlZ2V4ZXMsbik7cmV0dXJue2N1cnJlbnQ6ZS5uYW1lLHZlcnNpb246dH19KX0samU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gVWUoZSxuKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9RmUuZGV0ZWN0KGUudmVyc2lvblJlZ2V4ZXMsbik7cmV0dXJue2N1cnJlbnQ6ZS5uYW1lLHZlcnNpb246dH19KX0sSGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4tMSE9PWUuaW5kZXhPZih0KX0sVmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1lLG89MCwiIj09PShyPXQpfHxuLmxlbmd0aD49ci5sZW5ndGgmJm4uc3Vic3RyKG8sbytyLmxlbmd0aCk9PT1yO3ZhciBuLHIsb30scWU9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UodCwiIil9fSwkZT1xZSgvXlxzK3xccyskL2cpLFdlPXFlKC9eXHMrL2cpLEtlPXFlKC9ccyskL2cpLFhlPS8uKj92ZXJzaW9uXC9cID8oWzAtOV0rKVwuKFswLTldKykuKi8sWWU9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBIZShlLHQpfX0sR2U9W3tuYW1lOiJFZGdlIix2ZXJzaW9uUmVnZXhlczpbLy4qP2VkZ2VcLyA/KFswLTldKylcLihbMC05XSspJC9dLHNlYXJjaDpmdW5jdGlvbihlKXtyZXR1cm4gSGUoZSwiZWRnZS8iKSYmSGUoZSwiY2hyb21lIikmJkhlKGUsInNhZmFyaSIpJiZIZShlLCJhcHBsZXdlYmtpdCIpfX0se25hbWU6IkNocm9tZSIsdmVyc2lvblJlZ2V4ZXM6Wy8uKj9jaHJvbWVcLyhbMC05XSspXC4oWzAtOV0rKS4qLyxYZV0sc2VhcmNoOmZ1bmN0aW9uKGUpe3JldHVybiBIZShlLCJjaHJvbWUiKSYmIUhlKGUsImNocm9tZWZyYW1lIil9fSx7bmFtZToiSUUiLHZlcnNpb25SZWdleGVzOlsvLio/bXNpZVwgPyhbMC05XSspXC4oWzAtOV0rKS4qLywvLio/cnY6KFswLTldKylcLihbMC05XSspLiovXSxzZWFyY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIEhlKGUsIm1zaWUiKXx8SGUoZSwidHJpZGVudCIpfX0se25hbWU6Ik9wZXJhIix2ZXJzaW9uUmVnZXhlczpbWGUsLy4qP29wZXJhXC8oWzAtOV0rKVwuKFswLTldKykuKi9dLHNlYXJjaDpZZSgib3BlcmEiKX0se25hbWU6IkZpcmVmb3giLHZlcnNpb25SZWdleGVzOlsvLio/ZmlyZWZveFwvXCA/KFswLTldKylcLihbMC05XSspLiovXSxzZWFyY2g6WWUoImZpcmVmb3giKX0se25hbWU6IlNhZmFyaSIsdmVyc2lvblJlZ2V4ZXM6W1hlLC8uKj9jcHUgb3MgKFswLTldKylfKFswLTldKykuKi9dLHNlYXJjaDpmdW5jdGlvbihlKXtyZXR1cm4oSGUoZSwic2FmYXJpIil8fEhlKGUsIm1vYmlsZS8iKSkmJkhlKGUsImFwcGxld2Via2l0Iil9fV0sSmU9W3tuYW1lOiJXaW5kb3dzIixzZWFyY2g6WWUoIndpbiIpLHZlcnNpb25SZWdleGVzOlsvLio/d2luZG93c1wgbnRcID8oWzAtOV0rKVwuKFswLTldKykuKi9dfSx7bmFtZToiaU9TIixzZWFyY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIEhlKGUsImlwaG9uZSIpfHxIZShlLCJpcGFkIil9LHZlcnNpb25SZWdleGVzOlsvLio/dmVyc2lvblwvXCA/KFswLTldKylcLihbMC05XSspLiovLC8uKmNwdSBvcyAoWzAtOV0rKV8oWzAtOV0rKS4qLywvLipjcHUgaXBob25lIG9zIChbMC05XSspXyhbMC05XSspLiovXX0se25hbWU6IkFuZHJvaWQiLHNlYXJjaDpZZSgiYW5kcm9pZCIpLHZlcnNpb25SZWdleGVzOlsvLio/YW5kcm9pZFwgPyhbMC05XSspXC4oWzAtOV0rKS4qL119LHtuYW1lOiJPU1giLHNlYXJjaDpZZSgibWFjIG9zIHgiKSx2ZXJzaW9uUmVnZXhlczpbLy4qP21hY1wgb3NcIHhcID8oWzAtOV0rKV8oWzAtOV0rKS4qL119LHtuYW1lOiJMaW51eCIsc2VhcmNoOlllKCJsaW51eCIpLHZlcnNpb25SZWdleGVzOltdfSx7bmFtZToiU29sYXJpcyIsc2VhcmNoOlllKCJzdW5vcyIpLHZlcnNpb25SZWdleGVzOltdfSx7bmFtZToiRnJlZUJTRCIsc2VhcmNoOlllKCJmcmVlYnNkIiksdmVyc2lvblJlZ2V4ZXM6W119LHtuYW1lOiJDaHJvbWVPUyIsc2VhcmNoOlllKCJjcm9zIiksdmVyc2lvblJlZ2V4ZXM6Wy8uKj9jaHJvbWVcLyhbMC05XSspXC4oWzAtOV0rKS4qL119XSxRZT17YnJvd3NlcnM6RShHZSksb3NlczpFKEplKX0sWmU9IkZpcmVmb3giLGV0PWZ1bmN0aW9uKGUpe3ZhciB0PWUuY3VycmVudCxuPWUudmVyc2lvbixyPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0PT09ZX19O3JldHVybntjdXJyZW50OnQsdmVyc2lvbjpuLGlzRWRnZTpyKCJFZGdlIiksaXNDaHJvbWU6cigiQ2hyb21lIiksaXNJRTpyKCJJRSIpLGlzT3BlcmE6cigiT3BlcmEiKSxpc0ZpcmVmb3g6cihaZSksaXNTYWZhcmk6cigiU2FmYXJpIil9fSx0dD17dW5rbm93bjpmdW5jdGlvbigpe3JldHVybiBldCh7Y3VycmVudDp1bmRlZmluZWQsdmVyc2lvbjpGZS51bmtub3duKCl9KX0sbnU6ZXQsZWRnZTpFKCJFZGdlIiksY2hyb21lOkUoIkNocm9tZSIpLGllOkUoIklFIiksb3BlcmE6RSgiT3BlcmEiKSxmaXJlZm94OkUoWmUpLHNhZmFyaTpFKCJTYWZhcmkiKX0sbnQ9IldpbmRvd3MiLHJ0PSJBbmRyb2lkIixvdD0iU29sYXJpcyIsaXQ9IkZyZWVCU0QiLGF0PSJDaHJvbWVPUyIsdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jdXJyZW50LG49ZS52ZXJzaW9uLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQ9PT1lfX07cmV0dXJue2N1cnJlbnQ6dCx2ZXJzaW9uOm4saXNXaW5kb3dzOnIobnQpLGlzaU9TOnIoImlPUyIpLGlzQW5kcm9pZDpyKHJ0KSxpc09TWDpyKCJPU1giKSxpc0xpbnV4OnIoIkxpbnV4IiksaXNTb2xhcmlzOnIob3QpLGlzRnJlZUJTRDpyKGl0KSxpc0Nocm9tZU9TOnIoYXQpfX0sc3Q9e3Vua25vd246ZnVuY3Rpb24oKXtyZXR1cm4gdXQoe2N1cnJlbnQ6dW5kZWZpbmVkLHZlcnNpb246RmUudW5rbm93bigpfSl9LG51OnV0LHdpbmRvd3M6RShudCksaW9zOkUoImlPUyIpLGFuZHJvaWQ6RShydCksbGludXg6RSgiTGludXgiKSxvc3g6RSgiT1NYIiksc29sYXJpczpFKG90KSxmcmVlYnNkOkUoaXQpLGNocm9tZW9zOkUoYXQpfSxjdD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxwPVFlLmJyb3dzZXJzKCksZz1RZS5vc2VzKCksaD16ZShwLGUpLmZvbGQodHQudW5rbm93bix0dC5udSksdj1qZShnLGUpLmZvbGQoc3QudW5rbm93bixzdC5udSk7cmV0dXJue2Jyb3dzZXI6aCxvczp2LGRldmljZVR5cGU6KHI9aCxvPWUsaT10LGE9KG49dikuaXNpT1MoKSYmITA9PT0vaXBhZC9pLnRlc3QobyksdT1uLmlzaU9TKCkmJiFhLHM9bi5pc2lPUygpfHxuLmlzQW5kcm9pZCgpLGM9c3x8aSgiKHBvaW50ZXI6Y29hcnNlKSIpLGw9YXx8IXUmJnMmJmkoIihtaW4tZGV2aWNlLXdpZHRoOjc2OHB4KSIpLGY9dXx8cyYmIWwsZD1yLmlzU2FmYXJpKCkmJm4uaXNpT1MoKSYmITE9PT0vc2FmYXJpL2kudGVzdChvKSxtPSFmJiYhbCYmIWQse2lzaVBhZDpFKGEpLGlzaVBob25lOkUodSksaXNUYWJsZXQ6RShsKSxpc1Bob25lOkUoZiksaXNUb3VjaDpFKGMpLGlzQW5kcm9pZDpuLmlzQW5kcm9pZCxpc2lPUzpuLmlzaU9TLGlzV2ViVmlldzpFKGQpLGlzRGVza3RvcDpFKG0pfSl9fSxsdD1mdW5jdGlvbihlKXtyZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoZSkubWF0Y2hlc30sZnQ9KFRlPSEoQWU9ZnVuY3Rpb24oKXtyZXR1cm4gY3QobmF2aWdhdG9yLnVzZXJBZ2VudCxsdCl9KSxmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gVGV8fChUZT0hMCxSZT1BZS5hcHBseShudWxsLGUpKSxSZX0pLGR0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ0KCl9LG10PW5hdmlnYXRvci51c2VyQWdlbnQscHQ9ZHQoKSxndD1wdC5icm93c2VyLGh0PXB0Lm9zLHZ0PXB0LmRldmljZVR5cGUseXQ9L1dlYktpdC8udGVzdChtdCkmJiFndC5pc0VkZ2UoKSxidD0iRm9ybURhdGEiaW4gd2luZG93JiYiRmlsZVJlYWRlciJpbiB3aW5kb3cmJiJVUkwiaW4gd2luZG93JiYhIVVSTC5jcmVhdGVPYmplY3RVUkwsQ3Q9LTEhPT1tdC5pbmRleE9mKCJXaW5kb3dzIFBob25lIiksd3Q9e29wZXJhOmd0LmlzT3BlcmEoKSx3ZWJraXQ6eXQsaWU6ISghZ3QuaXNJRSgpJiYhZ3QuaXNFZGdlKCkpJiZndC52ZXJzaW9uLm1ham9yLGdlY2tvOmd0LmlzRmlyZWZveCgpLG1hYzpodC5pc09TWCgpfHxodC5pc2lPUygpLGlPUzp2dC5pc2lQYWQoKXx8dnQuaXNpUGhvbmUoKSxhbmRyb2lkOmh0LmlzQW5kcm9pZCgpLGNvbnRlbnRFZGl0YWJsZTohMCx0cmFuc3BhcmVudFNyYzoiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95SDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUJSQUE3IixjYXJldEFmdGVyOiEwLHJhbmdlOndpbmRvdy5nZXRTZWxlY3Rpb24mJiJSYW5nZSJpbiB3aW5kb3csZG9jdW1lbnRNb2RlOmd0LmlzSUUoKT9kb2N1bWVudC5kb2N1bWVudE1vZGV8fDc6MTAsZmlsZUFwaTpidCxjZUZhbHNlOiEwLGNhY2hlU3VmZml4Om51bGwsY29udGFpbmVyOm51bGwsZXhwZXJpbWVudGFsU2hhZG93RG9tOiExLGNhbkhhdmVDU1A6IWd0LmlzSUUoKSxkZXNrdG9wOnZ0LmlzRGVza3RvcCgpLHdpbmRvd3NQaG9uZTpDdCxicm93c2VyOntjdXJyZW50Omd0LmN1cnJlbnQsdmVyc2lvbjpndC52ZXJzaW9uLGlzQ2hyb21lOmd0LmlzQ2hyb21lLGlzRWRnZTpndC5pc0VkZ2UsaXNGaXJlZm94Omd0LmlzRmlyZWZveCxpc0lFOmd0LmlzSUUsaXNPcGVyYTpndC5pc09wZXJhLGlzU2FmYXJpOmd0LmlzU2FmYXJpfSxvczp7Y3VycmVudDpodC5jdXJyZW50LHZlcnNpb246aHQudmVyc2lvbixpc0FuZHJvaWQ6aHQuaXNBbmRyb2lkLGlzQ2hyb21lT1M6aHQuaXNDaHJvbWVPUyxpc0ZyZWVCU0Q6aHQuaXNGcmVlQlNELGlzaU9TOmh0LmlzaU9TLGlzTGludXg6aHQuaXNMaW51eCxpc09TWDpodC5pc09TWCxpc1NvbGFyaXM6aHQuaXNTb2xhcmlzLGlzV2luZG93czpodC5pc1dpbmRvd3N9LGRldmljZVR5cGU6e2lzRGVza3RvcDp2dC5pc0Rlc2t0b3AsaXNpUGFkOnZ0LmlzaVBhZCxpc2lQaG9uZTp2dC5pc2lQaG9uZSxpc1Bob25lOnZ0LmlzUGhvbmUsaXNUYWJsZXQ6dnQuaXNUYWJsZXQsaXNUb3VjaDp2dC5pc1RvdWNoLGlzV2ViVmlldzp2dC5pc1dlYlZpZXd9fSx4dD0vXlxzKnxccyokL2csU3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHxlPT09dW5kZWZpbmVkPyIiOigiIitlKS5yZXBsYWNlKHh0LCIiKX0sTnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8hKCJhcnJheSIhPT10fHwheWUoZSkpfHx0eXBlb2YgZT09PXQ6ZSE9PXVuZGVmaW5lZH0sRXQ9ZnVuY3Rpb24oZSxuLHIsbyl7bz1vfHx0aGlzLGUmJihyJiYoZT1lW3JdKSxiZShlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuITEhPT1uLmNhbGwobyxlLHQscikmJnZvaWQgRXQoZSxuLHIsbyl9KSl9LGt0PXt0cmltOlN0LGlzQXJyYXk6eWUsaXM6TnQsdG9BcnJheTpmdW5jdGlvbihlKXtpZih5ZShlKSlyZXR1cm4gZTtmb3IodmFyIHQ9W10sbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl0W25dPWVbbl07cmV0dXJuIHR9LG1ha2VNYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2Zvcih0PXR8fCIsIiwic3RyaW5nIj09dHlwZW9mKGU9ZXx8W10pJiYoZT1lLnNwbGl0KHQpKSxuPW58fHt9LHI9ZS5sZW5ndGg7ci0tOyluW2Vbcl1dPXt9O3JldHVybiBufSxlYWNoOmJlLG1hcDpDZSxncmVwOndlLGluQXJyYXk6eGUsaGFzT3duOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxleHRlbmQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvLGk9dFtyXTtmb3IodmFyIGEgaW4gaSl7IWkuaGFzT3duUHJvcGVydHkoYSl8fChvPWlbYV0pIT09dW5kZWZpbmVkJiYoZVthXT1vKX19cmV0dXJuIGV9LGNyZWF0ZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE9dGhpcyx1PTAscz0oZT0vXigoc3RhdGljKSApPyhbXHcuXSspKDooW1x3Ll0rKSk/Ly5leGVjKGUpKVszXS5tYXRjaCgvKF58XC4pKFx3KykkL2kpWzJdLGM9YS5jcmVhdGVOUyhlWzNdLnJlcGxhY2UoL1wuXHcrJC8sIiIpLG4pO2lmKCFjW3NdKXtpZigic3RhdGljIj09PWVbMl0pcmV0dXJuIGNbc109dCx2b2lkKHRoaXMub25DcmVhdGUmJnRoaXMub25DcmVhdGUoZVsyXSxlWzNdLGNbc10pKTt0W3NdfHwodFtzXT1mdW5jdGlvbigpe30sdT0xKSxjW3NdPXRbc10sYS5leHRlbmQoY1tzXS5wcm90b3R5cGUsdCksZVs1XSYmKHI9YS5yZXNvbHZlKGVbNV0pLnByb3RvdHlwZSxvPWVbNV0ubWF0Y2goL1wuKFx3KykkL2kpWzFdLGk9Y1tzXSxjW3NdPXU/ZnVuY3Rpb24oKXtyZXR1cm4gcltvXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50PXJbb10saS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNbc10ucHJvdG90eXBlW3NdPWNbc10sYS5lYWNoKHIsZnVuY3Rpb24oZSx0KXtjW3NdLnByb3RvdHlwZVt0XT1yW3RdfSksYS5lYWNoKHQsZnVuY3Rpb24oZSx0KXtyW3RdP2Nbc10ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50PXJbdF0sZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OnQhPT1zJiYoY1tzXS5wcm90b3R5cGVbdF09ZSl9KSksYS5lYWNoKHRbInN0YXRpYyJdLGZ1bmN0aW9uKGUsdCl7Y1tzXVt0XT1lfSl9fSx3YWxrOkV0LGNyZWF0ZU5TOmZ1bmN0aW9uKGUsdCl7dmFyIG4scjtmb3IodD10fHx3aW5kb3csZT1lLnNwbGl0KCIuIiksbj0wO248ZS5sZW5ndGg7bisrKXRbcj1lW25dXXx8KHRbcl09e30pLHQ9dFtyXTtyZXR1cm4gdH0scmVzb2x2ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI7Zm9yKHQ9dHx8d2luZG93LG49MCxyPShlPWUuc3BsaXQoIi4iKSkubGVuZ3RoO248ciYmKHQ9dFtlW25dXSk7bisrKTtyZXR1cm4gdH0sZXhwbG9kZTpmdW5jdGlvbihlLHQpe3JldHVybiFlfHxOdChlLCJhcnJheSIpP2U6Q2UoZS5zcGxpdCh0fHwiLCIpLFN0KX0sX2FkZENhY2hlU3VmZml4OmZ1bmN0aW9uKGUpe3ZhciB0PXd0LmNhY2hlU3VmZml4O3JldHVybiB0JiYoZSs9KC0xPT09ZS5pbmRleE9mKCI/Iik/Ij8iOiImIikrdCksZX19LF90PWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHxlPT09dW5kZWZpbmVkKXRocm93IG5ldyBFcnJvcigiTm9kZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQiKTtyZXR1cm57ZG9tOmV9fSxBdD17ZnJvbUh0bWw6ZnVuY3Rpb24oZSx0KXt2YXIgbj0odHx8ZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2lmKG4uaW5uZXJIVE1MPWUsIW4uaGFzQ2hpbGROb2RlcygpfHwxPG4uY2hpbGROb2Rlcy5sZW5ndGgpdGhyb3cgY29uc29sZS5lcnJvcigiSFRNTCBkb2VzIG5vdCBoYXZlIGEgc2luZ2xlIHJvb3Qgbm9kZSIsZSksbmV3IEVycm9yKCJIVE1MIG11c3QgaGF2ZSBhIHNpbmdsZSByb290IG5vZGUiKTtyZXR1cm4gX3Qobi5jaGlsZE5vZGVzWzBdKX0sZnJvbVRhZzpmdW5jdGlvbihlLHQpe3ZhciBuPSh0fHxkb2N1bWVudCkuY3JlYXRlRWxlbWVudChlKTtyZXR1cm4gX3Qobil9LGZyb21UZXh0OmZ1bmN0aW9uKGUsdCl7dmFyIG49KHR8fGRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShlKTtyZXR1cm4gX3Qobil9LGZyb21Eb206X3QsZnJvbVBvaW50OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVS5mcm9tKGUuZG9tLmVsZW1lbnRGcm9tUG9pbnQodCxuKSkubWFwKF90KX19LFJ0PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIG4ucHVzaChlKSx0KGUpfSxvPXQoZSk7KG89by5iaW5kKHIpKS5pc1NvbWUoKTspO3JldHVybiBufSxUdD1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZG9tO2lmKDEhPT1uLm5vZGVUeXBlKXJldHVybiExO3ZhciByPW47aWYoci5tYXRjaGVzIT09dW5kZWZpbmVkKXJldHVybiByLm1hdGNoZXModCk7aWYoci5tc01hdGNoZXNTZWxlY3RvciE9PXVuZGVmaW5lZClyZXR1cm4gci5tc01hdGNoZXNTZWxlY3Rvcih0KTtpZihyLndlYmtpdE1hdGNoZXNTZWxlY3RvciE9PXVuZGVmaW5lZClyZXR1cm4gci53ZWJraXRNYXRjaGVzU2VsZWN0b3IodCk7aWYoci5tb3pNYXRjaGVzU2VsZWN0b3IhPT11bmRlZmluZWQpcmV0dXJuIHIubW96TWF0Y2hlc1NlbGVjdG9yKHQpO3Rocm93IG5ldyBFcnJvcigiQnJvd3NlciBsYWNrcyBuYXRpdmUgc2VsZWN0b3JzIil9LER0PWZ1bmN0aW9uKGUpe3JldHVybiAxIT09ZS5ub2RlVHlwZSYmOSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8MD09PWUuY2hpbGRFbGVtZW50Q291bnR9LE90PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZG9tPT09dC5kb219LEJ0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49ZS5kb20scj10LmRvbSxvPW4saT1yLGE9Tm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlksMCE9KG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24oaSkmYSk7dmFyIG4scixvLGksYX0sUHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZHQoKS5icm93c2VyLmlzSUUoKT9CdChlLHQpOihuPXQscj1lLmRvbSxvPW4uZG9tLHIhPT1vJiZyLmNvbnRhaW5zKG8pKTt2YXIgbixyLG99LEx0PSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvd3x8RnVuY3Rpb24oInJldHVybiB0aGlzOyIpKCksZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl9KSxJdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5kb20ubm9kZVR5cGV9LE10PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gSXQoZSk9PT10fX0sRnQ9TXQoMSksVXQ9TXQoMyksenQ9TXQoOSksanQ9TXQoMTEpLEh0PWZ1bmN0aW9uKGUpe3JldHVybiBBdC5mcm9tRG9tKGUuZG9tLm93bmVyRG9jdW1lbnQpfSxWdD1mdW5jdGlvbihlKXtyZXR1cm4genQoZSk/ZTpIdChlKX0scXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEF0LmZyb21Eb20oVnQoZSkuZG9tLmRlZmF1bHRWaWV3KX0sJHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFUuZnJvbShlLmRvbS5wYXJlbnROb2RlKS5tYXAoQXQuZnJvbURvbSl9LFd0PWZ1bmN0aW9uKGUpe3JldHVybiBVLmZyb20oZS5kb20ucHJldmlvdXNTaWJsaW5nKS5tYXAoQXQuZnJvbURvbSl9LEt0PWZ1bmN0aW9uKGUpe3JldHVybiBVLmZyb20oZS5kb20ubmV4dFNpYmxpbmcpLm1hcChBdC5mcm9tRG9tKX0sWHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFooUnQoZSxXdCkpfSxZdD1mdW5jdGlvbihlKXtyZXR1cm4gUnQoZSxLdCl9LEd0PWZ1bmN0aW9uKGUpe3JldHVybiB6KGUuZG9tLmNoaWxkTm9kZXMsQXQuZnJvbURvbSl9LEp0PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20uY2hpbGROb2RlcztyZXR1cm4gVS5mcm9tKG5bdF0pLm1hcChBdC5mcm9tRG9tKX0sUXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEp0KGUsMCl9LFp0PWZ1bmN0aW9uKGUpe3JldHVybiBKdChlLGUuZG9tLmNoaWxkTm9kZXMubGVuZ3RoLTEpfSxlbj1mdW5jdGlvbihlKXtyZXR1cm4ganQoZSl9LHRuPVQoRWxlbWVudC5wcm90b3R5cGUuYXR0YWNoU2hhZG93KSYmVChOb2RlLnByb3RvdHlwZS5nZXRSb290Tm9kZSksbm49RSh0bikscm49dG4/ZnVuY3Rpb24oZSl7cmV0dXJuIEF0LmZyb21Eb20oZS5kb20uZ2V0Um9vdE5vZGUoKSl9OlZ0LG9uPWZ1bmN0aW9uKGUpe3JldHVybiBlbihlKT9lOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tLmhlYWQ7aWYobnVsbD09PXR8fHQ9PT11bmRlZmluZWQpdGhyb3cgbmV3IEVycm9yKCJIZWFkIGlzIG5vdCBhdmFpbGFibGUgeWV0Iik7cmV0dXJuIEF0LmZyb21Eb20odCl9KFZ0KGUpKX0sYW49ZnVuY3Rpb24oZSl7cmV0dXJuIEF0LmZyb21Eb20oZS5kb20uaG9zdCl9LHVuPWZ1bmN0aW9uKGUpe3JldHVybiBEKGUuZG9tLnNoYWRvd1Jvb3QpfSxzbj1mdW5jdGlvbih0LG4peyR0KHQpLmVhY2goZnVuY3Rpb24oZSl7ZS5kb20uaW5zZXJ0QmVmb3JlKG4uZG9tLHQuZG9tKX0pfSxjbj1mdW5jdGlvbihlLHQpe0t0KGUpLmZvbGQoZnVuY3Rpb24oKXskdChlKS5lYWNoKGZ1bmN0aW9uKGUpe2ZuKGUsdCl9KX0sZnVuY3Rpb24oZSl7c24oZSx0KX0pfSxsbj1mdW5jdGlvbih0LG4pe1F0KHQpLmZvbGQoZnVuY3Rpb24oKXtmbih0LG4pfSxmdW5jdGlvbihlKXt0LmRvbS5pbnNlcnRCZWZvcmUobi5kb20sZS5kb20pfSl9LGZuPWZ1bmN0aW9uKGUsdCl7ZS5kb20uYXBwZW5kQ2hpbGQodC5kb20pfSxkbj1mdW5jdGlvbih0LGUpe1coZSxmdW5jdGlvbihlKXtmbih0LGUpfSl9LG1uPWZ1bmN0aW9uKGUpe2UuZG9tLnRleHRDb250ZW50PSIiLFcoR3QoZSksZnVuY3Rpb24oZSl7cG4oZSl9KX0scG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb207bnVsbCE9PXQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfSxnbj1mdW5jdGlvbihlKXt2YXIgdCxuPUd0KGUpOzA8bi5sZW5ndGgmJih0PWUsVyhuLGZ1bmN0aW9uKGUpe3NuKHQsZSl9KSkscG4oZSl9LGhuPWZ1bmN0aW9uKGUpe3ZhciB0PVV0KGUpP2UuZG9tLnBhcmVudE5vZGU6ZS5kb207aWYodD09PXVuZGVmaW5lZHx8bnVsbD09PXR8fG51bGw9PT10Lm93bmVyRG9jdW1lbnQpcmV0dXJuITE7dmFyIG4scixvLGksYT10Lm93bmVyRG9jdW1lbnQ7cmV0dXJuIG89QXQuZnJvbURvbSh0KSxpPXJuKG8pLChlbihpKT9VLnNvbWUoaSk6VS5ub25lKCkpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gYS5ib2R5LmNvbnRhaW5zKHQpfSwobj1obixyPWFuLGZ1bmN0aW9uKGUpe3JldHVybiBuKHIoZSkpfSkpfSx2bj1mdW5jdGlvbihuLHIpe3JldHVybntsZWZ0Om4sdG9wOnIsdHJhbnNsYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZuKG4rZSxyK3QpfX19LHluPXZuLGJuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUhPT11bmRlZmluZWQ/ZTp0IT09dW5kZWZpbmVkP3Q6MH0sQ249ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmRvbSxyPW4ub3duZXJEb2N1bWVudC5ib2R5O3JldHVybiByPT09bj95bihyLm9mZnNldExlZnQsci5vZmZzZXRUb3ApOmhuKGUpPyh0PW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkseW4odC5sZWZ0LHQudG9wKSk6eW4oMCwwKX0sd249ZnVuY3Rpb24oZSl7dmFyIHQ9ZSE9PXVuZGVmaW5lZD9lLmRvbTpkb2N1bWVudCxuPXQuYm9keS5zY3JvbGxMZWZ0fHx0LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LHI9dC5ib2R5LnNjcm9sbFRvcHx8dC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO3JldHVybiB5bihuLHIpfSx4bj1mdW5jdGlvbihlLHQsbil7dmFyIHI9KG4hPT11bmRlZmluZWQ/bi5kb206ZG9jdW1lbnQpLmRlZmF1bHRWaWV3O3ImJnIuc2Nyb2xsVG8oZSx0KX0sU249ZnVuY3Rpb24oZSx0KXtkdCgpLmJyb3dzZXIuaXNTYWZhcmkoKSYmVChlLmRvbS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKT9lLmRvbS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKCExKTplLmRvbS5zY3JvbGxJbnRvVmlldyh0KX0sTm49ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJue3g6ZSx5OnQsd2lkdGg6bixoZWlnaHQ6cixyaWdodDplK24sYm90dG9tOnQrcn19LEVuPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lPT09dW5kZWZpbmVkP3dpbmRvdzplLG89ci5kb2N1bWVudCxpPXduKEF0LmZyb21Eb20obykpO3JldHVybiBuPSh0PXIpPT09dW5kZWZpbmVkP3dpbmRvdzp0LFUuZnJvbShuLnZpc3VhbFZpZXdwb3J0KS5mb2xkKGZ1bmN0aW9uKCl7dmFyIGU9ci5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdD1lLmNsaWVudFdpZHRoLG49ZS5jbGllbnRIZWlnaHQ7cmV0dXJuIE5uKGkubGVmdCxpLnRvcCx0LG4pfSxmdW5jdGlvbihlKXtyZXR1cm4gTm4oTWF0aC5tYXgoZS5wYWdlTGVmdCxpLmxlZnQpLE1hdGgubWF4KGUucGFnZVRvcCxpLnRvcCksZS53aWR0aCxlLmhlaWdodCl9KX0sa249ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiEhZSYmZS5ub2RlVHlwZT09PXR9fSxfbj1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJiFPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9LEFuPWtuKDEpLFJuPWZ1bmN0aW9uKGUpe3ZhciBuPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvTG93ZXJDYXNlKCl9KTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZSYmZS5ub2RlTmFtZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiBNKG4sdCl9cmV0dXJuITF9fSxUbj1mdW5jdGlvbihyLGUpe3ZhciBvPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdDtpZihBbihlKSlmb3IodD0wO3Q8by5sZW5ndGg7dCsrKXt2YXIgbj1lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpO2lmKChuP24uZ2V0UHJvcGVydHlWYWx1ZShyKTpudWxsKT09PW9bdF0pcmV0dXJuITB9cmV0dXJuITF9fSxEbj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIEFuKGUpJiZlLmhhc0F0dHJpYnV0ZSh0KX19LE9uPWZ1bmN0aW9uKGUpe3JldHVybiBBbihlKSYmZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIil9LEJuPWZ1bmN0aW9uKGUpe3JldHVybiBBbihlKSYmIlRBQkxFIj09PWUudGFnTmFtZX0sUG49ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFuKGUpKXtpZihlLmNvbnRlbnRFZGl0YWJsZT09PXQpcmV0dXJuITA7aWYoZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIpPT09dClyZXR1cm4hMH1yZXR1cm4hMX19LExuPVJuKFsidGV4dGFyZWEiLCJpbnB1dCJdKSxJbj1rbigzKSxNbj1rbig4KSxGbj1rbig5KSxVbj1rbigxMSksem49Um4oWyJiciJdKSxqbj1SbihbImltZyJdKSxIbj1QbigidHJ1ZSIpLFZuPVBuKCJmYWxzZSIpLHFuPVJuKFsidGQiLCJ0aCJdKSwkbj1SbihbInZpZGVvIiwiYXVkaW8iLCJvYmplY3QiLCJlbWJlZCJdKSxXbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5zdHlsZSE9PXVuZGVmaW5lZCYmVChlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUpfSxLbj1mdW5jdGlvbihlLHQsbil7aWYoIShxKG4pfHxBKG4pfHxPKG4pKSl0aHJvdyBjb25zb2xlLmVycm9yKCJJbnZhbGlkIGNhbGwgdG8gQXR0cmlidXRlLnNldC4gS2V5ICIsdCwiOjogVmFsdWUgIixuLCI6OiBFbGVtZW50ICIsZSksbmV3IEVycm9yKCJBdHRyaWJ1dGUgdmFsdWUgd2FzIG5vdCBzaW1wbGUiKTtlLnNldEF0dHJpYnV0ZSh0LG4rIiIpfSxYbj1mdW5jdGlvbihlLHQsbil7S24oZS5kb20sdCxuKX0sWW49ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbTt1ZSh0LGZ1bmN0aW9uKGUsdCl7S24obix0LGUpfSl9LEduPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20uZ2V0QXR0cmlidXRlKHQpO3JldHVybiBudWxsPT09bj91bmRlZmluZWQ6bn0sSm49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVS5mcm9tKEduKGUsdCkpfSxRbj1mdW5jdGlvbihlLHQpe2UuZG9tLnJlbW92ZUF0dHJpYnV0ZSh0KX0sWm49ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbTt1ZSh0LGZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKGUsdCxuKXtpZighcShuKSl0aHJvdyBjb25zb2xlLmVycm9yKCJJbnZhbGlkIGNhbGwgdG8gQ1NTLnNldC4gUHJvcGVydHkgIix0LCI6OiBWYWx1ZSAiLG4sIjo6IEVsZW1lbnQgIixlKSxuZXcgRXJyb3IoIkNTUyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nOiAiK24pO1duKGUpJiZlLnN0eWxlLnNldFByb3BlcnR5KHQsbil9KG4sdCxlKX0pfSxlcj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZG9tLHI9d2luZG93LmdldENvbXB1dGVkU3R5bGUobikuZ2V0UHJvcGVydHlWYWx1ZSh0KTtyZXR1cm4iIiE9PXJ8fGhuKGUpP3I6dHIobix0KX0sdHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gV24oZSk/ZS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHQpOiIifSxucj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZG9tLHI9dHIobix0KTtyZXR1cm4gVS5mcm9tKHIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aH0pfSxycj1mdW5jdGlvbihlKXt2YXIgdD17fSxuPWUuZG9tO2lmKFduKG4pKWZvcih2YXIgcj0wO3I8bi5zdHlsZS5sZW5ndGg7cisrKXt2YXIgbz1uLnN0eWxlLml0ZW0ocik7dFtvXT1uLnN0eWxlW29dfXJldHVybiB0fSxvcj1kdCgpLmJyb3dzZXIsaXI9ZnVuY3Rpb24oZSl7cmV0dXJuIFkoZSxGdCl9LGFyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY2hpbGRyZW4mJk0oZS5jaGlsZHJlbix0KX0sdXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhPTAsdT0wLHM9ZS5vd25lckRvY3VtZW50O2lmKG49bnx8ZSx0KXtpZihuPT09ZSYmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJiJzdGF0aWMiPT09ZXIoQXQuZnJvbURvbShlKSwicG9zaXRpb24iKSlyZXR1cm57eDphPShvPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLmxlZnQrKHMuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fGUuc2Nyb2xsTGVmdCktcy5kb2N1bWVudEVsZW1lbnQuY2xpZW50TGVmdCx5OnU9by50b3ArKHMuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZS5zY3JvbGxUb3ApLXMuZG9jdW1lbnRFbGVtZW50LmNsaWVudFRvcH07Zm9yKHI9dDtyJiZyIT09biYmci5ub2RlVHlwZSYmIWFyKHIsbik7KWErPXIub2Zmc2V0TGVmdHx8MCx1Kz1yLm9mZnNldFRvcHx8MCxyPXIub2Zmc2V0UGFyZW50O2ZvcihyPXQucGFyZW50Tm9kZTtyJiZyIT09biYmci5ub2RlVHlwZSYmIWFyKHIsbik7KWEtPXIuc2Nyb2xsTGVmdHx8MCx1LT1yLnNjcm9sbFRvcHx8MCxyPXIucGFyZW50Tm9kZTt1Kz0oaT1BdC5mcm9tRG9tKHQpLG9yLmlzRmlyZWZveCgpJiYidGFibGUiPT09THQoaSk/aXIoR3QoaSkpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4iY2FwdGlvbiI9PT1MdChlKX0pLmJpbmQoZnVuY3Rpb24obyl7cmV0dXJuIGlyKFl0KG8pKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20ub2Zmc2V0VG9wLG49by5kb20ub2Zmc2V0VG9wLHI9by5kb20ub2Zmc2V0SGVpZ2h0O3JldHVybiB0PD1uPy1yOjB9KX0pLmdldE9yKDApOjApfXJldHVybnt4OmEseTp1fX0sc3I9e30sY3I9e2V4cG9ydHM6c3J9O0RlPXVuZGVmaW5lZCxPZT1zcixCZT1jcixQZT11bmRlZmluZWQsZnVuY3Rpb24oZSl7Im9iamVjdCI9PXR5cGVvZiBPZSYmdm9pZCAwIT09QmU/QmUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIERlJiZEZS5hbWQ/RGUoW10sZSk6KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcykuRXBob3hDb250YWN0V3JhcHBlcj1lKCl9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGwoaSxhLHUpe2Z1bmN0aW9uIHModCxlKXtpZighYVt0XSl7aWYoIWlbdF0pe3ZhciBuPSJmdW5jdGlvbiI9PXR5cGVvZiBQZSYmUGU7aWYoIWUmJm4pcmV0dXJuIG4odCwhMCk7aWYoYylyZXR1cm4gYyh0LCEwKTt2YXIgcj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIit0KyInIik7dGhyb3cgci5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixyfXZhciBvPWFbdF09e2V4cG9ydHM6e319O2lbdF1bMF0uY2FsbChvLmV4cG9ydHMsZnVuY3Rpb24oZSl7cmV0dXJuIHMoaVt0XVsxXVtlXXx8ZSl9LG8sby5leHBvcnRzLGwsaSxhLHUpfXJldHVybiBhW3RdLmV4cG9ydHN9Zm9yKHZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiBQZSYmUGUsZT0wO2U8dS5sZW5ndGg7ZSsrKXModVtlXSk7cmV0dXJuIHN9KHsxOltmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPXQuZXhwb3J0cz17fTtmdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gdSgpe3Rocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gcyhlKXtpZihyPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChyPT09YXx8IXIpJiZzZXRUaW1lb3V0KXJldHVybiByPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gcihlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gci5jYWxsKHRoaXMsZSwwKX19fSFmdW5jdGlvbigpe3RyeXtyPSJmdW5jdGlvbiI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6YX1jYXRjaChlKXtyPWF9dHJ5e289ImZ1bmN0aW9uIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6dX1jYXRjaChlKXtvPXV9fSgpO3ZhciBjLGw9W10sZj0hMSxkPS0xO2Z1bmN0aW9uIG0oKXtmJiZjJiYoZj0hMSxjLmxlbmd0aD9sPWMuY29uY2F0KGwpOmQ9LTEsbC5sZW5ndGgmJnAoKSl9ZnVuY3Rpb24gcCgpe2lmKCFmKXt2YXIgZT1zKG0pO2Y9ITA7Zm9yKHZhciB0PWwubGVuZ3RoO3Q7KXtmb3IoYz1sLGw9W107KytkPHQ7KWMmJmNbZF0ucnVuKCk7ZD0tMSx0PWwubGVuZ3RofWM9bnVsbCxmPSExLGZ1bmN0aW9uKGUpe2lmKG89PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigobz09PXV8fCFvKSYmY2xlYXJUaW1lb3V0KXJldHVybiBvPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e28oZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBvLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gby5jYWxsKHRoaXMsZSl9fX0oZSl9fWZ1bmN0aW9uIGcoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBoKCl7fWkubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoMTxhcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtsLnB1c2gobmV3IGcoZSx0KSksMSE9PWwubGVuZ3RofHxmfHxzKHApfSxnLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxpLnRpdGxlPSJicm93c2VyIixpLmJyb3dzZXI9ITAsaS5lbnY9e30saS5hcmd2PVtdLGkudmVyc2lvbj0iIixpLnZlcnNpb25zPXt9LGkub249aCxpLmFkZExpc3RlbmVyPWgsaS5vbmNlPWgsaS5vZmY9aCxpLnJlbW92ZUxpc3RlbmVyPWgsaS5yZW1vdmVBbGxMaXN0ZW5lcnM9aCxpLmVtaXQ9aCxpLnByZXBlbmRMaXN0ZW5lcj1oLGkucHJlcGVuZE9uY2VMaXN0ZW5lcj1oLGkubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxpLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCIpfSxpLmN3ZD1mdW5jdGlvbigpe3JldHVybiIvIn0saS5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCIpfSxpLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7fV0sMjpbZnVuY3Rpb24oZSxmLHQpeyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7fWZ1bmN0aW9uIGEoZSl7aWYoIm9iamVjdCIhPXR5cGVvZiB0aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoIlByb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldyIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIm5vdCBhIGZ1bmN0aW9uIik7dGhpcy5fc3RhdGU9MCx0aGlzLl9oYW5kbGVkPSExLHRoaXMuX3ZhbHVlPXVuZGVmaW5lZCx0aGlzLl9kZWZlcnJlZHM9W10sbChlLHRoaXMpfWZ1bmN0aW9uIG8ocixvKXtmb3IoOzM9PT1yLl9zdGF0ZTspcj1yLl92YWx1ZTswIT09ci5fc3RhdGU/KHIuX2hhbmRsZWQ9ITAsYS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKXt2YXIgZSx0PTE9PT1yLl9zdGF0ZT9vLm9uRnVsZmlsbGVkOm8ub25SZWplY3RlZDtpZihudWxsIT09dCl7dHJ5e2U9dChyLl92YWx1ZSl9Y2F0Y2gobil7cmV0dXJuIHZvaWQgdShvLnByb21pc2Usbil9aShvLnByb21pc2UsZSl9ZWxzZSgxPT09ci5fc3RhdGU/aTp1KShvLnByb21pc2Usci5fdmFsdWUpfSkpOnIuX2RlZmVycmVkcy5wdXNoKG8pfWZ1bmN0aW9uIGkoZSx0KXt0cnl7aWYodD09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4iKTtpZih0JiYoIm9iamVjdCI9PXR5cGVvZiB0fHwiZnVuY3Rpb24iPT10eXBlb2YgdCkpe3ZhciBuPXQudGhlbjtpZih0IGluc3RhbmNlb2YgYSlyZXR1cm4gZS5fc3RhdGU9MyxlLl92YWx1ZT10LHZvaWQgcyhlKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4gdm9pZCBsKChyPW4sbz10LGZ1bmN0aW9uKCl7ci5hcHBseShvLGFyZ3VtZW50cyl9KSxlKX1lLl9zdGF0ZT0xLGUuX3ZhbHVlPXQscyhlKX1jYXRjaChpKXt1KGUsaSl9dmFyIHIsb31mdW5jdGlvbiB1KGUsdCl7ZS5fc3RhdGU9MixlLl92YWx1ZT10LHMoZSl9ZnVuY3Rpb24gcyhlKXsyPT09ZS5fc3RhdGUmJjA9PT1lLl9kZWZlcnJlZHMubGVuZ3RoJiZhLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpe2UuX2hhbmRsZWR8fGEuX3VuaGFuZGxlZFJlamVjdGlvbkZuKGUuX3ZhbHVlKX0pO2Zvcih2YXIgdD0wLG49ZS5fZGVmZXJyZWRzLmxlbmd0aDt0PG47dCsrKW8oZSxlLl9kZWZlcnJlZHNbdF0pO2UuX2RlZmVycmVkcz1udWxsfWZ1bmN0aW9uIGMoZSx0LG4pe3RoaXMub25GdWxmaWxsZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpudWxsLHRoaXMub25SZWplY3RlZD0iZnVuY3Rpb24iPT10eXBlb2YgdD90Om51bGwsdGhpcy5wcm9taXNlPW59ZnVuY3Rpb24gbChlLHQpe3ZhciBuPSExO3RyeXtlKGZ1bmN0aW9uKGUpe258fChuPSEwLGkodCxlKSl9LGZ1bmN0aW9uKGUpe258fChuPSEwLHUodCxlKSl9KX1jYXRjaChyKXtpZihuKXJldHVybjtuPSEwLHUodCxyKX19dmFyIGUsbjtlPXRoaXMsbj1zZXRUaW1lb3V0LGEucHJvdG90eXBlWyJjYXRjaCJdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4obnVsbCxlKX0sYS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHIpO3JldHVybiBvKHRoaXMsbmV3IGMoZSx0LG4pKSxufSxhLmFsbD1mdW5jdGlvbihlKXt2YXIgcz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKTtyZXR1cm4gbmV3IGEoZnVuY3Rpb24obyxpKXtpZigwPT09cy5sZW5ndGgpcmV0dXJuIG8oW10pO3ZhciBhPXMubGVuZ3RoO2Zvcih2YXIgZT0wO2U8cy5sZW5ndGg7ZSsrKSFmdW5jdGlvbiB1KHQsZSl7dHJ5e2lmKGUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSl7dmFyIG49ZS50aGVuO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKXJldHVybiB2b2lkIG4uY2FsbChlLGZ1bmN0aW9uKGUpe3UodCxlKX0saSl9c1t0XT1lLDA9PS0tYSYmbyhzKX1jYXRjaChyKXtpKHIpfX0oZSxzW2VdKX0pfSxhLnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJvYmplY3QiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3Rvcj09PWE/dDpuZXcgYShmdW5jdGlvbihlKXtlKHQpfSl9LGEucmVqZWN0PWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgYShmdW5jdGlvbihlLHQpe3Qobil9KX0sYS5yYWNlPWZ1bmN0aW9uKG8pe3JldHVybiBuZXcgYShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9by5sZW5ndGg7bjxyO24rKylvW25dLnRoZW4oZSx0KX0pfSxhLl9pbW1lZGlhdGVGbj0iZnVuY3Rpb24iPT10eXBlb2YgdD9mdW5jdGlvbihlKXt0KGUpfTpmdW5jdGlvbihlKXtuKGUsMCl9LGEuX3VuaGFuZGxlZFJlamVjdGlvbkZuPWZ1bmN0aW9uKGUpeyJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmY29uc29sZSYmY29uc29sZS53YXJuKCJQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246IixlKX0sYS5fc2V0SW1tZWRpYXRlRm49ZnVuY3Rpb24oZSl7YS5faW1tZWRpYXRlRm49ZX0sYS5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uRm49ZnVuY3Rpb24oZSl7YS5fdW5oYW5kbGVkUmVqZWN0aW9uRm49ZX0sdm9pZCAwIT09ZiYmZi5leHBvcnRzP2YuZXhwb3J0cz1hOmUuUHJvbWlzZXx8KGUuUHJvbWlzZT1hKX0pLmNhbGwodGhpcyxlKCJ0aW1lcnMiKS5zZXRJbW1lZGlhdGUpfSx7dGltZXJzOjN9XSwzOltmdW5jdGlvbihzLGUsYyl7KGZ1bmN0aW9uKGUsdCl7dmFyIHI9cygicHJvY2Vzcy9icm93c2VyLmpzIikubmV4dFRpY2ssbj1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHksbz1BcnJheS5wcm90b3R5cGUuc2xpY2UsaT17fSxhPTA7ZnVuY3Rpb24gdShlLHQpe3RoaXMuX2lkPWUsdGhpcy5fY2xlYXJGbj10fWMuc2V0VGltZW91dD1mdW5jdGlvbigpe3JldHVybiBuZXcgdShuLmNhbGwoc2V0VGltZW91dCx3aW5kb3csYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpfSxjLnNldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KG4uY2FsbChzZXRJbnRlcnZhbCx3aW5kb3csYXJndW1lbnRzKSxjbGVhckludGVydmFsKX0sYy5jbGVhclRpbWVvdXQ9Yy5jbGVhckludGVydmFsPWZ1bmN0aW9uKGUpe2UuY2xvc2UoKX0sdS5wcm90b3R5cGUudW5yZWY9dS5wcm90b3R5cGUucmVmPWZ1bmN0aW9uKCl7fSx1LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csdGhpcy5faWQpfSxjLmVucm9sbD1mdW5jdGlvbihlLHQpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD10fSxjLnVuZW5yb2xsPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD0tMX0sYy5fdW5yZWZBY3RpdmU9Yy5hY3RpdmU9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpO3ZhciB0PWUuX2lkbGVUaW1lb3V0OzA8PXQmJihlLl9pZGxlVGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl9vblRpbWVvdXQmJmUuX29uVGltZW91dCgpfSx0KSl9LGMuc2V0SW1tZWRpYXRlPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ZnVuY3Rpb24oZSl7dmFyIHQ9YSsrLG49IShhcmd1bWVudHMubGVuZ3RoPDIpJiZvLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBpW3RdPSEwLHIoZnVuY3Rpb24oKXtpW3RdJiYobj9lLmFwcGx5KG51bGwsbik6ZS5jYWxsKG51bGwpLGMuY2xlYXJJbW1lZGlhdGUodCkpfSksdH0sYy5jbGVhckltbWVkaWF0ZT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OmZ1bmN0aW9uKGUpe2RlbGV0ZSBpW2VdfX0pLmNhbGwodGhpcyxzKCJ0aW1lcnMiKS5zZXRJbW1lZGlhdGUscygidGltZXJzIikuY2xlYXJJbW1lZGlhdGUpfSx7InByb2Nlc3MvYnJvd3Nlci5qcyI6MSx0aW1lcnM6M31dLDQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCJwcm9taXNlLXBvbHlmaWxsIiksbz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6RnVuY3Rpb24oInJldHVybiB0aGlzOyIpKCk7dC5leHBvcnRzPXtib2x0RXhwb3J0Om8uUHJvbWlzZXx8cn19LHsicHJvbWlzZS1wb2x5ZmlsbCI6Mn1dfSx7fSxbNF0pKDQpfSk7dmFyIGxyPWNyLmV4cG9ydHMuYm9sdEV4cG9ydCxmcj1mdW5jdGlvbihlKXt2YXIgbj1VLm5vbmUoKSx0PVtdLHI9ZnVuY3Rpb24oZSl7bygpP2EoZSk6dC5wdXNoKGUpfSxvPWZ1bmN0aW9uKCl7cmV0dXJuIG4uaXNTb21lKCl9LGk9ZnVuY3Rpb24oZSl7VyhlLGEpfSxhPWZ1bmN0aW9uKHQpe24uZWFjaChmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChlKX0sMCl9KX07cmV0dXJuIGUoZnVuY3Rpb24oZSl7bygpfHwobj1VLnNvbWUoZSksaSh0KSx0PVtdKX0pLHtnZXQ6cixtYXA6ZnVuY3Rpb24obil7cmV0dXJuIGZyKGZ1bmN0aW9uKHQpe3IoZnVuY3Rpb24oZSl7dChuKGUpKX0pfSl9LGlzUmVhZHk6b319LGRyPXtudTpmcixwdXJlOmZ1bmN0aW9uKHQpe3JldHVybiBmcihmdW5jdGlvbihlKXtlKHQpfSl9fSxtcj1mdW5jdGlvbihlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0sMCl9LHByPWZ1bmN0aW9uKG4pe3ZhciBlPWZ1bmN0aW9uKGUpe24oKS50aGVuKGUsbXIpfTtyZXR1cm57bWFwOmZ1bmN0aW9uKGUpe3JldHVybiBwcihmdW5jdGlvbigpe3JldHVybiBuKCkudGhlbihlKX0pfSxiaW5kOmZ1bmN0aW9uKHQpe3JldHVybiBwcihmdW5jdGlvbigpe3JldHVybiBuKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdChlKS50b1Byb21pc2UoKX0pfSl9LGFub25CaW5kOmZ1bmN0aW9uKGUpe3JldHVybiBwcihmdW5jdGlvbigpe3JldHVybiBuKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLnRvUHJvbWlzZSgpfSl9KX0sdG9MYXp5OmZ1bmN0aW9uKCl7cmV0dXJuIGRyLm51KGUpfSx0b0NhY2hlZDpmdW5jdGlvbigpe3ZhciBlPW51bGw7cmV0dXJuIHByKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT1lJiYoZT1uKCkpLGV9KX0sdG9Qcm9taXNlOm4sZ2V0OmV9fSxncj1mdW5jdGlvbihlKXtyZXR1cm4gcHIoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGxyKGUpfSl9LGhyPWZ1bmN0aW9uKGEsZSl7cmV0dXJuIGUoZnVuY3Rpb24ocil7dmFyIG89W10saT0wOzA9PT1hLmxlbmd0aD9yKFtdKTpXKGEsZnVuY3Rpb24oZSx0KXt2YXIgbjtlLmdldCgobj10LGZ1bmN0aW9uKGUpe29bbl09ZSwrK2k+PWEubGVuZ3RoJiZyKG8pfSkpfSl9KX0sdnI9ZnVuY3Rpb24obil7cmV0dXJue2lzOmZ1bmN0aW9uKGUpe3JldHVybiBuPT09ZX0saXNWYWx1ZTprLGlzRXJyb3I6QyxnZXRPcjpFKG4pLGdldE9yVGh1bms6RShuKSxnZXRPckRpZTpFKG4pLG9yOmZ1bmN0aW9uKGUpe3JldHVybiB2cihuKX0sb3JUaHVuazpmdW5jdGlvbihlKXtyZXR1cm4gdnIobil9LGZvbGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdChuKX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiB2cihlKG4pKX0sbWFwRXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIHZyKG4pfSxlYWNoOmZ1bmN0aW9uKGUpe2Uobil9LGJpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUobil9LGV4aXN0czpmdW5jdGlvbihlKXtyZXR1cm4gZShuKX0sZm9yYWxsOmZ1bmN0aW9uKGUpe3JldHVybiBlKG4pfSx0b09wdGlvbmFsOmZ1bmN0aW9uKCl7cmV0dXJuIFUuc29tZShuKX19fSx5cj1mdW5jdGlvbihuKXtyZXR1cm57aXM6Qyxpc1ZhbHVlOkMsaXNFcnJvcjprLGdldE9yOm8sZ2V0T3JUaHVuazpmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSxnZXRPckRpZTpmdW5jdGlvbigpe3JldHVybiBtKFN0cmluZyhuKSkoKX0sb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LG9yVGh1bms6ZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0sZm9sZDpmdW5jdGlvbihlLHQpe3JldHVybiBlKG4pfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHlyKG4pfSxtYXBFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4geXIoZShuKSl9LGVhY2g6VixiaW5kOmZ1bmN0aW9uKGUpe3JldHVybiB5cihuKX0sZXhpc3RzOkMsZm9yYWxsOmssdG9PcHRpb25hbDpVLm5vbmV9fSxicj17dmFsdWU6dnIsZXJyb3I6eXIsZnJvbU9wdGlvbjpmdW5jdGlvbihlLHQpe3JldHVybiBlLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4geXIodCl9LHZyKX19LENyPWZ1bmN0aW9uKGEpe2lmKCFTKGEpKXRocm93IG5ldyBFcnJvcigiY2FzZXMgbXVzdCBiZSBhbiBhcnJheSIpO2lmKDA9PT1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInRoZXJlIG11c3QgYmUgYXQgbGVhc3Qgb25lIGNhc2UiKTt2YXIgdT1bXSxuPXt9O3JldHVybiBXKGEsZnVuY3Rpb24oZSxyKXt2YXIgdD1pZShlKTtpZigxIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJvbmUgYW5kIG9ubHkgb25lIG5hbWUgcGVyIGNhc2UiKTt2YXIgbz10WzBdLGk9ZVtvXTtpZihuW29dIT09dW5kZWZpbmVkKXRocm93IG5ldyBFcnJvcigiZHVwbGljYXRlIGtleSBkZXRlY3RlZDoiK28pO2lmKCJjYXRhIj09PW8pdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgaGF2ZSBhIGNhc2UgbmFtZWQgY2F0YSAoc29ycnkpIik7aWYoIVMoaSkpdGhyb3cgbmV3IEVycm9yKCJjYXNlIGFyZ3VtZW50cyBtdXN0IGJlIGFuIGFycmF5Iik7dS5wdXNoKG8pLG5bb109ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2lmKGUhPT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gY2FzZSAiK28rIi4gRXhwZWN0ZWQgIitpLmxlbmd0aCsiICgiK2krIiksIGdvdCAiK2UpO2Zvcih2YXIgbj1uZXcgQXJyYXkoZSksdD0wO3Q8bi5sZW5ndGg7dCsrKW5bdF09YXJndW1lbnRzW3RdO3JldHVybntmb2xkOmZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aCE9PWEubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cyB0byBmb2xkLiBFeHBlY3RlZCAiK2EubGVuZ3RoKyIsIGdvdCAiK2FyZ3VtZW50cy5sZW5ndGgpO3JldHVybiBhcmd1bWVudHNbcl0uYXBwbHkobnVsbCxuKX0sbWF0Y2g6ZnVuY3Rpb24oZSl7dmFyIHQ9aWUoZSk7aWYodS5sZW5ndGghPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gbWF0Y2guIEV4cGVjdGVkOiAiK3Uuam9pbigiLCIpKyJcbkFjdHVhbDogIit0LmpvaW4oIiwiKSk7aWYoIVEodSxmdW5jdGlvbihlKXtyZXR1cm4gTSh0LGUpfSkpdGhyb3cgbmV3IEVycm9yKCJOb3QgYWxsIGJyYW5jaGVzIHdlcmUgc3BlY2lmaWVkIHdoZW4gdXNpbmcgbWF0Y2guIFNwZWNpZmllZDogIit0LmpvaW4oIiwgIikrIlxuUmVxdWlyZWQ6ICIrdS5qb2luKCIsICIpKTtyZXR1cm4gZVtvXS5hcHBseShudWxsLG4pfSxsb2c6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coZSx7Y29uc3RydWN0b3JzOnUsY29uc3RydWN0b3I6byxwYXJhbXM6bn0pfX19fSksbn0sd3I9KENyKFt7Ym90aEVycm9yczpbImVycm9yMSIsImVycm9yMiJdfSx7Zmlyc3RFcnJvcjpbImVycm9yMSIsInZhbHVlMiJdfSx7c2Vjb25kRXJyb3I6WyJ2YWx1ZTEiLCJlcnJvcjIiXX0se2JvdGhWYWx1ZXM6WyJ2YWx1ZTEiLCJ2YWx1ZTIiXX1dKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKG8sbyl9KTtmdW5jdGlvbiB4cihlLHQsbixyLG8pe3JldHVybiBlKG4scik/VS5zb21lKG4pOlQobykmJm8obik/VS5ub25lKCk6dChuLHIsbyl9dmFyIFNyLE5yLEVyLGtyLF9yPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9ZS5kb20sbz1UKG4pP246QztyLnBhcmVudE5vZGU7KXtyPXIucGFyZW50Tm9kZTt2YXIgaT1BdC5mcm9tRG9tKHIpO2lmKHQoaSkpcmV0dXJuIFUuc29tZShpKTtpZihvKGkpKWJyZWFrfXJldHVybiBVLm5vbmUoKX0sQXI9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB4cihmdW5jdGlvbihlLHQpe3JldHVybiB0KGUpfSxfcixlLHQsbil9LFJyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFkoZS5kb20uY2hpbGROb2RlcyxmdW5jdGlvbihlKXtyZXR1cm4gdChBdC5mcm9tRG9tKGUpKX0pLm1hcChBdC5mcm9tRG9tKX0sVHI9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBfcihlLGZ1bmN0aW9uKGUpe3JldHVybiBUdChlLHQpfSxuKX0sRHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj10LG89KHI9ZSk9PT11bmRlZmluZWQ/ZG9jdW1lbnQ6ci5kb20sRHQobyk/VS5ub25lKCk6VS5mcm9tKG8ucXVlcnlTZWxlY3RvcihuKSkubWFwKEF0LmZyb21Eb20pO3ZhciBuLHIsb30sT3I9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB4cihUdCxUcixlLHQsbil9LEJyPXdpbmRvdy5Qcm9taXNlP3dpbmRvdy5Qcm9taXNlOihTcj1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSxFcj0oTnI9ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPXR5cGVvZiB0aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoIlByb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldyIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIm5vdCBhIGZ1bmN0aW9uIik7dGhpcy5fc3RhdGU9bnVsbCx0aGlzLl92YWx1ZT1udWxsLHRoaXMuX2RlZmVycmVkcz1bXSx6cihlLFByKElyLHRoaXMpLFByKE1yLHRoaXMpKX0pLmltbWVkaWF0ZUZufHwiZnVuY3Rpb24iPT10eXBlb2Ygc2V0SW1tZWRpYXRlJiZzZXRJbW1lZGlhdGV8fGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwxKX0sTnIucHJvdG90eXBlWyJjYXRjaCJdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4obnVsbCxlKX0sTnIucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24obixyKXt2YXIgbz10aGlzO3JldHVybiBuZXcgTnIoZnVuY3Rpb24oZSx0KXtMci5jYWxsKG8sbmV3IFVyKG4scixlLHQpKX0pfSxOci5hbGw9ZnVuY3Rpb24oKXt2YXIgcz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCgxPT09YXJndW1lbnRzLmxlbmd0aCYmU3IoYXJndW1lbnRzWzBdKT9hcmd1bWVudHNbMF06YXJndW1lbnRzKTtyZXR1cm4gbmV3IE5yKGZ1bmN0aW9uKG8saSl7aWYoMD09PXMubGVuZ3RoKXJldHVybiBvKFtdKTtmb3IodmFyIGE9cy5sZW5ndGgsZT0wO2U8cy5sZW5ndGg7ZSsrKSFmdW5jdGlvbiB1KHQsZSl7dHJ5e2lmKGUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSl7dmFyIG49ZS50aGVuO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKXJldHVybiB2b2lkIG4uY2FsbChlLGZ1bmN0aW9uKGUpe3UodCxlKX0saSl9c1t0XT1lLDA9PS0tYSYmbyhzKX1jYXRjaChyKXtpKHIpfX0oZSxzW2VdKX0pfSxOci5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYib2JqZWN0Ij09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I9PT1Ocj90Om5ldyBOcihmdW5jdGlvbihlKXtlKHQpfSl9LE5yLnJlamVjdD1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IE5yKGZ1bmN0aW9uKGUsdCl7dChuKX0pfSxOci5yYWNlPWZ1bmN0aW9uKG8pe3JldHVybiBuZXcgTnIoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPW8ubGVuZ3RoO248cjtuKyspb1tuXS50aGVuKGUsdCl9KX0sTnIpO2Z1bmN0aW9uIFByKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZS5hcHBseSh0LGFyZ3VtZW50cyl9fWZ1bmN0aW9uIExyKHIpe3ZhciBvPXRoaXM7bnVsbCE9PXRoaXMuX3N0YXRlP0VyKGZ1bmN0aW9uKCl7dmFyIGUsdD1vLl9zdGF0ZT9yLm9uRnVsZmlsbGVkOnIub25SZWplY3RlZDtpZihudWxsIT09dCl7dHJ5e2U9dChvLl92YWx1ZSl9Y2F0Y2gobil7cmV0dXJuIHZvaWQgci5yZWplY3Qobil9ci5yZXNvbHZlKGUpfWVsc2Uoby5fc3RhdGU/ci5yZXNvbHZlOnIucmVqZWN0KShvLl92YWx1ZSl9KTp0aGlzLl9kZWZlcnJlZHMucHVzaChyKX1mdW5jdGlvbiBJcihlKXt0cnl7aWYoZT09PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4iKTtpZihlJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSkpe3ZhciB0PWUudGhlbjtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClyZXR1cm4gdm9pZCB6cihQcih0LGUpLFByKElyLHRoaXMpLFByKE1yLHRoaXMpKX10aGlzLl9zdGF0ZT0hMCx0aGlzLl92YWx1ZT1lLEZyLmNhbGwodGhpcyl9Y2F0Y2gobil7TXIuY2FsbCh0aGlzLG4pfX1mdW5jdGlvbiBNcihlKXt0aGlzLl9zdGF0ZT0hMSx0aGlzLl92YWx1ZT1lLEZyLmNhbGwodGhpcyl9ZnVuY3Rpb24gRnIoKXtmb3IodmFyIGU9MCx0PXRoaXMuX2RlZmVycmVkcy5sZW5ndGg7ZTx0O2UrKylMci5jYWxsKHRoaXMsdGhpcy5fZGVmZXJyZWRzW2VdKTt0aGlzLl9kZWZlcnJlZHM9bnVsbH1mdW5jdGlvbiBVcihlLHQsbixyKXt0aGlzLm9uRnVsZmlsbGVkPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6bnVsbCx0aGlzLm9uUmVqZWN0ZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpudWxsLHRoaXMucmVzb2x2ZT1uLHRoaXMucmVqZWN0PXJ9ZnVuY3Rpb24genIoZSx0LG4pe3ZhciByPSExO3RyeXtlKGZ1bmN0aW9uKGUpe3J8fChyPSEwLHQoZSkpfSxmdW5jdGlvbihlKXtyfHwocj0hMCxuKGUpKX0pfWNhdGNoKG8pe2lmKHIpcmV0dXJuO3I9ITAsbihvKX19dmFyIGpyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiB0JiYodD0wKSxzZXRUaW1lb3V0KGUsdCl9LEhyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiB0JiYodD0xKSxzZXRJbnRlcnZhbChlLHQpfSxWcj1mdW5jdGlvbihuLHIpe3ZhciBvLGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07Y2xlYXJUaW1lb3V0KG8pLG89anIoZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsZSl9LHIpfTtyZXR1cm4gZS5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KG8pfSxlfSxxcj17cmVxdWVzdEFuaW1hdGlvbkZyYW1lOmZ1bmN0aW9uKGUsdCl7a3I/a3IudGhlbihlKTprcj1uZXcgQnIoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUscj1bIm1zIiwibW96Iiwid2Via2l0Il0sbz0wO288ci5sZW5ndGgmJiFuO28rKyluPXdpbmRvd1tyW29dKyJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXTsobj1ufHxmdW5jdGlvbihlKXt3aW5kb3cuc2V0VGltZW91dChlLDApfSkoZSx0KX0oZSx0PXR8fGRvY3VtZW50LmJvZHkpfSkudGhlbihlKX0sc2V0VGltZW91dDpqcixzZXRJbnRlcnZhbDpIcixzZXRFZGl0b3JUaW1lb3V0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4ganIoZnVuY3Rpb24oKXtlLnJlbW92ZWR8fHQoKX0sbil9LHNldEVkaXRvckludGVydmFsOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1IcihmdW5jdGlvbigpe2UucmVtb3ZlZD9jbGVhckludGVydmFsKHIpOnQoKX0sbik7cmV0dXJuIHJ9LGRlYm91bmNlOlZyLHRocm90dGxlOlZyLGNsZWFySW50ZXJ2YWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGNsZWFySW50ZXJ2YWwoZSl9LGNsZWFyVGltZW91dDpmdW5jdGlvbihlKXtyZXR1cm4gY2xlYXJUaW1lb3V0KGUpfX07ZnVuY3Rpb24gJHIobSxwKXt2b2lkIDA9PT1wJiYocD17fSk7dmFyIGc9MCxoPXt9LHY9QXQuZnJvbURvbShtKSx5PVZ0KHYpLGI9cC5tYXhMb2FkVGltZXx8NWUzLG49ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89a3QuX2FkZENhY2hlU3VmZml4KGUpLGk9Z2UoaCxvKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJue2lkOiJtY2UtdSIrZysrLHBhc3NlZDpbXSxmYWlsZWQ6W10sY291bnQ6MH19KTsoaFtvXT1pKS5jb3VudCsrO3ZhciBhLHUscyxjPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspZVtuXSgpO2kuc3RhdHVzPXQsaS5wYXNzZWQ9W10saS5mYWlsZWQ9W10sciYmKHIub25sb2FkPW51bGwsci5vbmVycm9yPW51bGwscj1udWxsKX0sbD1mdW5jdGlvbigpe3JldHVybiBjKGkucGFzc2VkLDIpfSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGMoaS5mYWlsZWQsMyl9LGQ9ZnVuY3Rpb24oKXt2YXIgZTtlPWQsZnVuY3Rpb24oKXtmb3IodmFyIGU9bS5zdHlsZVNoZWV0cyx0PWUubGVuZ3RoO3QtLTspe3ZhciBuPWVbdF0ub3duZXJOb2RlO2lmKG4mJm4uaWQ9PT1yLmlkKXJldHVybiBsKCksMX19KCl8fChEYXRlLm5vdygpLXU8Yj9xci5zZXRUaW1lb3V0KGUpOmYoKSl9O3QmJmkucGFzc2VkLnB1c2godCksbiYmaS5mYWlsZWQucHVzaChuKSwxIT09aS5zdGF0dXMmJigyIT09aS5zdGF0dXM/MyE9PWkuc3RhdHVzPyhpLnN0YXR1cz0xLGE9QXQuZnJvbVRhZygibGluayIseS5kb20pLFluKGEse3JlbDoic3R5bGVzaGVldCIsdHlwZToidGV4dC9jc3MiLGlkOmkuaWR9KSx1PURhdGUubm93KCkscC5jb250ZW50Q3NzQ29ycyYmWG4oYSwiY3Jvc3NPcmlnaW4iLCJhbm9ueW1vdXMiKSxwLnJlZmVycmVyUG9saWN5JiZYbihhLCJyZWZlcnJlcnBvbGljeSIscC5yZWZlcnJlclBvbGljeSksKHI9YS5kb20pLm9ubG9hZD1kLHIub25lcnJvcj1mLHM9YSxmbihvbih2KSxzKSxYbihhLCJocmVmIixvKSk6ZigpOmwoKSl9LG89ZnVuY3Rpb24odCl7cmV0dXJuIGdyKGZ1bmN0aW9uKGUpe24odCxhKGUsRShici52YWx1ZSh0KSkpLGEoZSxFKGJyLmVycm9yKHQpKSkpfSl9LHQ9ZnVuY3Rpb24oZSl7dmFyIHI9a3QuX2FkZENhY2hlU3VmZml4KGUpO2dlKGgscikuZWFjaChmdW5jdGlvbihlKXt2YXIgdCxuOzA9PS0tZS5jb3VudCYmKGRlbGV0ZSBoW3JdLHQ9ZS5pZCxuPW9uKHYpLERyKG4sIiMiK3QpLmVhY2gocG4pKX0pfTtyZXR1cm57bG9hZDpuLGxvYWRBbGw6ZnVuY3Rpb24oZSxuLHIpe3ZhciB0O3Q9eihlLG8pLGhyKHQsZ3IpLmdldChmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPVtdLG89MCxpPWUubGVuZ3RoO288aTtvKyspe3ZhciBhPWVbb107KHQoYSxvKT9uOnIpLnB1c2goYSl9cmV0dXJue3Bhc3M6bixmYWlsOnJ9fShlLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzVmFsdWUoKX0pOzA8dC5mYWlsLmxlbmd0aD9yKHQuZmFpbC5tYXAod3IpKTpuKHQucGFzcy5tYXAod3IpKX0pfSx1bmxvYWQ6dCx1bmxvYWRBbGw6ZnVuY3Rpb24oZSl7VyhlLGZ1bmN0aW9uKGUpe3QoZSl9KX0sX3NldFJlZmVycmVyUG9saWN5OmZ1bmN0aW9uKGUpe3AucmVmZXJyZXJQb2xpY3k9ZX19fXZhciBXcixLcj0oV3I9bmV3IFdlYWtNYXAse2ZvckVsZW1lbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1ybihlKS5kb207cmV0dXJuIFUuZnJvbShXci5nZXQobikpLmdldE9yVGh1bmsoZnVuY3Rpb24oKXt2YXIgZT0kcihuLHQpO3JldHVybiBXci5zZXQobixlKSxlfSl9fSksWHI9KFlyLnByb3RvdHlwZS5jdXJyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZX0sWXIucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubm9kZT10aGlzLmZpbmRTaWJsaW5nKHRoaXMubm9kZSwiZmlyc3RDaGlsZCIsIm5leHRTaWJsaW5nIixlKSx0aGlzLm5vZGV9LFlyLnByb3RvdHlwZS5wcmV2PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5vZGU9dGhpcy5maW5kU2libGluZyh0aGlzLm5vZGUsImxhc3RDaGlsZCIsInByZXZpb3VzU2libGluZyIsZSksdGhpcy5ub2RlfSxZci5wcm90b3R5cGUucHJldjI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubm9kZT10aGlzLmZpbmRQcmV2aW91c05vZGUodGhpcy5ub2RlLCJsYXN0Q2hpbGQiLCJwcmV2aW91c1NpYmxpbmciLGUpLHRoaXMubm9kZX0sWXIucHJvdG90eXBlLmZpbmRTaWJsaW5nPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGk7aWYoZSl7aWYoIXImJmVbdF0pcmV0dXJuIGVbdF07aWYoZSE9PXRoaXMucm9vdE5vZGUpe2lmKG89ZVtuXSlyZXR1cm4gbztmb3IoaT1lLnBhcmVudE5vZGU7aSYmaSE9PXRoaXMucm9vdE5vZGU7aT1pLnBhcmVudE5vZGUpaWYobz1pW25dKXJldHVybiBvfX19LFlyLnByb3RvdHlwZS5maW5kUHJldmlvdXNOb2RlPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYTtpZihlKXtpZihvPWVbbl0sdGhpcy5yb290Tm9kZSYmbz09PXRoaXMucm9vdE5vZGUpcmV0dXJuO2lmKG8pe2lmKCFyKWZvcihhPW9bdF07YTthPWFbdF0paWYoIWFbdF0pcmV0dXJuIGE7cmV0dXJuIG99aWYoKGk9ZS5wYXJlbnROb2RlKSYmaSE9PXRoaXMucm9vdE5vZGUpcmV0dXJuIGl9fSxZcik7ZnVuY3Rpb24gWXIoZSx0KXt0aGlzLm5vZGU9ZSx0aGlzLnJvb3ROb2RlPXQsdGhpcy5jdXJyZW50PXRoaXMuY3VycmVudC5iaW5kKHRoaXMpLHRoaXMubmV4dD10aGlzLm5leHQuYmluZCh0aGlzKSx0aGlzLnByZXY9dGhpcy5wcmV2LmJpbmQodGhpcyksdGhpcy5wcmV2Mj10aGlzLnByZXYyLmJpbmQodGhpcyl9dmFyIEdyLEpyLFFyPWZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4obj1ufHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17fSxyPTAsbz1lLmxlbmd0aDtyPG87cisrKXt2YXIgaT1lW3JdO25bU3RyaW5nKGkpXT10KGkscil9cmV0dXJuIG59KHQsaykpLmhhc093blByb3BlcnR5KEx0KGUpKX19LFpyPVFyKFsiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2Il0pLGVvPVFyKFsiYXJ0aWNsZSIsImFzaWRlIiwiZGV0YWlscyIsImRpdiIsImR0IiwiZmlnY2FwdGlvbiIsImZvb3RlciIsImZvcm0iLCJmaWVsZHNldCIsImhlYWRlciIsImhncm91cCIsImh0bWwiLCJtYWluIiwibmF2Iiwic2VjdGlvbiIsInN1bW1hcnkiLCJib2R5IiwicCIsImRsIiwibXVsdGljb2wiLCJkZCIsImZpZ3VyZSIsImFkZHJlc3MiLCJjZW50ZXIiLCJibG9ja3F1b3RlIiwiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2IiwibGlzdGluZyIsInhtcCIsInByZSIsInBsYWludGV4dCIsIm1lbnUiLCJkaXIiLCJ1bCIsIm9sIiwibGkiLCJociIsInRhYmxlIiwidGJvZHkiLCJ0aGVhZCIsInRmb290IiwidGgiLCJ0ciIsInRkIiwiY2FwdGlvbiJdKSx0bz1mdW5jdGlvbihlKXtyZXR1cm4gRnQoZSkmJiFlbyhlKX0sbm89ZnVuY3Rpb24oZSl7cmV0dXJuIEZ0KGUpJiYiYnIiPT09THQoZSl9LHJvPVFyKFsiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2IiwicCIsImRpdiIsImFkZHJlc3MiLCJwcmUiLCJmb3JtIiwiYmxvY2txdW90ZSIsImNlbnRlciIsImRpciIsImZpZWxkc2V0IiwiaGVhZGVyIiwiZm9vdGVyIiwiYXJ0aWNsZSIsInNlY3Rpb24iLCJoZ3JvdXAiLCJhc2lkZSIsIm5hdiIsImZpZ3VyZSJdKSxvbz1RcihbInVsIiwib2wiLCJkbCJdKSxpbz1RcihbImxpIiwiZGQiLCJkdCJdKSxhbz1RcihbInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCJdKSx1bz1RcihbInRkIiwidGgiXSksc289UXIoWyJwcmUiLCJzY3JpcHQiLCJ0ZXh0YXJlYSIsInN0eWxlIl0pLGNvPSJcdWZlZmYiLGxvPSJceGEwIixmbz1jbyxtbz1mdW5jdGlvbihlKXtyZXR1cm4gZT09PWNvfSxwbz1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9cdUZFRkYvZywiIil9LGdvPUFuLGhvPUluLHZvPWZ1bmN0aW9uKGUpe3JldHVybiBobyhlKSYmKGU9ZS5wYXJlbnROb2RlKSxnbyhlKSYmZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0Iil9LHlvPWZ1bmN0aW9uKGUpe3JldHVybiBobyhlKSYmbW8oZS5kYXRhKX0sYm89ZnVuY3Rpb24oZSl7cmV0dXJuIHZvKGUpfHx5byhlKX0sQ289ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZmlyc3RDaGlsZCE9PWUubGFzdENoaWxkfHwhem4oZS5maXJzdENoaWxkKX0sd289ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb250YWluZXIoKTtyZXR1cm4hIUluKHQpJiYodC5kYXRhLmNoYXJBdChlLm9mZnNldCgpKT09PWZvfHxlLmlzQXRTdGFydCgpJiZ5byh0LnByZXZpb3VzU2libGluZykpfSx4bz1mdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRhaW5lcigpO3JldHVybiEhSW4odCkmJih0LmRhdGEuY2hhckF0KGUub2Zmc2V0KCktMSk9PT1mb3x8ZS5pc0F0RW5kKCkmJnlvKHQubmV4dFNpYmxpbmcpKX0sU289ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89dC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSk7by5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IixuPyJiZWZvcmUiOiJhZnRlciIpLG8uc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIsImFsbCIpLG8uYXBwZW5kQ2hpbGQoKChyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIikpLnNldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiLCIxIikscikpO3ZhciBpPXQucGFyZW50Tm9kZTtyZXR1cm4gbj9pLmluc2VydEJlZm9yZShvLHQpOnQubmV4dFNpYmxpbmc/aS5pbnNlcnRCZWZvcmUobyx0Lm5leHRTaWJsaW5nKTppLmFwcGVuZENoaWxkKG8pLG99LE5vPWZ1bmN0aW9uKGUpe3JldHVybiBobyhlKSYmZS5kYXRhWzBdPT09Zm99LEVvPWZ1bmN0aW9uKGUpe3JldHVybiBobyhlKSYmZS5kYXRhW2UuZGF0YS5sZW5ndGgtMV09PT1mb30sa289ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpPyh0PWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJyIiksbj10W3QubGVuZ3RoLTFdLE9uKG4pJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IiksZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIiksZS5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIiksZS5yZW1vdmVBdHRyaWJ1dGUoIl9tb3pfYWJzcG9zIiksZSk6bnVsbDt2YXIgdCxufSxfbz1IbixBbz1WbixSbz16bixUbz1JbixEbz1SbihbInNjcmlwdCIsInN0eWxlIiwidGV4dGFyZWEiXSksT289Um4oWyJpbWciLCJpbnB1dCIsInRleHRhcmVhIiwiaHIiLCJpZnJhbWUiLCJ2aWRlbyIsImF1ZGlvIiwib2JqZWN0IiwiZW1iZWQiXSksQm89Um4oWyJ0YWJsZSJdKSxQbz1ibyxMbz1mdW5jdGlvbihlKXtyZXR1cm4hUG8oZSkmJihUbyhlKT8hRG8oZS5wYXJlbnROb2RlKTpPbyhlKXx8Um8oZSl8fEJvKGUpfHxJbyhlKSl9LElvPWZ1bmN0aW9uKGUpe3JldHVybiExPT09KEFuKHQ9ZSkmJiJ0cnVlIj09PXQuZ2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiKSkmJkFvKGUpO3ZhciB0fSxNbz1mdW5jdGlvbihlLHQpe3JldHVybiBMbyhlKSYmZnVuY3Rpb24oZSx0KXtmb3IoZT1lLnBhcmVudE5vZGU7ZSYmZSE9PXQ7ZT1lLnBhcmVudE5vZGUpe2lmKElvKGUpKXJldHVybiExO2lmKF9vKGUpKXJldHVybiEwfXJldHVybiEwfShlLHQpfSxGbz0vXlsgXHRcclxuXSokLyxVbz1mdW5jdGlvbihlKXtyZXR1cm4gRm8udGVzdChlKX0sem89ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saT1BdC5mcm9tRG9tKHQpLGE9QXQuZnJvbURvbShlKTtyZXR1cm4gbj1hLHI9InByZSxjb2RlIixvPU4oT3QsaSksVHIobixyLG8pLmlzU29tZSgpfSxqbz1mdW5jdGlvbihlLHQpe3JldHVybiBMbyhlKSYmITE9PT0obz10LEluKHI9ZSkmJlVvKHIuZGF0YSkmJiExPT09em8ocixvKSl8fEFuKG49ZSkmJiJBIj09PW4ubm9kZU5hbWUmJiFuLmhhc0F0dHJpYnV0ZSgiaHJlZiIpJiYobi5oYXNBdHRyaWJ1dGUoIm5hbWUiKXx8bi5oYXNBdHRyaWJ1dGUoImlkIikpfHxIbyhlKTt2YXIgbixyLG99LEhvPURuKCJkYXRhLW1jZS1ib29rbWFyayIpLFZvPURuKCJkYXRhLW1jZS1ib2d1cyIpLHFvPShHcj0iZGF0YS1tY2UtYm9ndXMiLEpyPSJhbGwiLGZ1bmN0aW9uKGUpe3JldHVybiBBbihlKSYmZS5nZXRBdHRyaWJ1dGUoR3IpPT09SnJ9KSwkbz1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMCksZnVuY3Rpb24oZSx0KXt2YXIgbixyPTA7aWYoam8oZSxlKSlyZXR1cm4hMTtpZighKG49ZS5maXJzdENoaWxkKSlyZXR1cm4hMDt2YXIgbz1uZXcgWHIobixlKTtkb3tpZih0KXtpZihxbyhuKSl7bj1vLm5leHQoITApO2NvbnRpbnVlfWlmKFZvKG4pKXtuPW8ubmV4dCgpO2NvbnRpbnVlfX1pZih6bihuKSlyKyssbj1vLm5leHQoKTtlbHNle2lmKGpvKG4sZSkpcmV0dXJuITE7bj1vLm5leHQoKX19d2hpbGUobik7cmV0dXJuIHI8PTF9KGUuZG9tLHQpfSxXbz1mdW5jdGlvbihlLHQpe3JldHVybiBEKGUpJiYoam8oZSx0KXx8dG8oQXQuZnJvbURvbShlKSkpfSxLbz1mdW5jdGlvbihlKXtyZXR1cm4ic3BhbiI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJib29rbWFyayI9PT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtdHlwZSIpfSxYbz1mdW5jdGlvbihlLHQpe3JldHVybiBJbihlKSYmMDxlLmRhdGEubGVuZ3RoJiYobz1uZXcgWHIobj1lLHI9dCkucHJldighMSksaT1uZXcgWHIobixyKS5uZXh0KCExKSxhPVIobyl8fFdvKG8sciksdT1SKGkpfHxXbyhpLHIpLGEmJnUpO3ZhciBuLHIsbyxpLGEsdX0sWW89ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW58fHQ7aWYoQW4odCkmJktvKHQpKXJldHVybiB0O2Zvcih2YXIgbyxpLGEsdT10LmNoaWxkTm9kZXMscz11Lmxlbmd0aC0xOzA8PXM7cy0tKVlvKGUsdVtzXSxyKTtyZXR1cm4hQW4odCl8fDE9PT0obz10LmNoaWxkTm9kZXMpLmxlbmd0aCYmS28ob1swXSkmJnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUob1swXSx0KSxVbihhPXQpfHxGbihhKXx8am8odCxyKXx8QW4oaT10KSYmMDxpLmNoaWxkTm9kZXMubGVuZ3RofHxYbyh0LHIpfHxlLnJlbW92ZSh0KSx0fSxHbz1rdC5tYWtlTWFwLEpvPS9bJjw+XCJcdTAwNjBcdTAwN0UtXHVEN0ZGXHVFMDAwLVx1RkZFRl18W1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csUW89L1s8PiZcdTAwN0UtXHVEN0ZGXHVFMDAwLVx1RkZFRl18W1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csWm89L1s8PiZcIlwnXS9nLGVpPS8mIyhbYS16MC05XSspOz98JihbYS16MC05XSspOy9naSx0aT17MTI4OiJcdTIwYWMiLDEzMDoiXHUyMDFhIiwxMzE6Ilx1MDE5MiIsMTMyOiJcdTIwMWUiLDEzMzoiXHUyMDI2IiwxMzQ6Ilx1MjAyMCIsMTM1OiJcdTIwMjEiLDEzNjoiXHUwMmM2IiwxMzc6Ilx1MjAzMCIsMTM4OiJcdTAxNjAiLDEzOToiXHUyMDM5IiwxNDA6Ilx1MDE1MiIsMTQyOiJcdTAxN2QiLDE0NToiXHUyMDE4IiwxNDY6Ilx1MjAxOSIsMTQ3OiJcdTIwMWMiLDE0ODoiXHUyMDFkIiwxNDk6Ilx1MjAyMiIsMTUwOiJcdTIwMTMiLDE1MToiXHUyMDE0IiwxNTI6Ilx1MDJkYyIsMTUzOiJcdTIxMjIiLDE1NDoiXHUwMTYxIiwxNTU6Ilx1MjAzYSIsMTU2OiJcdTAxNTMiLDE1ODoiXHUwMTdlIiwxNTk6Ilx1MDE3OCJ9LG5pPXsnIic6IiZxdW90OyIsIiciOiImIzM5OyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCImIjoiJmFtcDsiLCJgIjoiJiM5NjsifSxyaT17IiZsdDsiOiI8IiwiJmd0OyI6Ij4iLCImYW1wOyI6IiYiLCImcXVvdDsiOiciJywiJmFwb3M7IjoiJyJ9LG9pPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk9e307aWYoZSl7Zm9yKGU9ZS5zcGxpdCgiLCIpLHQ9dHx8MTAsbj0wO248ZS5sZW5ndGg7bis9MilyPVN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZVtuXSx0KSksbmlbcl18fChvPSImIitlW24rMV0rIjsiLGlbcl09byxpW29dPXIpO3JldHVybiBpfX0saWk9b2koIjUwLG5ic3AsNTEsaWV4Y2wsNTIsY2VudCw1Myxwb3VuZCw1NCxjdXJyZW4sNTUseWVuLDU2LGJydmJhciw1NyxzZWN0LDU4LHVtbCw1OSxjb3B5LDVhLG9yZGYsNWIsbGFxdW8sNWMsbm90LDVkLHNoeSw1ZSxyZWcsNWYsbWFjciw1ZyxkZWcsNWgscGx1c21uLDVpLHN1cDIsNWosc3VwMyw1ayxhY3V0ZSw1bCxtaWNybyw1bSxwYXJhLDVuLG1pZGRvdCw1byxjZWRpbCw1cCxzdXAxLDVxLG9yZG0sNXIscmFxdW8sNXMsZnJhYzE0LDV0LGZyYWMxMiw1dSxmcmFjMzQsNXYsaXF1ZXN0LDYwLEFncmF2ZSw2MSxBYWN1dGUsNjIsQWNpcmMsNjMsQXRpbGRlLDY0LEF1bWwsNjUsQXJpbmcsNjYsQUVsaWcsNjcsQ2NlZGlsLDY4LEVncmF2ZSw2OSxFYWN1dGUsNmEsRWNpcmMsNmIsRXVtbCw2YyxJZ3JhdmUsNmQsSWFjdXRlLDZlLEljaXJjLDZmLEl1bWwsNmcsRVRILDZoLE50aWxkZSw2aSxPZ3JhdmUsNmosT2FjdXRlLDZrLE9jaXJjLDZsLE90aWxkZSw2bSxPdW1sLDZuLHRpbWVzLDZvLE9zbGFzaCw2cCxVZ3JhdmUsNnEsVWFjdXRlLDZyLFVjaXJjLDZzLFV1bWwsNnQsWWFjdXRlLDZ1LFRIT1JOLDZ2LHN6bGlnLDcwLGFncmF2ZSw3MSxhYWN1dGUsNzIsYWNpcmMsNzMsYXRpbGRlLDc0LGF1bWwsNzUsYXJpbmcsNzYsYWVsaWcsNzcsY2NlZGlsLDc4LGVncmF2ZSw3OSxlYWN1dGUsN2EsZWNpcmMsN2IsZXVtbCw3YyxpZ3JhdmUsN2QsaWFjdXRlLDdlLGljaXJjLDdmLGl1bWwsN2csZXRoLDdoLG50aWxkZSw3aSxvZ3JhdmUsN2osb2FjdXRlLDdrLG9jaXJjLDdsLG90aWxkZSw3bSxvdW1sLDduLGRpdmlkZSw3byxvc2xhc2gsN3AsdWdyYXZlLDdxLHVhY3V0ZSw3cix1Y2lyYyw3cyx1dW1sLDd0LHlhY3V0ZSw3dSx0aG9ybiw3dix5dW1sLGNpLGZub2Ysc2gsQWxwaGEsc2ksQmV0YSxzaixHYW1tYSxzayxEZWx0YSxzbCxFcHNpbG9uLHNtLFpldGEsc24sRXRhLHNvLFRoZXRhLHNwLElvdGEsc3EsS2FwcGEsc3IsTGFtYmRhLHNzLE11LHN0LE51LHN1LFhpLHN2LE9taWNyb24sdDAsUGksdDEsUmhvLHQzLFNpZ21hLHQ0LFRhdSx0NSxVcHNpbG9uLHQ2LFBoaSx0NyxDaGksdDgsUHNpLHQ5LE9tZWdhLHRoLGFscGhhLHRpLGJldGEsdGosZ2FtbWEsdGssZGVsdGEsdGwsZXBzaWxvbix0bSx6ZXRhLHRuLGV0YSx0byx0aGV0YSx0cCxpb3RhLHRxLGthcHBhLHRyLGxhbWJkYSx0cyxtdSx0dCxudSx0dSx4aSx0dixvbWljcm9uLHUwLHBpLHUxLHJobyx1MixzaWdtYWYsdTMsc2lnbWEsdTQsdGF1LHU1LHVwc2lsb24sdTYscGhpLHU3LGNoaSx1OCxwc2ksdTksb21lZ2EsdWgsdGhldGFzeW0sdWksdXBzaWgsdW0scGl2LDgxMixidWxsLDgxNixoZWxsaXAsODFpLHByaW1lLDgxaixQcmltZSw4MXUsb2xpbmUsODI0LGZyYXNsLDg4byx3ZWllcnAsODhoLGltYWdlLDg4cyxyZWFsLDg5Mix0cmFkZSw4OWwsYWxlZnN5bSw4Y2csbGFyciw4Y2gsdWFyciw4Y2kscmFyciw4Y2osZGFyciw4Y2ssaGFyciw4ZGwsY3JhcnIsOGVnLGxBcnIsOGVoLHVBcnIsOGVpLHJBcnIsOGVqLGRBcnIsOGVrLGhBcnIsOGcwLGZvcmFsbCw4ZzIscGFydCw4ZzMsZXhpc3QsOGc1LGVtcHR5LDhnNyxuYWJsYSw4ZzgsaXNpbiw4Zzksbm90aW4sOGdiLG5pLDhnZixwcm9kLDhnaCxzdW0sOGdpLG1pbnVzLDhnbixsb3dhc3QsOGdxLHJhZGljLDhndCxwcm9wLDhndSxpbmZpbiw4aDAsYW5nLDhoNyxhbmQsOGg4LG9yLDhoOSxjYXAsOGhhLGN1cCw4aGIsaW50LDhoayx0aGVyZTQsOGhzLHNpbSw4aTUsY29uZyw4aTgsYXN5bXAsOGowLG5lLDhqMSxlcXVpdiw4ajQsbGUsOGo1LGdlLDhrMixzdWIsOGszLHN1cCw4azQsbnN1Yiw4azYsc3ViZSw4azcsc3VwZSw4a2wsb3BsdXMsOGtuLG90aW1lcyw4bDUscGVycCw4bTUsc2RvdCw4bzgsbGNlaWwsOG85LHJjZWlsLDhvYSxsZmxvb3IsOG9iLHJmbG9vciw4cDksbGFuZyw4cGEscmFuZyw5ZWEsbG96LDlqMCxzcGFkZXMsOWozLGNsdWJzLDlqNSxoZWFydHMsOWo2LGRpYW1zLGFpLE9FbGlnLGFqLG9lbGlnLGIwLFNjYXJvbixiMSxzY2Fyb24sYm8sWXVtbCxtNixjaXJjLG1zLHRpbGRlLDgwMixlbnNwLDgwMyxlbXNwLDgwOSx0aGluc3AsODBjLHp3bmosODBkLHp3aiw4MGUsbHJtLDgwZixybG0sODBqLG5kYXNoLDgwayxtZGFzaCw4MG8sbHNxdW8sODBwLHJzcXVvLDgwcSxzYnF1byw4MHMsbGRxdW8sODB0LHJkcXVvLDgwdSxiZHF1byw4MTAsZGFnZ2VyLDgxMSxEYWdnZXIsODFnLHBlcm1pbCw4MXAsbHNhcXVvLDgxcSxyc2FxdW8sODVjLGV1cm8iLDMyKSxhaT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UodD9KbzpRbyxmdW5jdGlvbihlKXtyZXR1cm4gbmlbZV18fGV9KX0sdWk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZXBsYWNlKHQ/Sm86UW8sZnVuY3Rpb24oZSl7cmV0dXJuIDE8ZS5sZW5ndGg/IiYjIisoMTAyNCooZS5jaGFyQ29kZUF0KDApLTU1Mjk2KSsoZS5jaGFyQ29kZUF0KDEpLTU2MzIwKSs2NTUzNikrIjsiOm5pW2VdfHwiJiMiK2UuY2hhckNvZGVBdCgwKSsiOyJ9KX0sc2k9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuPW58fGlpLGUucmVwbGFjZSh0P0pvOlFvLGZ1bmN0aW9uKGUpe3JldHVybiBuaVtlXXx8bltlXXx8ZX0pfSxjaT17ZW5jb2RlUmF3OmFpLGVuY29kZUFsbFJhdzpmdW5jdGlvbihlKXtyZXR1cm4oIiIrZSkucmVwbGFjZShabyxmdW5jdGlvbihlKXtyZXR1cm4gbmlbZV18fGV9KX0sZW5jb2RlTnVtZXJpYzp1aSxlbmNvZGVOYW1lZDpzaSxnZXRFbmNvZGVGdW5jOmZ1bmN0aW9uKGUsdCl7dmFyIG49b2kodCl8fGlpLHI9R28oZS5yZXBsYWNlKC9cKy9nLCIsIikpO3JldHVybiByLm5hbWVkJiZyLm51bWVyaWM/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZXBsYWNlKHQ/Sm86UW8sZnVuY3Rpb24oZSl7cmV0dXJuIG5pW2VdIT09dW5kZWZpbmVkP25pW2VdOm5bZV0hPT11bmRlZmluZWQ/bltlXToxPGUubGVuZ3RoPyImIyIrKDEwMjQqKGUuY2hhckNvZGVBdCgwKS01NTI5NikrKGUuY2hhckNvZGVBdCgxKS01NjMyMCkrNjU1MzYpKyI7IjoiJiMiK2UuY2hhckNvZGVBdCgwKSsiOyJ9KX06ci5uYW1lZD90P2Z1bmN0aW9uKGUsdCl7cmV0dXJuIHNpKGUsdCxuKX06c2k6ci5udW1lcmljP3VpOmFpfSxkZWNvZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShlaSxmdW5jdGlvbihlLHQpe3JldHVybiB0PzY1NTM1PCh0PSJ4Ij09PXQuY2hhckF0KDApLnRvTG93ZXJDYXNlKCk/cGFyc2VJbnQodC5zdWJzdHIoMSksMTYpOnBhcnNlSW50KHQsMTApKT8odC09NjU1MzYsU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NisodD4+MTApLDU2MzIwKygxMDIzJnQpKSk6dGlbdF18fFN0cmluZy5mcm9tQ2hhckNvZGUodCk6cmlbZV18fGlpW2VdfHwobj1lLChyPUF0LmZyb21UYWcoImRpdiIpLmRvbSkuaW5uZXJIVE1MPW4sci50ZXh0Q29udGVudHx8ci5pbm5lclRleHR8fG4pO3ZhciBuLHJ9KX19LGxpPXt9LGZpPXt9LGRpPWt0Lm1ha2VNYXAsbWk9a3QuZWFjaCxwaT1rdC5leHRlbmQsZ2k9a3QuZXhwbG9kZSxoaT1rdC5pbkFycmF5LHZpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU9a3QudHJpbShlKSk/ZS5zcGxpdCh0fHwiICIpOltdfSx5aT1mdW5jdGlvbihlKXt2YXIgcyx0LG4scixvLGksYz17fSxhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e30scj0wLG89ZS5sZW5ndGg7cjxvO3IrKyluW2Vbcl1dPXR8fHt9O3JldHVybiBufTt0PXR8fCIiLCJzdHJpbmciPT10eXBlb2Yobj1ufHxbXSkmJihuPXZpKG4pKTtmb3IodmFyIGE9dmkoZSksdT1hLmxlbmd0aDt1LS07KW89e2F0dHJpYnV0ZXM6aShyPXZpKFtzLHRdLmpvaW4oIiAiKSkpLGF0dHJpYnV0ZXNPcmRlcjpyLGNoaWxkcmVuOmkobixmaSl9LGNbYVt1XV09b30sdT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLG8saT12aShlKSxhPWkubGVuZ3RoLHU9dmkodCk7YS0tOylmb3Iobj1jW2lbYV1dLHI9MCxvPXUubGVuZ3RoO3I8bztyKyspbi5hdHRyaWJ1dGVzW3Vbcl1dPXt9LG4uYXR0cmlidXRlc09yZGVyLnB1c2godVtyXSl9O3JldHVybiBsaVtlXT9saVtlXToocz0iaWQgYWNjZXNza2V5IGNsYXNzIGRpciBsYW5nIHN0eWxlIHRhYmluZGV4IHRpdGxlIHJvbGUiLHQ9ImFkZHJlc3MgYmxvY2txdW90ZSBkaXYgZGwgZmllbGRzZXQgZm9ybSBoMSBoMiBoMyBoNCBoNSBoNiBociBtZW51IG9sIHAgcHJlIHRhYmxlIHVsIixuPSJhIGFiYnIgYiBiZG8gYnIgYnV0dG9uIGNpdGUgY29kZSBkZWwgZGZuIGVtIGVtYmVkIGkgaWZyYW1lIGltZyBpbnB1dCBpbnMga2JkIGxhYmVsIG1hcCBub3NjcmlwdCBvYmplY3QgcSBzIHNhbXAgc2NyaXB0IHNlbGVjdCBzbWFsbCBzcGFuIHN0cm9uZyBzdWIgc3VwIHRleHRhcmVhIHUgdmFyICN0ZXh0ICNjb21tZW50IiwiaHRtbDQiIT09ZSYmKHMrPSIgY29udGVudGVkaXRhYmxlIGNvbnRleHRtZW51IGRyYWdnYWJsZSBkcm9wem9uZSBoaWRkZW4gc3BlbGxjaGVjayB0cmFuc2xhdGUiLHQrPSIgYXJ0aWNsZSBhc2lkZSBkZXRhaWxzIGRpYWxvZyBmaWd1cmUgbWFpbiBoZWFkZXIgZm9vdGVyIGhncm91cCBzZWN0aW9uIG5hdiIsbis9IiBhdWRpbyBjYW52YXMgY29tbWFuZCBkYXRhbGlzdCBtYXJrIG1ldGVyIG91dHB1dCBwaWN0dXJlIHByb2dyZXNzIHRpbWUgd2JyIHZpZGVvIHJ1YnkgYmRpIGtleWdlbiIpLCJodG1sNS1zdHJpY3QiIT09ZSYmKHMrPSIgeG1sOmxhbmciLG49W24saT0iYWNyb255bSBhcHBsZXQgYmFzZWZvbnQgYmlnIGZvbnQgc3RyaWtlIHR0Il0uam9pbigiICIpLG1pKHZpKGkpLGZ1bmN0aW9uKGUpe2EoZSwiIixuKX0pLHQ9W3Qsbz0iY2VudGVyIGRpciBpc2luZGV4IG5vZnJhbWVzIl0uam9pbigiICIpLHI9W3Qsbl0uam9pbigiICIpLG1pKHZpKG8pLGZ1bmN0aW9uKGUpe2EoZSwiIixyKX0pKSxyPXJ8fFt0LG5dLmpvaW4oIiAiKSxhKCJodG1sIiwibWFuaWZlc3QiLCJoZWFkIGJvZHkiKSxhKCJoZWFkIiwiIiwiYmFzZSBjb21tYW5kIGxpbmsgbWV0YSBub3NjcmlwdCBzY3JpcHQgc3R5bGUgdGl0bGUiKSxhKCJ0aXRsZSBociBub3NjcmlwdCBiciIpLGEoImJhc2UiLCJocmVmIHRhcmdldCIpLGEoImxpbmsiLCJocmVmIHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlIHNpemVzIGhyZWZsYW5nIiksYSgibWV0YSIsIm5hbWUgaHR0cC1lcXVpdiBjb250ZW50IGNoYXJzZXQiKSxhKCJzdHlsZSIsIm1lZGlhIHR5cGUgc2NvcGVkIiksYSgic2NyaXB0Iiwic3JjIGFzeW5jIGRlZmVyIHR5cGUgY2hhcnNldCIpLGEoImJvZHkiLCJvbmFmdGVycHJpbnQgb25iZWZvcmVwcmludCBvbmJlZm9yZXVubG9hZCBvbmJsdXIgb25lcnJvciBvbmZvY3VzIG9uaGFzaGNoYW5nZSBvbmxvYWQgb25tZXNzYWdlIG9ub2ZmbGluZSBvbm9ubGluZSBvbnBhZ2VoaWRlIG9ucGFnZXNob3cgb25wb3BzdGF0ZSBvbnJlc2l6ZSBvbnNjcm9sbCBvbnN0b3JhZ2Ugb251bmxvYWQiLHIpLGEoImFkZHJlc3MgZHQgZGQgZGl2IGNhcHRpb24iLCIiLHIpLGEoImgxIGgyIGgzIGg0IGg1IGg2IHByZSBwIGFiYnIgY29kZSB2YXIgc2FtcCBrYmQgc3ViIHN1cCBpIGIgdSBiZG8gc3BhbiBsZWdlbmQgZW0gc3Ryb25nIHNtYWxsIHMgY2l0ZSBkZm4iLCIiLG4pLGEoImJsb2NrcXVvdGUiLCJjaXRlIixyKSxhKCJvbCIsInJldmVyc2VkIHN0YXJ0IHR5cGUiLCJsaSIpLGEoInVsIiwiIiwibGkiKSxhKCJsaSIsInZhbHVlIixyKSxhKCJkbCIsIiIsImR0IGRkIiksYSgiYSIsImhyZWYgdGFyZ2V0IHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlIixuKSxhKCJxIiwiY2l0ZSIsbiksYSgiaW5zIGRlbCIsImNpdGUgZGF0ZXRpbWUiLHIpLGEoImltZyIsInNyYyBzaXplcyBzcmNzZXQgYWx0IHVzZW1hcCBpc21hcCB3aWR0aCBoZWlnaHQiKSxhKCJpZnJhbWUiLCJzcmMgbmFtZSB3aWR0aCBoZWlnaHQiLHIpLGEoImVtYmVkIiwic3JjIHR5cGUgd2lkdGggaGVpZ2h0IiksYSgib2JqZWN0IiwiZGF0YSB0eXBlIHR5cGVtdXN0bWF0Y2ggbmFtZSB1c2VtYXAgZm9ybSB3aWR0aCBoZWlnaHQiLFtyLCJwYXJhbSJdLmpvaW4oIiAiKSksYSgicGFyYW0iLCJuYW1lIHZhbHVlIiksYSgibWFwIiwibmFtZSIsW3IsImFyZWEiXS5qb2luKCIgIikpLGEoImFyZWEiLCJhbHQgY29vcmRzIHNoYXBlIGhyZWYgdGFyZ2V0IHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlIiksYSgidGFibGUiLCJib3JkZXIiLCJjYXB0aW9uIGNvbGdyb3VwIHRoZWFkIHRmb290IHRib2R5IHRyIisoImh0bWw0Ij09PWU/IiBjb2wiOiIiKSksYSgiY29sZ3JvdXAiLCJzcGFuIiwiY29sIiksYSgiY29sIiwic3BhbiIpLGEoInRib2R5IHRoZWFkIHRmb290IiwiIiwidHIiKSxhKCJ0ciIsIiIsInRkIHRoIiksYSgidGQiLCJjb2xzcGFuIHJvd3NwYW4gaGVhZGVycyIsciksYSgidGgiLCJjb2xzcGFuIHJvd3NwYW4gaGVhZGVycyBzY29wZSBhYmJyIixyKSxhKCJmb3JtIiwiYWNjZXB0LWNoYXJzZXQgYWN0aW9uIGF1dG9jb21wbGV0ZSBlbmN0eXBlIG1ldGhvZCBuYW1lIG5vdmFsaWRhdGUgdGFyZ2V0IixyKSxhKCJmaWVsZHNldCIsImRpc2FibGVkIGZvcm0gbmFtZSIsW3IsImxlZ2VuZCJdLmpvaW4oIiAiKSksYSgibGFiZWwiLCJmb3JtIGZvciIsbiksYSgiaW5wdXQiLCJhY2NlcHQgYWx0IGF1dG9jb21wbGV0ZSBjaGVja2VkIGRpcm5hbWUgZGlzYWJsZWQgZm9ybSBmb3JtYWN0aW9uIGZvcm1lbmN0eXBlIGZvcm1tZXRob2QgZm9ybW5vdmFsaWRhdGUgZm9ybXRhcmdldCBoZWlnaHQgbGlzdCBtYXggbWF4bGVuZ3RoIG1pbiBtdWx0aXBsZSBuYW1lIHBhdHRlcm4gcmVhZG9ubHkgcmVxdWlyZWQgc2l6ZSBzcmMgc3RlcCB0eXBlIHZhbHVlIHdpZHRoIiksYSgiYnV0dG9uIiwiZGlzYWJsZWQgZm9ybSBmb3JtYWN0aW9uIGZvcm1lbmN0eXBlIGZvcm1tZXRob2QgZm9ybW5vdmFsaWRhdGUgZm9ybXRhcmdldCBuYW1lIHR5cGUgdmFsdWUiLCJodG1sNCI9PT1lP3I6biksYSgic2VsZWN0IiwiZGlzYWJsZWQgZm9ybSBtdWx0aXBsZSBuYW1lIHJlcXVpcmVkIHNpemUiLCJvcHRpb24gb3B0Z3JvdXAiKSxhKCJvcHRncm91cCIsImRpc2FibGVkIGxhYmVsIiwib3B0aW9uIiksYSgib3B0aW9uIiwiZGlzYWJsZWQgbGFiZWwgc2VsZWN0ZWQgdmFsdWUiKSxhKCJ0ZXh0YXJlYSIsImNvbHMgZGlybmFtZSBkaXNhYmxlZCBmb3JtIG1heGxlbmd0aCBuYW1lIHJlYWRvbmx5IHJlcXVpcmVkIHJvd3Mgd3JhcCIpLGEoIm1lbnUiLCJ0eXBlIGxhYmVsIixbciwibGkiXS5qb2luKCIgIikpLGEoIm5vc2NyaXB0IiwiIixyKSwiaHRtbDQiIT09ZSYmKGEoIndiciIpLGEoInJ1YnkiLCIiLFtuLCJydCBycCJdLmpvaW4oIiAiKSksYSgiZmlnY2FwdGlvbiIsIiIsciksYSgibWFyayBydCBycCBzdW1tYXJ5IGJkaSIsIiIsbiksYSgiY2FudmFzIiwid2lkdGggaGVpZ2h0IixyKSxhKCJ2aWRlbyIsInNyYyBjcm9zc29yaWdpbiBwb3N0ZXIgcHJlbG9hZCBhdXRvcGxheSBtZWRpYWdyb3VwIGxvb3AgbXV0ZWQgY29udHJvbHMgd2lkdGggaGVpZ2h0IGJ1ZmZlcmVkIixbciwidHJhY2sgc291cmNlIl0uam9pbigiICIpKSxhKCJhdWRpbyIsInNyYyBjcm9zc29yaWdpbiBwcmVsb2FkIGF1dG9wbGF5IG1lZGlhZ3JvdXAgbG9vcCBtdXRlZCBjb250cm9scyBidWZmZXJlZCB2b2x1bWUiLFtyLCJ0cmFjayBzb3VyY2UiXS5qb2luKCIgIikpLGEoInBpY3R1cmUiLCIiLCJpbWcgc291cmNlIiksYSgic291cmNlIiwic3JjIHNyY3NldCB0eXBlIG1lZGlhIHNpemVzIiksYSgidHJhY2siLCJraW5kIHNyYyBzcmNsYW5nIGxhYmVsIGRlZmF1bHQiKSxhKCJkYXRhbGlzdCIsIiIsW24sIm9wdGlvbiJdLmpvaW4oIiAiKSksYSgiYXJ0aWNsZSBzZWN0aW9uIG5hdiBhc2lkZSBtYWluIGhlYWRlciBmb290ZXIiLCIiLHIpLGEoImhncm91cCIsIiIsImgxIGgyIGgzIGg0IGg1IGg2IiksYSgiZmlndXJlIiwiIixbciwiZmlnY2FwdGlvbiJdLmpvaW4oIiAiKSksYSgidGltZSIsImRhdGV0aW1lIixuKSxhKCJkaWFsb2ciLCJvcGVuIixyKSxhKCJjb21tYW5kIiwidHlwZSBsYWJlbCBpY29uIGRpc2FibGVkIGNoZWNrZWQgcmFkaW9ncm91cCBjb21tYW5kIiksYSgib3V0cHV0IiwiZm9yIGZvcm0gbmFtZSIsbiksYSgicHJvZ3Jlc3MiLCJ2YWx1ZSBtYXgiLG4pLGEoIm1ldGVyIiwidmFsdWUgbWluIG1heCBsb3cgaGlnaCBvcHRpbXVtIixuKSxhKCJkZXRhaWxzIiwib3BlbiIsW3IsInN1bW1hcnkiXS5qb2luKCIgIikpLGEoImtleWdlbiIsImF1dG9mb2N1cyBjaGFsbGVuZ2UgZGlzYWJsZWQgZm9ybSBrZXl0eXBlIG5hbWUiKSksImh0bWw1LXN0cmljdCIhPT1lJiYodSgic2NyaXB0IiwibGFuZ3VhZ2UgeG1sOnNwYWNlIiksdSgic3R5bGUiLCJ4bWw6c3BhY2UiKSx1KCJvYmplY3QiLCJkZWNsYXJlIGNsYXNzaWQgY29kZSBjb2RlYmFzZSBjb2RldHlwZSBhcmNoaXZlIHN0YW5kYnkgYWxpZ24gYm9yZGVyIGhzcGFjZSB2c3BhY2UiKSx1KCJlbWJlZCIsImFsaWduIG5hbWUgaHNwYWNlIHZzcGFjZSIpLHUoInBhcmFtIiwidmFsdWV0eXBlIHR5cGUiKSx1KCJhIiwiY2hhcnNldCBuYW1lIHJldiBzaGFwZSBjb29yZHMiKSx1KCJiciIsImNsZWFyIiksdSgiYXBwbGV0IiwiY29kZWJhc2UgYXJjaGl2ZSBjb2RlIG9iamVjdCBhbHQgbmFtZSB3aWR0aCBoZWlnaHQgYWxpZ24gaHNwYWNlIHZzcGFjZSIpLHUoImltZyIsIm5hbWUgbG9uZ2Rlc2MgYWxpZ24gYm9yZGVyIGhzcGFjZSB2c3BhY2UiKSx1KCJpZnJhbWUiLCJsb25nZGVzYyBmcmFtZWJvcmRlciBtYXJnaW53aWR0aCBtYXJnaW5oZWlnaHQgc2Nyb2xsaW5nIGFsaWduIiksdSgiZm9udCBiYXNlZm9udCIsInNpemUgY29sb3IgZmFjZSIpLHUoImlucHV0IiwidXNlbWFwIGFsaWduIiksdSgic2VsZWN0IiksdSgidGV4dGFyZWEiKSx1KCJoMSBoMiBoMyBoNCBoNSBoNiBkaXYgcCBsZWdlbmQgY2FwdGlvbiIsImFsaWduIiksdSgidWwiLCJ0eXBlIGNvbXBhY3QiKSx1KCJsaSIsInR5cGUiKSx1KCJvbCBkbCBtZW51IGRpciIsImNvbXBhY3QiKSx1KCJwcmUiLCJ3aWR0aCB4bWw6c3BhY2UiKSx1KCJociIsImFsaWduIG5vc2hhZGUgc2l6ZSB3aWR0aCIpLHUoImlzaW5kZXgiLCJwcm9tcHQiKSx1KCJ0YWJsZSIsInN1bW1hcnkgd2lkdGggZnJhbWUgcnVsZXMgY2VsbHNwYWNpbmcgY2VsbHBhZGRpbmcgYWxpZ24gYmdjb2xvciIpLHUoImNvbCIsIndpZHRoIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSx1KCJjb2xncm91cCIsIndpZHRoIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSx1KCJ0aGVhZCIsImFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSx1KCJ0ciIsImFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24gYmdjb2xvciIpLHUoInRoIiwiYXhpcyBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIG5vd3JhcCBiZ2NvbG9yIHdpZHRoIGhlaWdodCIpLHUoImZvcm0iLCJhY2NlcHQiKSx1KCJ0ZCIsImFiYnIgYXhpcyBzY29wZSBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIG5vd3JhcCBiZ2NvbG9yIHdpZHRoIGhlaWdodCIpLHUoInRmb290IiwiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLHUoInRib2R5IiwiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLHUoImFyZWEiLCJub2hyZWYiKSx1KCJib2R5IiwiYmFja2dyb3VuZCBiZ2NvbG9yIHRleHQgbGluayB2bGluayBhbGluayIpKSwiaHRtbDQiIT09ZSYmKHUoImlucHV0IGJ1dHRvbiBzZWxlY3QgdGV4dGFyZWEiLCJhdXRvZm9jdXMiKSx1KCJpbnB1dCB0ZXh0YXJlYSIsInBsYWNlaG9sZGVyIiksdSgiYSIsImRvd25sb2FkIiksdSgibGluayBzY3JpcHQgaW1nIiwiY3Jvc3NvcmlnaW4iKSx1KCJpbWciLCJsb2FkaW5nIiksdSgiaWZyYW1lIiwic2FuZGJveCBzZWFtbGVzcyBhbGxvd2Z1bGxzY3JlZW4gbG9hZGluZyIpKSxtaSh2aSgiYSBmb3JtIG1ldGVyIHByb2dyZXNzIGRmbiIpLGZ1bmN0aW9uKGUpe2NbZV0mJmRlbGV0ZSBjW2VdLmNoaWxkcmVuW2VdfSksZGVsZXRlIGMuY2FwdGlvbi5jaGlsZHJlbi50YWJsZSxkZWxldGUgYy5zY3JpcHQsbGlbZV09Yyl9LGJpPWZ1bmN0aW9uKGUsbil7dmFyIHI7cmV0dXJuIGUmJihyPXt9LCJzdHJpbmciPT10eXBlb2YgZSYmKGU9eyIqIjplfSksbWkoZSxmdW5jdGlvbihlLHQpe3JbdF09clt0LnRvVXBwZXJDYXNlKCldPSgibWFwIj09PW4/ZGk6Z2kpKGUsL1ssIF0vKX0pKSxyfTtmdW5jdGlvbiBDaShpKXt2YXIgUz17fSx1PXt9LE49W10scz17fSx0PXt9LGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWlbZV07cmV0dXJuIHI/cj1kaShyLC9bLCBdLyxkaShyLnRvVXBwZXJDYXNlKCksL1ssIF0vKSk6KHI9bGlbZV0pfHwocj1kaSh0LCIgIixkaSh0LnRvVXBwZXJDYXNlKCksIiAiKSkscj1waShyLG4pLGxpW2VdPXIpLHJ9LG49eWkoKGk9aXx8e30pLnNjaGVtYSk7ITE9PT1pLnZlcmlmeV9odG1sJiYoaS52YWxpZF9lbGVtZW50cz0iKlsqXSIpO3ZhciByPWJpKGkudmFsaWRfc3R5bGVzKSxvPWJpKGkuaW52YWxpZF9zdHlsZXMsIm1hcCIpLGE9YmkoaS52YWxpZF9jbGFzc2VzLCJtYXAiKSxjPWUoIndoaXRlc3BhY2VfZWxlbWVudHMiLCJwcmUgc2NyaXB0IG5vc2NyaXB0IHN0eWxlIHRleHRhcmVhIHZpZGVvIGF1ZGlvIGlmcmFtZSBvYmplY3QgY29kZSIpLGw9ZSgic2VsZl9jbG9zaW5nX2VsZW1lbnRzIiwiY29sZ3JvdXAgZGQgZHQgbGkgb3B0aW9uIHAgdGQgdGZvb3QgdGggdGhlYWQgdHIiKSxmPWUoInNob3J0X2VuZGVkX2VsZW1lbnRzIiwiYXJlYSBiYXNlIGJhc2Vmb250IGJyIGNvbCBmcmFtZSBociBpbWcgaW5wdXQgaXNpbmRleCBsaW5rIG1ldGEgcGFyYW0gZW1iZWQgc291cmNlIHdiciB0cmFjayIpLGQ9ZSgiYm9vbGVhbl9hdHRyaWJ1dGVzIiwiY2hlY2tlZCBjb21wYWN0IGRlY2xhcmUgZGVmZXIgZGlzYWJsZWQgaXNtYXAgbXVsdGlwbGUgbm9ocmVmIG5vcmVzaXplIG5vc2hhZGUgbm93cmFwIHJlYWRvbmx5IHNlbGVjdGVkIGF1dG9wbGF5IGxvb3AgY29udHJvbHMiKSxtPSJ0ZCB0aCBpZnJhbWUgdmlkZW8gYXVkaW8gb2JqZWN0IHNjcmlwdCBjb2RlIixwPWUoIm5vbl9lbXB0eV9lbGVtZW50cyIsbSsiIHByZSIsZiksZz1lKCJtb3ZlX2NhcmV0X2JlZm9yZV9vbl9lbnRlcl9lbGVtZW50cyIsbSsiIHRhYmxlIixmKSxoPWUoInRleHRfYmxvY2tfZWxlbWVudHMiLCJoMSBoMiBoMyBoNCBoNSBoNiBwIGRpdiBhZGRyZXNzIHByZSBmb3JtIGJsb2NrcXVvdGUgY2VudGVyIGRpciBmaWVsZHNldCBoZWFkZXIgZm9vdGVyIGFydGljbGUgc2VjdGlvbiBoZ3JvdXAgYXNpZGUgbWFpbiBuYXYgZmlndXJlIiksdj1lKCJibG9ja19lbGVtZW50cyIsImhyIHRhYmxlIHRib2R5IHRoZWFkIHRmb290IHRoIHRyIHRkIGxpIG9sIHVsIGNhcHRpb24gZGwgZHQgZGQgbm9zY3JpcHQgbWVudSBpc2luZGV4IG9wdGlvbiBkYXRhbGlzdCBzZWxlY3Qgb3B0Z3JvdXAgZmlnY2FwdGlvbiBkZXRhaWxzIHN1bW1hcnkiLGgpLHk9ZSgidGV4dF9pbmxpbmVfZWxlbWVudHMiLCJzcGFuIHN0cm9uZyBiIGVtIGkgZm9udCBzdHJpa2UgdSB2YXIgY2l0ZSBkZm4gY29kZSBtYXJrIHEgc3VwIHN1YiBzYW1wIik7bWkoKGkuc3BlY2lhbHx8InNjcmlwdCBub3NjcmlwdCBpZnJhbWUgbm9mcmFtZXMgbm9lbWJlZCB0aXRsZSBzdHlsZSB0ZXh0YXJlYSB4bXAiKS5zcGxpdCgiICIpLGZ1bmN0aW9uKGUpe3RbZV09bmV3IFJlZ0V4cCgiPC8iK2UrIltePl0qPiIsImdpIil9KTt2YXIgRT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFJlZ0V4cCgiXiIrZS5yZXBsYWNlKC8oWz8rKl0pL2csIi4kMSIpKyIkIil9LGI9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHUscyxjLGwsZixkLG0scCxnLGgsdix5LGI9L14oWyMrXC1dKT8oW15cWyFcL10rKSg/OlwvKFteXFshXSspKT8oPzooIT8pXFsoW15cXV0rKV0pPyQvLEM9L14oWyFcLV0pPyhcdytbXFw6XTpcdyt8W149OjxdKyk/KD86KFs9OjxdKSguKikpPyQvLHc9L1sqPytdLztpZihlKXt2YXIgeD12aShlLCIsIik7Zm9yKFNbIkAiXSYmKGg9U1siQCJdLmF0dHJpYnV0ZXMsdj1TWyJAIl0uYXR0cmlidXRlc09yZGVyKSx0PTAsbj14Lmxlbmd0aDt0PG47dCsrKWlmKGk9Yi5leGVjKHhbdF0pKXtpZihwPWlbMV0sYz1pWzJdLGc9aVszXSxzPWlbNV0sYT17YXR0cmlidXRlczpkPXt9LGF0dHJpYnV0ZXNPcmRlcjptPVtdfSwiIyI9PT1wJiYoYS5wYWRkRW1wdHk9ITApLCItIj09PXAmJihhLnJlbW92ZUVtcHR5PSEwKSwiISI9PT1pWzRdJiYoYS5yZW1vdmVFbXB0eUF0dHJzPSEwKSxoJiYodWUoaCxmdW5jdGlvbihlLHQpe2RbdF09ZX0pLG0ucHVzaC5hcHBseShtLHYpKSxzKWZvcihyPTAsbz0ocz12aShzLCJ8IikpLmxlbmd0aDtyPG87cisrKWlmKGk9Qy5leGVjKHNbcl0pKXtpZih1PXt9LGY9aVsxXSxsPWlbMl0ucmVwbGFjZSgvW1xcOl06L2csIjoiKSxwPWlbM10seT1pWzRdLCIhIj09PWYmJihhLmF0dHJpYnV0ZXNSZXF1aXJlZD1hLmF0dHJpYnV0ZXNSZXF1aXJlZHx8W10sYS5hdHRyaWJ1dGVzUmVxdWlyZWQucHVzaChsKSx1LnJlcXVpcmVkPSEwKSwiLSI9PT1mKXtkZWxldGUgZFtsXSxtLnNwbGljZShoaShtLGwpLDEpO2NvbnRpbnVlfXAmJigiPSI9PT1wJiYoYS5hdHRyaWJ1dGVzRGVmYXVsdD1hLmF0dHJpYnV0ZXNEZWZhdWx0fHxbXSxhLmF0dHJpYnV0ZXNEZWZhdWx0LnB1c2goe25hbWU6bCx2YWx1ZTp5fSksdS5kZWZhdWx0VmFsdWU9eSksIjoiPT09cCYmKGEuYXR0cmlidXRlc0ZvcmNlZD1hLmF0dHJpYnV0ZXNGb3JjZWR8fFtdLGEuYXR0cmlidXRlc0ZvcmNlZC5wdXNoKHtuYW1lOmwsdmFsdWU6eX0pLHUuZm9yY2VkVmFsdWU9eSksIjwiPT09cCYmKHUudmFsaWRWYWx1ZXM9ZGkoeSwiPyIpKSksdy50ZXN0KGwpPyhhLmF0dHJpYnV0ZVBhdHRlcm5zPWEuYXR0cmlidXRlUGF0dGVybnN8fFtdLHUucGF0dGVybj1FKGwpLGEuYXR0cmlidXRlUGF0dGVybnMucHVzaCh1KSk6KGRbbF18fG0ucHVzaChsKSxkW2xdPXUpfWh8fCJAIiE9PWN8fChoPWQsdj1tKSxnJiYoYS5vdXRwdXROYW1lPWMsU1tnXT1hKSx3LnRlc3QoYyk/KGEucGF0dGVybj1FKGMpLE4ucHVzaChhKSk6U1tjXT1hfX19LEM9ZnVuY3Rpb24oZSl7Uz17fSxOPVtdLGIoZSksbWkobixmdW5jdGlvbihlLHQpe3VbdF09ZS5jaGlsZHJlbn0pfSx3PWZ1bmN0aW9uKGUpe3ZhciBhPS9eKH4pPyguKykkLztlJiYobGkudGV4dF9ibG9ja19lbGVtZW50cz1saS5ibG9ja19lbGVtZW50cz1udWxsLG1pKHZpKGUsIiwiKSxmdW5jdGlvbihlKXt2YXIgdCxuPWEuZXhlYyhlKSxyPSJ+Ij09PW5bMV0sbz1yPyJzcGFuIjoiZGl2IixpPW5bMl07dVtpXT11W29dLHNbaV09byxyfHwodltpLnRvVXBwZXJDYXNlKCldPXt9LHZbaV09e30pLFNbaV18fCh0PVNbb10sZGVsZXRlKHQ9cGkoe30sdCkpLnJlbW92ZUVtcHR5QXR0cnMsZGVsZXRlIHQucmVtb3ZlRW1wdHksU1tpXT10KSxtaSh1LGZ1bmN0aW9uKGUsdCl7ZVtvXSYmKHVbdF09ZT1waSh7fSx1W3RdKSxlW2ldPWVbb10pfSl9KSl9LHg9ZnVuY3Rpb24oZSl7dmFyIG89L14oWytcLV0/KShbQS1aYS16MC05X1wtLlx1MDBiN1x1MDBjMC1cdTAwZDZcdTAwZDgtXHUwMGY2XHUwMGY4LVx1MDM3ZFx1MDM3Zi1cdTFmZmZcdTIwMGMtXHUyMDBkXHUyMDNmLVx1MjA0MFx1MjA3MC1cdTIxOGZcdTJjMDAtXHUyZmVmXHUzMDAxLVx1ZDdmZlx1ZjkwMC1cdWZkY2ZcdWZkZjAtXHVmZmZkXSspXFsoW15cXV0rKV0kLztsaVtpLnNjaGVtYV09bnVsbCxlJiZtaSh2aShlLCIsIiksZnVuY3Rpb24oZSl7dmFyIHQsbixyPW8uZXhlYyhlKTtyJiYobj1yWzFdLHQ9bj91W3JbMl1dOnVbclsyXV09eyIjY29tbWVudCI6e319LHQ9dVtyWzJdXSxtaSh2aShyWzNdLCJ8IiksZnVuY3Rpb24oZSl7Ii0iPT09bj9kZWxldGUgdFtlXTp0W2VdPXt9fSkpfSl9LGs9ZnVuY3Rpb24oZSl7dmFyIHQsbj1TW2VdO2lmKG4pcmV0dXJuIG47Zm9yKHQ9Ti5sZW5ndGg7dC0tOylpZigobj1OW3RdKS5wYXR0ZXJuLnRlc3QoZSkpcmV0dXJuIG59O2kudmFsaWRfZWxlbWVudHM/QyhpLnZhbGlkX2VsZW1lbnRzKToobWkobixmdW5jdGlvbihlLHQpe1NbdF09e2F0dHJpYnV0ZXM6ZS5hdHRyaWJ1dGVzLGF0dHJpYnV0ZXNPcmRlcjplLmF0dHJpYnV0ZXNPcmRlcn0sdVt0XT1lLmNoaWxkcmVufSksImh0bWw1IiE9PWkuc2NoZW1hJiZtaSh2aSgic3Ryb25nL2IgZW0vaSIpLGZ1bmN0aW9uKGUpe3ZhciB0PXZpKGUsIi8iKTtTW3RbMV1dLm91dHB1dE5hbWU9dFswXX0pLG1pKHZpKCJvbCB1bCBzdWIgc3VwIGJsb2NrcXVvdGUgc3BhbiBmb250IGEgdGFibGUgdGJvZHkgc3Ryb25nIGVtIGIgaSIpLGZ1bmN0aW9uKGUpe1NbZV0mJihTW2VdLnJlbW92ZUVtcHR5PSEwKX0pLG1pKHZpKCJwIGgxIGgyIGgzIGg0IGg1IGg2IHRoIHRkIHByZSBkaXYgYWRkcmVzcyBjYXB0aW9uIGxpIiksZnVuY3Rpb24oZSl7U1tlXS5wYWRkRW1wdHk9ITB9KSxtaSh2aSgic3BhbiIpLGZ1bmN0aW9uKGUpe1NbZV0ucmVtb3ZlRW1wdHlBdHRycz0hMH0pKSx3KGkuY3VzdG9tX2VsZW1lbnRzKSx4KGkudmFsaWRfY2hpbGRyZW4pLGIoaS5leHRlbmRlZF92YWxpZF9lbGVtZW50cykseCgiK29sW3VsfG9sXSwrdWxbdWx8b2xdIiksbWkoe2RkOiJkbCIsZHQ6ImRsIixsaToidWwgb2wiLHRkOiJ0ciIsdGg6InRyIix0cjoidGJvZHkgdGhlYWQgdGZvb3QiLHRib2R5OiJ0YWJsZSIsdGhlYWQ6InRhYmxlIix0Zm9vdDoidGFibGUiLGxlZ2VuZDoiZmllbGRzZXQiLGFyZWE6Im1hcCIscGFyYW06InZpZGVvIGF1ZGlvIG9iamVjdCJ9LGZ1bmN0aW9uKGUsdCl7U1t0XSYmKFNbdF0ucGFyZW50c1JlcXVpcmVkPXZpKGUpKX0pLGkuaW52YWxpZF9lbGVtZW50cyYmbWkoZ2koaS5pbnZhbGlkX2VsZW1lbnRzKSxmdW5jdGlvbihlKXtTW2VdJiZkZWxldGUgU1tlXX0pLGsoInNwYW4iKXx8Yigic3BhblshZGF0YS1tY2UtdHlwZXwqXSIpO3JldHVybntjaGlsZHJlbjp1LGVsZW1lbnRzOlMsZ2V0VmFsaWRTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sZ2V0VmFsaWRDbGFzc2VzOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LGdldEJsb2NrRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdn0sZ2V0SW52YWxpZFN0eWxlczpmdW5jdGlvbigpe3JldHVybiBvfSxnZXRTaG9ydEVuZGVkRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gZn0sZ2V0VGV4dEJsb2NrRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gaH0sZ2V0VGV4dElubGluZUVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHl9LGdldEJvb2xBdHRyczpmdW5jdGlvbigpe3JldHVybiBkfSxnZXRFbGVtZW50UnVsZTprLGdldFNlbGZDbG9zaW5nRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gbH0sZ2V0Tm9uRW1wdHlFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBwfSxnZXRNb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gZ30sZ2V0V2hpdGVTcGFjZUVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGdldFNwZWNpYWxFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiB0fSxpc1ZhbGlkQ2hpbGQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj11W2UudG9Mb3dlckNhc2UoKV07cmV0dXJuISghbnx8IW5bdC50b0xvd2VyQ2FzZSgpXSl9LGlzVmFsaWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89ayhlKTtpZihvKXtpZighdClyZXR1cm4hMDtpZihvLmF0dHJpYnV0ZXNbdF0pcmV0dXJuITA7aWYobj1vLmF0dHJpYnV0ZVBhdHRlcm5zKWZvcihyPW4ubGVuZ3RoO3ItLTspaWYobltyXS5wYXR0ZXJuLnRlc3QoZSkpcmV0dXJuITB9cmV0dXJuITF9LGdldEN1c3RvbUVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHN9LGFkZFZhbGlkRWxlbWVudHM6YixzZXRWYWxpZEVsZW1lbnRzOkMsYWRkQ3VzdG9tRWxlbWVudHM6dyxhZGRWYWxpZENoaWxkcmVuOnh9fXZhciB3aT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1mdW5jdGlvbihlKXtyZXR1cm4gMTwoZT1wYXJzZUludChlLDEwKS50b1N0cmluZygxNikpLmxlbmd0aD9lOiIwIitlfTtyZXR1cm4iIyIrbyh0KStvKG4pK28ocil9LHhpPWZ1bmN0aW9uKGIsZSl7dmFyIHMsYyxDPS9yZ2JccypcKFxzKihbMC05XSspXHMqLFxzKihbMC05XSspXHMqLFxzKihbMC05XSspXHMqXCkvZ2ksdz0vKD86dXJsKD86KD86XChccypcIihbXlwiXSspXCJccypcKSl8KD86XChccypcJyhbXlwnXSspXCdccypcKSl8KD86XChccyooW14pXHNdKylccypcKSkpKXwoPzpcJyhbXlwnXSspXCcpfCg/OlwiKFteXCJdKylcIikvZ2kseD0vXHMqKFteOl0rKTpccyooW147XSspOz8vZyxTPS9ccyskLyxOPXt9LEU9Y287Yj1ifHx7fSxlJiYocz1lLmdldFZhbGlkU3R5bGVzKCksYz1lLmdldEludmFsaWRTdHlsZXMoKSk7Zm9yKHZhciB0PSgiXFxcIiBcXCcgXFw7IFxcOiA7IDogIitFKS5zcGxpdCgiICIpLGs9MDtrPHQubGVuZ3RoO2srKylOW3Rba11dPUUrayxOW0Ura109dFtrXTtyZXR1cm57dG9IZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShDLHdpKX0scGFyc2U6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHUscyxjPXt9LGw9Yi51cmxfY29udmVydGVyLGY9Yi51cmxfY29udmVydGVyX3Njb3BlfHx0aGlzLGQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWNbZSsiLXRvcCIrdF07aWYocil7dmFyIG89Y1tlKyItcmlnaHQiK3RdO2lmKG8pe3ZhciBpPWNbZSsiLWJvdHRvbSIrdF07aWYoaSl7dmFyIGE9Y1tlKyItbGVmdCIrdF07aWYoYSl7dmFyIHU9W3IsbyxpLGFdO2ZvcihrPXUubGVuZ3RoLTE7ay0tJiZ1W2tdPT09dVtrKzFdOyk7LTE8ayYmbnx8KGNbZSt0XT0tMT09PWs/dVswXTp1LmpvaW4oIiAiKSxkZWxldGUgY1tlKyItdG9wIit0XSxkZWxldGUgY1tlKyItcmlnaHQiK3RdLGRlbGV0ZSBjW2UrIi1ib3R0b20iK3RdLGRlbGV0ZSBjW2UrIi1sZWZ0Iit0XSl9fX19fSxtPWZ1bmN0aW9uKGUpe3ZhciB0LG49Y1tlXTtpZihuKXtmb3IodD0obj1uLnNwbGl0KCIgIikpLmxlbmd0aDt0LS07KWlmKG5bdF0hPT1uWzBdKXJldHVybiExO3JldHVybiBjW2VdPW5bMF0sITB9fSxwPWZ1bmN0aW9uKGUpe3JldHVybiBvPSEwLE5bZV19LGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyYmKGU9ZS5yZXBsYWNlKC9cdUZFRkZbMC05XS9nLGZ1bmN0aW9uKGUpe3JldHVybiBOW2VdfSkpLHR8fChlPWUucmVwbGFjZSgvXFwoW1wnXCI7Ol0pL2csIiQxIikpLGV9LGg9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZS5zbGljZSgxKSwxNikpfSx2PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcWzAtOWEtZl0rL2dpLGgpfSx5PWZ1bmN0aW9uKGUsdCxuLHIsbyxpKXtpZihvPW98fGkpcmV0dXJuIiciKyhvPWcobykpLnJlcGxhY2UoL1wnL2csIlxcJyIpKyInIjtpZih0PWcodHx8bnx8ciksIWIuYWxsb3dfc2NyaXB0X3VybHMpe3ZhciBhPXQucmVwbGFjZSgvW1xzXHJcbl0rL2csIiIpO2lmKC8oamF2YXx2YilzY3JpcHQ6L2kudGVzdChhKSlyZXR1cm4iIjtpZighYi5hbGxvd19zdmdfZGF0YV91cmxzJiYvXmRhdGE6aW1hZ2VcL3N2Zy9pLnRlc3QoYSkpcmV0dXJuIiJ9cmV0dXJuIGwmJih0PWwuY2FsbChmLHQsInN0eWxlIikpLCJ1cmwoJyIrdC5yZXBsYWNlKC9cJy9nLCJcXCciKSsiJykifTtpZihlKXtmb3IoZT0oZT1lLnJlcGxhY2UoL1tcdTAwMDAtXHUwMDFGXS9nLCIiKSkucmVwbGFjZSgvXFxbXCJcJzs6XHVGRUZGXS9nLHApLnJlcGxhY2UoL1wiW15cIl0rXCJ8XCdbXlwnXStcJy9nLGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1s7Ol0vZyxwKX0pO3Q9eC5leGVjKGUpOylpZih4Lmxhc3RJbmRleD10LmluZGV4K3RbMF0ubGVuZ3RoLG49dFsxXS5yZXBsYWNlKFMsIiIpLnRvTG93ZXJDYXNlKCkscj10WzJdLnJlcGxhY2UoUywiIiksbiYmcil7aWYobj12KG4pLHI9dihyKSwtMSE9PW4uaW5kZXhPZihFKXx8LTEhPT1uLmluZGV4T2YoJyInKSljb250aW51ZTtpZighYi5hbGxvd19zY3JpcHRfdXJscyYmKCJiZWhhdmlvciI9PT1ufHwvZXhwcmVzc2lvblxzKlwofFwvXCp8XCpcLy8udGVzdChyKSkpY29udGludWU7ImZvbnQtd2VpZ2h0Ij09PW4mJiI3MDAiPT09cj9yPSJib2xkIjoiY29sb3IiIT09biYmImJhY2tncm91bmQtY29sb3IiIT09bnx8KHI9ci50b0xvd2VyQ2FzZSgpKSxyPShyPXIucmVwbGFjZShDLHdpKSkucmVwbGFjZSh3LHkpLGNbbl09bz9nKHIsITApOnJ9ZCgiYm9yZGVyIiwiIiwhMCksZCgiYm9yZGVyIiwiLXdpZHRoIiksZCgiYm9yZGVyIiwiLWNvbG9yIiksZCgiYm9yZGVyIiwiLXN0eWxlIiksZCgicGFkZGluZyIsIiIpLGQoIm1hcmdpbiIsIiIpLGk9ImJvcmRlciIsdT0iYm9yZGVyLXN0eWxlIixzPSJib3JkZXItY29sb3IiLG0oYT0iYm9yZGVyLXdpZHRoIikmJm0odSkmJm0ocykmJihjW2ldPWNbYV0rIiAiK2NbdV0rIiAiK2Nbc10sZGVsZXRlIGNbYV0sZGVsZXRlIGNbdV0sZGVsZXRlIGNbc10pLCJtZWRpdW0gbm9uZSI9PT1jLmJvcmRlciYmZGVsZXRlIGMuYm9yZGVyLCJub25lIj09PWNbImJvcmRlci1pbWFnZSJdJiZkZWxldGUgY1siYm9yZGVyLWltYWdlIl19cmV0dXJuIGN9LHNlcmlhbGl6ZTpmdW5jdGlvbihpLGEpe3ZhciB1PSIiLGU9ZnVuY3Rpb24oZSl7dmFyIHQsbj1zW2VdO2lmKG4pZm9yKHZhciByPTAsbz1uLmxlbmd0aDtyPG87cisrKWU9bltyXSwodD1pW2VdKSYmKHUrPSgwPHUubGVuZ3RoPyIgIjoiIikrZSsiOiAiK3QrIjsiKX07cmV0dXJuIGEmJnM/KGUoIioiKSxlKGEpKTp1ZShpLGZ1bmN0aW9uKGUsdCl7dmFyIG4scixvOyFlfHxjJiYobj10LHI9YSwobz1jWyIqIl0pJiZvW25dfHwobz1jW3JdKSYmb1tuXSl8fCh1Kz0oMDx1Lmxlbmd0aD8iICI6IiIpK3QrIjogIitlKyI7Iil9KSx1fX19LFNpPS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxOaT17a2V5TG9jYXRpb246MSxsYXllclg6MSxsYXllclk6MSxyZXR1cm5WYWx1ZToxLHdlYmtpdE1vdmVtZW50WDoxLHdlYmtpdE1vdmVtZW50WToxLGtleUlkZW50aWZpZXI6MSxtb3pQcmVzc3VyZToxfSxFaT1mdW5jdGlvbigpe3JldHVybiExfSxraT1mdW5jdGlvbigpe3JldHVybiEwfSxfaT1mdW5jdGlvbihlLHQsbixyKXtlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKHQsbixyfHwhMSk6ZS5hdHRhY2hFdmVudCYmZS5hdHRhY2hFdmVudCgib24iK3Qsbil9LEFpPWZ1bmN0aW9uKGUsdCxuLHIpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLHJ8fCExKTplLmRldGFjaEV2ZW50JiZlLmRldGFjaEV2ZW50KCJvbiIrdCxuKX0sUmk9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHUscz10fHx7fTtmb3IobiBpbiBlKU5pW25dfHwoc1tuXT1lW25dKTtyZXR1cm4gcy50YXJnZXR8fChzLnRhcmdldD1zLnNyY0VsZW1lbnR8fGRvY3VtZW50KSxzLmNvbXBvc2VkUGF0aCYmKHMuY29tcG9zZWRQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIGUuY29tcG9zZWRQYXRoKCl9KSxlJiYoYT1lLFNpLnRlc3QoYS50eXBlKSkmJmUucGFnZVg9PT11bmRlZmluZWQmJmUuY2xpZW50WCE9PXVuZGVmaW5lZCYmKG89KHI9cy50YXJnZXQub3duZXJEb2N1bWVudHx8ZG9jdW1lbnQpLmRvY3VtZW50RWxlbWVudCxpPXIuYm9keSxzLnBhZ2VYPWUuY2xpZW50WCsobyYmby5zY3JvbGxMZWZ0fHxpJiZpLnNjcm9sbExlZnR8fDApLShvJiZvLmNsaWVudExlZnR8fGkmJmkuY2xpZW50TGVmdHx8MCkscy5wYWdlWT1lLmNsaWVudFkrKG8mJm8uc2Nyb2xsVG9wfHxpJiZpLnNjcm9sbFRvcHx8MCktKG8mJm8uY2xpZW50VG9wfHxpJiZpLmNsaWVudFRvcHx8MCkpLHMucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtzLmlzRGVmYXVsdFByZXZlbnRlZD1raSxlJiYoZS5wcmV2ZW50RGVmYXVsdD9lLnByZXZlbnREZWZhdWx0KCk6ZS5yZXR1cm5WYWx1ZT0hMSl9LHMuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7cy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1raSxlJiYoZS5zdG9wUHJvcGFnYXRpb24/ZS5zdG9wUHJvcGFnYXRpb24oKTplLmNhbmNlbEJ1YmJsZT0hMCl9LCEocy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWtpLHMuc3RvcFByb3BhZ2F0aW9uKCl9KT09KCh1PXMpLmlzRGVmYXVsdFByZXZlbnRlZD09PWtpfHx1LmlzRGVmYXVsdFByZXZlbnRlZD09PUVpKSYmKHMuaXNEZWZhdWx0UHJldmVudGVkPUVpLHMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9RWkscy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1FaSksInVuZGVmaW5lZCI9PXR5cGVvZiBzLm1ldGFLZXkmJihzLm1ldGFLZXk9ITEpLHN9LFRpPShEaS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGMsbD10aGlzLGY9d2luZG93LGQ9ZnVuY3Rpb24oZSl7bC5leGVjdXRlSGFuZGxlcnMoUmkoZXx8Zi5ldmVudCksbyl9O2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSl7ZVtsLmV4cGFuZG9dP289ZVtsLmV4cGFuZG9dOihvPWwuY291bnQrKyxlW2wuZXhwYW5kb109byxsLmV2ZW50c1tvXT17fSkscj1yfHxlO2Zvcih2YXIgbT10LnNwbGl0KCIgIikscD1tLmxlbmd0aDtwLS07KXM9ZCx1PWM9ITEsIkRPTUNvbnRlbnRMb2FkZWQiPT09KGE9bVtwXSkmJihhPSJyZWFkeSIpLGwuZG9tTG9hZGVkJiYicmVhZHkiPT09YSYmImNvbXBsZXRlIj09PWUucmVhZHlTdGF0ZT9uLmNhbGwocixSaSh7dHlwZTphfSkpOihsLmhhc01vdXNlRW50ZXJMZWF2ZXx8KHU9bC5tb3VzZUVudGVyTGVhdmVbYV0pJiYocz1mdW5jdGlvbihlKXt2YXIgdD1lLmN1cnJlbnRUYXJnZXQsbj1lLnJlbGF0ZWRUYXJnZXQ7aWYobiYmdC5jb250YWlucyluPXQuY29udGFpbnMobik7ZWxzZSBmb3IoO24mJm4hPT10OyluPW4ucGFyZW50Tm9kZTtufHwoKGU9UmkoZXx8Zi5ldmVudCkpLnR5cGU9Im1vdXNlb3V0Ij09PWUudHlwZT8ibW91c2VsZWF2ZSI6Im1vdXNlZW50ZXIiLGUudGFyZ2V0PXQsbC5leGVjdXRlSGFuZGxlcnMoZSxvKSl9KSxsLmhhc0ZvY3VzSW58fCJmb2N1c2luIiE9PWEmJiJmb2N1c291dCIhPT1hfHwoYz0hMCx1PSJmb2N1c2luIj09PWE/ImZvY3VzIjoiYmx1ciIscz1mdW5jdGlvbihlKXsoZT1SaShlfHxmLmV2ZW50KSkudHlwZT0iZm9jdXMiPT09ZS50eXBlPyJmb2N1c2luIjoiZm9jdXNvdXQiLGwuZXhlY3V0ZUhhbmRsZXJzKGUsbyl9KSwoaT1sLmV2ZW50c1tvXVthXSk/InJlYWR5Ij09PWEmJmwuZG9tTG9hZGVkP24oUmkoe3R5cGU6YX0pKTppLnB1c2goe2Z1bmM6bixzY29wZTpyfSk6KGwuZXZlbnRzW29dW2FdPWk9W3tmdW5jOm4sc2NvcGU6cn1dLGkuZmFrZU5hbWU9dSxpLmNhcHR1cmU9YyxpLm5hdGl2ZUhhbmRsZXI9cywicmVhZHkiPT09YT9mdW5jdGlvbihlLHQsbil7dmFyIHIsbz1lLmRvY3VtZW50LGk9e3R5cGU6InJlYWR5In07bi5kb21Mb2FkZWQ/dChpKToocj1mdW5jdGlvbigpe0FpKGUsIkRPTUNvbnRlbnRMb2FkZWQiLHIpLEFpKGUsImxvYWQiLHIpLG4uZG9tTG9hZGVkfHwobi5kb21Mb2FkZWQ9ITAsdChpKSksZT1udWxsfSwiY29tcGxldGUiPT09by5yZWFkeVN0YXRlfHwiaW50ZXJhY3RpdmUiPT09by5yZWFkeVN0YXRlJiZvLmJvZHk/cigpOl9pKGUsIkRPTUNvbnRlbnRMb2FkZWQiLHIpLG4uZG9tTG9hZGVkfHxfaShlLCJsb2FkIixyKSl9KGUscyxsKTpfaShlLHV8fGEscyxjKSkpO3JldHVybiBlPWk9bnVsbCxufX0sRGkucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbihuLGUsdCl7dmFyIHIsbyxpO2lmKCFufHwzPT09bi5ub2RlVHlwZXx8OD09PW4ubm9kZVR5cGUpcmV0dXJuIHRoaXM7dmFyIGE9blt0aGlzLmV4cGFuZG9dO2lmKGEpe2lmKGk9dGhpcy5ldmVudHNbYV0sZSl7Zm9yKHZhciB1LHMsYyxsLGY9ZS5zcGxpdCgiICIpLGQ9Zi5sZW5ndGg7ZC0tOylpZihsPWlbbz1mW2RdXSl7aWYodClmb3Iocj1sLmxlbmd0aDtyLS07KWxbcl0uZnVuYz09PXQmJih1PWwubmF0aXZlSGFuZGxlcixzPWwuZmFrZU5hbWUsYz1sLmNhcHR1cmUsKGw9bC5zbGljZSgwLHIpLmNvbmNhdChsLnNsaWNlKHIrMSkpKS5uYXRpdmVIYW5kbGVyPXUsbC5mYWtlTmFtZT1zLGwuY2FwdHVyZT1jLGlbb109bCk7dCYmMCE9PWwubGVuZ3RofHwoZGVsZXRlIGlbb10sQWkobixsLmZha2VOYW1lfHxvLGwubmF0aXZlSGFuZGxlcixsLmNhcHR1cmUpKX19ZWxzZSB1ZShpLGZ1bmN0aW9uKGUsdCl7QWkobixlLmZha2VOYW1lfHx0LGUubmF0aXZlSGFuZGxlcixlLmNhcHR1cmUpfSksaT17fTtmb3IobyBpbiBpKWlmKGhlKGksbykpcmV0dXJuIHRoaXM7ZGVsZXRlIHRoaXMuZXZlbnRzW2FdO3RyeXtkZWxldGUgblt0aGlzLmV4cGFuZG9dfWNhdGNoKG0pe25bdGhpcy5leHBhbmRvXT1udWxsfX1yZXR1cm4gdGhpc30sRGkucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKCFlfHwzPT09ZS5ub2RlVHlwZXx8OD09PWUubm9kZVR5cGUpcmV0dXJuIHRoaXM7dmFyIG89UmkobnVsbCxuKTtmb3Ioby50eXBlPXQsby50YXJnZXQ9ZTsocj1lW3RoaXMuZXhwYW5kb10pJiZ0aGlzLmV4ZWN1dGVIYW5kbGVycyhvLHIpLChlPWUucGFyZW50Tm9kZXx8ZS5vd25lckRvY3VtZW50fHxlLmRlZmF1bHRWaWV3fHxlLnBhcmVudFdpbmRvdykmJiFvLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KTtyZXR1cm4gdGhpc30sRGkucHJvdG90eXBlLmNsZWFuPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIWV8fDM9PT1lLm5vZGVUeXBlfHw4PT09ZS5ub2RlVHlwZSlyZXR1cm4gdGhpcztpZihlW3RoaXMuZXhwYW5kb10mJnRoaXMudW5iaW5kKGUpLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWV8fChlPWUuZG9jdW1lbnQpLGUmJmUuZ2V0RWxlbWVudHNCeVRhZ05hbWUpZm9yKHRoaXMudW5iaW5kKGUpLHQ9KG49ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKS5sZW5ndGg7dC0tOykoZT1uW3RdKVt0aGlzLmV4cGFuZG9dJiZ0aGlzLnVuYmluZChlKTtyZXR1cm4gdGhpc30sRGkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cz17fX0sRGkucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSwhMX0sRGkucHJvdG90eXBlLmV4ZWN1dGVIYW5kbGVycz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZXZlbnRzW3RdLHI9biYmbltlLnR5cGVdO2lmKHIpZm9yKHZhciBvPTAsaT1yLmxlbmd0aDtvPGk7bysrKXt2YXIgYT1yW29dO2lmKGEmJiExPT09YS5mdW5jLmNhbGwoYS5zY29wZSxlKSYmZS5wcmV2ZW50RGVmYXVsdCgpLGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSlyZXR1cm59fSxEaS5FdmVudD1uZXcgRGksRGkpO2Z1bmN0aW9uIERpKCl7dGhpcy5kb21Mb2FkZWQ9ITEsdGhpcy5ldmVudHM9e30sdGhpcy5jb3VudD0xLHRoaXMuZXhwYW5kbz0ibWNlLWRhdGEtIisoK25ldyBEYXRlKS50b1N0cmluZygzMiksdGhpcy5oYXNNb3VzZUVudGVyTGVhdmU9Im9ubW91c2VlbnRlciJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy5oYXNGb2N1c0luPSJvbmZvY3VzaW4iaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMuY291bnQ9MX12YXIgT2ksQmksUGksTGksSWksTWksRmksVWksemksamksSGksVmkscWksJGksV2ksS2ksWGksWWk9InNpenpsZSIrLW5ldyBEYXRlLEdpPXdpbmRvdy5kb2N1bWVudCxKaT0wLFFpPTAsWmk9RGEoKSxlYT1EYSgpLHRhPURhKCksbmE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJihqaT0hMCksMH0scmE9dHlwZW9mIHVuZGVmaW5lZCxvYT17fS5oYXNPd25Qcm9wZXJ0eSxpYT1bXSxhYT1pYS5wb3AsdWE9aWEucHVzaCxzYT1pYS5wdXNoLGNhPWlhLnNsaWNlLGxhPWlhLmluZGV4T2Z8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5sZW5ndGg7dDxuO3QrKylpZih0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sZmE9IltcXHgyMFxcdFxcclxcblxcZl0iLGRhPSIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsbWE9IlxcWyIrZmErIiooIitkYSsiKSg/OiIrZmErIiooWypeJHwhfl0/PSkiK2ZhKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrZGErIikpfCkiK2ZhKyIqXFxdIixwYT0iOigiK2RhKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IittYSsiKSopfC4qKVxcKXwpIixnYT1uZXcgUmVnRXhwKCJeIitmYSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitmYSsiKyQiLCJnIiksaGE9bmV3IFJlZ0V4cCgiXiIrZmErIiosIitmYSsiKiIpLHZhPW5ldyBSZWdFeHAoIl4iK2ZhKyIqKFs+K35dfCIrZmErIikiK2ZhKyIqIikseWE9bmV3IFJlZ0V4cCgiPSIrZmErIiooW15cXF0nXCJdKj8pIitmYSsiKlxcXSIsImciKSxiYT1uZXcgUmVnRXhwKHBhKSxDYT1uZXcgUmVnRXhwKCJeIitkYSsiJCIpLHdhPXtJRDpuZXcgUmVnRXhwKCJeIygiK2RhKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK2RhKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitkYSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK21hKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrcGEpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrZmErIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK2ZhKyIqKD86KFsrLV18KSIrZmErIiooXFxkKyl8KSkiK2ZhKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86Y2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrZmErIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrZmErIiooKD86LVxcZCk/XFxkKikiK2ZhKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSx4YT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFNhPS9eaFxkJC9pLE5hPS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxFYT0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLGthPS9bK35dLyxfYT0vJ3xcXC9nLEFhPW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrZmErIj98KCIrZmErIil8LikiLCJpZyIpLFJhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0iMHgiK3QtNjU1MzY7cmV0dXJuIHIhPXJ8fG4/dDpyPDA/U3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzNityKTpTdHJpbmcuZnJvbUNoYXJDb2RlKHI+PjEwfDU1Mjk2LDEwMjMmcnw1NjMyMCl9O3RyeXtzYS5hcHBseShpYT1jYS5jYWxsKEdpLmNoaWxkTm9kZXMpLEdpLmNoaWxkTm9kZXMpLGlhW0dpLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChPayl7c2E9e2FwcGx5OmlhLmxlbmd0aD9mdW5jdGlvbihlLHQpe3VhLmFwcGx5KGUsY2EuY2FsbCh0KSl9OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLHI9MDtlW24rK109dFtyKytdOyk7ZS5sZW5ndGg9bi0xfX19dmFyIFRhPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsLGYsZCxtO2lmKCh0P3Qub3duZXJEb2N1bWVudHx8dDpHaSkhPT1WaSYmSGkodCksbj1ufHxbXSwhZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBuO2lmKDEhPT0odT0odD10fHxWaSkubm9kZVR5cGUpJiY5IT09dSlyZXR1cm5bXTtpZigkaSYmIXIpe2lmKG89RWEuZXhlYyhlKSlpZihhPW9bMV0pe2lmKDk9PT11KXtpZighKGk9dC5nZXRFbGVtZW50QnlJZChhKSl8fCFpLnBhcmVudE5vZGUpcmV0dXJuIG47aWYoaS5pZD09PWEpcmV0dXJuIG4ucHVzaChpKSxufWVsc2UgaWYodC5vd25lckRvY3VtZW50JiYoaT10Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkpJiZYaSh0LGkpJiZpLmlkPT09YSlyZXR1cm4gbi5wdXNoKGkpLG59ZWxzZXtpZihvWzJdKXJldHVybiBzYS5hcHBseShuLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpLG47aWYoKGE9b1szXSkmJk9pLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIHNhLmFwcGx5KG4sdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpKSxufWlmKE9pLnFzYSYmKCFXaXx8IVdpLnRlc3QoZSkpKXtpZihmPWw9WWksZD10LG09OT09PXUmJmUsMT09PXUmJiJvYmplY3QiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtmb3IoYz1JaShlKSwobD10LmdldEF0dHJpYnV0ZSgiaWQiKSk/Zj1sLnJlcGxhY2UoX2EsIlxcJCYiKTp0LnNldEF0dHJpYnV0ZSgiaWQiLGYpLGY9IltpZD0nIitmKyInXSAiLHM9Yy5sZW5ndGg7cy0tOyljW3NdPWYrTWEoY1tzXSk7ZD1rYS50ZXN0KGUpJiZMYSh0LnBhcmVudE5vZGUpfHx0LG09Yy5qb2luKCIsIil9aWYobSl0cnl7cmV0dXJuIHNhLmFwcGx5KG4sZC5xdWVyeVNlbGVjdG9yQWxsKG0pKSxufWNhdGNoKHApe31maW5hbGx5e2x8fHQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIEZpKGUucmVwbGFjZShnYSwiJDEiKSx0LG4scil9O2Z1bmN0aW9uIERhKCl7dmFyIG49W107ZnVuY3Rpb24gcihlLHQpe3JldHVybiBuLnB1c2goZSsiICIpPkJpLmNhY2hlTGVuZ3RoJiZkZWxldGUgcltuLnNoaWZ0KCldLHJbZSsiICJdPXR9cmV0dXJuIHJ9ZnVuY3Rpb24gT2EoZSl7cmV0dXJuIGVbWWldPSEwLGV9ZnVuY3Rpb24gQmEoZSx0KXt2YXIgbj10JiZlLHI9biYmMT09PWUubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiYofnQuc291cmNlSW5kZXh8fDE8PDMxKS0ofmUuc291cmNlSW5kZXh8fDE8PDMxKTtpZihyKXJldHVybiByO2lmKG4pZm9yKDtuPW4ubmV4dFNpYmxpbmc7KWlmKG49PT10KXJldHVybi0xO3JldHVybiBlPzE6LTF9ZnVuY3Rpb24gUGEoYSl7cmV0dXJuIE9hKGZ1bmN0aW9uKGkpe3JldHVybiBpPStpLE9hKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9YShbXSxlLmxlbmd0aCxpKSxvPXIubGVuZ3RoO28tLTspZVtuPXJbb11dJiYoZVtuXT0hKHRbbl09ZVtuXSkpfSl9KX1mdW5jdGlvbiBMYShlKXtyZXR1cm4gZSYmdHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPXJhJiZlfWZ1bmN0aW9uIElhKCl7fWZ1bmN0aW9uIE1hKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gRmEoYSxlLHQpe3ZhciB1PWUuZGlyLHM9dCYmInBhcmVudE5vZGUiPT09dSxjPVFpKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe2Zvcig7ZT1lW3VdOylpZigxPT09ZS5ub2RlVHlwZXx8cylyZXR1cm4gYShlLHQsbil9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9W0ppLGNdO2lmKG4pe2Zvcig7ZT1lW3VdOylpZigoMT09PWUubm9kZVR5cGV8fHMpJiZhKGUsdCxuKSlyZXR1cm4hMH1lbHNlIGZvcig7ZT1lW3VdOylpZigxPT09ZS5ub2RlVHlwZXx8cyl7aWYoKHI9KG89ZVtZaV18fChlW1lpXT17fSkpW3VdKSYmclswXT09PUppJiZyWzFdPT09YylyZXR1cm4gaVsyXT1yWzJdO2lmKChvW3VdPWkpWzJdPWEoZSx0LG4pKXJldHVybiEwfX19ZnVuY3Rpb24gVWEobyl7cmV0dXJuIDE8by5sZW5ndGg/ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1vLmxlbmd0aDtyLS07KWlmKCFvW3JdKGUsdCxuKSlyZXR1cm4hMTtyZXR1cm4hMH06b1swXX1mdW5jdGlvbiB6YShlLHQsbixyLG8pe2Zvcih2YXIgaSxhPVtdLHU9MCxzPWUubGVuZ3RoLGM9bnVsbCE9dDt1PHM7dSsrKShpPWVbdV0pJiYobiYmIW4oaSxyLG8pfHwoYS5wdXNoKGkpLGMmJnQucHVzaCh1KSkpO3JldHVybiBhfWZ1bmN0aW9uIGphKG0scCxnLGgsdixlKXtyZXR1cm4gaCYmIWhbWWldJiYoaD1qYShoKSksdiYmIXZbWWldJiYodj1qYSh2LGUpKSxPYShmdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdT1bXSxzPVtdLGM9dC5sZW5ndGgsbD1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsbz10Lmxlbmd0aDtyPG87cisrKVRhKGUsdFtyXSxuKTtyZXR1cm4gbn0ocHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IW18fCFlJiZwP2w6emEobCx1LG0sbixyKSxkPWc/dnx8KGU/bTpjfHxoKT9bXTp0OmY7aWYoZyYmZyhmLGQsbixyKSxoKWZvcihvPXphKGQscyksaChvLFtdLG4sciksaT1vLmxlbmd0aDtpLS07KShhPW9baV0pJiYoZFtzW2ldXT0hKGZbc1tpXV09YSkpO2lmKGUpe2lmKHZ8fG0pe2lmKHYpe2ZvcihvPVtdLGk9ZC5sZW5ndGg7aS0tOykoYT1kW2ldKSYmby5wdXNoKGZbaV09YSk7dihudWxsLGQ9W10sbyxyKX1mb3IoaT1kLmxlbmd0aDtpLS07KShhPWRbaV0pJiYtMTwobz12P2xhLmNhbGwoZSxhKTp1W2ldKSYmKGVbb109ISh0W29dPWEpKX19ZWxzZSBkPXphKGQ9PT10P2Quc3BsaWNlKGMsZC5sZW5ndGgpOmQpLHY/dihudWxsLHQsZCxyKTpzYS5hcHBseSh0LGQpfSl9T2k9VGEuc3VwcG9ydD17fSxMaT1UYS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiYoZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuISF0JiYiSFRNTCIhPT10Lm5vZGVOYW1lfSxIaT1UYS5zZXREb2N1bWVudD1mdW5jdGlvbihlKXt2YXIgdCxzPWU/ZS5vd25lckRvY3VtZW50fHxlOkdpLG49cy5kZWZhdWx0VmlldztyZXR1cm4gcyE9PVZpJiY5PT09cy5ub2RlVHlwZSYmcy5kb2N1bWVudEVsZW1lbnQ/KHFpPShWaT1zKS5kb2N1bWVudEVsZW1lbnQsJGk9IUxpKHMpLG4mJm4hPT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGUudG9wfWNhdGNoKHQpe31yZXR1cm4gbnVsbH0obikmJihuLmFkZEV2ZW50TGlzdGVuZXI/bi5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7SGkoKX0sITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixmdW5jdGlvbigpe0hpKCl9KSksT2kuYXR0cmlidXRlcz0hMCxPaS5nZXRFbGVtZW50c0J5VGFnTmFtZT0hMCxPaS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPU5hLnRlc3Qocy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxPaS5nZXRCeUlkPSEwLEJpLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgdC5nZXRFbGVtZW50QnlJZCE9cmEmJiRpKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuJiZuLnBhcmVudE5vZGU/W25dOltdfX0sQmkuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShBYSxSYSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSgiaWQiKT09PXR9fSxCaS5maW5kLlRBRz1PaS5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lIT1yYSlyZXR1cm4gdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKX06ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLG89MCxpPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYoIioiIT09ZSlyZXR1cm4gaTtmb3IoO249aVtvKytdOykxPT09bi5ub2RlVHlwZSYmci5wdXNoKG4pO3JldHVybiByfSxCaS5maW5kLkNMQVNTPU9pLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoJGkpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0sS2k9W10sV2k9W10sT2kuZGlzY29ubmVjdGVkTWF0Y2g9ITAsV2k9V2kubGVuZ3RoJiZuZXcgUmVnRXhwKFdpLmpvaW4oInwiKSksS2k9S2kubGVuZ3RoJiZuZXcgUmVnRXhwKEtpLmpvaW4oInwiKSksdD1OYS50ZXN0KHFpLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxYaT10fHxOYS50ZXN0KHFpLmNvbnRhaW5zKT9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUscj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1yfHwhKCFyfHwxIT09ci5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMocik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpZm9yKDt0PXQucGFyZW50Tm9kZTspaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LG5hPXQ/ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gamk9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PT0odC5vd25lckRvY3VtZW50fHx0KT9lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpOjEpfHwhT2kuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpPT09bj9lPT09c3x8ZS5vd25lckRvY3VtZW50PT09R2kmJlhpKEdpLGUpPy0xOnQ9PT1zfHx0Lm93bmVyRG9jdW1lbnQ9PT1HaSYmWGkoR2ksdCk/MTp6aT9sYS5jYWxsKHppLGUpLWxhLmNhbGwoemksdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGppPSEwLDA7dmFyIG4scj0wLG89ZS5wYXJlbnROb2RlLGk9dC5wYXJlbnROb2RlLGE9W2VdLHU9W3RdO2lmKCFvfHwhaSlyZXR1cm4gZT09PXM/LTE6dD09PXM/MTpvPy0xOmk/MTp6aT9sYS5jYWxsKHppLGUpLWxhLmNhbGwoemksdCk6MDtpZihvPT09aSlyZXR1cm4gQmEoZSx0KTtmb3Iobj1lO249bi5wYXJlbnROb2RlOylhLnVuc2hpZnQobik7Zm9yKG49dDtuPW4ucGFyZW50Tm9kZTspdS51bnNoaWZ0KG4pO2Zvcig7YVtyXT09PXVbcl07KXIrKztyZXR1cm4gcj9CYShhW3JdLHVbcl0pOmFbcl09PT1HaT8tMTp1W3JdPT09R2k/MTowfSxzKTpWaX0sVGEubWF0Y2hlcz1mdW5jdGlvbihlLHQpe3JldHVybiBUYShlLG51bGwsbnVsbCx0KX0sVGEubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsdCl7aWYoKGUub3duZXJEb2N1bWVudHx8ZSkhPT1WaSYmSGkoZSksdD10LnJlcGxhY2UoeWEsIj0nJDEnXSIpLE9pLm1hdGNoZXNTZWxlY3RvciYmJGkmJighS2l8fCFLaS50ZXN0KHQpKSYmKCFXaXx8IVdpLnRlc3QodCkpKXRyeXt2YXIgbj0odm9pZCAwKS5jYWxsKGUsdCk7aWYobnx8T2kuZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gbn1jYXRjaChPayl7fXJldHVybiAwPFRhKHQsVmksbnVsbCxbZV0pLmxlbmd0aH0sVGEuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5vd25lckRvY3VtZW50fHxlKSE9PVZpJiZIaShlKSxYaShlLHQpfSxUYS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPT1WaSYmSGkoZSk7dmFyIG49QmkuYXR0ckhhbmRsZVt0LnRvTG93ZXJDYXNlKCldLHI9biYmb2EuY2FsbChCaS5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsISRpKTp1bmRlZmluZWQ7cmV0dXJuIHIhPT11bmRlZmluZWQ/cjpPaS5hdHRyaWJ1dGVzfHwhJGk/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxUYS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LFRhLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsbz0wO2lmKGppPSFPaS5kZXRlY3REdXBsaWNhdGVzLHppPSFPaS5zb3J0U3RhYmxlJiZlLnNsaWNlKDApLGUuc29ydChuYSksamkpe2Zvcig7dD1lW28rK107KXQ9PT1lW29dJiYocj1uLnB1c2gobykpO2Zvcig7ci0tOyllLnNwbGljZShuW3JdLDEpfXJldHVybiB6aT1udWxsLGV9LFBpPVRhLmdldFRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj0iIixyPTAsbz1lLm5vZGVUeXBlO2lmKG8pe2lmKDE9PT1vfHw5PT09b3x8MTE9PT1vKXtpZigic3RyaW5nIj09dHlwZW9mIGUudGV4dENvbnRlbnQpcmV0dXJuIGUudGV4dENvbnRlbnQ7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKW4rPVBpKGUpfWVsc2UgaWYoMz09PW98fDQ9PT1vKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIGZvcig7dD1lW3IrK107KW4rPVBpKHQpO3JldHVybiBufSwoQmk9VGEuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86T2EsbWF0Y2g6d2EsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZShBYSxSYSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UoQWEsUmEpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxUYS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZUYS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gd2EuQ0hJTEQudGVzdChlWzBdKT9udWxsOihlWzNdP2VbMl09ZVs0XXx8ZVs1XXx8IiI6biYmYmEudGVzdChuKSYmKHQ9SWkobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKEFhLFJhKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1aaVtlKyIgIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoIihefCIrZmErIikiK2UrIigiK2ZhKyJ8JCkiKSkmJlppKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdCgic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8dHlwZW9mIGUuZ2V0QXR0cmlidXRlIT1yYSYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKG4scixvKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9VGEuYXR0cihlLG4pO3JldHVybiBudWxsPT10PyIhPSI9PT1yOiFyfHwodCs9IiIsIj0iPT09cj90PT09bzoiIT0iPT09cj90IT09bzoiXj0iPT09cj9vJiYwPT09dC5pbmRleE9mKG8pOiIqPSI9PT1yP28mJi0xPHQuaW5kZXhPZihvKToiJD0iPT09cj9vJiZ0LnNsaWNlKC1vLmxlbmd0aCk9PT1vOiJ+PSI9PT1yPy0xPCgiICIrdCsiICIpLmluZGV4T2Yobyk6Inw9Ij09PXImJih0PT09b3x8dC5zbGljZSgwLG8ubGVuZ3RoKzEpPT09bysiLSIpKX19LENISUxEOmZ1bmN0aW9uKG0sZSx0LHAsZyl7dmFyIGg9Im50aCIhPT1tLnNsaWNlKDAsMyksdj0ibGFzdCIhPT1tLnNsaWNlKC00KSx5PSJvZi10eXBlIj09PWU7cmV0dXJuIDE9PT1wJiYwPT09Zz9mdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyZW50Tm9kZX06ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjPWghPXY/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixsPWUucGFyZW50Tm9kZSxmPXkmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxkPSFuJiYheTtpZihsKXtpZihoKXtmb3IoO2M7KXtmb3IoaT1lO2k9aVtjXTspaWYoeT9pLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1pLm5vZGVUeXBlKXJldHVybiExO3M9Yz0ib25seSI9PT1tJiYhcyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihzPVt2P2wuZmlyc3RDaGlsZDpsLmxhc3RDaGlsZF0sdiYmZCl7Zm9yKHU9KHI9KG89bFtZaV18fChsW1lpXT17fSkpW21dfHxbXSlbMF09PT1KaSYmclsxXSxhPXJbMF09PT1KaSYmclsyXSxpPXUmJmwuY2hpbGROb2Rlc1t1XTtpPSsrdSYmaSYmaVtjXXx8KGE9dT0wKXx8cy5wb3AoKTspaWYoMT09PWkubm9kZVR5cGUmJisrYSYmaT09PWUpe29bbV09W0ppLHUsYV07YnJlYWt9fWVsc2UgaWYoZCYmKHI9KGVbWWldfHwoZVtZaV09e30pKVttXSkmJnJbMF09PT1KaSlhPXJbMV07ZWxzZSBmb3IoOyhpPSsrdSYmaSYmaVtjXXx8KGE9dT0wKXx8cy5wb3AoKSkmJigoeT9pLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT1mOjEhPT1pLm5vZGVUeXBlKXx8ISsrYXx8KGQmJigoaVtZaV18fChpW1lpXT17fSkpW21dPVtKaSxhXSksaSE9PWUpKTspO3JldHVybihhLT1nKT09PXB8fGElcD09MCYmMDw9YS9wfX19LFBTRVVETzpmdW5jdGlvbihlLGkpe3ZhciB0LGE9QmkucHNldWRvc1tlXXx8Qmkuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxUYS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1lpXT9hKGkpOjE8YS5sZW5ndGg/KHQ9W2UsZSwiIixpXSxCaS5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGUudG9Mb3dlckNhc2UoKSk/T2EoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1hKGUsaSksbz1yLmxlbmd0aDtvLS07KWVbbj1sYS5jYWxsKGUscltvXSldPSEodFtuXT1yW29dKX0pOmZ1bmN0aW9uKGUpe3JldHVybiBhKGUsMCx0KX0pOmF9fSxwc2V1ZG9zOntub3Q6T2EoZnVuY3Rpb24oZSl7dmFyIHI9W10sbz1bXSx1PU1pKGUucmVwbGFjZShnYSwiJDEiKSk7cmV0dXJuIHVbWWldP09hKGZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbyxpPXUoZSxudWxsLHIsW10pLGE9ZS5sZW5ndGg7YS0tOykobz1pW2FdKSYmKGVbYV09ISh0W2FdPW8pKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHUocixudWxsLG4sbyksIW8ucG9wKCl9fSksaGFzOk9hKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gMDxUYSh0LGUpLmxlbmd0aH19KSxjb250YWluczpPYShmdW5jdGlvbih0KXtyZXR1cm4gdD10LnJlcGxhY2UoQWEsUmEpLGZ1bmN0aW9uKGUpe3JldHVybi0xPChlLnRleHRDb250ZW50fHxlLmlubmVyVGV4dHx8UGkoZSkpLmluZGV4T2YodCl9fSksbGFuZzpPYShmdW5jdGlvbihuKXtyZXR1cm4gQ2EudGVzdChufHwiIil8fFRhLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK24pLG49bi5yZXBsYWNlKEFhLFJhKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGUpe3ZhciB0O2Rve2lmKHQ9JGk/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5sb2NhdGlvbiYmd2luZG93LmxvY2F0aW9uLmhhc2g7cmV0dXJuIHQmJnQuc2xpY2UoMSk9PT1lLmlkfSxyb290OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09cWl9LGZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09VmkuYWN0aXZlRWxlbWVudCYmKCFWaS5oYXNGb2N1c3x8VmkuaGFzRm9jdXMoKSkmJiEhKGUudHlwZXx8ZS5ocmVmfHx+ZS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1lLmRpc2FibGVkfSxkaXNhYmxlZDpmdW5jdGlvbihlKXtyZXR1cm4hMD09PWUuZGlzYWJsZWR9LGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYhIWUuY2hlY2tlZHx8Im9wdGlvbiI9PT10JiYhIWUuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LCEwPT09ZS5zZWxlY3RlZH0sZW1wdHk6ZnVuY3Rpb24oZSl7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGUubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFCaS5wc2V1ZG9zLmVtcHR5KGUpfSxoZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIFNhLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiB4YS50ZXN0KGUubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYiYnV0dG9uIj09PWUudHlwZXx8ImJ1dHRvbiI9PT10fSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiJpbnB1dCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PWUudHlwZSYmKG51bGw9PSh0PWUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT10LnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpQYShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6UGEoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOlBhKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bbjwwP24rdDpuXX0pLGV2ZW46UGEoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxvZGQ6UGEoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MTtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpQYShmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW48MD9uK3Q6bjswPD0tLXI7KWUucHVzaChyKTtyZXR1cm4gZX0pLGd0OlBhKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOysrcjx0OyllLnB1c2gocik7cmV0dXJuIGV9KX19KS5wc2V1ZG9zLm50aD1CaS5wc2V1ZG9zLmVxLFcoWyJyYWRpbyIsImNoZWNrYm94IiwiZmlsZSIsInBhc3N3b3JkIiwiaW1hZ2UiXSxmdW5jdGlvbihlKXt2YXIgdDtCaS5wc2V1ZG9zW2VdPSh0PWUsZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH0pfSksVyhbInN1Ym1pdCIsInJlc2V0Il0sZnVuY3Rpb24oZSl7dmFyIG47QmkucHNldWRvc1tlXT0obj1lLGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59KX0pLElhLnByb3RvdHlwZT1CaS5maWx0ZXJzPUJpLnBzZXVkb3MsQmkuc2V0RmlsdGVycz1uZXcgSWEsSWk9VGEudG9rZW5pemU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHUscyxjPWVhW2UrIiAiXTtpZihjKXJldHVybiB0PzA6Yy5zbGljZSgwKTtmb3IoYT1lLHU9W10scz1CaS5wcmVGaWx0ZXI7YTspe2ZvcihpIGluIG4mJiEocj1oYS5leGVjKGEpKXx8KHImJihhPWEuc2xpY2UoclswXS5sZW5ndGgpfHxhKSx1LnB1c2gobz1bXSkpLG49ITEsKHI9dmEuZXhlYyhhKSkmJihuPXIuc2hpZnQoKSxvLnB1c2goe3ZhbHVlOm4sdHlwZTpyWzBdLnJlcGxhY2UoZ2EsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLEJpLmZpbHRlcilCaS5maWx0ZXIuaGFzT3duUHJvcGVydHkoaSkmJighKHI9d2FbaV0uZXhlYyhhKSl8fHNbaV0mJiEocj1zW2ldKHIpKXx8KG49ci5zaGlmdCgpLG8ucHVzaCh7dmFsdWU6bix0eXBlOmksbWF0Y2hlczpyfSksYT1hLnNsaWNlKG4ubGVuZ3RoKSkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/VGEuZXJyb3IoZSk6ZWEoZSx1KS5zbGljZSgwKX0sTWk9VGEuY29tcGlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLGgsdix5LGIscixvPVtdLGk9W10sYT10YVtlKyIgIl07aWYoIWEpe2ZvcihuPSh0PXR8fElpKGUpKS5sZW5ndGg7bi0tOykoYT1mdW5jdGlvbiBmKGUpe2Zvcih2YXIgcix0LG4sbz1lLmxlbmd0aCxpPUJpLnJlbGF0aXZlW2VbMF0udHlwZV0sYT1pfHxCaS5yZWxhdGl2ZVsiICJdLHU9aT8xOjAscz1GYShmdW5jdGlvbihlKXtyZXR1cm4gZT09PXJ9LGEsITApLGM9RmEoZnVuY3Rpb24oZSl7cmV0dXJuLTE8bGEuY2FsbChyLGUpfSxhLCEwKSxsPVtmdW5jdGlvbihlLHQsbil7cmV0dXJuIWkmJihufHx0IT09VWkpfHwoKHI9dCkubm9kZVR5cGU/czpjKShlLHQsbil9XTt1PG87dSsrKWlmKHQ9QmkucmVsYXRpdmVbZVt1XS50eXBlXSlsPVtGYShVYShsKSx0KV07ZWxzZXtpZigodD1CaS5maWx0ZXJbZVt1XS50eXBlXS5hcHBseShudWxsLGVbdV0ubWF0Y2hlcykpW1lpXSl7Zm9yKG49Kyt1O248byYmIUJpLnJlbGF0aXZlW2Vbbl0udHlwZV07bisrKTtyZXR1cm4gamEoMTx1JiZVYShsKSwxPHUmJk1hKGUuc2xpY2UoMCx1LTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVt1LTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoZ2EsIiQxIiksdCx1PG4mJmYoZS5zbGljZSh1LG4pKSxuPG8mJmYoZT1lLnNsaWNlKG4pKSxuPG8mJk1hKGUpKX1sLnB1c2godCl9cmV0dXJuIFVhKGwpfSh0W25dKSlbWWldP28ucHVzaChhKTppLnB1c2goYSk7KGE9dGEoZSwoaD1pLHk9MDwodj1vKS5sZW5ndGgsYj0wPGgubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscz0wLGM9IjAiLGw9ZSYmW10sZj1bXSxkPVVpLG09ZXx8YiYmQmkuZmluZC5UQUcoIioiLG8pLHA9SmkrPW51bGw9PWQ/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPW0ubGVuZ3RoO2ZvcihvJiYoVWk9dCE9PVZpJiZ0KTtjIT09ZyYmbnVsbCE9KGk9bVtjXSk7YysrKXtpZihiJiZpKXtmb3IoYT0wO3U9aFthKytdOylpZih1KGksdCxuKSl7ci5wdXNoKGkpO2JyZWFrfW8mJihKaT1wKX15JiYoKGk9IXUmJmkpJiZzLS0sZSYmbC5wdXNoKGkpKX1pZihzKz1jLHkmJmMhPT1zKXtmb3IoYT0wO3U9dlthKytdOyl1KGwsZix0LG4pO2lmKGUpe2lmKDA8cylmb3IoO2MtLTspbFtjXXx8ZltjXXx8KGZbY109YWEuY2FsbChyKSk7Zj16YShmKX1zYS5hcHBseShyLGYpLG8mJiFlJiYwPGYubGVuZ3RoJiYxPHMrdi5sZW5ndGgmJlRhLnVuaXF1ZVNvcnQocil9cmV0dXJuIG8mJihKaT1wLFVpPWQpLGx9LHk/T2Eocik6cikpKS5zZWxlY3Rvcj1lfXJldHVybiBhfSxGaT1UYS5zZWxlY3Q9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscyxjPSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLGw9IXImJklpKGU9Yy5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09bC5sZW5ndGgpe2lmKDI8KGk9bFswXT1sWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1pWzBdKS50eXBlJiZPaS5nZXRCeUlkJiY5PT09dC5ub2RlVHlwZSYmJGkmJkJpLnJlbGF0aXZlW2lbMV0udHlwZV0pe2lmKCEodD0oQmkuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZShBYSxSYSksdCl8fFtdKVswXSkpcmV0dXJuIG47YyYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2UoaS5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9Zm9yKG89d2EubmVlZHNDb250ZXh0LnRlc3QoZSk/MDppLmxlbmd0aDtvLS0mJihhPWlbb10sIUJpLnJlbGF0aXZlW3U9YS50eXBlXSk7KWlmKChzPUJpLmZpbmRbdV0pJiYocj1zKGEubWF0Y2hlc1swXS5yZXBsYWNlKEFhLFJhKSxrYS50ZXN0KGlbMF0udHlwZSkmJkxhKHQucGFyZW50Tm9kZSl8fHQpKSl7aWYoaS5zcGxpY2UobywxKSwhKGU9ci5sZW5ndGgmJk1hKGkpKSlyZXR1cm4gc2EuYXBwbHkobixyKSxuO2JyZWFrfX1yZXR1cm4oY3x8TWkoZSxsKSkocix0LCEkaSxuLGthLnRlc3QoZSkmJkxhKHQucGFyZW50Tm9kZSl8fHQpLG59LE9pLnNvcnRTdGFibGU9WWkuc3BsaXQoIiIpLnNvcnQobmEpLmpvaW4oIiIpPT09WWksT2kuZGV0ZWN0RHVwbGljYXRlcz0hIWppLEhpKCksT2kuc29ydERldGFjaGVkPSEwO3ZhciBIYT1kb2N1bWVudCxWYT1BcnJheS5wcm90b3R5cGUucHVzaCxxYT1BcnJheS5wcm90b3R5cGUuc2xpY2UsJGE9L14oPzpbXiM8XSooPFtcd1xXXSs+KVtePl0qJHwjKFtcd1wtXSopJCkvLFdhPVRpLkV2ZW50LEthPWt0Lm1ha2VNYXAoImNoaWxkcmVuLGNvbnRlbnRzLG5leHQscHJldiIpLFhhPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lfSxZYT1mdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9LEdhPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj0odD10fHxIYSkuY3JlYXRlRWxlbWVudCgiZGl2Iiksbz10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3Ioci5pbm5lckhUTUw9ZTtuPXIuZmlyc3RDaGlsZDspby5hcHBlbmRDaGlsZChuKTtyZXR1cm4gb30sSmE9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG87aWYoWWEodCkpdD1HYSh0LGZ1KGVbMF0pKTtlbHNlIGlmKHQubGVuZ3RoJiYhdC5ub2RlVHlwZSl7aWYodD1odS5tYWtlQXJyYXkodCkscilmb3Iobz10Lmxlbmd0aC0xOzA8PW87by0tKUphKGUsdFtvXSxuLHIpO2Vsc2UgZm9yKG89MDtvPHQubGVuZ3RoO28rKylKYShlLHRbb10sbixyKTtyZXR1cm4gZX1pZih0Lm5vZGVUeXBlKWZvcihvPWUubGVuZ3RoO28tLTspbi5jYWxsKGVbb10sdCk7cmV0dXJuIGV9LFFhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQmJi0xIT09KCIgIitlLmNsYXNzTmFtZSsiICIpLmluZGV4T2YoIiAiK3QrIiAiKX0sWmE9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87cmV0dXJuIHQ9aHUodClbMF0sZS5lYWNoKGZ1bmN0aW9uKCl7biYmcj09PXRoaXMucGFyZW50Tm9kZXx8KHI9dGhpcy5wYXJlbnROb2RlLG89dC5jbG9uZU5vZGUoITEpLHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobyx0aGlzKSksby5hcHBlbmRDaGlsZCh0aGlzKX0pLGV9LGV1PWt0Lm1ha2VNYXAoImZpbGxPcGFjaXR5IGZvbnRXZWlnaHQgbGluZUhlaWdodCBvcGFjaXR5IG9ycGhhbnMgd2lkb3dzIHpJbmRleCB6b29tIiwiICIpLHR1PWt0Lm1ha2VNYXAoImNoZWNrZWQgY29tcGFjdCBkZWNsYXJlIGRlZmVyIGRpc2FibGVkIGlzbWFwIG11bHRpcGxlIG5vaHJlZiBub3NoYWRlIG5vd3JhcCByZWFkb25seSBzZWxlY3RlZCIsIiAiKSxudT17ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSIscmVhZG9ubHk6InJlYWRPbmx5In0scnU9eyJmbG9hdCI6ImNzc0Zsb2F0In0sb3U9e30saXU9e30sYXU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGh1LmZuLmluaXQoZSx0KX0sdXU9L15ccyp8XHMqJC9nLHN1PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8ZT09PXVuZGVmaW5lZD8iIjooIiIrZSkucmVwbGFjZSh1dSwiIil9LGN1PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk7aWYoZSlpZigobj1lLmxlbmd0aCk9PT11bmRlZmluZWQpe2ZvcihyIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSYmKGk9ZVtyXSwhMT09PXQuY2FsbChpLHIsaSkpKWJyZWFrfWVsc2UgZm9yKG89MDtvPG4mJihpPWVbb10sITEhPT10LmNhbGwoaSxvLGkpKTtvKyspO3JldHVybiBlfSxsdT1mdW5jdGlvbihlLG4pe3ZhciByPVtdO3JldHVybiBjdShlLGZ1bmN0aW9uKGUsdCl7bih0LGUpJiZyLnB1c2godCl9KSxyfSxmdT1mdW5jdGlvbihlKXtyZXR1cm4gZT85PT09ZS5ub2RlVHlwZT9lOmUub3duZXJEb2N1bWVudDpIYX07YXUuZm49YXUucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjphdSxzZWxlY3RvcjoiIixjb250ZXh0Om51bGwsbGVuZ3RoOjAsaW5pdDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz10aGlzO2lmKCFlKXJldHVybiBvO2lmKGUubm9kZVR5cGUpcmV0dXJuIG8uY29udGV4dD1vWzBdPWUsby5sZW5ndGg9MSxvO2lmKHQmJnQubm9kZVR5cGUpby5jb250ZXh0PXQ7ZWxzZXtpZih0KXJldHVybiBodShlKS5hdHRyKHQpO28uY29udGV4dD10PWRvY3VtZW50fWlmKFlhKGUpKXtpZighKG49IjwiPT09KG8uc2VsZWN0b3I9ZSkuY2hhckF0KDApJiYiPiI9PT1lLmNoYXJBdChlLmxlbmd0aC0xKSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTokYS5leGVjKGUpKSlyZXR1cm4gaHUodCkuZmluZChlKTtpZihuWzFdKWZvcihyPUdhKGUsZnUodCkpLmZpcnN0Q2hpbGQ7cjspVmEuY2FsbChvLHIpLHI9ci5uZXh0U2libGluZztlbHNle2lmKCEocj1mdSh0KS5nZXRFbGVtZW50QnlJZChuWzJdKSkpcmV0dXJuIG87aWYoci5pZCE9PW5bMl0pcmV0dXJuIG8uZmluZChlKTtvLmxlbmd0aD0xLG9bMF09cn19ZWxzZSB0aGlzLmFkZChlLCExKTtyZXR1cm4gb30sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBrdC50b0FycmF5KHRoaXMpfSxhZGQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyO2lmKFlhKGUpKXJldHVybiB0aGlzLmFkZChodShlKSk7aWYoITEhPT10KWZvcihuPWh1LnVuaXF1ZSh0aGlzLnRvQXJyYXkoKS5jb25jYXQoaHUubWFrZUFycmF5KGUpKSksdGhpcy5sZW5ndGg9bi5sZW5ndGgscj0wO3I8bi5sZW5ndGg7cisrKXRoaXNbcl09bltyXTtlbHNlIFZhLmFwcGx5KHRoaXMsaHUubWFrZUFycmF5KGUpKTtyZXR1cm4gdGhpc30sYXR0cjpmdW5jdGlvbih0LG4pe3ZhciBlLHI9dGhpcztpZigib2JqZWN0Ij09dHlwZW9mIHQpY3UodCxmdW5jdGlvbihlLHQpe3IuYXR0cihlLHQpfSk7ZWxzZXtpZighWGEobikpe2lmKHJbMF0mJjE9PT1yWzBdLm5vZGVUeXBlKXtpZigoZT1vdVt0XSkmJmUuZ2V0KXJldHVybiBlLmdldChyWzBdLHQpO2lmKHR1W3RdKXJldHVybiByLnByb3AodCk/dDp1bmRlZmluZWQ7bnVsbD09PShuPXJbMF0uZ2V0QXR0cmlidXRlKHQsMikpJiYobj11bmRlZmluZWQpfXJldHVybiBufXRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlO2lmKDE9PT10aGlzLm5vZGVUeXBlKXtpZigoZT1vdVt0XSkmJmUuc2V0KXJldHVybiB2b2lkIGUuc2V0KHRoaXMsbik7bnVsbD09PW4/dGhpcy5yZW1vdmVBdHRyaWJ1dGUodCwyKTp0aGlzLnNldEF0dHJpYnV0ZSh0LG4sMil9fSl9cmV0dXJuIHJ9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXR0cihlLG51bGwpfSxwcm9wOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZigib2JqZWN0Ij09dHlwZW9mKGU9bnVbZV18fGUpKWN1KGUsZnVuY3Rpb24oZSx0KXtuLnByb3AoZSx0KX0pO2Vsc2V7aWYoIVhhKHQpKXJldHVybiBuWzBdJiZuWzBdLm5vZGVUeXBlJiZlIGluIG5bMF0/blswXVtlXTp0O3RoaXMuZWFjaChmdW5jdGlvbigpezE9PT10aGlzLm5vZGVUeXBlJiYodGhpc1tlXT10KX0pfXJldHVybiBufSxjc3M6ZnVuY3Rpb24obixyKXt2YXIgZSxvLGk9dGhpcyx0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLy0oXEQpL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9LGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihlKXtyZXR1cm4iLSIrZX0pfTtpZigib2JqZWN0Ij09dHlwZW9mIG4pY3UobixmdW5jdGlvbihlLHQpe2kuY3NzKGUsdCl9KTtlbHNlIGlmKFhhKHIpKW49dChuKSwibnVtYmVyIiE9dHlwZW9mIHJ8fGV1W25dfHwocj1yLnRvU3RyaW5nKCkrInB4IiksaS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdHlsZTtpZigobz1pdVtuXSkmJm8uc2V0KW8uc2V0KHRoaXMscik7ZWxzZXt0cnl7dGhpcy5zdHlsZVtydVtuXXx8bl09cn1jYXRjaCh0KXt9bnVsbCE9PXImJiIiIT09cnx8KGUucmVtb3ZlUHJvcGVydHk/ZS5yZW1vdmVQcm9wZXJ0eShhKG4pKTplLnJlbW92ZUF0dHJpYnV0ZShuKSl9fSk7ZWxzZXtpZihlPWlbMF0sKG89aXVbbl0pJiZvLmdldClyZXR1cm4gby5nZXQoZSk7aWYoIWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldylyZXR1cm4gZS5jdXJyZW50U3R5bGU/ZS5jdXJyZW50U3R5bGVbdChuKV06IiI7dHJ5e3JldHVybiBlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmdldFByb3BlcnR5VmFsdWUoYShuKSl9Y2F0Y2godSl7cmV0dXJuIHVuZGVmaW5lZH19cmV0dXJuIGl9LHJlbW92ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PXRoaXMubGVuZ3RoO3QtLTspZT10aGlzW3RdLFdhLmNsZWFuKGUpLGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PXRoaXMubGVuZ3RoO3QtLTspZm9yKGU9dGhpc1t0XTtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtyZXR1cm4gdGhpc30saHRtbDpmdW5jdGlvbihlKXt2YXIgdDtpZihYYShlKSl7dD10aGlzLmxlbmd0aDt0cnl7Zm9yKDt0LS07KXRoaXNbdF0uaW5uZXJIVE1MPWV9Y2F0Y2gobil7aHUodGhpc1t0XSkuZW1wdHkoKS5hcHBlbmQoZSl9cmV0dXJuIHRoaXN9cmV0dXJuIHRoaXNbMF0/dGhpc1swXS5pbm5lckhUTUw6IiJ9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoWGEoZSkpe2Zvcih0PXRoaXMubGVuZ3RoO3QtLTspImlubmVyVGV4dCJpbiB0aGlzW3RdP3RoaXNbdF0uaW5uZXJUZXh0PWU6dGhpc1swXS50ZXh0Q29udGVudD1lO3JldHVybiB0aGlzfXJldHVybiB0aGlzWzBdP3RoaXNbMF0uaW5uZXJUZXh0fHx0aGlzWzBdLnRleHRDb250ZW50OiIifSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7KDE9PT10aGlzLm5vZGVUeXBlfHx0aGlzLmhvc3QmJjE9PT10aGlzLmhvc3Qubm9kZVR5cGUpJiZ0aGlzLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7KDE9PT10aGlzLm5vZGVUeXBlfHx0aGlzLmhvc3QmJjE9PT10aGlzLmhvc3Qubm9kZVR5cGUpJiZ0aGlzLmluc2VydEJlZm9yZShlLHRoaXMuZmlyc3RDaGlsZCl9LCEwKX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT9KYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KTp0aGlzfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/SmEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMubmV4dFNpYmxpbmcpfSwhMCk6dGhpc30sYXBwZW5kVG86ZnVuY3Rpb24oZSl7cmV0dXJuIGh1KGUpLmFwcGVuZCh0aGlzKSx0aGlzfSxwcmVwZW5kVG86ZnVuY3Rpb24oZSl7cmV0dXJuIGh1KGUpLnByZXBlbmQodGhpcyksdGhpc30scmVwbGFjZVdpdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYmVmb3JlKGUpLnJlbW92ZSgpfSx3cmFwOmZ1bmN0aW9uKGUpe3JldHVybiBaYSh0aGlzLGUpfSx3cmFwQWxsOmZ1bmN0aW9uKGUpe3JldHVybiBaYSh0aGlzLGUsITApfSx3cmFwSW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2h1KHRoaXMpLmNvbnRlbnRzKCkud3JhcEFsbChlKX0pLHRoaXN9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtodSh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2UucHVzaCh0aGlzLmNsb25lTm9kZSghMCkpfSksaHUoZSl9LGFkZENsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRvZ2dsZUNsYXNzKGUsITApfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b2dnbGVDbGFzcyhlLCExKX0sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24obyxpKXt2YXIgZT10aGlzO3JldHVybiJzdHJpbmciIT10eXBlb2Ygb3x8KC0xIT09by5pbmRleE9mKCIgIik/Y3Uoby5zcGxpdCgiICIpLGZ1bmN0aW9uKCl7ZS50b2dnbGVDbGFzcyh0aGlzLGkpfSk6ZS5lYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1RYSh0LG8pO3IhPT1pJiYobj10LmNsYXNzTmFtZSxyP3QuY2xhc3NOYW1lPXN1KCgiICIrbisiICIpLnJlcGxhY2UoIiAiK28rIiAiLCIgIikpOnQuY2xhc3NOYW1lKz1uPyIgIitvOm8pfSkpLGV9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiBRYSh0aGlzWzBdLGUpfSxlYWNoOmZ1bmN0aW9uKGUpe3JldHVybiBjdSh0aGlzLGUpfSxvbjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtXYS5iaW5kKHRoaXMsZSx0KX0pfSxvZmY6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7V2EudW5iaW5kKHRoaXMsZSx0KX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsib2JqZWN0Ij09dHlwZW9mIGU/V2EuZmlyZSh0aGlzLGUudHlwZSxlKTpXYS5maXJlKHRoaXMsZSl9KX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNzcygiZGlzcGxheSIsIiIpfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3NzKCJkaXNwbGF5Iiwibm9uZSIpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiBuZXcgaHUocWEuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZXE6ZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lP3RoaXMuc2xpY2UoZSk6dGhpcy5zbGljZShlLCtlKzEpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxmaW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTAscj10aGlzLmxlbmd0aDtuPHI7bisrKWh1LmZpbmQoZSx0aGlzW25dLHQpO3JldHVybiBodSh0KX0sZmlsdGVyOmZ1bmN0aW9uKG4pe3JldHVybiBodSgiZnVuY3Rpb24iPT10eXBlb2Ygbj9sdSh0aGlzLnRvQXJyYXkoKSxmdW5jdGlvbihlLHQpe3JldHVybiBuKHQsZSl9KTpodS5maWx0ZXIobix0aGlzLnRvQXJyYXkoKSkpfSxjbG9zZXN0OmZ1bmN0aW9uKG4pe3ZhciByPVtdO3JldHVybiBuIGluc3RhbmNlb2YgaHUmJihuPW5bMF0pLHRoaXMuZWFjaChmdW5jdGlvbihlLHQpe2Zvcig7dDspe2lmKCJzdHJpbmciPT10eXBlb2YgbiYmaHUodCkuaXMobikpe3IucHVzaCh0KTticmVha31pZih0PT09bil7ci5wdXNoKHQpO2JyZWFrfXQ9dC5wYXJlbnROb2RlfX0pLGh1KHIpfSxvZmZzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT0wLGE9MDtyZXR1cm4gZT90aGlzLmNzcyhlKTooKHQ9dGhpc1swXSkmJihyPShuPXQub3duZXJEb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50LHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiYoaT0obz10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKS5sZWZ0KyhyLnNjcm9sbExlZnR8fG4uYm9keS5zY3JvbGxMZWZ0KS1yLmNsaWVudExlZnQsYT1vLnRvcCsoci5zY3JvbGxUb3B8fG4uYm9keS5zY3JvbGxUb3ApLXIuY2xpZW50VG9wKSkse2xlZnQ6aSx0b3A6YX0pfSxwdXNoOlZhLHNvcnQ6QXJyYXkucHJvdG90eXBlLnNvcnQsc3BsaWNlOkFycmF5LnByb3RvdHlwZS5zcGxpY2V9LGt0LmV4dGVuZChhdSx7ZXh0ZW5kOmt0LmV4dGVuZCxtYWtlQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuKHQ9ZSkmJnQ9PT10LndpbmRvd3x8ZS5ub2RlVHlwZT9bZV06a3QudG9BcnJheShlKTt2YXIgdH0saW5BcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuO2lmKHQuaW5kZXhPZilyZXR1cm4gdC5pbmRleE9mKGUpO2ZvcihuPXQubGVuZ3RoO24tLTspaWYodFtuXT09PWUpcmV0dXJuIG47cmV0dXJuLTF9LGlzQXJyYXk6a3QuaXNBcnJheSxlYWNoOmN1LHRyaW06c3UsZ3JlcDpsdSxmaW5kOlRhLGV4cHI6VGEuc2VsZWN0b3JzLHVuaXF1ZTpUYS51bmlxdWVTb3J0LHRleHQ6VGEuZ2V0VGV4dCxjb250YWluczpUYS5jb250YWlucyxmaWx0ZXI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQubGVuZ3RoO2ZvcihuJiYoZT0iOm5vdCgiK2UrIikiKTtyLS07KTEhPT10W3JdLm5vZGVUeXBlJiZ0LnNwbGljZShyLDEpO3JldHVybiB0PTE9PT10Lmxlbmd0aD9odS5maW5kLm1hdGNoZXNTZWxlY3Rvcih0WzBdLGUpP1t0WzBdXTpbXTpodS5maW5kLm1hdGNoZXMoZSx0KX19KTt2YXIgZHU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLG89ZVt0XTtmb3IoInN0cmluZyIhPXR5cGVvZiBuJiZuIGluc3RhbmNlb2YgaHUmJihuPW5bMF0pO28mJjkhPT1vLm5vZGVUeXBlOyl7aWYobiE9PXVuZGVmaW5lZCl7aWYobz09PW4pYnJlYWs7aWYoInN0cmluZyI9PXR5cGVvZiBuJiZodShvKS5pcyhuKSlicmVha30xPT09by5ub2RlVHlwZSYmci5wdXNoKG8pLG89b1t0XX1yZXR1cm4gcn0sbXU9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89W107Zm9yKHIgaW5zdGFuY2VvZiBodSYmKHI9clswXSk7ZTtlPWVbdF0paWYoIW58fGUubm9kZVR5cGU9PT1uKXtpZihyIT09dW5kZWZpbmVkKXtpZihlPT09cilicmVhaztpZigic3RyaW5nIj09dHlwZW9mIHImJmh1KGUpLmlzKHIpKWJyZWFrfW8ucHVzaChlKX1yZXR1cm4gb30scHU9ZnVuY3Rpb24oZSx0LG4pe2ZvcihlPWVbdF07ZTtlPWVbdF0paWYoZS5ub2RlVHlwZT09PW4pcmV0dXJuIGU7cmV0dXJuIG51bGx9O2N1KHtwYXJlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBkdShlLCJwYXJlbnROb2RlIil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHB1KGUsIm5leHRTaWJsaW5nIiwxKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gcHUoZSwicHJldmlvdXNTaWJsaW5nIiwxKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIG11KGUuZmlyc3RDaGlsZCwibmV4dFNpYmxpbmciLDEpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4ga3QudG9BcnJheSgoImlmcmFtZSI9PT1lLm5vZGVOYW1lP2UuY29udGVudERvY3VtZW50fHxlLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6ZSkuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihyLG8pe2F1LmZuW3JdPWZ1bmN0aW9uKHQpe3ZhciBuPVtdO3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPW8uY2FsbChuLHRoaXMsdCxuKTtlJiYoaHUuaXNBcnJheShlKT9uLnB1c2guYXBwbHkobixlKTpuLnB1c2goZSkpfSksMTx0aGlzLmxlbmd0aCYmKEthW3JdfHwobj1odS51bmlxdWUobikpLDA9PT1yLmluZGV4T2YoInBhcmVudHMiKSYmKG49bi5yZXZlcnNlKCkpKTt2YXIgZT1odShuKTtyZXR1cm4gdD9lLmZpbHRlcih0KTplfX0pLGN1KHtwYXJlbnRzVW50aWw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZHUoZSwicGFyZW50Tm9kZSIsdCl9LG5leHRVbnRpbDpmdW5jdGlvbihlLHQpe3JldHVybiBtdShlLCJuZXh0U2libGluZyIsMSx0KS5zbGljZSgxKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG11KGUsInByZXZpb3VzU2libGluZyIsMSx0KS5zbGljZSgxKX19LGZ1bmN0aW9uKG8saSl7YXUuZm5bb109ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTt0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1pLmNhbGwobix0aGlzLHQsbik7ZSYmKGh1LmlzQXJyYXkoZSk/bi5wdXNoLmFwcGx5KG4sZSk6bi5wdXNoKGUpKX0pLDE8dGhpcy5sZW5ndGgmJihuPWh1LnVuaXF1ZShuKSwwIT09by5pbmRleE9mKCJwYXJlbnRzIikmJiJwcmV2VW50aWwiIT09b3x8KG49bi5yZXZlcnNlKCkpKTt2YXIgcj1odShuKTtyZXR1cm4gZT9yLmZpbHRlcihlKTpyfX0pLGF1LmZuLmlzPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmMDx0aGlzLmZpbHRlcihlKS5sZW5ndGh9LGF1LmZuLmluaXQucHJvdG90eXBlPWF1LmZuLGF1Lm92ZXJyaWRlRGVmYXVsdHM9ZnVuY3Rpb24obil7dmFyIHIsbz1mdW5jdGlvbihlLHQpe3JldHVybiByPXJ8fG4oKSwwPT09YXJndW1lbnRzLmxlbmd0aCYmKGU9ci5lbGVtZW50KSx0PXR8fHIuY29udGV4dCxuZXcgby5mbi5pbml0KGUsdCl9O3JldHVybiBodS5leHRlbmQobyx0aGlzKSxvfSxhdS5hdHRySG9va3M9b3UsYXUuY3NzSG9va3M9aXU7dmFyIGd1LGh1PWF1LHZ1PWt0LmVhY2gseXU9a3QuZ3JlcCxidT13dC5pZSxDdT0vXihbYS16MC05XSw/KSskL2ksd3U9ZnVuY3Rpb24obixyLG8pe3ZhciBpPXIua2VlcF92YWx1ZXMsZT17c2V0OmZ1bmN0aW9uKGUsdCxuKXtyLnVybF9jb252ZXJ0ZXImJih0PXIudXJsX2NvbnZlcnRlci5jYWxsKHIudXJsX2NvbnZlcnRlcl9zY29wZXx8bygpLHQsbixlWzBdKSksZS5hdHRyKCJkYXRhLW1jZS0iK24sdCkuYXR0cihuLHQpfSxnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hdHRyKCJkYXRhLW1jZS0iK3QpfHxlLmF0dHIodCl9fSx0PXtzdHlsZTp7c2V0OmZ1bmN0aW9uKGUsdCl7bnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdD8oaSYmZS5hdHRyKCJkYXRhLW1jZS1zdHlsZSIsdCksbnVsbCE9PXQmJiJzdHJpbmciPT10eXBlb2YgdD8oZS5yZW1vdmVBdHRyKCJzdHlsZSIpLGUuY3NzKG4ucGFyc2UodCkpKTplLmF0dHIoInN0eWxlIix0KSk6ZS5jc3ModCl9LGdldDpmdW5jdGlvbihlKXt2YXIgdD1lLmF0dHIoImRhdGEtbWNlLXN0eWxlIil8fGUuYXR0cigic3R5bGUiKTtyZXR1cm4gdD1uLnNlcmlhbGl6ZShuLnBhcnNlKHQpLGVbMF0ubm9kZU5hbWUpfX19O3JldHVybiBpJiYodC5ocmVmPXQuc3JjPWUpLHR9LHh1PWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5hdHRyKCJzdHlsZSIpLHI9KHI9ZS5zZXJpYWxpemUoZS5wYXJzZShuKSx0WzBdLm5vZGVOYW1lKSl8fG51bGw7dC5hdHRyKCJkYXRhLW1jZS1zdHlsZSIscil9LFN1PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPTA7aWYoZSlmb3Iobj1lLm5vZGVUeXBlLGU9ZS5wcmV2aW91c1NpYmxpbmc7ZTtlPWUucHJldmlvdXNTaWJsaW5nKXI9ZS5ub2RlVHlwZSwoIXR8fDMhPT1yfHxyIT09biYmZS5ub2RlVmFsdWUubGVuZ3RoKSYmKG8rKyxuPXIpO3JldHVybiBvfTtmdW5jdGlvbiBOdShhLHUpe3ZhciBzPXRoaXM7dm9pZCAwPT09dSYmKHU9e30pO3ZhciByPXt9LGM9d2luZG93LG49e30sdD0wLG89S3IuZm9yRWxlbWVudChBdC5mcm9tRG9tKGEpLHtjb250ZW50Q3NzQ29yczp1LmNvbnRlbnRDc3NDb3JzLHJlZmVycmVyUG9saWN5OnUucmVmZXJyZXJQb2xpY3l9KSxsPVtdLGY9dS5zY2hlbWE/dS5zY2hlbWE6Q2koe30pLGk9eGkoe3VybF9jb252ZXJ0ZXI6dS51cmxfY29udmVydGVyLHVybF9jb252ZXJ0ZXJfc2NvcGU6dS51cmxfY29udmVydGVyX3Njb3BlfSx1LnNjaGVtYSksZD11Lm93bkV2ZW50cz9uZXcgVGk6VGkuRXZlbnQsbT1mLmdldEJsb2NrRWxlbWVudHMoKSxwPWh1Lm92ZXJyaWRlRGVmYXVsdHMoZnVuY3Rpb24oKXtyZXR1cm57Y29udGV4dDphLGVsZW1lbnQ6ai5nZXRSb290KCl9fSksZz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmYSYmcShlKT9hLmdldEVsZW1lbnRCeUlkKGUpOmV9LGg9ZnVuY3Rpb24oZSl7cmV0dXJuIHAoInN0cmluZyI9PXR5cGVvZiBlP2coZSk6ZSl9LHY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT1oKGUpO3JldHVybiBpLmxlbmd0aCYmKG89KHI9SFt0XSkmJnIuZ2V0P3IuZ2V0KGksdCk6aS5hdHRyKHQpKSx2b2lkIDA9PT1vJiYobz1ufHwiIiksb30seT1mdW5jdGlvbihlKXt2YXIgdD1nKGUpO3JldHVybiB0P3QuYXR0cmlidXRlczpbXX0sYj1mdW5jdGlvbihlLHQsbil7IiI9PT1uJiYobj1udWxsKTt2YXIgcixvPWgoZSksaT1vLmF0dHIodCk7by5sZW5ndGgmJigocj1IW3RdKSYmci5zZXQ/ci5zZXQobyxuLHQpOm8uYXR0cih0LG4pLGkhPT1uJiZ1Lm9uU2V0QXR0cmliJiZ1Lm9uU2V0QXR0cmliKHthdHRyRWxtOm8sYXR0ck5hbWU6dCxhdHRyVmFsdWU6bn0pKX0sQz1mdW5jdGlvbigpe3JldHVybiB1LnJvb3RfZWxlbWVudHx8YS5ib2R5fSx3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHVyKGEuYm9keSxnKGUpLHQpfSx4PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1oKGUpO3JldHVybiBuP3IuY3NzKHQpOigiZmxvYXQiPT09KHQ9dC5yZXBsYWNlKC8tKFxEKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pKSYmKHQ9d3QuYnJvd3Nlci5pc0lFKCk/InN0eWxlRmxvYXQiOiJjc3NGbG9hdCIpLHJbMF0mJnJbMF0uc3R5bGU/clswXS5zdHlsZVt0XTp1bmRlZmluZWQpfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIGU9ZyhlKSx0PXgoZSwid2lkdGgiKSxuPXgoZSwiaGVpZ2h0IiksLTE9PT10LmluZGV4T2YoInB4IikmJih0PTApLC0xPT09bi5pbmRleE9mKCJweCIpJiYobj0wKSx7dzpwYXJzZUludCh0LDEwKXx8ZS5vZmZzZXRXaWR0aHx8ZS5jbGllbnRXaWR0aCxoOnBhcnNlSW50KG4sMTApfHxlLm9mZnNldEhlaWdodHx8ZS5jbGllbnRIZWlnaHR9fSxOPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuITE7aWYoIUFycmF5LmlzQXJyYXkoZSkpe2lmKCIqIj09PXQpcmV0dXJuIDE9PT1lLm5vZGVUeXBlO2lmKEN1LnRlc3QodCkpe2Zvcih2YXIgbj10LnRvTG93ZXJDYXNlKCkuc3BsaXQoLywvKSxyPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxvPW4ubGVuZ3RoLTE7MDw9bztvLS0paWYobltvXT09PXIpcmV0dXJuITA7cmV0dXJuITF9aWYoZS5ub2RlVHlwZSYmMSE9PWUubm9kZVR5cGUpcmV0dXJuITF9dmFyIGk9QXJyYXkuaXNBcnJheShlKT9lOltlXTtyZXR1cm4gMDxUYSh0LGlbMF0ub3duZXJEb2N1bWVudHx8aVswXSxudWxsLGkpLmxlbmd0aH0sRT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpPVtdLGE9ZyhlKTtmb3Iocj1yPT09dW5kZWZpbmVkLG49bnx8KCJCT0RZIiE9PUMoKS5ub2RlTmFtZT9DKCkucGFyZW50Tm9kZTpudWxsKSxrdC5pcyh0LCJzdHJpbmciKSYmKHQ9IioiPT09KG89dCk/ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfTpmdW5jdGlvbihlKXtyZXR1cm4gTihlLG8pfSk7YSYmIShhPT09bnx8JChhLm5vZGVUeXBlKXx8Rm4oYSl8fFVuKGEpKTspe2lmKCF0fHwiZnVuY3Rpb24iPT10eXBlb2YgdCYmdChhKSl7aWYoIXIpcmV0dXJuW2FdO2kucHVzaChhKX1hPWEucGFyZW50Tm9kZX1yZXR1cm4gcj9pOm51bGx9LGs9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQ7aWYoZSlmb3IoInN0cmluZyI9PXR5cGVvZiB0JiYocj1mdW5jdGlvbihlKXtyZXR1cm4gTihlLHQpfSksZT1lW25dO2U7ZT1lW25dKWlmKCJmdW5jdGlvbiI9PXR5cGVvZiByJiZyKGUpKXJldHVybiBlO3JldHVybiBudWxsfSxfPWZ1bmN0aW9uKGUsbixyKXt2YXIgbyx0PSJzdHJpbmciPT10eXBlb2YgZT9nKGUpOmU7aWYoIXQpcmV0dXJuITE7aWYoa3QuaXNBcnJheSh0KSYmKHQubGVuZ3RofHwwPT09dC5sZW5ndGgpKXJldHVybiBvPVtdLHZ1KHQsZnVuY3Rpb24oZSx0KXtlJiZvLnB1c2gobi5jYWxsKHIsInN0cmluZyI9PXR5cGVvZiBlP2coZSk6ZSx0KSl9KSxvO3ZhciBpPXJ8fHM7cmV0dXJuIG4uY2FsbChpLHQpfSxBPWZ1bmN0aW9uKGUsdCl7aChlKS5lYWNoKGZ1bmN0aW9uKGUsbil7dnUodCxmdW5jdGlvbihlLHQpe2Iobix0LGUpfSl9KX0sUj1mdW5jdGlvbihlLHIpe3ZhciB0PWgoZSk7YnU/dC5lYWNoKGZ1bmN0aW9uKGUsdCl7aWYoITEhPT10LmNhbkhhdmVIVE1MKXtmb3IoO3QuZmlyc3RDaGlsZDspdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO3RyeXt0LmlubmVySFRNTD0iPGJyPiIrcix0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCl9Y2F0Y2gobil7aHUoIjxkaXY+PC9kaXY+IikuaHRtbCgiPGJyPiIrcikuY29udGVudHMoKS5zbGljZSgxKS5hcHBlbmRUbyh0KX1yZXR1cm4gcn19KTp0Lmh0bWwocil9LFQ9ZnVuY3Rpb24oZSxuLHIsbyxpKXtyZXR1cm4gXyhlLGZ1bmN0aW9uKGUpe3ZhciB0PSJzdHJpbmciPT10eXBlb2Ygbj9hLmNyZWF0ZUVsZW1lbnQobik6bjtyZXR1cm4gQSh0LHIpLG8mJigic3RyaW5nIiE9dHlwZW9mIG8mJm8ubm9kZVR5cGU/dC5hcHBlbmRDaGlsZChvKToic3RyaW5nIj09dHlwZW9mIG8mJlIodCxvKSksaT90OmUuYXBwZW5kQ2hpbGQodCl9KX0sRD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFQoYS5jcmVhdGVFbGVtZW50KGUpLGUsdCxuLCEwKX0sZT1jaS5kZWNvZGUsTz1jaS5lbmNvZGVBbGxSYXcsQj1mdW5jdGlvbihlLHQpe3ZhciBuPWgoZSk7cmV0dXJuIHQ/bi5lYWNoKGZ1bmN0aW9uKCl7Zm9yKHZhciBlO2U9dGhpcy5maXJzdENoaWxkOykzPT09ZS5ub2RlVHlwZSYmMD09PWUuZGF0YS5sZW5ndGg/dGhpcy5yZW1vdmVDaGlsZChlKTp0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KS5yZW1vdmUoKTpuLnJlbW92ZSgpLDE8bi5sZW5ndGg/bi50b0FycmF5KCk6blswXX0sUD1mdW5jdGlvbihlLHQsbil7aChlKS50b2dnbGVDbGFzcyh0LG4pLmVhY2goZnVuY3Rpb24oKXsiIj09PXRoaXMuY2xhc3NOYW1lJiZodSh0aGlzKS5hdHRyKCJjbGFzcyIsbnVsbCl9KX0sTD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIF8oZSxmdW5jdGlvbihlKXtyZXR1cm4ga3QuaXMoZSwiYXJyYXkiKSYmKHQ9dC5jbG9uZU5vZGUoITApKSxuJiZ2dSh5dShlLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKGUpe3QuYXBwZW5kQ2hpbGQoZSl9KSxlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHQsZSl9KX0sST1mdW5jdGlvbihlKXtpZihBbihlKSl7dmFyIHQ9ImEiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYhdihlLCJocmVmIikmJnYoZSwiaWQiKTtpZih2KGUsIm5hbWUiKXx8dihlLCJkYXRhLW1jZS1ib29rbWFyayIpfHx0KXJldHVybiEwfXJldHVybiExfSxNPWZ1bmN0aW9uKCl7cmV0dXJuIGEuY3JlYXRlUmFuZ2UoKX0sRj1mdW5jdGlvbihlLHQsbixyKXtpZihrdC5pc0FycmF5KGUpKXtmb3IodmFyIG89ZS5sZW5ndGgsaT1bXTtvLS07KWlbb109RihlW29dLHQsbixyKTtyZXR1cm4gaX1yZXR1cm4hdS5jb2xsZWN0fHxlIT09YSYmZSE9PWN8fGwucHVzaChbZSx0LG4scl0pLGQuYmluZChlLHQsbixyfHxqKX0sVT1mdW5jdGlvbihlLHQsbil7aWYoa3QuaXNBcnJheShlKSl7Zm9yKHZhciByPWUubGVuZ3RoLG89W107ci0tOylvW3JdPVUoZVtyXSx0LG4pO3JldHVybiBvfWlmKDA8bC5sZW5ndGgmJihlPT09YXx8ZT09PWMpKWZvcihyPWwubGVuZ3RoO3ItLTspe3ZhciBpPWxbcl07ZSE9PWlbMF18fHQmJnQhPT1pWzFdfHxuJiZuIT09aVsyXXx8ZC51bmJpbmQoaVswXSxpWzFdLGlbMl0pfXJldHVybiBkLnVuYmluZChlLHQsbil9LHo9ZnVuY3Rpb24oZSl7aWYoZSYmQW4oZSkpe3ZhciB0PWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1jb250ZW50ZWRpdGFibGUiKTtyZXR1cm4gdCYmImluaGVyaXQiIT09dD90OiJpbmhlcml0IiE9PWUuY29udGVudEVkaXRhYmxlP2UuY29udGVudEVkaXRhYmxlOm51bGx9cmV0dXJuIG51bGx9LGo9e2RvYzphLHNldHRpbmdzOnUsd2luOmMsZmlsZXM6bixzdGRNb2RlOiEwLGJveE1vZGVsOiEwLHN0eWxlU2hlZXRMb2FkZXI6byxib3VuZEV2ZW50czpsLHN0eWxlczppLHNjaGVtYTpmLGV2ZW50czpkLGlzQmxvY2s6ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiEhbVtlXTtpZihlKXt2YXIgdD1lLm5vZGVUeXBlO2lmKHQpcmV0dXJuISgxIT09dHx8IW1bZS5ub2RlTmFtZV0pfXJldHVybiExfSwkOnAsJCQ6aCxyb290Om51bGwsY2xvbmU6ZnVuY3Rpb24odCxlKXtpZighYnV8fDEhPT10Lm5vZGVUeXBlfHxlKXJldHVybiB0LmNsb25lTm9kZShlKTt2YXIgbj1hLmNyZWF0ZUVsZW1lbnQodC5ub2RlTmFtZSk7cmV0dXJuIHZ1KHkodCksZnVuY3Rpb24oZSl7YihuLGUubm9kZU5hbWUsdih0LGUubm9kZU5hbWUpKX0pLG59LGdldFJvb3Q6QyxnZXRWaWV3UG9ydDpmdW5jdGlvbihlKXt2YXIgdD1FbihlKTtyZXR1cm57eDp0LngseTp0Lnksdzp0LndpZHRoLGg6dC5oZWlnaHR9fSxnZXRSZWN0OmZ1bmN0aW9uKGUpe2U9ZyhlKTt2YXIgdD13KGUpLG49UyhlKTtyZXR1cm57eDp0LngseTp0LnksdzpuLncsaDpuLmh9fSxnZXRTaXplOlMsZ2V0UGFyZW50OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1FKGUsdCxuLCExKTtyZXR1cm4gciYmMDxyLmxlbmd0aD9yWzBdOm51bGx9LGdldFBhcmVudHM6RSxnZXQ6ZyxnZXROZXh0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGsoZSx0LCJuZXh0U2libGluZyIpfSxnZXRQcmV2OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGsoZSx0LCJwcmV2aW91c1NpYmxpbmciKX0sc2VsZWN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFRhKGUsZyh0KXx8dS5yb290X2VsZW1lbnR8fGEsW10pfSxpczpOLGFkZDpULGNyZWF0ZTpELGNyZWF0ZUhUTUw6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89IiI7Zm9yKHIgaW4gbys9IjwiK2UsdCl0Lmhhc093blByb3BlcnR5KHIpJiZudWxsIT09dFtyXSYmInVuZGVmaW5lZCIhPXR5cGVvZiB0W3JdJiYobys9IiAiK3IrJz0iJytPKHRbcl0pKyciJyk7cmV0dXJuIHZvaWQgMCE9PW4/bysiPiIrbisiPC8iK2UrIj4iOm8rIiAvPiJ9LGNyZWF0ZUZyYWdtZW50OmZ1bmN0aW9uKGUpe3ZhciB0LG49YS5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPWEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2ZvcihyLmFwcGVuZENoaWxkKG4pLGUmJihuLmlubmVySFRNTD1lKTt0PW4uZmlyc3RDaGlsZDspci5hcHBlbmRDaGlsZCh0KTtyZXR1cm4gci5yZW1vdmVDaGlsZChuKSxyfSxyZW1vdmU6QixzZXRTdHlsZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9cSh0KT9oKGUpLmNzcyh0LG4pOmgoZSkuY3NzKHQpO3UudXBkYXRlX3N0eWxlcyYmeHUoaSxyKX0sZ2V0U3R5bGU6eCxzZXRTdHlsZXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1oKGUpLmNzcyh0KTt1LnVwZGF0ZV9zdHlsZXMmJnh1KGksbil9LHJlbW92ZUFsbEF0dHJpYnM6ZnVuY3Rpb24oZSl7cmV0dXJuIF8oZSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5hdHRyaWJ1dGVzLG49dC5sZW5ndGgtMTswPD1uO24tLSllLnJlbW92ZUF0dHJpYnV0ZU5vZGUodC5pdGVtKG4pKX0pfSxzZXRBdHRyaWI6YixzZXRBdHRyaWJzOkEsZ2V0QXR0cmliOnYsZ2V0UG9zOncscGFyc2VTdHlsZTpmdW5jdGlvbihlKXtyZXR1cm4gaS5wYXJzZShlKX0sc2VyaWFsaXplU3R5bGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5zZXJpYWxpemUoZSx0KX0sYWRkU3R5bGU6ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZihqIT09TnUuRE9NJiZhPT09ZG9jdW1lbnQpe2lmKHJbZV0pcmV0dXJuO3JbZV09ITB9KG49YS5nZXRFbGVtZW50QnlJZCgibWNlRGVmYXVsdFN0eWxlcyIpKXx8KChuPWEuY3JlYXRlRWxlbWVudCgic3R5bGUiKSkuaWQ9Im1jZURlZmF1bHRTdHlsZXMiLG4udHlwZT0idGV4dC9jc3MiLCh0PWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSkuZmlyc3RDaGlsZD90Lmluc2VydEJlZm9yZShuLHQuZmlyc3RDaGlsZCk6dC5hcHBlbmRDaGlsZChuKSksbi5zdHlsZVNoZWV0P24uc3R5bGVTaGVldC5jc3NUZXh0Kz1lOm4uYXBwZW5kQ2hpbGQoYS5jcmVhdGVUZXh0Tm9kZShlKSl9LGxvYWRDU1M6ZnVuY3Rpb24oZSl7VygoZT1lfHwiIikuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXtuW2VdPSEwLG8ubG9hZChlLFYpfSl9LGFkZENsYXNzOmZ1bmN0aW9uKGUsdCl7aChlKS5hZGRDbGFzcyh0KX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZSx0KXtQKGUsdCwhMSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgoZSkuaGFzQ2xhc3ModCl9LHRvZ2dsZUNsYXNzOlAsc2hvdzpmdW5jdGlvbihlKXtoKGUpLnNob3coKX0saGlkZTpmdW5jdGlvbihlKXtoKGUpLmhpZGUoKX0saXNIaWRkZW46ZnVuY3Rpb24oZSl7cmV0dXJuIm5vbmUiPT09aChlKS5jc3MoImRpc3BsYXkiKX0sdW5pcXVlSWQ6ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fCJtY2VfIikrdCsrfSxzZXRIVE1MOlIsZ2V0T3V0ZXJIVE1MOmZ1bmN0aW9uKGUpe3ZhciB0PSJzdHJpbmciPT10eXBlb2YgZT9nKGUpOmU7cmV0dXJuIEFuKHQpP3Qub3V0ZXJIVE1MOmh1KCI8ZGl2PjwvZGl2PiIpLmFwcGVuZChodSh0KS5jbG9uZSgpKS5odG1sKCl9LHNldE91dGVySFRNTDpmdW5jdGlvbihlLHQpe2goZSkuZWFjaChmdW5jdGlvbigpe3RyeXtpZigib3V0ZXJIVE1MImluIHRoaXMpcmV0dXJuIHZvaWQodGhpcy5vdXRlckhUTUw9dCl9Y2F0Y2goZSl7fUIoaHUodGhpcykuaHRtbCh0KSwhMCl9KX0sZGVjb2RlOmUsZW5jb2RlOk8saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgcj1nKHQpO3JldHVybiBfKGUsZnVuY3Rpb24oZSl7dmFyIHQ9ci5wYXJlbnROb2RlLG49ci5uZXh0U2libGluZztyZXR1cm4gbj90Lmluc2VydEJlZm9yZShlLG4pOnQuYXBwZW5kQ2hpbGQoZSksZX0pfSxyZXBsYWNlOkwscmVuYW1lOmZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHQubm9kZU5hbWUhPT1lLnRvVXBwZXJDYXNlKCkmJihuPUQoZSksdnUoeSh0KSxmdW5jdGlvbihlKXtiKG4sZS5ub2RlTmFtZSx2KHQsZS5ub2RlTmFtZSkpfSksTChuLHQsITApKSxufHx0fSxmaW5kQ29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1lO3I7KXtmb3Iobj10O24mJnIhPT1uOyluPW4ucGFyZW50Tm9kZTtpZihyPT09bilicmVhaztyPXIucGFyZW50Tm9kZX1yZXR1cm4hciYmZS5vd25lckRvY3VtZW50P2Uub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ6cn0sdG9IZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkudG9IZXgoa3QudHJpbShlKSl9LHJ1bjpfLGdldEF0dHJpYnM6eSxpc0VtcHR5OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPTA7aWYoSShlKSlyZXR1cm4hMTtpZihlPWUuZmlyc3RDaGlsZCl7dmFyIGk9bmV3IFhyKGUsZS5wYXJlbnROb2RlKSxhPWY/Zi5nZXRXaGl0ZVNwYWNlRWxlbWVudHMoKTp7fTt0PXR8fChmP2YuZ2V0Tm9uRW1wdHlFbGVtZW50cygpOm51bGwpO2Rve2lmKG49ZS5ub2RlVHlwZSxBbihlKSl7dmFyIHU9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIik7aWYodSl7ZT1pLm5leHQoImFsbCI9PT11KTtjb250aW51ZX1pZihyPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx0JiZ0W3JdKXtpZigiYnIiIT09cilyZXR1cm4hMTtvKyssZT1pLm5leHQoKTtjb250aW51ZX1pZihJKGUpKXJldHVybiExfWlmKDg9PT1uKXJldHVybiExO2lmKDM9PT1uJiYhVW8oZS5ub2RlVmFsdWUpKXJldHVybiExO2lmKDM9PT1uJiZlLnBhcmVudE5vZGUmJmFbZS5wYXJlbnROb2RlLm5vZGVOYW1lXSYmVW8oZS5ub2RlVmFsdWUpKXJldHVybiExO2U9aS5uZXh0KCl9d2hpbGUoZSl9cmV0dXJuIG88PTF9LGNyZWF0ZVJuZzpNLG5vZGVJbmRleDpTdSxzcGxpdDpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE9TSgpO2lmKGUmJnQpcmV0dXJuIGEuc2V0U3RhcnQoZS5wYXJlbnROb2RlLFN1KGUpKSxhLnNldEVuZCh0LnBhcmVudE5vZGUsU3UodCkpLHI9YS5leHRyYWN0Q29udGVudHMoKSwoYT1NKCkpLnNldFN0YXJ0KHQucGFyZW50Tm9kZSxTdSh0KSsxKSxhLnNldEVuZChlLnBhcmVudE5vZGUsU3UoZSkrMSksbz1hLmV4dHJhY3RDb250ZW50cygpLChpPWUucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKFlvKGosciksZSksbj9pLmluc2VydEJlZm9yZShuLGUpOmkuaW5zZXJ0QmVmb3JlKHQsZSksaS5pbnNlcnRCZWZvcmUoWW8oaixvKSxlKSxCKGUpLG58fHR9LGJpbmQ6Rix1bmJpbmQ6VSxmaXJlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZC5maXJlKGUsdCxuKX0sZ2V0Q29udGVudEVkaXRhYmxlOnosZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1DKCksbj1udWxsO2UmJmUhPT10JiZudWxsPT09KG49eihlKSk7ZT1lLnBhcmVudE5vZGUpO3JldHVybiBufSxkZXN0cm95OmZ1bmN0aW9uKCl7aWYoMDxsLmxlbmd0aClmb3IodmFyIGU9bC5sZW5ndGg7ZS0tOyl7dmFyIHQ9bFtlXTtkLnVuYmluZCh0WzBdLHRbMV0sdFsyXSl9dWUobixmdW5jdGlvbihlLHQpe28udW5sb2FkKHQpLGRlbGV0ZSBuW3RdfSksVGEuc2V0RG9jdW1lbnQmJlRhLnNldERvY3VtZW50KCl9LGlzQ2hpbGRPZjpmdW5jdGlvbihlLHQpe2Zvcig7ZTspe2lmKHQ9PT1lKXJldHVybiEwO2U9ZS5wYXJlbnROb2RlfXJldHVybiExfSxkdW1wUm5nOmZ1bmN0aW9uKGUpe3JldHVybiJzdGFydENvbnRhaW5lcjogIitlLnN0YXJ0Q29udGFpbmVyLm5vZGVOYW1lKyIsIHN0YXJ0T2Zmc2V0OiAiK2Uuc3RhcnRPZmZzZXQrIiwgZW5kQ29udGFpbmVyOiAiK2UuZW5kQ29udGFpbmVyLm5vZGVOYW1lKyIsIGVuZE9mZnNldDogIitlLmVuZE9mZnNldH19LEg9d3UoaSx1LGZ1bmN0aW9uKCl7cmV0dXJuIGp9KTtyZXR1cm4gan0oZ3U9TnU9TnV8fHt9KS5ET009Z3UoZG9jdW1lbnQpLGd1Lm5vZGVJbmRleD1TdTt2YXIgRXU9TnUsa3U9RXUuRE9NLF91PWt0LmVhY2gsQXU9a3QuZ3JlcCxSdT0oVHUucHJvdG90eXBlLl9zZXRSZWZlcnJlclBvbGljeT1mdW5jdGlvbihlKXt0aGlzLnNldHRpbmdzLnJlZmVycmVyUG9saWN5PWV9LFR1LnByb3RvdHlwZS5sb2FkU2NyaXB0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1rdSxvPWZ1bmN0aW9uKCl7ci5yZW1vdmUoaSksYSYmKGEub25lcnJvcj1hLm9ubG9hZD1hPW51bGwpfSxpPXIudW5pcXVlSWQoKSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2EuaWQ9aSxhLnR5cGU9InRleHQvamF2YXNjcmlwdCIsYS5zcmM9a3QuX2FkZENhY2hlU3VmZml4KGUpLHRoaXMuc2V0dGluZ3MucmVmZXJyZXJQb2xpY3kmJnIuc2V0QXR0cmliKGEsInJlZmVycmVycG9saWN5Iix0aGlzLnNldHRpbmdzLnJlZmVycmVyUG9saWN5KSxhLm9ubG9hZD1mdW5jdGlvbigpe28oKSx0KCl9LGEub25lcnJvcj1mdW5jdGlvbigpe28oKSxUKG4pP24oKToidW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nJiZjb25zb2xlLmxvZygiRmFpbGVkIHRvIGxvYWQgc2NyaXB0OiAiK2UpfSwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8ZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoYSl9LFR1LnByb3RvdHlwZS5pc0RvbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIDI9PT10aGlzLnN0YXRlc1tlXX0sVHUucHJvdG90eXBlLm1hcmtEb25lPWZ1bmN0aW9uKGUpe3RoaXMuc3RhdGVzW2VdPTJ9LFR1LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89dGhpcy5zdGF0ZXNbZV07dGhpcy5xdWV1ZS5wdXNoKGUpLG89PT11bmRlZmluZWQmJih0aGlzLnN0YXRlc1tlXT0wKSx0JiYodGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV18fCh0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrc1tlXT1bXSksdGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV0ucHVzaCh7c3VjY2Vzczp0LGZhaWx1cmU6cixzY29wZTpufHx0aGlzfSkpfSxUdS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5hZGQoZSx0LG4scil9LFR1LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuc3RhdGVzW2VdLGRlbGV0ZSB0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrc1tlXX0sVHUucHJvdG90eXBlLmxvYWRRdWV1ZT1mdW5jdGlvbihlLHQsbil7dGhpcy5sb2FkU2NyaXB0cyh0aGlzLnF1ZXVlLGUsdCxuKX0sVHUucHJvdG90eXBlLmxvYWRTY3JpcHRzPWZ1bmN0aW9uKG4sZSx0LHIpe3ZhciBvPXRoaXMsaT1bXSxhPWZ1bmN0aW9uKHQsZSl7X3Uoby5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV0sZnVuY3Rpb24oZSl7VChlW3RdKSYmZVt0XS5jYWxsKGUuc2NvcGUpfSksby5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV09dW5kZWZpbmVkfTtvLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLnB1c2goe3N1Y2Nlc3M6ZSxmYWlsdXJlOnIsc2NvcGU6dHx8dGhpc30pO3ZhciB1PWZ1bmN0aW9uKCl7dmFyIGUsdD1BdShuKTtuLmxlbmd0aD0wLF91KHQsZnVuY3Rpb24oZSl7MiE9PW8uc3RhdGVzW2VdPzMhPT1vLnN0YXRlc1tlXT8xIT09by5zdGF0ZXNbZV0mJihvLnN0YXRlc1tlXT0xLG8ubG9hZGluZysrLG8ubG9hZFNjcmlwdChlLGZ1bmN0aW9uKCl7by5zdGF0ZXNbZV09MixvLmxvYWRpbmctLSxhKCJzdWNjZXNzIixlKSx1KCl9LGZ1bmN0aW9uKCl7by5zdGF0ZXNbZV09MyxvLmxvYWRpbmctLSxpLnB1c2goZSksYSgiZmFpbHVyZSIsZSksdSgpfSkpOmEoImZhaWx1cmUiLGUpOmEoInN1Y2Nlc3MiLGUpfSksby5sb2FkaW5nfHwoZT1vLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLnNsaWNlKDApLG8ucXVldWVMb2FkZWRDYWxsYmFja3MubGVuZ3RoPTAsX3UoZSxmdW5jdGlvbihlKXswPT09aS5sZW5ndGg/VChlLnN1Y2Nlc3MpJiZlLnN1Y2Nlc3MuY2FsbChlLnNjb3BlKTpUKGUuZmFpbHVyZSkmJmUuZmFpbHVyZS5jYWxsKGUuc2NvcGUsaSl9KSl9O3UoKX0sVHUuU2NyaXB0TG9hZGVyPW5ldyBUdSxUdSk7ZnVuY3Rpb24gVHUoZSl7dm9pZCAwPT09ZSYmKGU9e30pLHRoaXMuc3RhdGVzPXt9LHRoaXMucXVldWU9W10sdGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3M9e30sdGhpcy5xdWV1ZUxvYWRlZENhbGxiYWNrcz1bXSx0aGlzLmxvYWRpbmc9MCx0aGlzLnNldHRpbmdzPWV9dmFyIER1LE91PWZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiB0fSxzZXQ6ZnVuY3Rpb24oZSl7dD1lfX19LEJ1PXt9LFB1PU91KCJlbiIpLEx1PWZ1bmN0aW9uKCl7cmV0dXJuIGdlKEJ1LFB1LmdldCgpKX0sSXU9e2dldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gc2UoQnUsZnVuY3Rpb24oZSl7cmV0dXJuIGtlKHt9LGUpfSl9LHNldENvZGU6ZnVuY3Rpb24oZSl7ZSYmUHUuc2V0KGUpfSxnZXRDb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIFB1LmdldCgpfSxhZGQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1CdVtlXTtufHwoQnVbZV09bj17fSksdWUodCxmdW5jdGlvbihlLHQpe25bdC50b0xvd2VyQ2FzZSgpXT1lfSl9LHRyYW5zbGF0ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHI9THUoKS5nZXRPcih7fSksbz1mdW5jdGlvbihlKXtyZXR1cm4gVChlKT9PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk6aShlKT8iIjoiIitlfSxpPWZ1bmN0aW9uKGUpe3JldHVybiIiPT09ZXx8bnVsbD09PWV8fGU9PT11bmRlZmluZWR9LGE9ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKTtyZXR1cm4gZ2Uocix0LnRvTG93ZXJDYXNlKCkpLm1hcChvKS5nZXRPcih0KX0sdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC97Y29udGV4dDpcdyt9JC8sIiIpfTtpZihpKGUpKXJldHVybiIiO2lmKF8odD1lKSYmaGUodCwicmF3IikpcmV0dXJuIG8oZS5yYXcpO2lmKFMobj1lKSYmMTxuLmxlbmd0aCl7dmFyIHM9ZS5zbGljZSgxKTtyZXR1cm4gdShhKGVbMF0pLnJlcGxhY2UoL1x7KFswLTldKylcfS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGhlKHMsdCk/byhzW3RdKTplfSkpfXJldHVybiB1KGEoZSkpfSxpc1J0bDpmdW5jdGlvbigpe3JldHVybiBMdSgpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGdlKGUsIl9kaXIiKX0pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4icnRsIj09PWV9KX0saGFzQ29kZTpmdW5jdGlvbihlKXtyZXR1cm4gaGUoQnUsZSl9fTtmdW5jdGlvbiBNdSgpe3ZhciByPXRoaXMsbz1bXSxzPXt9LGM9e30saT1bXSxsPWZ1bmN0aW9uKHQsbil7dmFyIGU9SChpLGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWU9PT10JiZlLnN0YXRlPT09bn0pO1coZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5jYWxsYmFjaygpfSl9LGY9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGNbZV0mJih0PWNbZV0uZGVwZW5kZW5jaWVzKSx0fHxbXX0sZD1mdW5jdGlvbihlLHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdD90OiJzdHJpbmciPT10eXBlb2YgZT97cHJlZml4OiIiLHJlc291cmNlOnQsc3VmZml4OiIifTp7cHJlZml4OmUucHJlZml4LHJlc291cmNlOnQsc3VmZml4OmUuc3VmZml4fX0sbT1mdW5jdGlvbihvLGksYSx1LGUpe3ZhciB0LG47c1tvXXx8KDAhPT0odD0ic3RyaW5nIj09dHlwZW9mIGk/aTppLnByZWZpeCtpLnJlc291cmNlK2kuc3VmZml4KS5pbmRleE9mKCIvIikmJi0xPT09dC5pbmRleE9mKCI6Ly8iKSYmKHQ9TXUuYmFzZVVSTCsiLyIrdCksc1tvXT10LnN1YnN0cmluZygwLHQubGFzdEluZGV4T2YoIi8iKSksbj1mdW5jdGlvbigpe3ZhciBuLGUsdCxyO2wobywibG9hZGVkIiksbj1pLGU9YSx0PXUscj1mKG8pLFcocixmdW5jdGlvbihlKXt2YXIgdD1kKG4sZSk7bSh0LnJlc291cmNlLHQsdW5kZWZpbmVkLHVuZGVmaW5lZCl9KSxlJiYodD9lLmNhbGwodCk6ZS5jYWxsKFJ1KSl9LGNbb10/bigpOlJ1LlNjcmlwdExvYWRlci5hZGQodCxuLHUsZSkpfSxlPWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1uJiYobj0iYWRkZWQiKSxoZShjLGUpJiYiYWRkZWQiPT09bnx8aGUocyxlKSYmImxvYWRlZCI9PT1uP3QoKTppLnB1c2goe25hbWU6ZSxzdGF0ZTpuLGNhbGxiYWNrOnR9KX07cmV0dXJue2l0ZW1zOm8sdXJsczpzLGxvb2t1cDpjLF9saXN0ZW5lcnM6aSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGNbZV0/Y1tlXS5pbnN0YW5jZTp1bmRlZmluZWR9LGRlcGVuZGVuY2llczpmLHJlcXVpcmVMYW5nUGFjazpmdW5jdGlvbih0LG4peyExIT09TXUubGFuZ3VhZ2VMb2FkJiZlKHQsZnVuY3Rpb24oKXt2YXIgZT1JdS5nZXRDb2RlKCk7IWV8fG4mJi0xPT09KCIsIisobnx8IiIpKyIsIikuaW5kZXhPZigiLCIrZSsiLCIpfHxSdS5TY3JpcHRMb2FkZXIuYWRkKHNbdF0rIi9sYW5ncy8iK2UrIi5qcyIpfSwibG9hZGVkIil9LGFkZDpmdW5jdGlvbihlLHQsbil7dmFyIHI9dDtyZXR1cm4gby5wdXNoKHIpLGNbZV09e2luc3RhbmNlOnIsZGVwZW5kZW5jaWVzOm59LGwoZSwiYWRkZWQiKSxyfSxyZW1vdmU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHNbZV0sZGVsZXRlIGNbZV19LGNyZWF0ZVVybDpkLGFkZENvbXBvbmVudHM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLnVybHNbZV07Vyh0LGZ1bmN0aW9uKGUpe1J1LlNjcmlwdExvYWRlci5hZGQobisiLyIrZSl9KX0sbG9hZDptLHdhaXRGb3I6ZX19KER1PU11PU11fHx7fSkuUGx1Z2luTWFuYWdlcj1EdSgpLER1LlRoZW1lTWFuYWdlcj1EdSgpO3ZhciBGdSxVdT1NdSx6dT1mdW5jdGlvbihuLHIpe3ZhciBvPW51bGw7cmV0dXJue2NhbmNlbDpmdW5jdGlvbigpe251bGwhPT1vJiYoY2xlYXJUaW1lb3V0KG8pLG89bnVsbCl9LHRocm90dGxlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO251bGw9PT1vJiYobz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5hcHBseShudWxsLGUpLG89bnVsbH0scikpfX19LGp1PWZ1bmN0aW9uKG4scil7dmFyIG89bnVsbDtyZXR1cm57Y2FuY2VsOmZ1bmN0aW9uKCl7bnVsbCE9PW8mJihjbGVhclRpbWVvdXQobyksbz1udWxsKX0sdGhyb3R0bGU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07bnVsbCE9PW8mJmNsZWFyVGltZW91dChvKSxvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmFwcGx5KG51bGwsZSksbz1udWxsfSxyKX19fSxIdT1mdW5jdGlvbihlLHQpe3ZhciBuPUduKGUsdCk7cmV0dXJuIG49PT11bmRlZmluZWR8fCIiPT09bj9bXTpuLnNwbGl0KCIgIil9LFZ1PWZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbS5jbGFzc0xpc3QhPT11bmRlZmluZWR9LHF1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG89dCxpPUh1KG49ZSxyPSJjbGFzcyIpLmNvbmNhdChbb10pLFhuKG4scixpLmpvaW4oIiAiKSksITA7dmFyIG4scixvLGl9LCR1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG89dCwwPChpPUgoSHUobj1lLHI9ImNsYXNzIiksZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1vfSkpLmxlbmd0aD9YbihuLHIsaS5qb2luKCIgIikpOlFuKG4sciksITE7dmFyIG4scixvLGl9LFd1PWZ1bmN0aW9uKGUsdCl7VnUoZSk/ZS5kb20uY2xhc3NMaXN0LmFkZCh0KTpxdShlLHQpfSxLdT1mdW5jdGlvbihlKXswPT09KFZ1KGUpP2UuZG9tLmNsYXNzTGlzdDpIdShlLCJjbGFzcyIpKS5sZW5ndGgmJlFuKGUsImNsYXNzIil9LFh1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFZ1KGUpJiZlLmRvbS5jbGFzc0xpc3QuY29udGFpbnModCl9LFl1PWZ1bmN0aW9uKGUsdCl7dmFyIG49W107cmV0dXJuIFcoR3QoZSksZnVuY3Rpb24oZSl7dChlKSYmKG49bi5jb25jYXQoW2VdKSksbj1uLmNvbmNhdChZdShlLHQpKX0pLG59LEd1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49dCxvPShyPWUpPT09dW5kZWZpbmVkP2RvY3VtZW50OnIuZG9tLER0KG8pP1tdOnooby5xdWVyeVNlbGVjdG9yQWxsKG4pLEF0LmZyb21Eb20pO3ZhciBuLHIsb30sSnU9RSgibWNlLWFubm90YXRpb24iKSxRdT1FKCJkYXRhLW1jZS1hbm5vdGF0aW9uIiksWnU9RSgiZGF0YS1tY2UtYW5ub3RhdGlvbi11aWQiKSxlcz1mdW5jdGlvbihyLGUpe3ZhciB0PXIuc2VsZWN0aW9uLmdldFJuZygpLG49QXQuZnJvbURvbSh0LnN0YXJ0Q29udGFpbmVyKSxvPUF0LmZyb21Eb20oci5nZXRCb2R5KCkpLGk9ZS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIi4iK0p1KCl9LGZ1bmN0aW9uKGUpe3JldHVybiJbIitRdSgpKyc9IicrZSsnIl0nfSksYT1KdChuLHQuc3RhcnRPZmZzZXQpLmdldE9yKG4pLHU9T3IoYSxpLGZ1bmN0aW9uKGUpe3JldHVybiBPdChlLG8pfSkscz1mdW5jdGlvbihlLHQpe3JldHVybiBuPXQsKHI9ZS5kb20pJiZyLmhhc0F0dHJpYnV0ZSYmci5oYXNBdHRyaWJ1dGUobik/VS5zb21lKEduKGUsdCkpOlUubm9uZSgpO3ZhciBuLHJ9O3JldHVybiB1LmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSwiIitadSgpKS5iaW5kKGZ1bmN0aW9uKG4pe3JldHVybiBzKGUsIiIrUXUoKSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXRzKHIsbik7cmV0dXJue3VpZDpuLG5hbWU6ZSxlbGVtZW50czp0fX0pfSl9KX0sdHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1BdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKTtyZXR1cm4gR3UobiwiWyIrWnUoKSsnPSInK3QrJyJdJyl9LG5zPWZ1bmN0aW9uKGksZSl7dmFyIGE9T3Uoe30pLGM9ZnVuY3Rpb24oZSx0KXt1KGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSksZX0pfSx1PWZ1bmN0aW9uKGUsdCl7dmFyIG49YS5nZXQoKSxyPXQobi5oYXNPd25Qcm9wZXJ0eShlKT9uW2VdOntsaXN0ZW5lcnM6W10scHJldmlvdXM6T3UoVS5ub25lKCkpfSk7bltlXT1yLGEuc2V0KG4pfSx0PWp1KGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9YS5nZXQoKSxvPShlPWllKHIpLChuPUIuY2FsbChlLDApKS5zb3J0KHQpLG4pO1cobyxmdW5jdGlvbihlKXt1KGUsZnVuY3Rpb24odSl7dmFyIHM9dS5wcmV2aW91cy5nZXQoKTtyZXR1cm4gZXMoaSxVLnNvbWUoZSkpLmZvbGQoZnVuY3Rpb24oKXt2YXIgdDtzLmlzU29tZSgpJiYoYyh0PWUsZnVuY3Rpb24oZSl7VyhlLmxpc3RlbmVycyxmdW5jdGlvbihlKXtyZXR1cm4gZSghMSx0KX0pfSksdS5wcmV2aW91cy5zZXQoVS5ub25lKCkpKX0sZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89ZS51aWQsaT1lLm5hbWUsYT1lLmVsZW1lbnRzO3MuaXMobyl8fChuPW8scj1hLGModD1pLGZ1bmN0aW9uKGUpe1coZS5saXN0ZW5lcnMsZnVuY3Rpb24oZSl7cmV0dXJuIGUoITAsdCx7dWlkOm4sbm9kZXM6eihyLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbX0pfSl9KX0pLHUucHJldmlvdXMuc2V0KFUuc29tZShvKSkpfSkse3ByZXZpb3VzOnUucHJldmlvdXMsbGlzdGVuZXJzOnUubGlzdGVuZXJzfX0pfSl9LDMwKTtpLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7dC5jYW5jZWwoKX0pLGkub24oIk5vZGVDaGFuZ2UiLGZ1bmN0aW9uKCl7dC50aHJvdHRsZSgpfSk7cmV0dXJue2FkZExpc3RlbmVyOmZ1bmN0aW9uKGUsdCl7dShlLGZ1bmN0aW9uKGUpe3JldHVybntwcmV2aW91czplLnByZXZpb3VzLGxpc3RlbmVyczplLmxpc3RlbmVycy5jb25jYXQoW3RdKX19KX19fSxycz1mdW5jdGlvbihlLG4pe2Uub24oImluaXQiLGZ1bmN0aW9uKCl7ZS5zZXJpYWxpemVyLmFkZE5vZGVGaWx0ZXIoInNwYW4iLGZ1bmN0aW9uKGUpe1coZSxmdW5jdGlvbih0KXt2YXIgZTtlPXQsVS5mcm9tKGUuYXR0cihRdSgpKSkuYmluZChuLmxvb2t1cCkuZWFjaChmdW5jdGlvbihlKXshMT09PWUucGVyc2lzdGVudCYmdC51bndyYXAoKX0pfSl9KX0pfSxvcz0wLGlzPWZ1bmN0aW9uKGUpe3ZhciB0PShuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiBlKyJfIitNYXRoLmZsb29yKDFlOSpNYXRoLnJhbmRvbSgpKSsgKytvcytTdHJpbmcodCl9LGFzPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPUh0KGUpLmRvbSxpPUF0LmZyb21Eb20oby5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGE9KG49dCwocj0ob3x8ZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5pbm5lckhUTUw9bixHdChBdC5mcm9tRG9tKHIpKSk7ZG4oaSxhKSxtbihlKSxmbihlLGkpfSx1cz1mdW5jdGlvbihlLHQpe3JldHVybiBBdC5mcm9tRG9tKGUuZG9tLmNsb25lTm9kZSh0KSl9LHNzPWZ1bmN0aW9uKGUpe3JldHVybiB1cyhlLCExKX0sY3M9ZnVuY3Rpb24oZSl7cmV0dXJuIHVzKGUsITApfSxscz1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09biYmKG49Qyk7dmFyIHI9bmV3IFhyKGUsdCksbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ7KHQ9cltlXSgpKSYmIUluKHQpJiYhbih0KTspO3JldHVybiBVLmZyb20odCkuZmlsdGVyKEluKX07cmV0dXJue2N1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gVS5mcm9tKHIuY3VycmVudCgpKS5maWx0ZXIoSW4pfSxuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIG8oIm5leHQiKX0scHJldjpmdW5jdGlvbigpe3JldHVybiBvKCJwcmV2Iil9LHByZXYyOmZ1bmN0aW9uKCl7cmV0dXJuIG8oInByZXYyIil9fX0sZnM9ZnVuY3Rpb24odCxlKXt2YXIgaT1lfHxmdW5jdGlvbihlKXtyZXR1cm4gdC5pc0Jsb2NrKGUpfHx6bihlKXx8Vm4oZSl9LGE9ZnVuY3Rpb24oZSx0LG4scil7aWYoSW4oZSkpe3ZhciBvPXIoZSx0LGUuZGF0YSk7aWYoLTEhPT1vKXJldHVybiBVLnNvbWUoe2NvbnRhaW5lcjplLG9mZnNldDpvfSl9cmV0dXJuIG4oKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBhKGUuY29udGFpbmVyLGUub2Zmc2V0LG4scil9KX07cmV0dXJue2JhY2t3YXJkczpmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1scyhlLHIsaSk7cmV0dXJuIGEoZSx0LGZ1bmN0aW9uKCl7cmV0dXJuIG8ucHJldigpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57Y29udGFpbmVyOmUsb2Zmc2V0OmUubGVuZ3RofX0pfSxuKS5nZXRPck51bGwoKX0sZm9yd2FyZHM6ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89bHMoZSxyLGkpO3JldHVybiBhKGUsdCxmdW5jdGlvbigpe3JldHVybiBvLm5leHQoKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2NvbnRhaW5lcjplLG9mZnNldDowfX0pfSxuKS5nZXRPck51bGwoKX19fSxkcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuaXNTb21lKCkmJnQuaXNTb21lKCk/VS5zb21lKG4oZS5nZXRPckRpZSgpLHQuZ2V0T3JEaWUoKSkpOlUubm9uZSgpfSxtcz1NYXRoLnJvdW5kLHBzPWZ1bmN0aW9uKGUpe3JldHVybiBlP3tsZWZ0Om1zKGUubGVmdCksdG9wOm1zKGUudG9wKSxib3R0b206bXMoZS5ib3R0b20pLHJpZ2h0Om1zKGUucmlnaHQpLHdpZHRoOm1zKGUud2lkdGgpLGhlaWdodDptcyhlLmhlaWdodCl9OntsZWZ0OjAsdG9wOjAsYm90dG9tOjAscmlnaHQ6MCx3aWR0aDowLGhlaWdodDowfX0sZ3M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1wcyhlKSx0fHwoZS5sZWZ0PWUubGVmdCtlLndpZHRoKSxlLnJpZ2h0PWUubGVmdCxlLndpZHRoPTAsZX0saHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAwPD1lJiZlPD1NYXRoLm1pbih0LmhlaWdodCxuLmhlaWdodCkvMn0sdnM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1NYXRoLm1pbih0LmhlaWdodC8yLGUuaGVpZ2h0LzIpO3JldHVybiBlLmJvdHRvbS1uPHQudG9wfHwhKGUudG9wPnQuYm90dG9tKSYmaHModC50b3AtZS5ib3R0b20sZSx0KX0seXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50b3A+dC5ib3R0b218fCEoZS5ib3R0b208dC50b3ApJiZocyh0LmJvdHRvbS1lLnRvcCxlLHQpfSxicz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ+PWUubGVmdCYmdDw9ZS5yaWdodCYmbj49ZS50b3AmJm48PWUuYm90dG9tfSxDcz1mdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0Q29udGFpbmVyLG49ZS5zdGFydE9mZnNldDtyZXR1cm4gdC5oYXNDaGlsZE5vZGVzKCkmJmUuZW5kT2Zmc2V0PT09bisxP3QuY2hpbGROb2Rlc1tuXTpudWxsfSx3cz1mdW5jdGlvbihlLHQpe3JldHVybiAxPT09ZS5ub2RlVHlwZSYmZS5oYXNDaGlsZE5vZGVzKCkmJih0Pj1lLmNoaWxkTm9kZXMubGVuZ3RoJiYodD1lLmNoaWxkTm9kZXMubGVuZ3RoLTEpLGU9ZS5jaGlsZE5vZGVzW3RdKSxlfSx4cz1uZXcgUmVnRXhwKCJbXHUwMzAwLVx1MDM2Zlx1MDQ4My1cdTA0ODdcdTA0ODgtXHUwNDg5XHUwNTkxLVx1MDViZFx1MDViZlx1MDVjMS1cdTA1YzJcdTA1YzQtXHUwNWM1XHUwNWM3XHUwNjEwLVx1MDYxYVx1MDY0Yi1cdTA2NWZcdTA2NzBcdTA2ZDYtXHUwNmRjXHUwNmRmLVx1MDZlNFx1MDZlNy1cdTA2ZThcdTA2ZWEtXHUwNmVkXHUwNzExXHUwNzMwLVx1MDc0YVx1MDdhNi1cdTA3YjBcdTA3ZWItXHUwN2YzXHUwODE2LVx1MDgxOVx1MDgxYi1cdTA4MjNcdTA4MjUtXHUwODI3XHUwODI5LVx1MDgyZFx1MDg1OS1cdTA4NWJcdTA4ZTMtXHUwOTAyXHUwOTNhXHUwOTNjXHUwOTQxLVx1MDk0OFx1MDk0ZFx1MDk1MS1cdTA5NTdcdTA5NjItXHUwOTYzXHUwOTgxXHUwOWJjXHUwOWJlXHUwOWMxLVx1MDljNFx1MDljZFx1MDlkN1x1MDllMi1cdTA5ZTNcdTBhMDEtXHUwYTAyXHUwYTNjXHUwYTQxLVx1MGE0Mlx1MGE0Ny1cdTBhNDhcdTBhNGItXHUwYTRkXHUwYTUxXHUwYTcwLVx1MGE3MVx1MGE3NVx1MGE4MS1cdTBhODJcdTBhYmNcdTBhYzEtXHUwYWM1XHUwYWM3LVx1MGFjOFx1MGFjZFx1MGFlMi1cdTBhZTNcdTBiMDFcdTBiM2NcdTBiM2VcdTBiM2ZcdTBiNDEtXHUwYjQ0XHUwYjRkXHUwYjU2XHUwYjU3XHUwYjYyLVx1MGI2M1x1MGI4Mlx1MGJiZVx1MGJjMFx1MGJjZFx1MGJkN1x1MGMwMFx1MGMzZS1cdTBjNDBcdTBjNDYtXHUwYzQ4XHUwYzRhLVx1MGM0ZFx1MGM1NS1cdTBjNTZcdTBjNjItXHUwYzYzXHUwYzgxXHUwY2JjXHUwY2JmXHUwY2MyXHUwY2M2XHUwY2NjLVx1MGNjZFx1MGNkNS1cdTBjZDZcdTBjZTItXHUwY2UzXHUwZDAxXHUwZDNlXHUwZDQxLVx1MGQ0NFx1MGQ0ZFx1MGQ1N1x1MGQ2Mi1cdTBkNjNcdTBkY2FcdTBkY2ZcdTBkZDItXHUwZGQ0XHUwZGQ2XHUwZGRmXHUwZTMxXHUwZTM0LVx1MGUzYVx1MGU0Ny1cdTBlNGVcdTBlYjFcdTBlYjQtXHUwZWI5XHUwZWJiLVx1MGViY1x1MGVjOC1cdTBlY2RcdTBmMTgtXHUwZjE5XHUwZjM1XHUwZjM3XHUwZjM5XHUwZjcxLVx1MGY3ZVx1MGY4MC1cdTBmODRcdTBmODYtXHUwZjg3XHUwZjhkLVx1MGY5N1x1MGY5OS1cdTBmYmNcdTBmYzZcdTEwMmQtXHUxMDMwXHUxMDMyLVx1MTAzN1x1MTAzOS1cdTEwM2FcdTEwM2QtXHUxMDNlXHUxMDU4LVx1MTA1OVx1MTA1ZS1cdTEwNjBcdTEwNzEtXHUxMDc0XHUxMDgyXHUxMDg1LVx1MTA4Nlx1MTA4ZFx1MTA5ZFx1MTM1ZC1cdTEzNWZcdTE3MTItXHUxNzE0XHUxNzMyLVx1MTczNFx1MTc1Mi1cdTE3NTNcdTE3NzItXHUxNzczXHUxN2I0LVx1MTdiNVx1MTdiNy1cdTE3YmRcdTE3YzZcdTE3YzktXHUxN2QzXHUxN2RkXHUxODBiLVx1MTgwZFx1MThhOVx1MTkyMC1cdTE5MjJcdTE5MjctXHUxOTI4XHUxOTMyXHUxOTM5LVx1MTkzYlx1MWExNy1cdTFhMThcdTFhMWJcdTFhNTZcdTFhNTgtXHUxYTVlXHUxYTYwXHUxYTYyXHUxYTY1LVx1MWE2Y1x1MWE3My1cdTFhN2NcdTFhN2ZcdTFhYjAtXHUxYWJkXHUxYWJlXHUxYjAwLVx1MWIwM1x1MWIzNFx1MWIzNi1cdTFiM2FcdTFiM2NcdTFiNDJcdTFiNmItXHUxYjczXHUxYjgwLVx1MWI4MVx1MWJhMi1cdTFiYTVcdTFiYTgtXHUxYmE5XHUxYmFiLVx1MWJhZFx1MWJlNlx1MWJlOC1cdTFiZTlcdTFiZWRcdTFiZWYtXHUxYmYxXHUxYzJjLVx1MWMzM1x1MWMzNi1cdTFjMzdcdTFjZDAtXHUxY2QyXHUxY2Q0LVx1MWNlMFx1MWNlMi1cdTFjZThcdTFjZWRcdTFjZjRcdTFjZjgtXHUxY2Y5XHUxZGMwLVx1MWRmNVx1MWRmYy1cdTFkZmZcdTIwMGMtXHUyMDBkXHUyMGQwLVx1MjBkY1x1MjBkZC1cdTIwZTBcdTIwZTFcdTIwZTItXHUyMGU0XHUyMGU1LVx1MjBmMFx1MmNlZi1cdTJjZjFcdTJkN2ZcdTJkZTAtXHUyZGZmXHUzMDJhLVx1MzAyZFx1MzAyZS1cdTMwMmZcdTMwOTktXHUzMDlhXHVhNjZmXHVhNjcwLVx1YTY3Mlx1YTY3NC1cdWE2N2RcdWE2OWUtXHVhNjlmXHVhNmYwLVx1YTZmMVx1YTgwMlx1YTgwNlx1YTgwYlx1YTgyNS1cdWE4MjZcdWE4YzRcdWE4ZTAtXHVhOGYxXHVhOTI2LVx1YTkyZFx1YTk0Ny1cdWE5NTFcdWE5ODAtXHVhOTgyXHVhOWIzXHVhOWI2LVx1YTliOVx1YTliY1x1YTllNVx1YWEyOS1cdWFhMmVcdWFhMzEtXHVhYTMyXHVhYTM1LVx1YWEzNlx1YWE0M1x1YWE0Y1x1YWE3Y1x1YWFiMFx1YWFiMi1cdWFhYjRcdWFhYjctXHVhYWI4XHVhYWJlLVx1YWFiZlx1YWFjMVx1YWFlYy1cdWFhZWRcdWFhZjZcdWFiZTVcdWFiZThcdWFiZWRcdWZiMWVcdWZlMDAtXHVmZTBmXHVmZTIwLVx1ZmUyZlx1ZmY5ZS1cdWZmOWZdIiksU3M9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiY3Njg8PWUuY2hhckNvZGVBdCgwKSYmeHMudGVzdChlKX0sTnM9QW4sRXM9TG8sa3M9VG4oImRpc3BsYXkiLCJibG9jayB0YWJsZSIpLF9zPVRuKCJmbG9hdCIsImxlZnQgcmlnaHQiKSxBcz1mdW5jdGlvbigpe2Zvcih2YXIgbj1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyluW2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoIW5bdF0oZSkpcmV0dXJuITE7cmV0dXJuITB9fShOcyxFcyxkKF9zKSksUnM9ZChUbigid2hpdGUtc3BhY2UiLCJwcmUgcHJlLWxpbmUgcHJlLXdyYXAiKSksVHM9SW4sRHM9em4sT3M9RXUubm9kZUluZGV4LEJzPXdzLFBzPWZ1bmN0aW9uKGUpe3JldHVybiJjcmVhdGVSYW5nZSJpbiBlP2UuY3JlYXRlUmFuZ2UoKTpFdS5ET00uY3JlYXRlUm5nKCl9LExzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYvW1xyXG5cdCBdLy50ZXN0KGUpfSxJcz1mdW5jdGlvbihlKXtyZXR1cm4hIWUuc2V0U3RhcnQmJiEhZS5zZXRFbmR9LE1zPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5zdGFydENvbnRhaW5lcixyPWUuc3RhcnRPZmZzZXQ7cmV0dXJuISEoTHMoZS50b1N0cmluZygpKSYmUnMobi5wYXJlbnROb2RlKSYmSW4obikmJih0PW4uZGF0YSxMcyh0W3ItMV0pfHxMcyh0W3IrMV0pKSl9LEZzPWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5sZWZ0JiYwPT09ZS5yaWdodCYmMD09PWUudG9wJiYwPT09ZS5ib3R0b219LFVzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Q2xpZW50UmVjdHMoKSxuPTA8dC5sZW5ndGg/cHModFswXSk6cHMoZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7cmV0dXJuIUlzKGUpJiZEcyhlKSYmRnMobik/ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LG49UHModCkscj10LmNyZWF0ZVRleHROb2RlKGxvKSxvPWUucGFyZW50Tm9kZTtvLmluc2VydEJlZm9yZShyLGUpLG4uc2V0U3RhcnQociwwKSxuLnNldEVuZChyLDEpO3ZhciBpPXBzKG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO3JldHVybiBvLnJlbW92ZUNoaWxkKHIpLGl9KGUpOkZzKG4pJiZJcyhlKT9mdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0Q29udGFpbmVyLG49ZS5lbmRDb250YWluZXIscj1lLnN0YXJ0T2Zmc2V0LG89ZS5lbmRPZmZzZXQ7aWYodD09PW4mJkluKG4pJiYwPT09ciYmMT09PW8pe3ZhciBpPWUuY2xvbmVSYW5nZSgpO3JldHVybiBpLnNldEVuZEFmdGVyKG4pLFVzKGkpfXJldHVybiBudWxsfShlKTpufSx6cz1mdW5jdGlvbihlLHQpe3ZhciBuPWdzKGUsdCk7cmV0dXJuIG4ud2lkdGg9MSxuLnJpZ2h0PW4ubGVmdCsxLG59LGpzPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1bXSxvPWZ1bmN0aW9uKGUpe3ZhciB0LG47MCE9PWUuaGVpZ2h0JiYoMDxyLmxlbmd0aCYmKHQ9ZSxuPXJbci5sZW5ndGgtMV0sdC5sZWZ0PT09bi5sZWZ0JiZ0LnRvcD09PW4udG9wJiZ0LmJvdHRvbT09PW4uYm90dG9tJiZ0LnJpZ2h0PT09bi5yaWdodCl8fHIucHVzaChlKSl9LGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1QcyhlLm93bmVyRG9jdW1lbnQpO2lmKHQ8ZS5kYXRhLmxlbmd0aCl7aWYoU3MoZS5kYXRhW3RdKSlyZXR1cm4gcjtpZihTcyhlLmRhdGFbdC0xXSkmJihuLnNldFN0YXJ0KGUsdCksbi5zZXRFbmQoZSx0KzEpLCFNcyhuKSkpcmV0dXJuIG8oenMoVXMobiksITEpKSxyfTA8dCYmKG4uc2V0U3RhcnQoZSx0LTEpLG4uc2V0RW5kKGUsdCksTXMobil8fG8oenMoVXMobiksITEpKSksdDxlLmRhdGEubGVuZ3RoJiYobi5zZXRTdGFydChlLHQpLG4uc2V0RW5kKGUsdCsxKSxNcyhuKXx8byh6cyhVcyhuKSwhMCkpKX07aWYoVHMoZS5jb250YWluZXIoKSkpcmV0dXJuIGkoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSxyO2lmKE5zKGUuY29udGFpbmVyKCkpKWlmKGUuaXNBdEVuZCgpKW49QnMoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSxUcyhuKSYmaShuLG4uZGF0YS5sZW5ndGgpLEFzKG4pJiYhRHMobikmJm8oenMoVXMobiksITEpKTtlbHNle2lmKG49QnMoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSxUcyhuKSYmaShuLDApLEFzKG4pJiZlLmlzQXRFbmQoKSlyZXR1cm4gbyh6cyhVcyhuKSwhMSkpLHI7dD1CcyhlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCktMSksQXModCkmJiFEcyh0KSYmKCFrcyh0KSYmIWtzKG4pJiZBcyhuKXx8byh6cyhVcyh0KSwhMSkpKSxBcyhuKSYmbyh6cyhVcyhuKSwhMCkpfXJldHVybiByfTtmdW5jdGlvbiBIcyh0LG4sZSl7dmFyIHI9ZnVuY3Rpb24oKXtyZXR1cm4gZT1lfHxqcyhIcyh0LG4pKX07cmV0dXJue2NvbnRhaW5lcjpFKHQpLG9mZnNldDpFKG4pLHRvUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT1Qcyh0Lm93bmVyRG9jdW1lbnQpO3JldHVybiBlLnNldFN0YXJ0KHQsbiksZS5zZXRFbmQodCxuKSxlfSxnZXRDbGllbnRSZWN0czpyLGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiAwPHIoKS5sZW5ndGh9LGlzQXRTdGFydDpmdW5jdGlvbigpe3JldHVybiBUcyh0KSwwPT09bn0saXNBdEVuZDpmdW5jdGlvbigpe3JldHVybiBUcyh0KT9uPj10LmRhdGEubGVuZ3RoOm4+PXQuY2hpbGROb2Rlcy5sZW5ndGh9LGlzRXF1YWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnQ9PT1lLmNvbnRhaW5lcigpJiZuPT09ZS5vZmZzZXQoKX0sZ2V0Tm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gQnModCxlP24tMTpuKX19fShGdT1Icz1Ic3x8e30pLmZyb21SYW5nZVN0YXJ0PWZ1bmN0aW9uKGUpe3JldHVybiBGdShlLnN0YXJ0Q29udGFpbmVyLGUuc3RhcnRPZmZzZXQpfSxGdS5mcm9tUmFuZ2VFbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEZ1KGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KX0sRnUuYWZ0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIEZ1KGUucGFyZW50Tm9kZSxPcyhlKSsxKX0sRnUuYmVmb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBGdShlLnBhcmVudE5vZGUsT3MoZSkpfSxGdS5pc0Fib3ZlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGRzKG5lKHQuZ2V0Q2xpZW50UmVjdHMoKSkscmUoZS5nZXRDbGllbnRSZWN0cygpKSx2cykuZ2V0T3IoITEpfSxGdS5pc0JlbG93PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGRzKHJlKHQuZ2V0Q2xpZW50UmVjdHMoKSksbmUoZS5nZXRDbGllbnRSZWN0cygpKSx5cykuZ2V0T3IoITEpfSxGdS5pc0F0U3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZlLmlzQXRTdGFydCgpfSxGdS5pc0F0RW5kPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmZS5pc0F0RW5kKCl9LEZ1LmlzVGV4dFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmSW4oZS5jb250YWluZXIoKSl9LEZ1LmlzRWxlbWVudFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiExPT09RnUuaXNUZXh0UG9zaXRpb24oZSl9O3ZhciBWcyxxcywkcz1IcyxXcz1mdW5jdGlvbihlLHQpe0luKHQpJiYwPT09dC5kYXRhLmxlbmd0aCYmZS5yZW1vdmUodCl9LEtzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYztVbihuKT8oaT1lLGE9dCx1PW4scz1VLmZyb20odS5maXJzdENoaWxkKSxjPVUuZnJvbSh1Lmxhc3RDaGlsZCksYS5pbnNlcnROb2RlKHUpLHMuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gV3MoaSxlLnByZXZpb3VzU2libGluZyl9KSxjLmVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIFdzKGksZS5uZXh0U2libGluZyl9KSk6KHI9ZSxvPW4sdC5pbnNlcnROb2RlKG8pLFdzKHIsby5wcmV2aW91c1NpYmxpbmcpLFdzKHIsby5uZXh0U2libGluZykpfSxYcz1JbixZcz1PbixHcz1FdS5ub2RlSW5kZXgsSnM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiBZcyh0KT9Kcyh0KTp0fSxRcz1mdW5jdGlvbihlKXtyZXR1cm4gZT9TZShlLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gWXModCkmJiJCUiIhPT10Lm5vZGVOYW1lP2U9ZS5jb25jYXQoUXModCkpOmUucHVzaCh0KSxlfSxbXSk6W119LFpzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdD09PWV9fSxlYz1mdW5jdGlvbihlKXt2YXIgdD1YcyhlKT8idGV4dCgpIjplLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHQrIlsiK2Z1bmN0aW9uKGUpe3ZhciByPVFzKEpzKGUpKSx0PU5lKHIsWnMoZSksZSk7cj1yLnNsaWNlKDAsdCsxKTt2YXIgbj1TZShyLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWHModCkmJlhzKHJbbi0xXSkmJmUrKyxlfSwwKTtyZXR1cm4gcj13ZShyLFJuKFtlLm5vZGVOYW1lXSkpLCh0PU5lKHIsWnMoZSksZSkpLW59KGUpKyJdIn0sdGM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saT1bXSxhPXQuY29udGFpbmVyKCksdT10Lm9mZnNldCgpO3JldHVybiBYcyhhKT9uPWZ1bmN0aW9uKGUsdCl7Zm9yKDsoZT1lLnByZXZpb3VzU2libGluZykmJlhzKGUpOyl0Kz1lLmRhdGEubGVuZ3RoO3JldHVybiB0fShhLHUpOih1Pj0ocj1hLmNoaWxkTm9kZXMpLmxlbmd0aD8obj0iYWZ0ZXIiLHU9ci5sZW5ndGgtMSk6bj0iYmVmb3JlIixhPXJbdV0pLGkucHVzaChlYyhhKSksbz1mdW5jdGlvbihlLHQsbil7dmFyIHI9W107Zm9yKHQ9dC5wYXJlbnROb2RlO3QhPT1lJiYoIW58fCFuKHQpKTt0PXQucGFyZW50Tm9kZSlyLnB1c2godCk7cmV0dXJuIHJ9KGUsYSksbz13ZShvLGQoT24pKSwoaT1pLmNvbmNhdChDZShvLGVjKSkpLnJldmVyc2UoKS5qb2luKCIvIikrIiwiK259LG5jPWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuIG51bGw7dmFyIG49dC5zcGxpdCgiLCIpLHI9blswXS5zcGxpdCgiLyIpLG89MTxuLmxlbmd0aD9uWzFdOiJiZWZvcmUiLGk9U2UocixmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGE9LyhbXHdcLVwoXCldKylcWyhbMC05XSspXF0vLmV4ZWModCk7cmV0dXJuIGE/KCJ0ZXh0KCkiPT09YVsxXSYmKGFbMV09IiN0ZXh0Iiksbj1lLHI9YVsxXSxvPXBhcnNlSW50KGFbMl0sMTApLGk9UXMobiksaT13ZShpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIVhzKGUpfHwhWHMoaVt0LTFdKX0pLChpPXdlKGksUm4oW3JdKSkpW29dKTpudWxsfSxlKTtyZXR1cm4gaT9YcyhpKT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWUsbz0wO1hzKHIpOyl7aWYobj1yLmRhdGEubGVuZ3RoLG88PXQmJnQ8PW8rbil7ZT1yLHQtPW87YnJlYWt9aWYoIVhzKHIubmV4dFNpYmxpbmcpKXtlPXIsdD1uO2JyZWFrfW8rPW4scj1yLm5leHRTaWJsaW5nfXJldHVybiBYcyhlKSYmdD5lLmRhdGEubGVuZ3RoJiYodD1lLmRhdGEubGVuZ3RoKSwkcyhlLHQpfShpLHBhcnNlSW50KG8sMTApKToobz0iYWZ0ZXIiPT09bz9HcyhpKSsxOkdzKGkpLCRzKGkucGFyZW50Tm9kZSxvKSk6bnVsbH0scmM9Vm4sb2M9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhPXJbbz8ic3RhcnRDb250YWluZXIiOiJlbmRDb250YWluZXIiXSx1PXJbbz8ic3RhcnRPZmZzZXQiOiJlbmRPZmZzZXQiXSxzPVtdLGM9MCxsPWUuZ2V0Um9vdCgpO2ZvcihJbihhKT9zLnB1c2gobj9mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWUodC5kYXRhLnNsaWNlKDAsbikpLmxlbmd0aCxvPXQucHJldmlvdXNTaWJsaW5nO28mJkluKG8pO289by5wcmV2aW91c1NpYmxpbmcpcis9ZShvLmRhdGEpLmxlbmd0aDtyZXR1cm4gcn0odCxhLHUpOnUpOih1Pj0oaT1hLmNoaWxkTm9kZXMpLmxlbmd0aCYmaS5sZW5ndGgmJihjPTEsdT1NYXRoLm1heCgwLGkubGVuZ3RoLTEpKSxzLnB1c2goZS5ub2RlSW5kZXgoaVt1XSxuKStjKSk7YSYmYSE9PWw7YT1hLnBhcmVudE5vZGUpcy5wdXNoKGUubm9kZUluZGV4KGEsbikpO3JldHVybiBzfSxpYz1mdW5jdGlvbihlLHQsbil7dmFyIHI9MDtyZXR1cm4ga3QuZWFjaChlLnNlbGVjdCh0KSxmdW5jdGlvbihlKXtpZigiYWxsIiE9PWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpKXJldHVybiBlIT09biYmdm9pZCByKyt9KSxyfSxhYz1mdW5jdGlvbihlLHQpe3ZhciBuLHI9dD8ic3RhcnQiOiJlbmQiLG89ZVtyKyJDb250YWluZXIiXSxpPWVbcisiT2Zmc2V0Il07QW4obykmJiJUUiI9PT1vLm5vZGVOYW1lJiYobz0obj1vLmNoaWxkTm9kZXMpW01hdGgubWluKHQ/aTppLTEsbi5sZW5ndGgtMSldKSYmKGk9dD8wOm8uY2hpbGROb2Rlcy5sZW5ndGgsZVsic2V0IisodD8iU3RhcnQiOiJFbmQiKV0obyxpKSl9LHVjPWZ1bmN0aW9uKGUpe3JldHVybiBhYyhlLCEwKSxhYyhlLCExKSxlfSxzYz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKEFuKGUpJiYoZT13cyhlLHQpLHJjKGUpKSlyZXR1cm4gZTtpZihibyhlKSl7aWYoSW4oZSkmJnZvKGUpJiYoZT1lLnBhcmVudE5vZGUpLG49ZS5wcmV2aW91c1NpYmxpbmcscmMobikpcmV0dXJuIG47aWYobj1lLm5leHRTaWJsaW5nLHJjKG4pKXJldHVybiBufX0sY2M9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4uZ2V0Tm9kZSgpLG89cj9yLm5vZGVOYW1lOm51bGwsaT1uLmdldFJuZygpO2lmKHJjKHIpfHwiSU1HIj09PW8pcmV0dXJue25hbWU6byxpbmRleDppYyhuLmRvbSxvLHIpfTt2YXIgYSx1LHMsYyxsLGYsZCxtPXNjKChhPWkpLnN0YXJ0Q29udGFpbmVyLGEuc3RhcnRPZmZzZXQpfHxzYyhhLmVuZENvbnRhaW5lcixhLmVuZE9mZnNldCk7cmV0dXJuIG0/e25hbWU6bz1tLnRhZ05hbWUsaW5kZXg6aWMobi5kb20sbyxtKX06KHU9ZSxjPXQsbD1pLGY9KHM9bikuZG9tLChkPXt9KS5zdGFydD1vYyhmLHUsYyxsLCEwKSxzLmlzQ29sbGFwc2VkKCl8fChkLmVuZD1vYyhmLHUsYyxsLCExKSksZCl9LGxjPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17ImRhdGEtbWNlLXR5cGUiOiJib29rbWFyayIsaWQ6dCxzdHlsZToib3ZlcmZsb3c6aGlkZGVuO2xpbmUtaGVpZ2h0OjBweCJ9O3JldHVybiBuP2UuY3JlYXRlKCJzcGFuIixyLCImI3hGRUZGOyIpOmUuY3JlYXRlKCJzcGFuIixyKX0sZmM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbSxyPWUuZ2V0Um5nKCksbz1uLnVuaXF1ZUlkKCksaT1lLmlzQ29sbGFwc2VkKCksYT1lLmdldE5vZGUoKSx1PWEubm9kZU5hbWU7aWYoIklNRyI9PT11KXJldHVybntuYW1lOnUsaW5kZXg6aWMobix1LGEpfTt2YXIgcyxjPXVjKHIuY2xvbmVSYW5nZSgpKTtpfHwoYy5jb2xsYXBzZSghMSkscz1sYyhuLG8rIl9lbmQiLHQpLEtzKG4sYyxzKSksKHI9dWMocikpLmNvbGxhcHNlKCEwKTt2YXIgbD1sYyhuLG8rIl9zdGFydCIsdCk7cmV0dXJuIEtzKG4scixsKSxlLm1vdmVUb0Jvb2ttYXJrKHtpZDpvLGtlZXA6ITB9KSx7aWQ6b319LGRjPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMj09PXQ/Y2MocG8sbixlKTozPT09dD8obz0ocj1lKS5nZXRSbmcoKSx7c3RhcnQ6dGMoci5kb20uZ2V0Um9vdCgpLCRzLmZyb21SYW5nZVN0YXJ0KG8pKSxlbmQ6dGMoci5kb20uZ2V0Um9vdCgpLCRzLmZyb21SYW5nZUVuZChvKSl9KTp0P3tybmc6ZS5nZXRSbmcoKX06ZmMoZSwhMSk7dmFyIHIsb30sbWM9TihjYyxvLCEwKSxwYz1FdS5ET00sZ2M9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZ2V0UGFyYW0odCxuKTtpZigtMT09PXIuaW5kZXhPZigiPSIpKXJldHVybiByO3ZhciBvPWUuZ2V0UGFyYW0odCwiIiwiaGFzaCIpO3JldHVybiBvLmhhc093blByb3BlcnR5KGUuaWQpP29bZS5pZF06bn0saGM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oImNvbnRlbnRfc2VjdXJpdHlfcG9saWN5IiwiIil9LHZjPWZ1bmN0aW9uKGUpe2lmKGUuZ2V0UGFyYW0oImZvcmNlX3BfbmV3bGluZXMiLCExKSlyZXR1cm4icCI7dmFyIHQ9ZS5nZXRQYXJhbSgiZm9yY2VkX3Jvb3RfYmxvY2siLCJwIik7cmV0dXJuITE9PT10PyIiOiEwPT09dD8icCI6dH0seWM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oImZvcmNlZF9yb290X2Jsb2NrX2F0dHJzIix7fSl9LGJjPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJhdXRvbWF0aWNfdXBsb2FkcyIsITAsImJvb2xlYW4iKX0sQ2M9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oImljb25zIiwiIiwic3RyaW5nIil9LHdjPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJyZWZlcnJlcl9wb2xpY3kiLCIiLCJzdHJpbmciKX0seGM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oImxhbmd1YWdlIiwiZW4iLCJzdHJpbmciKX0sU2M9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oImluZGVudF91c2VfbWFyZ2luIiwhMSl9LE5jPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0UGFyYW0oIm9iamVjdF9yZXNpemluZyIpO3JldHVybiExIT09dCYmIXd0LmlPUyYmKHEodCk/dDoidGFibGUsaW1nLGZpZ3VyZS5pbWFnZSxkaXYiKX0sRWM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oImV2ZW50X3Jvb3QiKX0sa2M9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oInRoZW1lIil9LF9jPWZ1bmN0aW9uKGUpe3JldHVybiExIT09ZS5nZXRQYXJhbSgiaW5saW5lX2JvdW5kYXJpZXMiKX0sQWM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oInBsdWdpbnMiLCIiLCJzdHJpbmciKX0sUmM9QW4sVGM9SW4sRGM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3QmJnQucmVtb3ZlQ2hpbGQoZSl9LE9jPWZ1bmN0aW9uKGUpe3ZhciB0PXBvKGUpO3JldHVybntjb3VudDplLmxlbmd0aC10Lmxlbmd0aCx0ZXh0OnR9fSxCYz1mdW5jdGlvbihlKXtmb3IodmFyIHQ7LTEhPT0odD1lLmRhdGEubGFzdEluZGV4T2YoZm8pKTspZS5kZWxldGVEYXRhKHQsMSl9LFBjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEZjKGUpLHR9LExjPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPXQuY29udGFpbmVyKCksaT0obj1vZShvLmNoaWxkTm9kZXMpLCgtMT09PShyPUkobixlKSk/VS5ub25lKCk6VS5zb21lKHIpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGU8dC5vZmZzZXQoKT8kcyhvLHQub2Zmc2V0KCktMSk6dH0pLmdldE9yKHQpKTtyZXR1cm4gRmMoZSksaX0sSWM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVGMoZSkmJnQuY29udGFpbmVyKCk9PT1lPyhyPXQsbz1PYygobj1lKS5kYXRhLnN1YnN0cigwLHIub2Zmc2V0KCkpKSxpPU9jKG4uZGF0YS5zdWJzdHIoci5vZmZzZXQoKSkpLDA8KG8udGV4dCtpLnRleHQpLmxlbmd0aD8oQmMobiksJHMobixyLm9mZnNldCgpLW8uY291bnQpKTpyKTpQYyhlLHQpO3ZhciBuLHIsbyxpfSxNYz1mdW5jdGlvbihlLHQpe3JldHVybiAkcy5pc1RleHRQb3NpdGlvbih0KT9JYyhlLHQpOihuPWUsKChyPXQpLmNvbnRhaW5lcigpPT09bi5wYXJlbnROb2RlP0xjOlBjKShuLHIpKTt2YXIgbixyfSxGYz1mdW5jdGlvbihlKXtSYyhlKSYmYm8oZSkmJihDbyhlKT9lLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKTpEYyhlKSksVGMoZSkmJihCYyhlKSwwPT09ZS5kYXRhLmxlbmd0aCYmRGMoZSkpfSxVYz1kdCgpLmJyb3dzZXIsemM9Vm4samM9JG4sSGM9cW4sVmM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHU9Z3ModC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuKSxzPSJCT0RZIj09PWUudGFnTmFtZT8ocj1lLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LG89ZS5zY3JvbGxMZWZ0fHxyLnNjcm9sbExlZnQsZS5zY3JvbGxUb3B8fHIuc2Nyb2xsVG9wKTooYT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89ZS5zY3JvbGxMZWZ0LWEubGVmdCxlLnNjcm9sbFRvcC1hLnRvcCk7cmV0dXJuIHUubGVmdCs9byx1LnJpZ2h0Kz1vLHUudG9wKz1zLHUuYm90dG9tKz1zLHUud2lkdGg9MSwwPChpPXQub2Zmc2V0V2lkdGgtdC5jbGllbnRXaWR0aCkmJihuJiYoaSo9LTEpLHUubGVmdCs9aSx1LnJpZ2h0Kz1pKSx1fSxxYz1mdW5jdGlvbihlLGksYSx0KXt2YXIgbix1LHM9T3UoVS5ub25lKCkpLHI9dmMoZSksYz0wPHIubGVuZ3RoP3I6InAiLGw9ZnVuY3Rpb24oKXshZnVuY3Rpb24oZSl7Zm9yKHZhciB0PUd1KEF0LmZyb21Eb20oZSksIipbY29udGVudEVkaXRhYmxlPWZhbHNlXSx2aWRlbyxhdWRpbyxlbWJlZCxvYmplY3QiKSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByLG89dFtuXS5kb20saT1vLnByZXZpb3VzU2libGluZztFbyhpKSYmKDE9PT0ocj1pLmRhdGEpLmxlbmd0aD9pLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSk6aS5kZWxldGVEYXRhKHIubGVuZ3RoLTEsMSkpLGk9by5uZXh0U2libGluZyxObyhpKSYmKDE9PT0ocj1pLmRhdGEpLmxlbmd0aD9pLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSk6aS5kZWxldGVEYXRhKDAsMSkpfX0oaSksdSYmKEZjKHUpLHU9bnVsbCkscy5nZXQoKS5lYWNoKGZ1bmN0aW9uKGUpe2h1KGUuY2FyZXQpLnJlbW92ZSgpLHMuc2V0KFUubm9uZSgpKX0pLG4mJihxci5jbGVhckludGVydmFsKG4pLG49bnVsbCl9LGY9ZnVuY3Rpb24oKXtuPXFyLnNldEludGVydmFsKGZ1bmN0aW9uKCl7dCgpP2h1KCJkaXYubWNlLXZpc3VhbC1jYXJldCIsaSkudG9nZ2xlQ2xhc3MoIm1jZS12aXN1YWwtY2FyZXQtaGlkZGVuIik6aHUoImRpdi5tY2UtdmlzdWFsLWNhcmV0IixpKS5hZGRDbGFzcygibWNlLXZpc3VhbC1jYXJldC1oaWRkZW4iKX0sNTAwKX07cmV0dXJue3Nob3c6ZnVuY3Rpb24odCxlKXt2YXIgbixyO2lmKGwoKSxIYyhlKSlyZXR1cm4gbnVsbDtpZighYShlKSlyZXR1cm4gdT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9ZS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGZvKSxvPWUucGFyZW50Tm9kZTtpZih0KXtpZihuPWUucHJldmlvdXNTaWJsaW5nLGhvKG4pKXtpZihibyhuKSlyZXR1cm4gbjtpZihFbyhuKSlyZXR1cm4gbi5zcGxpdFRleHQobi5kYXRhLmxlbmd0aC0xKX1vLmluc2VydEJlZm9yZShyLGUpfWVsc2V7aWYobj1lLm5leHRTaWJsaW5nLGhvKG4pKXtpZihibyhuKSlyZXR1cm4gbjtpZihObyhuKSlyZXR1cm4gbi5zcGxpdFRleHQoMSksbn1lLm5leHRTaWJsaW5nP28uaW5zZXJ0QmVmb3JlKHIsZS5uZXh0U2libGluZyk6by5hcHBlbmRDaGlsZChyKX1yZXR1cm4gcn0oZSx0KSxyPWUub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpLFdjKHUubmV4dFNpYmxpbmcpPyhyLnNldFN0YXJ0KHUsMCksci5zZXRFbmQodSwwKSk6KHIuc2V0U3RhcnQodSwxKSxyLnNldEVuZCh1LDEpKSxyO3U9U28oYyxlLHQpLG49VmMoaSxlLHQpLGh1KHUpLmNzcygidG9wIixuLnRvcCk7dmFyIG89aHUoJzxkaXYgY2xhc3M9Im1jZS12aXN1YWwtY2FyZXQiIGRhdGEtbWNlLWJvZ3VzPSJhbGwiPjwvZGl2PicpLmNzcyhuKS5hcHBlbmRUbyhpKVswXTtyZXR1cm4gcy5zZXQoVS5zb21lKHtjYXJldDpvLGVsZW1lbnQ6ZSxiZWZvcmU6dH0pKSxzLmdldCgpLmVhY2goZnVuY3Rpb24oZSl7dCYmaHUoZS5jYXJldCkuYWRkQ2xhc3MoIm1jZS12aXN1YWwtY2FyZXQtYmVmb3JlIil9KSxmKCksKHI9ZS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KHUsMCksci5zZXRFbmQodSwwKSxyfSxoaWRlOmwsZ2V0Q3NzOmZ1bmN0aW9uKCl7cmV0dXJuIi5tY2UtdmlzdWFsLWNhcmV0IHtwb3NpdGlvbjogYWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjogYmxhY2s7YmFja2dyb3VuZC1jb2xvcjogY3VycmVudGNvbG9yO30ubWNlLXZpc3VhbC1jYXJldC1oaWRkZW4ge2Rpc3BsYXk6IG5vbmU7fSpbZGF0YS1tY2UtY2FyZXRdIHtwb3NpdGlvbjogYWJzb2x1dGU7bGVmdDogLTEwMDBweDtyaWdodDogYXV0bzt0b3A6IDA7bWFyZ2luOiAwO3BhZGRpbmc6IDA7fSJ9LHJlcG9zaXRpb246ZnVuY3Rpb24oKXtzLmdldCgpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9VmMoaSxlLmVsZW1lbnQsZS5iZWZvcmUpO2h1KGUuY2FyZXQpLmNzcyhrZSh7fSx0KSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiBxci5jbGVhckludGVydmFsKG4pfX19LCRjPWZ1bmN0aW9uKCl7cmV0dXJuIFVjLmlzSUUoKXx8VWMuaXNFZGdlKCl8fFVjLmlzRmlyZWZveCgpfSxXYz1mdW5jdGlvbihlKXtyZXR1cm4gemMoZSl8fGpjKGUpfSxLYz1mdW5jdGlvbihlKXtyZXR1cm4gV2MoZSl8fEJuKGUpJiYkYygpfSxYYz1WbixZYz0kbixHYz1UbigiZGlzcGxheSIsImJsb2NrIHRhYmxlIHRhYmxlLWNlbGwgdGFibGUtY2FwdGlvbiBsaXN0LWl0ZW0iKSxKYz1ibyxRYz12byxaYz1BbixlbD1Mbyx0bD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbjtuPWUodCk7KWlmKCFRYyhuKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH0sbmw9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1uZXcgWHIoZSxyKSxhPVhjKGUpfHxRYyhlKTtpZih0PDApe2lmKGEmJm4oZT10bChpLnByZXYsITApKSlyZXR1cm4gZTtmb3IoO2U9dGwoaS5wcmV2LG8pOylpZihuKGUpKXJldHVybiBlfWlmKDA8dCl7aWYoYSYmbihlPXRsKGkubmV4dCwhMCkpKXJldHVybiBlO2Zvcig7ZT10bChpLm5leHQsbyk7KWlmKG4oZSkpcmV0dXJuIGV9cmV0dXJuIG51bGx9LHJsPWZ1bmN0aW9uKGUsdCl7Zm9yKDtlJiZlIT09dDspe2lmKEdjKGUpKXJldHVybiBlO2U9ZS5wYXJlbnROb2RlfXJldHVybiBudWxsfSxvbD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHJsKGUuY29udGFpbmVyKCksbik9PT1ybCh0LmNvbnRhaW5lcigpLG4pfSxpbD1mdW5jdGlvbihlLHQpe2lmKCF0KXJldHVybiBudWxsO3ZhciBuPXQuY29udGFpbmVyKCkscj10Lm9mZnNldCgpO3JldHVybiBaYyhuKT9uLmNoaWxkTm9kZXNbcitlXTpudWxsfSxhbD1mdW5jdGlvbihlLHQpe3ZhciBuPXQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiBlPyhuLnNldFN0YXJ0QmVmb3JlKHQpLG4uc2V0RW5kQmVmb3JlKHQpKToobi5zZXRTdGFydEFmdGVyKHQpLG4uc2V0RW5kQWZ0ZXIodCkpLG59LHVsPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsbyxpLGE9ZT8icHJldmlvdXNTaWJsaW5nIjoibmV4dFNpYmxpbmciO24mJm4hPT10Oyl7aWYocj1uW2FdLEpjKHIpJiYocj1yW2FdKSxYYyhyKXx8WWMocikpe2lmKGk9bixybChyLG89dCk9PT1ybChpLG8pKXJldHVybiByO2JyZWFrfWlmKGVsKHIpKWJyZWFrO249bi5wYXJlbnROb2RlfXJldHVybiBudWxsfSxzbD1OKGFsLCEwKSxjbD1OKGFsLCExKSxsbD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPU4odWwsITAsdCksYT1OKHVsLCExLHQpLHU9bi5zdGFydENvbnRhaW5lcixzPW4uc3RhcnRPZmZzZXQ7aWYodm8odSkpe2lmKFpjKHUpfHwodT11LnBhcmVudE5vZGUpLCJiZWZvcmUiPT09KG89dS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IikpJiYocj11Lm5leHRTaWJsaW5nLEtjKHIpKSlyZXR1cm4gc2wocik7aWYoImFmdGVyIj09PW8mJihyPXUucHJldmlvdXNTaWJsaW5nLEtjKHIpKSlyZXR1cm4gY2wocil9aWYoIW4uY29sbGFwc2VkKXJldHVybiBuO2lmKEluKHUpKXtpZihKYyh1KSl7aWYoMT09PWUpe2lmKHI9YSh1KSlyZXR1cm4gc2wocik7aWYocj1pKHUpKXJldHVybiBjbChyKX1pZigtMT09PWUpe2lmKHI9aSh1KSlyZXR1cm4gY2wocik7aWYocj1hKHUpKXJldHVybiBzbChyKX1yZXR1cm4gbn1pZihFbyh1KSYmcz49dS5kYXRhLmxlbmd0aC0xKXJldHVybiAxPT09ZSYmKHI9YSh1KSk/c2wocik6bjtpZihObyh1KSYmczw9MSlyZXR1cm4tMT09PWUmJihyPWkodSkpP2NsKHIpOm47aWYocz09PXUuZGF0YS5sZW5ndGgpcmV0dXJuKHI9YSh1KSk/c2wocik6bjtpZigwPT09cylyZXR1cm4ocj1pKHUpKT9jbChyKTpufXJldHVybiBufSxmbD1mdW5jdGlvbihlLHQpe3JldHVybiBVLmZyb20oaWwoZT8wOi0xLHQpKS5maWx0ZXIoWGMpfSxkbD1mdW5jdGlvbihlLHQsbil7dmFyIHI9bGwoZSx0LG4pO3JldHVybi0xPT09ZT9Icy5mcm9tUmFuZ2VTdGFydChyKTpIcy5mcm9tUmFuZ2VFbmQocil9LG1sPWZ1bmN0aW9uKGUpe3JldHVybiBVLmZyb20oZS5nZXROb2RlKCkpLm1hcChBdC5mcm9tRG9tKX0scGw9ZnVuY3Rpb24oZSx0KXtmb3IoO3Q9ZSh0KTspaWYodC5pc1Zpc2libGUoKSlyZXR1cm4gdDtyZXR1cm4gdH0sZ2w9ZnVuY3Rpb24oZSx0KXt2YXIgbj1vbChlLHQpO3JldHVybiEobnx8IXpuKGUuZ2V0Tm9kZSgpKSl8fG59Oyhxcz1Wcz1Wc3x8e30pW3FzLkJhY2t3YXJkcz0tMV09IkJhY2t3YXJkcyIscXNbcXMuRm9yd2FyZHM9MV09IkZvcndhcmRzIjt2YXIgaGwsdmw9Vm4seWw9SW4sYmw9QW4sQ2w9em4sd2w9TG8seGw9ZnVuY3Rpb24oZSl7cmV0dXJuIE9vKGUpfHwhIUlvKHQ9ZSkmJiEwIT09WChvZSh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV8fF9vKHQpfSwhMSk7dmFyIHR9LFNsPU1vLE5sPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaGFzQ2hpbGROb2RlcygpJiZ0PGUuY2hpbGROb2Rlcy5sZW5ndGg/ZS5jaGlsZE5vZGVzW3RdOm51bGx9LEVsPWZ1bmN0aW9uKGUsdCl7aWYoMDxlKXtpZih3bCh0LnByZXZpb3VzU2libGluZykmJiF5bCh0LnByZXZpb3VzU2libGluZykpcmV0dXJuICRzLmJlZm9yZSh0KTtpZih5bCh0KSlyZXR1cm4gJHModCwwKX1pZihlPDApe2lmKHdsKHQubmV4dFNpYmxpbmcpJiYheWwodC5uZXh0U2libGluZykpcmV0dXJuICRzLmFmdGVyKHQpO2lmKHlsKHQpKXJldHVybiAkcyh0LHQuZGF0YS5sZW5ndGgpfXJldHVybiEoZTwwKXx8Q2wodCk/JHMuYmVmb3JlKHQpOiRzLmFmdGVyKHQpfSxrbD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE7aWYoIWJsKG4pfHwhdClyZXR1cm4gbnVsbDtpZih0LmlzRXF1YWwoJHMuYWZ0ZXIobikpJiZuLmxhc3RDaGlsZCl7aWYoYT0kcy5hZnRlcihuLmxhc3RDaGlsZCksZTwwJiZ3bChuLmxhc3RDaGlsZCkmJmJsKG4ubGFzdENoaWxkKSlyZXR1cm4gQ2wobi5sYXN0Q2hpbGQpPyRzLmJlZm9yZShuLmxhc3RDaGlsZCk6YX1lbHNlIGE9dDt2YXIgdSxzLGMsbD1hLmNvbnRhaW5lcigpLGY9YS5vZmZzZXQoKTtpZih5bChsKSl7aWYoZTwwJiYwPGYpcmV0dXJuICRzKGwsLS1mKTtpZigwPGUmJmY8bC5sZW5ndGgpcmV0dXJuICRzKGwsKytmKTtyPWx9ZWxzZXtpZihlPDAmJjA8ZiYmKG89TmwobCxmLTEpLHdsKG8pKSlyZXR1cm4heGwobykmJihpPW5sKG8sZSxTbCxvKSk/eWwoaSk/JHMoaSxpLmRhdGEubGVuZ3RoKTokcy5hZnRlcihpKTp5bChvKT8kcyhvLG8uZGF0YS5sZW5ndGgpOiRzLmJlZm9yZShvKTtpZigwPGUmJmY8bC5jaGlsZE5vZGVzLmxlbmd0aCYmKG89TmwobCxmKSx3bChvKSkpcmV0dXJuIENsKG8pPyh1PW4sKGM9KHM9bykubmV4dFNpYmxpbmcpJiZ3bChjKT95bChjKT8kcyhjLDApOiRzLmJlZm9yZShjKTprbChWcy5Gb3J3YXJkcywkcy5hZnRlcihzKSx1KSk6IXhsKG8pJiYoaT1ubChvLGUsU2wsbykpP3lsKGkpPyRzKGksMCk6JHMuYmVmb3JlKGkpOnlsKG8pPyRzKG8sMCk6JHMuYWZ0ZXIobyk7cj1vfHxhLmdldE5vZGUoKX1pZigoMDxlJiZhLmlzQXRFbmQoKXx8ZTwwJiZhLmlzQXRTdGFydCgpKSYmKHI9bmwocixlLGssbiwhMCksU2wocixuKSkpcmV0dXJuIEVsKGUscik7bz1ubChyLGUsU2wsbik7dmFyIGQ9RWUoSChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXTtlJiZlIT09dDspbi5wdXNoKGUpLGU9ZS5wYXJlbnROb2RlO3JldHVybiBufShsLG4pLHZsKSk7cmV0dXJuIWR8fG8mJmQuY29udGFpbnMobyk/bz9FbChlLG8pOm51bGw6YT0wPGU/JHMuYWZ0ZXIoZCk6JHMuYmVmb3JlKGQpfSxfbD1mdW5jdGlvbih0KXtyZXR1cm57bmV4dDpmdW5jdGlvbihlKXtyZXR1cm4ga2woVnMuRm9yd2FyZHMsZSx0KX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4ga2woVnMuQmFja3dhcmRzLGUsdCl9fX0sQWw9ZnVuY3Rpb24oZSl7cmV0dXJuICRzLmlzVGV4dFBvc2l0aW9uKGUpPzA9PT1lLm9mZnNldCgpOkxvKGUuZ2V0Tm9kZSgpKX0sUmw9ZnVuY3Rpb24oZSl7aWYoJHMuaXNUZXh0UG9zaXRpb24oZSkpe3ZhciB0PWUuY29udGFpbmVyKCk7cmV0dXJuIGUub2Zmc2V0KCk9PT10LmRhdGEubGVuZ3RofXJldHVybiBMbyhlLmdldE5vZGUoITApKX0sVGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hJHMuaXNUZXh0UG9zaXRpb24oZSkmJiEkcy5pc1RleHRQb3NpdGlvbih0KSYmZS5nZXROb2RlKCk9PT10LmdldE5vZGUoITApfSxEbD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU/IVRsKHQsbikmJihyPXQsISghJHMuaXNUZXh0UG9zaXRpb24ocikmJnpuKHIuZ2V0Tm9kZSgpKSkpJiZSbCh0KSYmQWwobik6IVRsKG4sdCkmJkFsKHQpJiZSbChuKTt2YXIgcn0sT2w9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPV9sKHQpO3JldHVybiBVLmZyb20oZT9yLm5leHQobik6ci5wcmV2KG4pKX0sQmw9ZnVuY3Rpb24odCxuLHIpe3JldHVybiBPbCh0LG4scikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gb2wocixlLG4pJiZEbCh0LHIsZSk/T2wodCxuLGUpOlUuc29tZShlKX0pfSxQbD1mdW5jdGlvbih0LG4sZSxyKXtyZXR1cm4gQmwodCxuLGUpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSk/UGwodCxuLGUscik6VS5zb21lKGUpfSl9LExsPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1PWU/dC5maXJzdENoaWxkOnQubGFzdENoaWxkO3JldHVybiBJbih1KT9VLnNvbWUoJHModSxlPzA6dS5kYXRhLmxlbmd0aCkpOnU/TG8odSk/VS5zb21lKGU/JHMuYmVmb3JlKHUpOnpuKGE9dSk/JHMuYmVmb3JlKGEpOiRzLmFmdGVyKGEpKToocj10LG89dSxpPShuPWUpPyRzLmJlZm9yZShvKTokcy5hZnRlcihvKSxPbChuLHIsaSkpOlUubm9uZSgpfSxJbD1OKE9sLCEwKSxNbD1OKE9sLCExKSxGbD1OKExsLCEwKSxVbD1OKExsLCExKSx6bD0iX21jZV9jYXJldCIsamw9ZnVuY3Rpb24oZSl7cmV0dXJuIEFuKGUpJiZlLmlkPT09emx9LEhsPWZ1bmN0aW9uKGUsdCl7Zm9yKDt0JiZ0IT09ZTspe2lmKHQuaWQ9PT16bClyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0sVmw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQW4odCkmJmUuaXNCbG9jayh0KSYmIXQuaW5uZXJIVE1MJiYhd3QuaWUmJih0LmlubmVySFRNTD0nPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIiAvPicpLHR9LHFsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hKCExIT09dC5oYXNDaGlsZE5vZGVzKCl8fCFIbChlLHQpKSYmKG89bixpPShyPXQpLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZm8pLHIuYXBwZW5kQ2hpbGQoaSksby5zZXRTdGFydChpLDApLG8uc2V0RW5kKGksMCksITApO3ZhciByLG8saX0sJGw9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscz1uW3Q/InN0YXJ0IjoiZW5kIl0sYz1lLmdldFJvb3QoKTtpZihzKXtmb3IoYT1zWzBdLGk9YyxvPXMubGVuZ3RoLTE7MTw9bztvLS0pe2lmKHU9aS5jaGlsZE5vZGVzLHFsKGMsaSxyKSlyZXR1cm4hMDtpZihzW29dPnUubGVuZ3RoLTEpcmV0dXJuISFxbChjLGkscil8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFVsKGUpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4hMX0sZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2V0U3RhcnQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSx0LnNldEVuZChlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpLCEwfSl9KGkscik7aT11W3Nbb11dfTM9PT1pLm5vZGVUeXBlJiYoYT1NYXRoLm1pbihzWzBdLGkubm9kZVZhbHVlLmxlbmd0aCkpLDE9PT1pLm5vZGVUeXBlJiYoYT1NYXRoLm1pbihzWzBdLGkuY2hpbGROb2Rlcy5sZW5ndGgpKSx0P3Iuc2V0U3RhcnQoaSxhKTpyLnNldEVuZChpLGEpfXJldHVybiEwfSxXbD1mdW5jdGlvbihlKXtyZXR1cm4gSW4oZSkmJjA8ZS5kYXRhLmxlbmd0aH0sS2w9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjPWUuZ2V0KG4uaWQrIl8iK3QpLGw9bi5rZWVwO2lmKGMpe2lmKHI9Yy5wYXJlbnROb2RlLHM9KHU9KG89InN0YXJ0Ij09PXQ/bD9jLmhhc0NoaWxkTm9kZXMoKT8ocj1jLmZpcnN0Q2hpbGQsMSk6V2woYy5uZXh0U2libGluZyk/KHI9Yy5uZXh0U2libGluZywwKTpXbChjLnByZXZpb3VzU2libGluZyk/KHI9Yy5wcmV2aW91c1NpYmxpbmcsYy5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGgpOihyPWMucGFyZW50Tm9kZSxlLm5vZGVJbmRleChjKSsxKTplLm5vZGVJbmRleChjKTpsP2MuaGFzQ2hpbGROb2RlcygpPyhyPWMuZmlyc3RDaGlsZCwxKTpXbChjLnByZXZpb3VzU2libGluZyk/KHI9Yy5wcmV2aW91c1NpYmxpbmcsYy5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGgpOihyPWMucGFyZW50Tm9kZSxlLm5vZGVJbmRleChjKSk6ZS5ub2RlSW5kZXgoYyksciksbyksIWwpe2ZvcihhPWMucHJldmlvdXNTaWJsaW5nLGk9Yy5uZXh0U2libGluZyxrdC5lYWNoKGt0LmdyZXAoYy5jaGlsZE5vZGVzKSxmdW5jdGlvbihlKXtJbihlKSYmKGUubm9kZVZhbHVlPWUubm9kZVZhbHVlLnJlcGxhY2UoL1x1RkVGRi9nLCIiKSl9KTtjPWUuZ2V0KG4uaWQrIl8iK3QpOyllLnJlbW92ZShjLCEwKTthJiZpJiZhLm5vZGVUeXBlPT09aS5ub2RlVHlwZSYmSW4oYSkmJiF3dC5vcGVyYSYmKG89YS5ub2RlVmFsdWUubGVuZ3RoLGEuYXBwZW5kRGF0YShpLm5vZGVWYWx1ZSksZS5yZW1vdmUoaSksdT1hLHM9byl9cmV0dXJuIFUuc29tZSgkcyh1LHMpKX1yZXR1cm4gVS5ub25lKCl9LFhsPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1LHMsYyxsLGYsZCxtLHAsZyxoPWUuZG9tO2lmKHQpe2lmKGc9dCxrdC5pc0FycmF5KGcuc3RhcnQpKXJldHVybiBtPXQscD0oZD1oKS5jcmVhdGVSbmcoKSwkbChkLCEwLG0scCkmJiRsKGQsITEsbSxwKT9VLnNvbWUocCk6VS5ub25lKCk7aWYoInN0cmluZyI9PXR5cGVvZiB0LnN0YXJ0KXJldHVybiBVLnNvbWUoKGM9dCxsPShzPWgpLmNyZWF0ZVJuZygpLGY9bmMocy5nZXRSb290KCksYy5zdGFydCksbC5zZXRTdGFydChmLmNvbnRhaW5lcigpLGYub2Zmc2V0KCkpLGY9bmMocy5nZXRSb290KCksYy5lbmQpLGwuc2V0RW5kKGYuY29udGFpbmVyKCksZi5vZmZzZXQoKSksbCkpO2lmKHQuaGFzT3duUHJvcGVydHkoImlkIikpcmV0dXJuIGE9S2wobz1oLCJzdGFydCIsaT10KSx1PUtsKG8sImVuZCIsaSksZHMoYSx1Lm9yKGEpLGZ1bmN0aW9uKGUsdCl7dmFyIG49by5jcmVhdGVSbmcoKTtyZXR1cm4gbi5zZXRTdGFydChWbChvLGUuY29udGFpbmVyKCkpLGUub2Zmc2V0KCkpLG4uc2V0RW5kKFZsKG8sdC5jb250YWluZXIoKSksdC5vZmZzZXQoKSksbn0pO2lmKHQuaGFzT3duUHJvcGVydHkoIm5hbWUiKSlyZXR1cm4gbj1oLHI9dCxVLmZyb20obi5zZWxlY3Qoci5uYW1lKVtyLmluZGV4XSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PW4uY3JlYXRlUm5nKCk7cmV0dXJuIHQuc2VsZWN0Tm9kZShlKSx0fSk7aWYodC5oYXNPd25Qcm9wZXJ0eSgicm5nIikpcmV0dXJuIFUuc29tZSh0LnJuZyl9cmV0dXJuIFUubm9uZSgpfSxZbD1kYyxHbD1mdW5jdGlvbih0LGUpe1hsKHQsZSkuZWFjaChmdW5jdGlvbihlKXt0LnNldFJuZyhlKX0pfSxKbD1mdW5jdGlvbihlKXtyZXR1cm4gQW4oZSkmJiJTUEFOIj09PWUudGFnTmFtZSYmImJvb2ttYXJrIj09PWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS10eXBlIil9LFFsPShobD1sbyxmdW5jdGlvbihlKXtyZXR1cm4gaGw9PT1lfSksWmw9ZnVuY3Rpb24oZSl7cmV0dXJuIiIhPT1lJiYtMSE9PSIgXGZcblxyXHRceDBCIi5pbmRleE9mKGUpfSxlZj1mdW5jdGlvbihlKXtyZXR1cm4hWmwoZSkmJiFRbChlKX0sdGY9ZnVuY3Rpb24oZSl7cmV0dXJuISFlLm5vZGVUeXBlfSxuZj1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdT1uLnN0YXJ0T2Zmc2V0LHM9bi5zdGFydENvbnRhaW5lcjtpZigobi5zdGFydENvbnRhaW5lciE9PW4uZW5kQ29udGFpbmVyfHwhKGE9bi5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW24uc3RhcnRPZmZzZXRdKXx8IS9eKElNRykkLy50ZXN0KGEubm9kZU5hbWUpKSYmMT09PXMubm9kZVR5cGUpZm9yKHU8KGk9cy5jaGlsZE5vZGVzKS5sZW5ndGg/KHM9aVt1XSxyPW5ldyBYcihzLGUuZ2V0UGFyZW50KHMsZS5pc0Jsb2NrKSkpOihzPWlbaS5sZW5ndGgtMV0sKHI9bmV3IFhyKHMsZS5nZXRQYXJlbnQocyxlLmlzQmxvY2spKSkubmV4dCghMCkpLG89ci5jdXJyZW50KCk7bztvPXIubmV4dCgpKWlmKDM9PT1vLm5vZGVUeXBlJiYhdWYobykpcmV0dXJuIG4uc2V0U3RhcnQobywwKSx2b2lkIHQuc2V0Um5nKG4pfSxyZj1mdW5jdGlvbihlLHQsbil7aWYoZSl7dmFyIHI9dD8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciO2ZvcihlPW4/ZTplW3JdO2U7ZT1lW3JdKWlmKDE9PT1lLm5vZGVUeXBlfHwhdWYoZSkpcmV0dXJuIGV9fSxvZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Zih0KSYmKHQ9dC5ub2RlTmFtZSksISFlLnNjaGVtYS5nZXRUZXh0QmxvY2tFbGVtZW50cygpW3QudG9Mb3dlckNhc2UoKV19LGFmPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5zY2hlbWEuaXNWYWxpZENoaWxkKHQsbil9LHVmPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9ITEpLEQoZSkmJkluKGUpKXt2YXIgbj10P2UuZGF0YS5yZXBsYWNlKC8gL2csIlx4YTAiKTplLmRhdGE7cmV0dXJuIFVvKG4pfXJldHVybiExfSxzZj1mdW5jdGlvbihlLG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9lPWUobik6biYmKGU9ZS5yZXBsYWNlKC8lKFx3KykvZyxmdW5jdGlvbihlLHQpe3JldHVybiBuW3RdfHxlfSkpLGV9LGNmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9IiIrKChlPWV8fCIiKS5ub2RlTmFtZXx8ZSksdD0iIisoKHQ9dHx8IiIpLm5vZGVOYW1lfHx0KSxlLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9LGxmPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4iY29sb3IiIT09biYmImJhY2tncm91bmRDb2xvciIhPT1ufHwodD1lLnRvSGV4KHQpKSwiZm9udFdlaWdodCI9PT1uJiY3MDA9PT10JiYodD0iYm9sZCIpLCJmb250RmFtaWx5Ij09PW4mJih0PXQucmVwbGFjZSgvW1wnXCJdL2csIiIpLnJlcGxhY2UoLyxccysvZywiLCIpKSwiIit0fSxmZj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGxmKGUsZS5nZXRTdHlsZSh0LG4pLG4pfSxkZj1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB0LmdldFBhcmVudChlLGZ1bmN0aW9uKGUpe3JldHVybihuPXQuZ2V0U3R5bGUoZSwidGV4dC1kZWNvcmF0aW9uIikpJiYibm9uZSIhPT1ufSksbn0sbWY9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmdldFBhcmVudHModCxuLGUuZ2V0Um9vdCgpKX0scGY9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVsiaW5saW5lIiwiYmxvY2siLCJzZWxlY3RvciIsImF0dHJpYnV0ZXMiLCJzdHlsZXMiLCJjbGFzc2VzIl0sYT1mdW5jdGlvbihlKXtyZXR1cm4gbWUoZSxmdW5jdGlvbihlLHQpe3JldHVybiBGKHIsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSl9KX07cmV0dXJuIEYodC5mb3JtYXR0ZXIuZ2V0KGUpLGZ1bmN0aW9uKGUpe3ZhciBpPWEoZSk7cmV0dXJuIEYodC5mb3JtYXR0ZXIuZ2V0KG4pLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWEoZSk7cmV0dXJuIHQ9aSxuPW8sdm9pZCAwPT09ciYmKHI9bCksdShyKS5lcSh0LG4pfSl9KX0sZ2Y9ZnVuY3Rpb24oZSl7cmV0dXJuIHZlKGUsImJsb2NrIil9LGhmPWZ1bmN0aW9uKGUpe3JldHVybiB2ZShlLCJzZWxlY3RvciIpfSx2Zj1mdW5jdGlvbihlKXtyZXR1cm4gdmUoZSwiaW5saW5lIil9LHlmPUpsLGJmPW1mLENmPXVmLHdmPW9mLHhmPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXQ7bjspe2lmKEFuKG4pJiZlLmdldENvbnRlbnRFZGl0YWJsZShuKSlyZXR1cm4iZmFsc2UiPT09ZS5nZXRDb250ZW50RWRpdGFibGUobik/bjp0O249bi5wYXJlbnROb2RlfXJldHVybiB0fSxTZj1mdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIG89dC5kYXRhLGk9bjtlPzA8PWk6aTxvLmxlbmd0aDtlP2ktLTppKyspaWYocihvLmNoYXJBdChpKSkpcmV0dXJuIGU/aSsxOmk7cmV0dXJuLTF9LE5mPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gU2YoZSx0LG4sZnVuY3Rpb24oZSl7cmV0dXJuIFFsKGUpfHxabChlKX0pfSxFZj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFNmKGUsdCxuLGVmKX0sa2Y9ZnVuY3Rpb24oaSxlLHQsbixhLHIpe3ZhciB1LHM9aS5nZXRQYXJlbnQodCxpLmlzQmxvY2spfHxlLG89ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZzKGkpLG89YT9yLmJhY2t3YXJkczpyLmZvcndhcmRzO3JldHVybiBVLmZyb20obyhlLHQsZnVuY3Rpb24oZSx0KXtyZXR1cm4geWYoZS5wYXJlbnROb2RlKT8tMTpuKGEsdT1lLHQpfSxzKSl9O3JldHVybiBvKHQsbixOZikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gcj9vKGUuY29udGFpbmVyLGUub2Zmc2V0KyhhPy0xOjApLEVmKTpVLnNvbWUoZSl9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIHU/VS5zb21lKHtjb250YWluZXI6dSxvZmZzZXQ6YT8wOnUubGVuZ3RofSk6VS5ub25lKCl9KX0sX2Y9ZnVuY3Rpb24oZSx0LG4scixvKXtJbihyKSYmMD09PXIubm9kZVZhbHVlLmxlbmd0aCYmcltvXSYmKHI9cltvXSk7Zm9yKHZhciBpPWJmKGUsciksYT0wO2E8aS5sZW5ndGg7YSsrKWZvcih2YXIgdT0wO3U8dC5sZW5ndGg7dSsrKXt2YXIgcz10W3VdO2lmKCEoImNvbGxhcHNlZCJpbiBzJiZzLmNvbGxhcHNlZCE9PW4uY29sbGFwc2VkKSYmZS5pcyhpW2FdLHMuc2VsZWN0b3IpKXJldHVybiBpW2FdfXJldHVybiByfSxBZj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbyxpLGE9dC5kb20sdT1hLmdldFJvb3QoKTtpZihlWzBdLndyYXBwZXJ8fChpPWEuZ2V0UGFyZW50KG4sZVswXS5ibG9jayx1KSksaXx8KG89YS5nZXRQYXJlbnQobiwiTEksVEQsVEgiKSxpPWEuZ2V0UGFyZW50KEluKG4pP24ucGFyZW50Tm9kZTpuLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dSYmd2YodCxlKX0sbykpLGkmJmVbMF0ud3JhcHBlciYmKGk9YmYoYSxpLCJ1bCxvbCIpLnJldmVyc2UoKVswXXx8aSksIWkpZm9yKGk9bjtpW3JdJiYhYS5pc0Jsb2NrKGlbcl0pJiYoaT1pW3JdLCFjZihpLCJiciIpKTspO3JldHVybiBpfHxufSxSZj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1uLnBhcmVudE5vZGU7cmV0dXJuIUQobltyXSkmJighKG8hPT10JiYhJChvKSYmIWUuaXNCbG9jayhvKSl8fFJmKGUsdCxvLHIpKX0sVGY9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHU9bixzPW8/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIixjPWUuZ2V0Um9vdCgpO2lmKEluKG4pJiYhQ2YobikmJihvPzA8cjpyPG4uZGF0YS5sZW5ndGgpKXJldHVybiBuO2Zvcig7Oyl7aWYoIXRbMF0uYmxvY2tfZXhwYW5kJiZlLmlzQmxvY2sodSkpcmV0dXJuIHU7Zm9yKGk9dVtzXTtpO2k9aVtzXSl7dmFyIGw9SW4oaSkmJiFSZihlLGMsaSxzKTtpZigheWYoaSkmJighem4oYT1pKXx8IWEuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpfHxhLm5leHRTaWJsaW5nKSYmIUNmKGksbCkpcmV0dXJuIHV9aWYodT09PWN8fHUucGFyZW50Tm9kZT09PWMpe249dTticmVha311PXUucGFyZW50Tm9kZX1yZXR1cm4gbn0sRGY9ZnVuY3Rpb24oZSl7cmV0dXJuIHlmKGUucGFyZW50Tm9kZSl8fHlmKGUpfSxPZj1mdW5jdGlvbihlLHQsbixyKXt2b2lkIDA9PT1yJiYocj0hMSk7dmFyIG89dC5zdGFydENvbnRhaW5lcixpPXQuc3RhcnRPZmZzZXQsYT10LmVuZENvbnRhaW5lcix1PXQuZW5kT2Zmc2V0LHM9ZS5kb207cmV0dXJuIEFuKG8pJiZvLmhhc0NoaWxkTm9kZXMoKSYmKG89d3MobyxpKSxJbihvKSYmKGk9MCkpLEFuKGEpJiZhLmhhc0NoaWxkTm9kZXMoKSYmKGE9d3MoYSx0LmNvbGxhcHNlZD91OnUtMSksSW4oYSkmJih1PWEubm9kZVZhbHVlLmxlbmd0aCkpLG89eGYocyxvKSxhPXhmKHMsYSksRGYobykmJihvPXlmKG8pP286by5wYXJlbnROb2RlLG89dC5jb2xsYXBzZWQ/by5wcmV2aW91c1NpYmxpbmd8fG86by5uZXh0U2libGluZ3x8byxJbihvKSYmKGk9dC5jb2xsYXBzZWQ/by5sZW5ndGg6MCkpLERmKGEpJiYoYT15ZihhKT9hOmEucGFyZW50Tm9kZSxhPXQuY29sbGFwc2VkP2EubmV4dFNpYmxpbmd8fGE6YS5wcmV2aW91c1NpYmxpbmd8fGEsSW4oYSkmJih1PXQuY29sbGFwc2VkPzA6YS5sZW5ndGgpKSx0LmNvbGxhcHNlZCYmKGtmKHMsZS5nZXRCb2R5KCksbyxpLCEwLHIpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb250YWluZXIsbj1lLm9mZnNldDtvPXQsaT1ufSksa2YocyxlLmdldEJvZHkoKSxhLHUsITEscikuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRhaW5lcixuPWUub2Zmc2V0O2E9dCx1PW59KSksKG5bMF0uaW5saW5lfHxuWzBdLmJsb2NrX2V4cGFuZCkmJihuWzBdLmlubGluZSYmSW4obykmJjAhPT1pfHwobz1UZihzLG4sbyxpLCEwKSksblswXS5pbmxpbmUmJkluKGEpJiZ1IT09YS5ub2RlVmFsdWUubGVuZ3RofHwoYT1UZihzLG4sYSx1LCExKSkpLG5bMF0uc2VsZWN0b3ImJiExIT09blswXS5leHBhbmQmJiFuWzBdLmlubGluZSYmKG89X2YocyxuLHQsbywicHJldmlvdXNTaWJsaW5nIiksYT1fZihzLG4sdCxhLCJuZXh0U2libGluZyIpKSwoblswXS5ibG9ja3x8blswXS5zZWxlY3RvcikmJihvPUFmKGUsbixvLCJwcmV2aW91c1NpYmxpbmciKSxhPUFmKGUsbixhLCJuZXh0U2libGluZyIpLG5bMF0uYmxvY2smJihzLmlzQmxvY2sobyl8fChvPVRmKHMsbixvLGksITApKSxzLmlzQmxvY2soYSl8fChhPVRmKHMsbixhLHUsITEpKSkpLEFuKG8pJiYoaT1zLm5vZGVJbmRleChvKSxvPW8ucGFyZW50Tm9kZSksQW4oYSkmJih1PXMubm9kZUluZGV4KGEpKzEsYT1hLnBhcmVudE5vZGUpLHtzdGFydENvbnRhaW5lcjpvLHN0YXJ0T2Zmc2V0OmksZW5kQ29udGFpbmVyOmEsZW5kT2Zmc2V0OnV9fSxCZj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuY2hpbGROb2RlcztyZXR1cm4gdD49bi5sZW5ndGg/dD1uLmxlbmd0aC0xOnQ8MCYmKHQ9MCksblt0XXx8ZX0sUGY9ZnVuY3Rpb24oZSx0LHUpe3ZhciBuPXQuc3RhcnRDb250YWluZXIscj10LnN0YXJ0T2Zmc2V0LG89dC5lbmRDb250YWluZXIsaT10LmVuZE9mZnNldCxzPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF07cmV0dXJuIDM9PT10Lm5vZGVUeXBlJiZ0PT09biYmcj49dC5ub2RlVmFsdWUubGVuZ3RoJiZlLnNwbGljZSgwLDEpLHQ9ZVtlLmxlbmd0aC0xXSwwPT09aSYmMDxlLmxlbmd0aCYmdD09PW8mJjM9PT10Lm5vZGVUeXBlJiZlLnNwbGljZShlLmxlbmd0aC0xLDEpLGV9LGM9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1bXTtlJiZlIT09bjtlPWVbdF0pci5wdXNoKGUpO3JldHVybiByfSxhPWZ1bmN0aW9uKGUsdCl7ZG97aWYoZS5wYXJlbnROb2RlPT09dClyZXR1cm4gZTtlPWUucGFyZW50Tm9kZX13aGlsZShlKX0sbD1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW4/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixvPWUsaT1vLnBhcmVudE5vZGU7byYmbyE9PXQ7bz1pKXtpPW8ucGFyZW50Tm9kZTt2YXIgYT1jKG89PT1lP286b1tyXSxyKTthLmxlbmd0aCYmKG58fGEucmV2ZXJzZSgpLHUocyhhKSkpfX07aWYoMT09PW4ubm9kZVR5cGUmJm4uaGFzQ2hpbGROb2RlcygpJiYobj1CZihuLHIpKSwxPT09by5ub2RlVHlwZSYmby5oYXNDaGlsZE5vZGVzKCkmJihvPUJmKG8saS0xKSksbj09PW8pcmV0dXJuIHUocyhbbl0pKTtmb3IodmFyIGY9ZS5maW5kQ29tbW9uQW5jZXN0b3IobixvKSxkPW47ZDtkPWQucGFyZW50Tm9kZSl7aWYoZD09PW8pcmV0dXJuIGwobixmLCEwKTtpZihkPT09ZilicmVha31mb3IoZD1vO2Q7ZD1kLnBhcmVudE5vZGUpe2lmKGQ9PT1uKXJldHVybiBsKG8sZik7aWYoZD09PWYpYnJlYWt9dmFyIG09YShuLGYpfHxuLHA9YShvLGYpfHxvO2wobixtLCEwKTt2YXIgZz1jKG09PT1uP206bS5uZXh0U2libGluZywibmV4dFNpYmxpbmciLHA9PT1vP3AubmV4dFNpYmxpbmc6cCk7Zy5sZW5ndGgmJnUocyhnKSksbChvLHApfSxMZj1mdW5jdGlvbihlKXt2YXIgdD1bXTtpZihlKWZvcih2YXIgbj0wO248ZS5yYW5nZUNvdW50O24rKyl0LnB1c2goZS5nZXRSYW5nZUF0KG4pKTtyZXR1cm4gdH0sSWY9ZnVuY3Rpb24oZSl7cmV0dXJuIEgoSihlLGZ1bmN0aW9uKGUpe3ZhciB0PUNzKGUpO3JldHVybiB0P1tBdC5mcm9tRG9tKHQpXTpbXX0pLHVvKX0sTWY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1HdSh0LCJ0ZFtkYXRhLW1jZS1zZWxlY3RlZF0sdGhbZGF0YS1tY2Utc2VsZWN0ZWRdIik7cmV0dXJuIDA8bi5sZW5ndGg/bjpJZihlKX0sRmY9ZnVuY3Rpb24oZSl7cmV0dXJuIE1mKExmKGUuc2VsZWN0aW9uLmdldFNlbCgpKSxBdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKSl9LFVmPWZ1bmN0aW9uKHQpe3JldHVybiBRdCh0KS5mb2xkKEUoW3RdKSxmdW5jdGlvbihlKXtyZXR1cm5bdF0uY29uY2F0KFVmKGUpKX0pfSx6Zj1mdW5jdGlvbih0KXtyZXR1cm4gWnQodCkuZm9sZChFKFt0XSksZnVuY3Rpb24oZSl7cmV0dXJuImJyIj09PUx0KGUpP1d0KGUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bdF0uY29uY2F0KHpmKGUpKX0pLmdldE9yKFtdKTpbdF0uY29uY2F0KHpmKGUpKX0pfSxqZj1mdW5jdGlvbihvLGUpe3JldHVybiBkcygoYT0oaT1lKS5zdGFydENvbnRhaW5lcix1PWkuc3RhcnRPZmZzZXQsSW4oYSk/MD09PXU/VS5zb21lKEF0LmZyb21Eb20oYSkpOlUubm9uZSgpOlUuZnJvbShhLmNoaWxkTm9kZXNbdV0pLm1hcChBdC5mcm9tRG9tKSksKG49KHQ9ZSkuZW5kQ29udGFpbmVyLHI9dC5lbmRPZmZzZXQsSW4obik/cj09PW4uZGF0YS5sZW5ndGg/VS5zb21lKEF0LmZyb21Eb20obikpOlUubm9uZSgpOlUuZnJvbShuLmNoaWxkTm9kZXNbci0xXSkubWFwKEF0LmZyb21Eb20pKSxmdW5jdGlvbihlLHQpe3ZhciBuPVkoVWYobyksTihPdCxlKSkscj1ZKHpmKG8pLE4oT3QsdCkpO3JldHVybiBuLmlzU29tZSgpJiZyLmlzU29tZSgpfSkuZ2V0T3IoITEpO3ZhciB0LG4scixpLGEsdX0sSGY9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89bixpPW5ldyBYcihuLG8pLGE9bWUoZS5zY2hlbWEuZ2V0TW92ZUNhcmV0QmVmb3JlT25FbnRlckVsZW1lbnRzKCksZnVuY3Rpb24oZSx0KXtyZXR1cm4hTShbInRkIiwidGgiLCJ0YWJsZSJdLHQudG9Mb3dlckNhc2UoKSl9KTtkb3tpZihJbihuKSYmMCE9PWt0LnRyaW0obi5ub2RlVmFsdWUpLmxlbmd0aClyZXR1cm4gdm9pZChyP3Quc2V0U3RhcnQobiwwKTp0LnNldEVuZChuLG4ubm9kZVZhbHVlLmxlbmd0aCkpO2lmKGFbbi5ub2RlTmFtZV0pcmV0dXJuIHZvaWQocj90LnNldFN0YXJ0QmVmb3JlKG4pOiJCUiI9PT1uLm5vZGVOYW1lP3Quc2V0RW5kQmVmb3JlKG4pOnQuc2V0RW5kQWZ0ZXIobikpfXdoaWxlKG49cj9pLm5leHQoKTppLnByZXYoKSk7IkJPRFkiPT09by5ub2RlTmFtZSYmKHI/dC5zZXRTdGFydChvLDApOnQuc2V0RW5kKG8sby5jaGlsZE5vZGVzLmxlbmd0aCkpfSxWZj1mdW5jdGlvbihlKXt2YXIgdD1lLnNlbGVjdGlvbi5nZXRTZWwoKTtyZXR1cm4gdCYmMDx0LnJhbmdlQ291bnR9LHFmPWZ1bmN0aW9uKHIsbyl7dmFyIGU9RmYocik7MDxlLmxlbmd0aD9XKGUsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20sbj1yLmRvbS5jcmVhdGVSbmcoKTtuLnNldFN0YXJ0QmVmb3JlKHQpLG4uc2V0RW5kQWZ0ZXIodCksbyhuLCEwKX0pOm8oci5zZWxlY3Rpb24uZ2V0Um5nKCksITEpfSwkZj1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZmMoZSx0KTtuKHIpLGUubW92ZVRvQm9va21hcmsocil9O3ZhciBXZixLZixYZixZZj0oV2Y9VXQsS2Y9InRleHQiLHtnZXQ6ZnVuY3Rpb24oZSl7aWYoIVdmKGUpKXRocm93IG5ldyBFcnJvcigiQ2FuIG9ubHkgZ2V0ICIrS2YrIiB2YWx1ZSBvZiBhICIrS2YrIiBub2RlIik7cmV0dXJuIFhmKGUpLmdldE9yKCIiKX0sZ2V0T3B0aW9uOlhmPWZ1bmN0aW9uKGUpe3JldHVybiBXZihlKT9VLmZyb20oZS5kb20ubm9kZVZhbHVlKTpVLm5vbmUoKX0sc2V0OmZ1bmN0aW9uKGUsdCl7aWYoIVdmKGUpKXRocm93IG5ldyBFcnJvcigiQ2FuIG9ubHkgc2V0IHJhdyAiK0tmKyIgdmFsdWUgb2YgYSAiK0tmKyIgbm9kZSIpO2UuZG9tLm5vZGVWYWx1ZT10fX0pLEdmPWZ1bmN0aW9uKGUpe3JldHVybiBZZi5nZXQoZSl9LEpmPWZ1bmN0aW9uKHIsbyxpLGEpe3JldHVybiAkdChvKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuInNraXBwaW5nIn0sZnVuY3Rpb24oZSl7cmV0dXJuImJyIj09PWF8fFV0KG49bykmJkdmKG4pPT09Zm8/InZhbGlkIjpGdCh0PW8pJiZYdSh0LEp1KCkpPyJleGlzdGluZyI6amwoby5kb20pPyJjYXJldCI6YWYocixpLGEpJiZhZihyLEx0KGUpLGkpPyJ2YWxpZCI6ImludmFsaWQtY2hpbGQiO3ZhciB0LG59KX0sUWY9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89dC51aWQsaT12b2lkIDA9PT1vP2lzKCJtY2UtYW5ub3RhdGlvbiIpOm8sYT1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZ0LmluZGV4T2Yocik8MCYmKG5bcl09ZVtyXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpZm9yKHZhciBvPTAscj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO288ci5sZW5ndGg7bysrKXQuaW5kZXhPZihyW29dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxyW29dKSYmKG5bcltvXV09ZVtyW29dXSk7cmV0dXJuIG59KHQsWyJ1aWQiXSksdT1BdC5mcm9tVGFnKCJzcGFuIixlKTtXdSh1LEp1KCkpLFhuKHUsIiIrWnUoKSxpKSxYbih1LCIiK1F1KCksbik7dmFyIHMsYz1yKGksYSksbD1jLmF0dHJpYnV0ZXMsZj12b2lkIDA9PT1sP3t9OmwsZD1jLmNsYXNzZXMsbT12b2lkIDA9PT1kP1tdOmQ7cmV0dXJuIFluKHUsZikscz11LFcobSxmdW5jdGlvbihlKXtXdShzLGUpfSksdX0sWmY9ZnVuY3Rpb24oaSxlLHQsbixyKXt2YXIgYT1bXSx1PVFmKGkuZ2V0RG9jKCkscix0LG4pLHM9T3UoVS5ub25lKCkpLGM9ZnVuY3Rpb24oKXtzLnNldChVLm5vbmUoKSl9LGw9ZnVuY3Rpb24oZSl7VyhlLG8pfSxvPWZ1bmN0aW9uKGUpe3ZhciB0LG47c3dpdGNoKEpmKGksZSwic3BhbiIsTHQoZSkpKXtjYXNlImludmFsaWQtY2hpbGQiOmMoKTt2YXIgcj1HdChlKTtsKHIpLGMoKTticmVhaztjYXNlInZhbGlkIjp2YXIgbz1zLmdldCgpLmdldE9yVGh1bmsoZnVuY3Rpb24oKXt2YXIgZT1zcyh1KTtyZXR1cm4gYS5wdXNoKGUpLHMuc2V0KFUuc29tZShlKSksZX0pO3NuKHQ9ZSxuPW8pLGZuKG4sdCl9fTtyZXR1cm4gUGYoaS5kb20sZSxmdW5jdGlvbihlKXt2YXIgdDtjKCksdD16KGUsQXQuZnJvbURvbSksbCh0KX0pLGF9LGVkPWZ1bmN0aW9uKHUscyxjLGwpe3UudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXt2YXIgZSx0LG4scixvPXUuc2VsZWN0aW9uLGk9by5nZXRSbmcoKSxhPTA8RmYodSkubGVuZ3RoO2kuY29sbGFwc2VkJiYhYSYmKG49T2YoZT11LHQ9aSxbe2lubGluZTohMH1dKSx0LnNldFN0YXJ0KG4uc3RhcnRDb250YWluZXIsbi5zdGFydE9mZnNldCksdC5zZXRFbmQobi5lbmRDb250YWluZXIsbi5lbmRPZmZzZXQpLGUuc2VsZWN0aW9uLnNldFJuZyh0KSksby5nZXRSbmcoKS5jb2xsYXBzZWQmJiFhPyhyPVFmKHUuZ2V0RG9jKCksbCxzLGMuZGVjb3JhdGUpLGFzKHIsbG8pLG8uZ2V0Um5nKCkuaW5zZXJ0Tm9kZShyLmRvbSksby5zZWxlY3Qoci5kb20pKTokZihvLCExLGZ1bmN0aW9uKCl7cWYodSxmdW5jdGlvbihlKXtaZih1LGUscyxjLmRlY29yYXRlLGwpfSl9KX0pfSx0ZD1mdW5jdGlvbih1KXt2YXIgbixyPShuPXt9LHtyZWdpc3RlcjpmdW5jdGlvbihlLHQpe25bZV09e25hbWU6ZSxzZXR0aW5nczp0fX0sbG9va3VwOmZ1bmN0aW9uKGUpe3JldHVybiBuLmhhc093blByb3BlcnR5KGUpP1UuZnJvbShuW2VdKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0dGluZ3N9KTpVLm5vbmUoKX19KTtycyh1LHIpO3ZhciBvPW5zKHUpO3JldHVybntyZWdpc3RlcjpmdW5jdGlvbihlLHQpe3IucmVnaXN0ZXIoZSx0KX0sYW5ub3RhdGU6ZnVuY3Rpb24odCxuKXtyLmxvb2t1cCh0KS5lYWNoKGZ1bmN0aW9uKGUpe2VkKHUsdCxlLG4pfSl9LGFubm90YXRpb25DaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7by5hZGRMaXN0ZW5lcihlLHQpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7ZXModSxVLnNvbWUoZSkpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lbGVtZW50cztXKHQsZ24pfSl9LGdldEFsbDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGE9KHQ9dSxuPWUscj1BdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSxvPUd1KHIsIlsiK1F1KCkrJz0iJytuKyciXScpLGk9e30sVyhvLGZ1bmN0aW9uKGUpe3ZhciB0PUduKGUsWnUoKSksbj1pLmhhc093blByb3BlcnR5KHQpP2lbdF06W107aVt0XT1uLmNvbmNhdChbZV0pfSksaSk7cmV0dXJuIHNlKGEsZnVuY3Rpb24oZSl7cmV0dXJuIHooZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5kb219KX0pfX19O2Z1bmN0aW9uIG5kKGUpe3JldHVybntnZXRCb29rbWFyazpOKFlsLGUpLG1vdmVUb0Jvb2ttYXJrOk4oR2wsZSl9fShuZD1uZHx8e30pLmlzQm9va21hcmtOb2RlPUpsO3ZhciByZCxvZD1uZCxpZD1mdW5jdGlvbihlLHQpe2Zvcig7dCYmdCE9PWU7KXtpZihIbih0KXx8Vm4odCkpcmV0dXJuIHQ7dD10LnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LGFkPWZ1bmN0aW9uKHQsbixlKXtpZihlLmNvbGxhcHNlZClyZXR1cm4hMTtpZih3dC5icm93c2VyLmlzSUUoKSYmZS5zdGFydE9mZnNldD09PWUuZW5kT2Zmc2V0LTEmJmUuc3RhcnRDb250YWluZXI9PT1lLmVuZENvbnRhaW5lcil7dmFyIHI9ZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW2Uuc3RhcnRPZmZzZXRdO2lmKEFuKHIpKXJldHVybiBGKHIuZ2V0Q2xpZW50UmVjdHMoKSxmdW5jdGlvbihlKXtyZXR1cm4gYnMoZSx0LG4pfSl9cmV0dXJuIEYoZS5nZXRDbGllbnRSZWN0cygpLGZ1bmN0aW9uKGUpe3JldHVybiBicyhlLHQsbil9KX0sdWQ9e0JBQ0tTUEFDRTo4LERFTEVURTo0NixET1dOOjQwLEVOVEVSOjEzLExFRlQ6MzcsUklHSFQ6MzksU1BBQ0VCQVI6MzIsVEFCOjksVVA6MzgsRU5EOjM1LEhPTUU6MzYsbW9kaWZpZXJQcmVzc2VkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNoaWZ0S2V5fHxlLmN0cmxLZXl8fGUuYWx0S2V5fHx0aGlzLm1ldGFLZXlQcmVzc2VkKGUpfSxtZXRhS2V5UHJlc3NlZDpmdW5jdGlvbihlKXtyZXR1cm4gd3QubWFjP2UubWV0YUtleTplLmN0cmxLZXkmJiFlLmFsdEtleX19LHNkPVZuLGNkPWZ1bmN0aW9uKHIsbCl7dmFyIGYsZCxtLHAsZyxoLHYseSxiLEMsdyx4LFMsTixFPWwuZG9tLHM9a3QuZWFjaCxjPWwuZ2V0RG9jKCksaz1kb2N1bWVudCxfPU1hdGguYWJzLEE9TWF0aC5yb3VuZCxSPWwuZ2V0Qm9keSgpLFQ9e253OlswLDAsLTEsLTFdLG5lOlsxLDAsMSwtMV0sc2U6WzEsMSwxLDFdLHN3OlswLDEsLTEsMV19LEQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJigiSU1HIj09PWUubm9kZU5hbWV8fGwuZG9tLmlzKGUsImZpZ3VyZS5pbWFnZSIpKX0sbj1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDshZnVuY3Rpb24oZSx0KXtpZigibG9uZ3ByZXNzIiE9PWUudHlwZSYmMCE9PWUudHlwZS5pbmRleE9mKCJ0b3VjaCIpKXJldHVybiBEKGUudGFyZ2V0KSYmIWFkKGUuY2xpZW50WCxlLmNsaWVudFksdCk7dmFyIG49ZS50b3VjaGVzWzBdO3JldHVybiBEKGUudGFyZ2V0KSYmIWFkKG4uY2xpZW50WCxuLmNsaWVudFksdCl9KGUsbC5zZWxlY3Rpb24uZ2V0Um5nKCkpfHxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxsLnNlbGVjdGlvbi5zZWxlY3QodCl9LE89ZnVuY3Rpb24oZSl7cmV0dXJuIGwuZG9tLmlzKGUsImZpZ3VyZS5pbWFnZSIpP2UucXVlcnlTZWxlY3RvcigiaW1nIik6ZX0sQj1mdW5jdGlvbihlKXt2YXIgdD1OYyhsKTtyZXR1cm4hIXQmJigiZmFsc2UiIT09ZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXJlc2l6ZSIpJiYoZSE9PWwuZ2V0Qm9keSgpJiZUdChBdC5mcm9tRG9tKGUpLHQpKSl9LFA9ZnVuY3Rpb24oZSx0LG4pe0Uuc2V0U3R5bGVzKE8oZSkse3dpZHRoOnQsaGVpZ2h0Om59KX0sTD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzPWUuc2NyZWVuWC1nLGM9ZS5zY3JlZW5ZLWg7dz1zKnBbMl0rdix4PWMqcFszXSt5LHc9dzw1PzU6dyx4PXg8NT81OngsKEQoZikmJiExIT09bC5nZXRQYXJhbSgicmVzaXplX2ltZ19wcm9wb3J0aW9uYWwiLCEwLCJib29sZWFuIik/IXVkLm1vZGlmaWVyUHJlc3NlZChlKTp1ZC5tb2RpZmllclByZXNzZWQoZSkpJiYoXyhzKT5fKGMpPyh4PUEodypiKSx3PUEoeC9iKSk6KHc9QSh4L2IpLHg9QSh3KmIpKSksUChkLHcseCksdD0wPCh0PXAuc3RhcnRQb3MueCtzKT90OjAsbj0wPChuPXAuc3RhcnRQb3MueStjKT9uOjAsRS5zZXRTdHlsZXMobSx7bGVmdDp0LHRvcDpuLGRpc3BsYXk6ImJsb2NrIn0pLG0uaW5uZXJIVE1MPXcrIiAmdGltZXM7ICIreCxwWzJdPDAmJmQuY2xpZW50V2lkdGg8PXcmJkUuc2V0U3R5bGUoZCwibGVmdCIsdm9pZCAwKyh2LXcpKSxwWzNdPDAmJmQuY2xpZW50SGVpZ2h0PD14JiZFLnNldFN0eWxlKGQsInRvcCIsdm9pZCAwKyh5LXgpKSwocz1SLnNjcm9sbFdpZHRoLVMpKyhjPVIuc2Nyb2xsSGVpZ2h0LU4pIT09MCYmRS5zZXRTdHlsZXMobSx7bGVmdDp0LXMsdG9wOm4tY30pLEN8fChyPWwsbz1mLGk9dixhPXksdT0iY29ybmVyLSIrcC5uYW1lLHIuZmlyZSgiT2JqZWN0UmVzaXplU3RhcnQiLHt0YXJnZXQ6byx3aWR0aDppLGhlaWdodDphLG9yaWdpbjp1fSksQz0hMCl9LEk9ZnVuY3Rpb24oKXt2YXIgZT1DO0M9ITE7dmFyIHQsbixyLG8saSxhPWZ1bmN0aW9uKGUsdCl7dCYmKGYuc3R5bGVbZV18fCFsLnNjaGVtYS5pc1ZhbGlkKGYubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxlKT9FLnNldFN0eWxlKE8oZiksZSx0KTpFLnNldEF0dHJpYihPKGYpLGUsIiIrdCkpfTtlJiYoYSgid2lkdGgiLHcpLGEoImhlaWdodCIseCkpLEUudW5iaW5kKGMsIm1vdXNlbW92ZSIsTCksRS51bmJpbmQoYywibW91c2V1cCIsSSksayE9PWMmJihFLnVuYmluZChrLCJtb3VzZW1vdmUiLEwpLEUudW5iaW5kKGssIm1vdXNldXAiLEkpKSxFLnJlbW92ZShkKSxFLnJlbW92ZShtKSx1KGYpLGUmJih0PWwsbj1mLHI9dyxvPXgsaT0iY29ybmVyLSIrcC5uYW1lLHQuZmlyZSgiT2JqZWN0UmVzaXplZCIse3RhcmdldDpuLHdpZHRoOnIsaGVpZ2h0Om8sb3JpZ2luOml9KSxFLnNldEF0dHJpYihmLCJzdHlsZSIsRS5nZXRBdHRyaWIoZiwic3R5bGUiKSkpLGwubm9kZUNoYW5nZWQoKX0sdT1mdW5jdGlvbihlKXtNKCksRigpO3ZhciB0PUUuZ2V0UG9zKGUsUiksbz10LngsaT10Lnksbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9bi53aWR0aHx8bi5yaWdodC1uLmxlZnQsdT1uLmhlaWdodHx8bi5ib3R0b20tbi50b3A7ZiE9PWUmJihmPWUsdz14PTApO3ZhciByPWwuZmlyZSgiT2JqZWN0U2VsZWN0ZWQiLHt0YXJnZXQ6ZX0pO0IoZSkmJiFyLmlzRGVmYXVsdFByZXZlbnRlZCgpP3MoVCxmdW5jdGlvbihuLHIpe3ZhciBlPUUuZ2V0KCJtY2VSZXNpemVIYW5kbGUiK3IpO2UmJkUucmVtb3ZlKGUpLGU9RS5hZGQoUiwiZGl2Iix7aWQ6Im1jZVJlc2l6ZUhhbmRsZSIrciwiZGF0YS1tY2UtYm9ndXMiOiJhbGwiLCJjbGFzcyI6Im1jZS1yZXNpemVoYW5kbGUiLHVuc2VsZWN0YWJsZTohMCxzdHlsZToiY3Vyc29yOiIrcisiLXJlc2l6ZTsgbWFyZ2luOjA7IHBhZGRpbmc6MCJ9KSwxMT09PXd0LmllJiYoZS5jb250ZW50RWRpdGFibGU9ITEpLEUuYmluZChlLCJtb3VzZWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0O2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLGc9KHQ9ZSkuc2NyZWVuWCxoPXQuc2NyZWVuWSx2PU8oZikuY2xpZW50V2lkdGgseT1PKGYpLmNsaWVudEhlaWdodCxiPXkvdiwocD1uKS5uYW1lPXIscC5zdGFydFBvcz17eDphKm5bMF0rbyx5OnUqblsxXStpfSxTPVIuc2Nyb2xsV2lkdGgsTj1SLnNjcm9sbEhlaWdodCxkPWYuY2xvbmVOb2RlKCEwKSxFLmFkZENsYXNzKGQsIm1jZS1jbG9uZWRyZXNpemFibGUiKSxFLnNldEF0dHJpYihkLCJkYXRhLW1jZS1ib2d1cyIsImFsbCIpLGQuY29udGVudEVkaXRhYmxlPSExLGQudW5TZWxlY3RhYmU9ITAsRS5zZXRTdHlsZXMoZCx7bGVmdDpvLHRvcDppLG1hcmdpbjowfSksUChkLGEsdSksZC5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiksUi5hcHBlbmRDaGlsZChkKSxFLmJpbmQoYywibW91c2Vtb3ZlIixMKSxFLmJpbmQoYywibW91c2V1cCIsSSksayE9PWMmJihFLmJpbmQoaywibW91c2Vtb3ZlIixMKSxFLmJpbmQoaywibW91c2V1cCIsSSkpLG09RS5hZGQoUiwiZGl2Iix7ImNsYXNzIjoibWNlLXJlc2l6ZS1oZWxwZXIiLCJkYXRhLW1jZS1ib2d1cyI6ImFsbCJ9LHYrIiAmdGltZXM7ICIreSl9KSxuLmVsbT1lLEUuc2V0U3R5bGVzKGUse2xlZnQ6YSpuWzBdK28tZS5vZmZzZXRXaWR0aC8yLHRvcDp1Km5bMV0raS1lLm9mZnNldEhlaWdodC8yfSl9KTpNKCksZi5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiwiMSIpfSxNPWZ1bmN0aW9uKCl7RigpLGYmJmYucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpLHVlKFQsZnVuY3Rpb24oZSx0KXt2YXIgbj1FLmdldCgibWNlUmVzaXplSGFuZGxlIit0KTtuJiYoRS51bmJpbmQobiksRS5yZW1vdmUobikpfSl9LG89ZnVuY3Rpb24oZSl7dmFyIHQsbj1mdW5jdGlvbihlLHQpe2lmKGUpZG97aWYoZT09PXQpcmV0dXJuITB9d2hpbGUoZT1lLnBhcmVudE5vZGUpfTtDfHxsLnJlbW92ZWR8fChzKEUuc2VsZWN0KCJpbWdbZGF0YS1tY2Utc2VsZWN0ZWRdLGhyW2RhdGEtbWNlLXNlbGVjdGVkXSIpLGZ1bmN0aW9uKGUpe2UucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpfSksdD0ibW91c2Vkb3duIj09PWUudHlwZT9lLnRhcmdldDpyLmdldE5vZGUoKSxuKHQ9RS4kKHQpLmNsb3Nlc3QoInRhYmxlLGltZyxmaWd1cmUuaW1hZ2UsaHIiKVswXSxSKSYmKGEoKSxuKHIuZ2V0U3RhcnQoITApLHQpJiZuKHIuZ2V0RW5kKCEwKSx0KSk/dSh0KTpNKCkpfSxpPWZ1bmN0aW9uKGUpe3JldHVybiBzZChpZChsLmdldEJvZHkoKSxlKSl9LEY9ZnVuY3Rpb24oKXt1ZShULGZ1bmN0aW9uKGUpe2UuZWxtJiYoRS51bmJpbmQoZS5lbG0pLGRlbGV0ZSBlLmVsbSl9KX0sYT1mdW5jdGlvbigpe3RyeXtsLmdldERvYygpLmV4ZWNDb21tYW5kKCJlbmFibGVPYmplY3RSZXNpemluZyIsITEsImZhbHNlIil9Y2F0Y2goZSl7fX07bC5vbigiaW5pdCIsZnVuY3Rpb24oKXt2YXIgZTthKCksKHd0LmJyb3dzZXIuaXNJRSgpfHx3dC5icm93c2VyLmlzRWRnZSgpKSYmKGwub24oIm1vdXNlZG93biBjbGljayIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQsbj10Lm5vZGVOYW1lO0N8fCEvXihUQUJMRXxJTUd8SFIpJC8udGVzdChuKXx8aSh0KXx8KDIhPT1lLmJ1dHRvbiYmbC5zZWxlY3Rpb24uc2VsZWN0KHQsIlRBQkxFIj09PW4pLCJtb3VzZWRvd24iPT09ZS50eXBlJiZsLm5vZGVDaGFuZ2VkKCkpfSksZT1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtxci5zZXRFZGl0b3JUaW1lb3V0KGwsZnVuY3Rpb24oKXtyZXR1cm4gbC5zZWxlY3Rpb24uc2VsZWN0KGUpfSl9O2lmKGkoZS50YXJnZXQpfHwkbihlLnRhcmdldCkpcmV0dXJuIGUucHJldmVudERlZmF1bHQoKSx2b2lkIHQoZS50YXJnZXQpOy9eKFRBQkxFfElNR3xIUikkLy50ZXN0KGUudGFyZ2V0Lm5vZGVOYW1lKSYmKGUucHJldmVudERlZmF1bHQoKSwiSU1HIj09PWUudGFyZ2V0LnRhZ05hbWUmJnQoZS50YXJnZXQpKX0sRS5iaW5kKFIsIm1zY29udHJvbHNlbGVjdCIsZSksbC5vbigicmVtb3ZlIixmdW5jdGlvbigpe3JldHVybiBFLnVuYmluZChSLCJtc2NvbnRyb2xzZWxlY3QiLGUpfSkpO3ZhciB0PXFyLnRocm90dGxlKGZ1bmN0aW9uKGUpe2wuY29tcG9zaW5nfHxvKGUpfSk7bC5vbigibm9kZWNoYW5nZSBSZXNpemVFZGl0b3IgUmVzaXplV2luZG93IFJlc2l6ZUNvbnRlbnQgZHJvcCBGdWxsc2NyZWVuU3RhdGVDaGFuZ2VkIix0KSxsLm9uKCJrZXl1cCBjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24oZSl7ZiYmIlRBQkxFIj09PWYubm9kZU5hbWUmJnQoZSl9KSxsLm9uKCJoaWRlIGJsdXIiLE0pLGwub24oImNvbnRleHRtZW51IGxvbmdwcmVzcyIsbiwhMCl9KSxsLm9uKCJyZW1vdmUiLEYpO3JldHVybntpc1Jlc2l6YWJsZTpCLHNob3dSZXNpemVSZWN0OnUsaGlkZVJlc2l6ZVJlY3Q6TSx1cGRhdGVSZXNpemVSZWN0Om8sZGVzdHJveTpmdW5jdGlvbigpe2Y9ZD1udWxsfX19LGxkPWZ1bmN0aW9uKGUpe3JldHVybiBIbihlKXx8Vm4oZSl9LGZkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHM9bjtpZihzLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQpKG89cy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KGUsdCkpJiYoKHI9bi5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChvLm9mZnNldE5vZGUsby5vZmZzZXQpLHIuY29sbGFwc2UoITApKTtlbHNlIGlmKG4uY2FyZXRSYW5nZUZyb21Qb2ludClyPW4uY2FyZXRSYW5nZUZyb21Qb2ludChlLHQpO2Vsc2UgaWYocy5ib2R5LmNyZWF0ZVRleHRSYW5nZSl7cj1zLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e3IubW92ZVRvUG9pbnQoZSx0KSxyLmNvbGxhcHNlKCEwKX1jYXRjaChjKXtyPWZ1bmN0aW9uKGUsbix0KXt2YXIgcixvPXQuZWxlbWVudEZyb21Qb2ludChlLG4pLGk9dC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO2lmKG8mJiJIVE1MIiE9PW8udGFnTmFtZXx8KG89dC5ib2R5KSxpLm1vdmVUb0VsZW1lbnRUZXh0KG8pLDA8KHI9KHI9a3QudG9BcnJheShpLmdldENsaWVudFJlY3RzKCkpKS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU9TWF0aC5hYnMoTWF0aC5tYXgoZS50b3AtbixlLmJvdHRvbS1uKSkpLSh0PU1hdGguYWJzKE1hdGgubWF4KHQudG9wLW4sdC5ib3R0b20tbikpKX0pKS5sZW5ndGgpe249KHJbMF0uYm90dG9tK3JbMF0udG9wKS8yO3RyeXtyZXR1cm4gaS5tb3ZlVG9Qb2ludChlLG4pLGkuY29sbGFwc2UoITApLGl9Y2F0Y2goYSl7fX1yZXR1cm4gbnVsbH0oZSx0LG4pfXJldHVybiBpPXIsYT1uLmJvZHksdT1pJiZpLnBhcmVudEVsZW1lbnQ/aS5wYXJlbnRFbGVtZW50KCk6bnVsbCxWbihmdW5jdGlvbihlLHQsbil7Zm9yKDtlJiZlIT09dDspe2lmKG4oZSkpcmV0dXJuIGU7ZT1lLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9KHUsYSxsZCkpP251bGw6aX1yZXR1cm4gcn0sZGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmdCYmZS5zdGFydENvbnRhaW5lcj09PXQuc3RhcnRDb250YWluZXImJmUuc3RhcnRPZmZzZXQ9PT10LnN0YXJ0T2Zmc2V0JiZlLmVuZENvbnRhaW5lcj09PXQuZW5kQ29udGFpbmVyJiZlLmVuZE9mZnNldD09PXQuZW5kT2Zmc2V0fSxtZD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGwhPT1mdW5jdGlvbihlLHQsbil7Zm9yKDtlJiZlIT09dDspe2lmKG4oZSkpcmV0dXJuIGU7ZT1lLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9KGUsdCxuKX0scGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJUQUJMRSI9PT1lLm5vZGVOYW1lfSxnZD1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW5ldyBYcih0LGUuZ2V0UGFyZW50KHQucGFyZW50Tm9kZSxlLmlzQmxvY2spfHxlLmdldFJvb3QoKSk7dD1yW24/InByZXYiOiJuZXh0Il0oKTspaWYoem4odCkpcmV0dXJuITB9LGhkPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1PWUuZ2V0Um9vdCgpLHM9ZS5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLGM9ZS5nZXRQYXJlbnQoby5wYXJlbnROb2RlLGUuaXNCbG9jayl8fHU7aWYociYmem4obykmJnQmJmUuaXNFbXB0eShjKSlyZXR1cm4gVS5zb21lKEhzKG8ucGFyZW50Tm9kZSxlLm5vZGVJbmRleChvKSkpO2Zvcih2YXIgbCxmLGQ9bmV3IFhyKG8sYyk7YT1kW3I/InByZXYiOiJuZXh0Il0oKTspe2lmKCJmYWxzZSI9PT1lLmdldENvbnRlbnRFZGl0YWJsZVBhcmVudChhKXx8KGY9dSxibyhsPWEpJiYhMT09PW1kKGwsZixqbCkpKXJldHVybiBVLm5vbmUoKTtpZihJbihhKSYmMDxhLm5vZGVWYWx1ZS5sZW5ndGgpcmV0dXJuITE9PT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG1kKGUsdCxmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZT09PW59KX0oYSx1LCJBIik/VS5zb21lKEhzKGEscj9hLm5vZGVWYWx1ZS5sZW5ndGg6MCkpOlUubm9uZSgpO2lmKGUuaXNCbG9jayhhKXx8c1thLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXJldHVybiBVLm5vbmUoKTtpPWF9cmV0dXJuIG4mJmk/VS5zb21lKEhzKGksMCkpOlUubm9uZSgpfSx2ZD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzPWUuZ2V0Um9vdCgpLGM9ITEsbD1yWyhuPyJzdGFydCI6ImVuZCIpKyJDb250YWluZXIiXSxmPXJbKG4/InN0YXJ0IjoiZW5kIikrIk9mZnNldCJdLGQ9QW4obCkmJmY9PT1sLmNoaWxkTm9kZXMubGVuZ3RoLG09ZS5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLHA9bjtpZihibyhsKSlyZXR1cm4gVS5ub25lKCk7aWYoQW4obCkmJmY+bC5jaGlsZE5vZGVzLmxlbmd0aC0xJiYocD0hMSksRm4obCkmJihsPXMsZj0wKSxsPT09cyl7aWYocCYmKG89bC5jaGlsZE5vZGVzWzA8Zj9mLTE6MF0pKXtpZihibyhvKSlyZXR1cm4gVS5ub25lKCk7aWYobVtvLm5vZGVOYW1lXXx8cGQobykpcmV0dXJuIFUubm9uZSgpfWlmKGwuaGFzQ2hpbGROb2RlcygpKXtpZihmPU1hdGgubWluKCFwJiYwPGY/Zi0xOmYsbC5jaGlsZE5vZGVzLmxlbmd0aC0xKSxsPWwuY2hpbGROb2Rlc1tmXSxmPUluKGwpJiZkP2wuZGF0YS5sZW5ndGg6MCwhdCYmbD09PXMubGFzdENoaWxkJiZwZChsKSlyZXR1cm4gVS5ub25lKCk7aWYoZnVuY3Rpb24oZSx0KXtmb3IoO3QmJnQhPT1lOyl7aWYoVm4odCkpcmV0dXJuITA7dD10LnBhcmVudE5vZGV9cmV0dXJuITF9KHMsbCl8fGJvKGwpKXJldHVybiBVLm5vbmUoKTtpZihsLmhhc0NoaWxkTm9kZXMoKSYmITE9PT1wZChsKSl7dmFyIGc9bmV3IFhyKG89bCxzKTtkb3tpZihWbihvKXx8Ym8obykpe2M9ITE7YnJlYWt9aWYoSW4obykmJjA8by5ub2RlVmFsdWUubGVuZ3RoKXtmPXA/MDpvLm5vZGVWYWx1ZS5sZW5ndGgsbD1vLGM9ITA7YnJlYWt9aWYobVtvLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiYoIShpPW8pfHwhL14oVER8VEh8Q0FQVElPTikkLy50ZXN0KGkubm9kZU5hbWUpKSl7Zj1lLm5vZGVJbmRleChvKSxsPW8ucGFyZW50Tm9kZSxwfHxmKyssYz0hMDticmVha319d2hpbGUobz1wP2cubmV4dCgpOmcucHJldigpKX19fXJldHVybiB0JiYoSW4obCkmJjA9PT1mJiZoZChlLGQsdCwhMCxsKS5lYWNoKGZ1bmN0aW9uKGUpe2w9ZS5jb250YWluZXIoKSxmPWUub2Zmc2V0KCksYz0hMH0pLEFuKGwpJiYoIShvPShvPWwuY2hpbGROb2Rlc1tmXSl8fGwuY2hpbGROb2Rlc1tmLTFdKXx8IXpuKG8pfHwodT0iQSIsKGE9bykucHJldmlvdXNTaWJsaW5nJiZhLnByZXZpb3VzU2libGluZy5ub2RlTmFtZT09PXUpfHxnZChlLG8sITEpfHxnZChlLG8sITApfHxoZChlLGQsdCwhMCxvKS5lYWNoKGZ1bmN0aW9uKGUpe2w9ZS5jb250YWluZXIoKSxmPWUub2Zmc2V0KCksYz0hMH0pKSkscCYmIXQmJkluKGwpJiZmPT09bC5ub2RlVmFsdWUubGVuZ3RoJiZoZChlLGQsdCwhMSxsKS5lYWNoKGZ1bmN0aW9uKGUpe2w9ZS5jb250YWluZXIoKSxmPWUub2Zmc2V0KCksYz0hMH0pLGM/VS5zb21lKEhzKGwsZikpOlUubm9uZSgpfSx5ZD1mdW5jdGlvbihlLHQpe3ZhciBuPXQuY29sbGFwc2VkLHI9dC5jbG9uZVJhbmdlKCksbz1Icy5mcm9tUmFuZ2VTdGFydCh0KTtyZXR1cm4gdmQoZSxuLCEwLHIpLmVhY2goZnVuY3Rpb24oZSl7biYmSHMuaXNBYm92ZShvLGUpfHxyLnNldFN0YXJ0KGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSl9KSxufHx2ZChlLG4sITEscikuZWFjaChmdW5jdGlvbihlKXtyLnNldEVuZChlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpfSksbiYmci5jb2xsYXBzZSghMCksZGQodCxyKT9VLm5vbmUoKTpVLnNvbWUocil9LGJkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3BsaXRUZXh0KHQpfSxDZD1mdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0Q29udGFpbmVyLG49ZS5zdGFydE9mZnNldCxyPWUuZW5kQ29udGFpbmVyLG89ZS5lbmRPZmZzZXQ7cmV0dXJuIHQ9PT1yJiZJbih0KT8wPG4mJm48dC5ub2RlVmFsdWUubGVuZ3RoJiYodD0ocj1iZCh0LG4pKS5wcmV2aW91c1NpYmxpbmcsbjxvPyh0PXI9YmQocixvLT1uKS5wcmV2aW91c1NpYmxpbmcsbz1yLm5vZGVWYWx1ZS5sZW5ndGgsbj0wKTpvPTApOihJbih0KSYmMDxuJiZuPHQubm9kZVZhbHVlLmxlbmd0aCYmKHQ9YmQodCxuKSxuPTApLEluKHIpJiYwPG8mJm88ci5ub2RlVmFsdWUubGVuZ3RoJiYobz0ocj1iZChyLG8pLnByZXZpb3VzU2libGluZykubm9kZVZhbHVlLmxlbmd0aCkpLHtzdGFydENvbnRhaW5lcjp0LHN0YXJ0T2Zmc2V0Om4sZW5kQ29udGFpbmVyOnIsZW5kT2Zmc2V0Om99fTtmdW5jdGlvbiB3ZChuKXtyZXR1cm57d2FsazpmdW5jdGlvbihlLHQpe3JldHVybiBQZihuLGUsdCl9LHNwbGl0OkNkLG5vcm1hbGl6ZTpmdW5jdGlvbih0KXtyZXR1cm4geWQobix0KS5mb2xkKEMsZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2V0U3RhcnQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KSx0LnNldEVuZChlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCksITB9KX19fShyZD13ZD13ZHx8e30pLmNvbXBhcmVSYW5nZXM9ZGQscmQuZ2V0Q2FyZXRSYW5nZUZyb21Qb2ludD1mZCxyZC5nZXRTZWxlY3RlZE5vZGU9Q3MscmQuZ2V0Tm9kZT13czt2YXIgeGQ9d2Q7dmFyIFNkLE5kLEVkLGtkLF9kLEFkPShTZD0iaGVpZ2h0IixOZD1mdW5jdGlvbihlKXt2YXIgdD1lLmRvbTtyZXR1cm4gaG4oZSk/dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ6dC5vZmZzZXRIZWlnaHR9LHtzZXQ6ZnVuY3Rpb24oZSx0KXtpZighTyh0KSYmIXQubWF0Y2goL15bMC05XSskLykpdGhyb3cgbmV3IEVycm9yKFNkKyIuc2V0IGFjY2VwdHMgb25seSBwb3NpdGl2ZSBpbnRlZ2VyIHZhbHVlcy4gVmFsdWUgd2FzICIrdCk7dmFyIG49ZS5kb207V24obikmJihuLnN0eWxlW1NkXT10KyJweCIpfSxnZXQ6RWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9TmQoZSk7aWYodDw9MHx8bnVsbD09PXQpe3ZhciBuPWVyKGUsU2QpO3JldHVybiBwYXJzZUZsb2F0KG4pfHwwfXJldHVybiB0fSxnZXRPdXRlcjpFZCxhZ2dyZWdhdGU6a2Q9ZnVuY3Rpb24obyxlKXtyZXR1cm4gWChlLGZ1bmN0aW9uKGUsdCl7dmFyIG49ZXIobyx0KSxyPW49PT11bmRlZmluZWQ/MDpwYXJzZUludChuLDEwKTtyZXR1cm4gaXNOYU4ocik/ZTplK3J9LDApfSxtYXg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWtkKGUsbik7cmV0dXJuIHI8dD90LXI6MH19KSxSZD1mdW5jdGlvbihyLGUpe3JldHVybiByLnZpZXcoZSkuZm9sZChFKFtdKSxmdW5jdGlvbihlKXt2YXIgdD1yLm93bmVyKGUpLG49UmQocix0KTtyZXR1cm5bZV0uY29uY2F0KG4pfSl9LFRkPS8qICovT2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsdmlldzpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4oZS5kb209PT1kb2N1bWVudD9VLm5vbmUoKTpVLmZyb20obnVsbD09PSh0PWUuZG9tLmRlZmF1bHRWaWV3KXx8dm9pZCAwPT09dD92b2lkIDA6dC5mcmFtZUVsZW1lbnQpKS5tYXAoQXQuZnJvbURvbSl9LG93bmVyOlZ0fSksRGQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89QXQuZnJvbURvbShkb2N1bWVudCksaT13bihvKSxhPSh0PWUscj0obj1UZCkub3duZXIodCksUmQobixyKSksdT1DbihlKSxzPUsoYSxmdW5jdGlvbihlLHQpe3ZhciBuPUNuKHQpO3JldHVybntsZWZ0OmUubGVmdCtuLmxlZnQsdG9wOmUudG9wK24udG9wfX0se2xlZnQ6MCx0b3A6MH0pO3JldHVybiB5bihzLmxlZnQrdS5sZWZ0K2kubGVmdCxzLnRvcCt1LnRvcCtpLnRvcCl9LE9kPWZ1bmN0aW9uKGUpe3JldHVybiJ0ZXh0YXJlYSI9PT1MdChlKX0sQmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tLm93bmVyRG9jdW1lbnQsbj10LmJvZHkscj10LmRlZmF1bHRWaWV3LG89dC5kb2N1bWVudEVsZW1lbnQ7aWYobj09PWUuZG9tKXJldHVybiB5bihuLm9mZnNldExlZnQsbi5vZmZzZXRUb3ApO3ZhciBpPWJuKG51bGw9PXI/dm9pZCAwOnIucGFnZVlPZmZzZXQsby5zY3JvbGxUb3ApLGE9Ym4obnVsbD09cj92b2lkIDA6ci5wYWdlWE9mZnNldCxvLnNjcm9sbExlZnQpLHU9Ym4oby5jbGllbnRUb3Asbi5jbGllbnRUb3ApLHM9Ym4oby5jbGllbnRMZWZ0LG4uY2xpZW50TGVmdCk7cmV0dXJuIENuKGUpLnRyYW5zbGF0ZShhLXMsaS11KX0oZSksbz0obj1lLEFkLmdldChuKSk7cmV0dXJue2VsZW1lbnQ6ZSxib3R0b206ci50b3ArbyxoZWlnaHQ6byxwb3M6cixjbGVhbnVwOnR9fSxQZD1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG49R3QoZSk7aWYoMD09PW4ubGVuZ3RofHxPZChlKSlyZXR1cm57ZWxlbWVudDplLG9mZnNldDp0fTtpZih0PG4ubGVuZ3RoJiYhT2Qoblt0XSkpcmV0dXJue2VsZW1lbnQ6blt0XSxvZmZzZXQ6MH07dmFyIHI9bltuLmxlbmd0aC0xXTtyZXR1cm4gT2Qocik/e2VsZW1lbnQ6ZSxvZmZzZXQ6dH06ImltZyI9PT1MdChyKT97ZWxlbWVudDpyLG9mZnNldDoxfTpVdChyKT97ZWxlbWVudDpyLG9mZnNldDpHZihyKS5sZW5ndGh9OntlbGVtZW50OnIsb2Zmc2V0Okd0KHIpLmxlbmd0aH19KGUsdCkscj1BdC5mcm9tSHRtbCgnPHNwYW4gZGF0YS1tY2UtYm9ndXM9ImFsbCI+XHVmZWZmPC9zcGFuPicpO3JldHVybiBzbihuLmVsZW1lbnQsciksQmQocixmdW5jdGlvbigpe3JldHVybiBwbihyKX0pfSxMZD1mdW5jdGlvbihuLHIsbyxpKXtVZChuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1kKG4scixvLGkpfSxvKX0sSWQ9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHU9e2VsbTpyLmVsZW1lbnQuZG9tLGFsaWduVG9Ub3A6b307aT11LGUuZmlyZSgiU2Nyb2xsSW50b1ZpZXciLGkpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwobih0LHduKHQpLnRvcCxyLG8pLGE9dSxlLmZpcmUoIkFmdGVyU2Nyb2xsSW50b1ZpZXciLGEpKX0sTWQ9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89QXQuZnJvbURvbShlLmdldEJvZHkoKSksaT1BdC5mcm9tRG9tKGUuZ2V0RG9jKCkpO28uZG9tLm9mZnNldFdpZHRoO3ZhciBhPVBkKEF0LmZyb21Eb20obi5zdGFydENvbnRhaW5lciksbi5zdGFydE9mZnNldCk7SWQoZSxpLHQsYSxyKSxhLmNsZWFudXAoKX0sRmQ9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saT1BdC5mcm9tRG9tKGUuZ2V0RG9jKCkpO0lkKGUsaSxuLChvPXQsQmQoQXQuZnJvbURvbShvKSxWKSkscil9LFVkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uLnN0YXJ0Q29udGFpbmVyLG89bi5zdGFydE9mZnNldCxpPW4uZW5kQ29udGFpbmVyLGE9bi5lbmRPZmZzZXQ7dChBdC5mcm9tRG9tKHIpLEF0LmZyb21Eb20oaSkpO3ZhciB1PWUuZG9tLmNyZWF0ZVJuZygpO3Uuc2V0U3RhcnQocixvKSx1LnNldEVuZChpLGEpLGUuc2VsZWN0aW9uLnNldFJuZyhuKX0semQ9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saT1lLnBvcztuP3huKGkubGVmdCxpLnRvcCxyKToobz1pLnRvcC10K2UuaGVpZ2h0LHhuKGkubGVmdCxvLHIpKX0samQ9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1uK3QsYT1yLnBvcy50b3AsdT1yLmJvdHRvbSxzPW48PXUtYTthPHQ/emQocixuLCExIT09byxlKTppPGE/emQocixuLHM/ITEhPT1vOiEwPT09byxlKTppPHUmJiFzJiZ6ZChyLG4sITA9PT1vLGUpfSxIZD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLmRvbS5kZWZhdWx0Vmlldy5pbm5lckhlaWdodDtqZChlLHQsbyxuLHIpfSxWZD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLmRvbS5kZWZhdWx0Vmlldy5pbm5lckhlaWdodDtqZChlLHQsbyxuLHIpO3ZhciBpPURkKG4uZWxlbWVudCksYT1Fbih3aW5kb3cpO2kudG9wPGEueT9TbihuLmVsZW1lbnQsITEhPT1yKTppLnRvcD5hLmJvdHRvbSYmU24obi5lbGVtZW50LCEwPT09cil9LHFkPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gTGQoZSxIZCx0LG4pfSwkZD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEZkKGUsdCxIZCxuKX0sV2Q9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBMZChlLFZkLHQsbil9LEtkPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRmQoZSx0LFZkLG4pfSxYZD1mdW5jdGlvbihlLHQsbil7KGUuaW5saW5lP3FkOldkKShlLHQsbil9LFlkPWZ1bmN0aW9uKGUpe3ZhciB0PXJuKGUpLmRvbTtyZXR1cm4gZS5kb209PT10LmFjdGl2ZUVsZW1lbnR9LEdkPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1BdC5mcm9tRG9tKGRvY3VtZW50KSksVS5mcm9tKGUuZG9tLmFjdGl2ZUVsZW1lbnQpLm1hcChBdC5mcm9tRG9tKX0sSmQ9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJue3N0YXJ0OmUsc29mZnNldDp0LGZpbmlzaDpuLGZvZmZzZXQ6cn19LFFkPUNyKFt7YmVmb3JlOlsiZWxlbWVudCJdfSx7b246WyJlbGVtZW50Iiwib2Zmc2V0Il19LHthZnRlcjpbImVsZW1lbnQiXX1dKSxaZD0oUWQuYmVmb3JlLFFkLm9uLFFkLmFmdGVyLGZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQobyxvLG8pfSksZW09Q3IoW3tkb21SYW5nZTpbInJuZyJdfSx7cmVsYXRpdmU6WyJzdGFydFNpdHUiLCJmaW5pc2hTaXR1Il19LHtleGFjdDpbInN0YXJ0Iiwic29mZnNldCIsImZpbmlzaCIsImZvZmZzZXQiXX1dKSx0bT17ZG9tUmFuZ2U6ZW0uZG9tUmFuZ2UscmVsYXRpdmU6ZW0ucmVsYXRpdmUsZXhhY3Q6ZW0uZXhhY3QsZXhhY3RGcm9tUmFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGVtLmV4YWN0KGUuc3RhcnQsZS5zb2Zmc2V0LGUuZmluaXNoLGUuZm9mZnNldCl9LGdldFdpbjpmdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKHtkb21SYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gQXQuZnJvbURvbShlLnN0YXJ0Q29udGFpbmVyKX0scmVsYXRpdmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWmQoZSl9LGV4YWN0OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBlfX0pO3JldHVybiBxdCh0KX0scmFuZ2U6SmR9LG5tPWR0KCkuYnJvd3NlcixybT1mdW5jdGlvbihlLHQpe3ZhciBuPVV0KHQpP0dmKHQpLmxlbmd0aDpHdCh0KS5sZW5ndGgrMTtyZXR1cm4gbjxlP246ZTwwPzA6ZX0sb209ZnVuY3Rpb24oZSl7cmV0dXJuIHRtLnJhbmdlKGUuc3RhcnQscm0oZS5zb2Zmc2V0LGUuc3RhcnQpLGUuZmluaXNoLHJtKGUuZm9mZnNldCxlLmZpbmlzaCkpfSxpbT1mdW5jdGlvbihlLHQpe3JldHVybiFfbih0LmRvbSkmJihQdChlLHQpfHxPdChlLHQpKX0sYW09ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBpbSh0LGUuc3RhcnQpJiZpbSh0LGUuZmluaXNoKX19LHVtPWZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5pbmxpbmV8fG5tLmlzSUUoKX0sc209ZnVuY3Rpb24oZSl7cmV0dXJuIHRtLnJhbmdlKEF0LmZyb21Eb20oZS5zdGFydENvbnRhaW5lciksZS5zdGFydE9mZnNldCxBdC5mcm9tRG9tKGUuZW5kQ29udGFpbmVyKSxlLmVuZE9mZnNldCl9LGNtPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1xdChlKTtyZXR1cm4gdD1yLmRvbSwoKG49dC5nZXRTZWxlY3Rpb24oKSkmJjAhPT1uLnJhbmdlQ291bnQ/VS5mcm9tKG4uZ2V0UmFuZ2VBdCgwKSk6VS5ub25lKCkpLm1hcChzbSkuZmlsdGVyKGFtKGUpKX0sbG09ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTt0cnl7cmV0dXJuIHQuc2V0U3RhcnQoZS5zdGFydC5kb20sZS5zb2Zmc2V0KSx0LnNldEVuZChlLmZpbmlzaC5kb20sZS5mb2Zmc2V0KSxVLnNvbWUodCl9Y2F0Y2gobil7cmV0dXJuIFUubm9uZSgpfX0sZm09ZnVuY3Rpb24oZSl7dmFyIHQ9dW0oZSk/Y20oQXQuZnJvbURvbShlLmdldEJvZHkoKSkpOlUubm9uZSgpO2UuYm9va21hcms9dC5pc1NvbWUoKT90OmUuYm9va21hcmt9LGRtPWZ1bmN0aW9uKHIpe3JldHVybihyLmJvb2ttYXJrP3IuYm9va21hcms6VS5ub25lKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9QXQuZnJvbURvbShyLmdldEJvZHkoKSksbj1lLFUuZnJvbShuKS5maWx0ZXIoYW0odCkpLm1hcChvbSk7dmFyIHQsbn0pLmJpbmQobG0pfSxtbT17aXNFZGl0b3JVSUVsZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jbGFzc05hbWUudG9TdHJpbmcoKTtyZXR1cm4tMSE9PXQuaW5kZXhPZigidG94LSIpfHwtMSE9PXQuaW5kZXhPZigibWNlLSIpfX0scG09ZnVuY3Rpb24obixlKXt2YXIgdCxyO2R0KCkuYnJvd3Nlci5pc0lFKCk/KHI9bikub24oImZvY3Vzb3V0IixmdW5jdGlvbigpe2ZtKHIpfSk6KHQ9ZSxuLm9uKCJtb3VzZXVwIHRvdWNoZW5kIixmdW5jdGlvbihlKXt0LnRocm90dGxlKCl9KSksbi5vbigia2V5dXAgTm9kZUNoYW5nZSIsZnVuY3Rpb24oZSl7dmFyIHQ7Im5vZGVjaGFuZ2UiPT09KHQ9ZSkudHlwZSYmdC5zZWxlY3Rpb25DaGFuZ2V8fGZtKG4pfSl9LGdtPWZ1bmN0aW9uKHIpe3ZhciBvPXp1KGZ1bmN0aW9uKCl7Zm0ocil9LDApO3Iub24oImluaXQiLGZ1bmN0aW9uKCl7dmFyIGUsdCxuO3IuaW5saW5lJiYoZT1yLHQ9byxuPWZ1bmN0aW9uKCl7dC50aHJvdHRsZSgpfSxFdS5ET00uYmluZChkb2N1bWVudCwibW91c2V1cCIsbiksZS5vbigicmVtb3ZlIixmdW5jdGlvbigpe0V1LkRPTS51bmJpbmQoZG9jdW1lbnQsIm1vdXNldXAiLG4pfSkpLHBtKHIsbyl9KSxyLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7by5jYW5jZWwoKX0pfSxobT1FdS5ET00sdm09ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldFBhcmFtKCJjdXN0b21fdWlfc2VsZWN0b3IiLCIiLCJzdHJpbmciKTtyZXR1cm4gbnVsbCE9PWhtLmdldFBhcmVudChlLGZ1bmN0aW9uKGUpe3JldHVybiBtbS5pc0VkaXRvclVJRWxlbWVudChlKXx8ISFuJiZ0LmRvbS5pcyhlLG4pfSl9LHltPWZ1bmN0aW9uKG4sZSl7dmFyIHQ9ZS5lZGl0b3I7Z20odCksdC5vbigiZm9jdXNpbiIsZnVuY3Rpb24oKXt2YXIgZT1uLmZvY3VzZWRFZGl0b3I7ZSE9PXRoaXMmJihlJiZlLmZpcmUoImJsdXIiLHtmb2N1c2VkRWRpdG9yOnRoaXN9KSxuLnNldEFjdGl2ZSh0aGlzKSwobi5mb2N1c2VkRWRpdG9yPXRoaXMpLmZpcmUoImZvY3VzIix7Ymx1cnJlZEVkaXRvcjplfSksdGhpcy5mb2N1cyghMCkpfSksdC5vbigiZm9jdXNvdXQiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztxci5zZXRFZGl0b3JUaW1lb3V0KHQsZnVuY3Rpb24oKXt2YXIgZT1uLmZvY3VzZWRFZGl0b3I7dm0odCxmdW5jdGlvbihlKXt0cnl7dmFyIHQ9cm4oQXQuZnJvbURvbShlLmdldEVsZW1lbnQoKSkpO3JldHVybiBHZCh0KS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmJvZHl9LGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbX0pfWNhdGNoKG4pe3JldHVybiBkb2N1bWVudC5ib2R5fX0odCkpfHxlIT09dHx8KHQuZmlyZSgiYmx1ciIse2ZvY3VzZWRFZGl0b3I6bnVsbH0pLG4uZm9jdXNlZEVkaXRvcj1udWxsKX0pfSksX2R8fChfZD1mdW5jdGlvbihlKXt2YXIgdD1uLmFjdGl2ZUVkaXRvcjt0JiZmdW5jdGlvbihlKXtpZihubigpJiZEKGUudGFyZ2V0KSl7dmFyIHQ9QXQuZnJvbURvbShlLnRhcmdldCk7aWYoRnQodCkmJnVuKHQpJiZlLmNvbXBvc2VkJiZlLmNvbXBvc2VkUGF0aCl7dmFyIG49ZS5jb21wb3NlZFBhdGgoKTtpZihuKXJldHVybiBuZShuKX19cmV0dXJuIFUuZnJvbShlLnRhcmdldCl9KGUpLmVhY2goZnVuY3Rpb24oZSl7ZS5vd25lckRvY3VtZW50PT09ZG9jdW1lbnQmJihlPT09ZG9jdW1lbnQuYm9keXx8dm0odCxlKXx8bi5mb2N1c2VkRWRpdG9yIT09dHx8KHQuZmlyZSgiYmx1ciIse2ZvY3VzZWRFZGl0b3I6bnVsbH0pLG4uZm9jdXNlZEVkaXRvcj1udWxsKSl9KX0saG0uYmluZChkb2N1bWVudCwiZm9jdXNpbiIsX2QpKX0sYm09ZnVuY3Rpb24oZSx0KXtlLmZvY3VzZWRFZGl0b3I9PT10LmVkaXRvciYmKGUuZm9jdXNlZEVkaXRvcj1udWxsKSxlLmFjdGl2ZUVkaXRvcnx8KGhtLnVuYmluZChkb2N1bWVudCwiZm9jdXNpbiIsX2QpLF9kPW51bGwpfSxDbT1mdW5jdGlvbih0LGUpe3JldHVybigobj1lKS5jb2xsYXBzZWQ/VS5mcm9tKHdzKG4uc3RhcnRDb250YWluZXIsbi5zdGFydE9mZnNldCkpLm1hcChBdC5mcm9tRG9tKTpVLm5vbmUoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gYW8oZSk/VS5zb21lKGUpOiExPT09UHQodCxlKT9VLnNvbWUodCk6VS5ub25lKCl9KTt2YXIgbn0sd209ZnVuY3Rpb24odCxlKXtDbShBdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSxlKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBGbChlLmRvbSl9KS5mb2xkKGZ1bmN0aW9uKCl7dC5zZWxlY3Rpb24ubm9ybWFsaXplKCl9LGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpfSl9LHhtPWZ1bmN0aW9uKGUpe2lmKGUuc2V0QWN0aXZlKXRyeXtlLnNldEFjdGl2ZSgpfWNhdGNoKHQpe2UuZm9jdXMoKX1lbHNlIGUuZm9jdXMoKX0sU209ZnVuY3Rpb24oZSl7cmV0dXJuIFlkKGUpfHxHZChybih0PWUpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZG9tLmNvbnRhaW5zKGUuZG9tKX0pLmlzU29tZSgpO3ZhciB0fSxObT1mdW5jdGlvbihyKXtyZXR1cm4gR2QoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZS5kb20sISgobj10LmNsYXNzTGlzdCkhPT11bmRlZmluZWQmJihuLmNvbnRhaW5zKCJ0b3gtZWRpdC1hcmVhIil8fG4uY29udGFpbnMoInRveC1lZGl0LWFyZWFfX2lmcmFtZSIpfHxuLmNvbnRhaW5zKCJtY2UtY29udGVudC1ib2R5IikpKSYmdm0ocixlLmRvbSk7dmFyIHQsbn0pLmlzU29tZSgpfSxFbT1mdW5jdGlvbihlKXtyZXR1cm4gZS5pbmxpbmU/KG49ZS5nZXRCb2R5KCkpJiZTbShBdC5mcm9tRG9tKG4pKToodD1lKS5pZnJhbWVFbGVtZW50JiZZZChBdC5mcm9tRG9tKHQuaWZyYW1lRWxlbWVudCkpO3ZhciB0LG59LGttPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VsZWN0aW9uLG49dC5nZXRCb2R5KCkscj1lLmdldFJuZygpO3QucXVpcmtzLnJlZnJlc2hDb250ZW50RWRpdGFibGUoKSx0LmJvb2ttYXJrIT09dW5kZWZpbmVkJiYhMT09PUVtKHQpJiZkbSh0KS5lYWNoKGZ1bmN0aW9uKGUpe3Quc2VsZWN0aW9uLnNldFJuZyhlKSxyPWV9KTt2YXIgbyxpLGE9KG89dCxpPWUuZ2V0Tm9kZSgpLG8uZG9tLmdldFBhcmVudChpLGZ1bmN0aW9uKGUpe3JldHVybiJ0cnVlIj09PW8uZG9tLmdldENvbnRlbnRFZGl0YWJsZShlKX0pKTtpZih0LiQuY29udGFpbnMobixhKSlyZXR1cm4geG0oYSksd20odCxyKSx2b2lkIF9tKHQpO3QuaW5saW5lfHwod3Qub3BlcmF8fHhtKG4pLHQuZ2V0V2luKCkuZm9jdXMoKSksKHd0LmdlY2tvfHx0LmlubGluZSkmJih4bShuKSx3bSh0LHIpKSxfbSh0KX0sX209ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUoZSl9LEFtPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGk9bj90LnN0YXJ0Q29udGFpbmVyOnQuZW5kQ29udGFpbmVyLGE9bj90LnN0YXJ0T2Zmc2V0OnQuZW5kT2Zmc2V0O3JldHVybiBVLmZyb20oaSkubWFwKEF0LmZyb21Eb20pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gciYmdC5jb2xsYXBzZWQ/ZTpKdChlLG8oZSxhKSkuZ2V0T3IoZSl9KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBGdChlKT9VLnNvbWUoZSk6JHQoZSkuZmlsdGVyKEZ0KX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb219KS5nZXRPcihlKX0sUm09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBBbShlLHQsITAsbixmdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLm1pbihlLmRvbS5jaGlsZE5vZGVzLmxlbmd0aCx0KX0pfSxUbT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEFtKGUsdCwhMSxuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA8dD90LTE6dH0pfSxEbT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lO2UmJkluKGUpJiYwPT09ZS5sZW5ndGg7KWU9dD9lLm5leHRTaWJsaW5nOmUucHJldmlvdXNTaWJsaW5nO3JldHVybiBlfHxufSxPbT1mdW5jdGlvbihuLGUpe3JldHVybiB6KGUsZnVuY3Rpb24oZSl7dmFyIHQ9bi5maXJlKCJHZXRTZWxlY3Rpb25SYW5nZSIse3JhbmdlOmV9KTtyZXR1cm4gdC5yYW5nZSE9PWU/dC5yYW5nZTplfSl9LEJtPWZ1bmN0aW9uKGUpe3JldHVybiBUKGUpP2U6Q30sUG09ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQoZSksbz1CbShuKTtyZXR1cm4gci5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIG8oZSk/VS5ub25lKCk6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1lLmRvbSxvPUJtKG4pO3IucGFyZW50Tm9kZTspe3I9ci5wYXJlbnROb2RlO3ZhciBpPUF0LmZyb21Eb20ociksYT10KGkpO2lmKGEuaXNTb21lKCkpcmV0dXJuIGE7aWYobyhpKSlicmVha31yZXR1cm4gVS5ub25lKCl9KGUsdCxvKX0pfSxMbT1jZixJbT1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5mb3JtYXR0ZXIuZ2V0KG4pO2lmKHIpZm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspaWYoITE9PT1yW29dLmluaGVyaXQmJmUuZG9tLmlzKHQscltvXS5zZWxlY3RvcikpcmV0dXJuITA7cmV0dXJuITF9LE1tPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQuZG9tLmdldFJvb3QoKTtyZXR1cm4gZSE9PW8mJihlPXQuZG9tLmdldFBhcmVudChlLGZ1bmN0aW9uKGUpe3JldHVybiEhSW0odCxlLG4pfHwoZS5wYXJlbnROb2RlPT09b3x8ISF6bSh0LGUsbixyLCEwKSl9KSx6bSh0LGUsbixyKSl9LEZtPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hIUxtKHQsbi5pbmxpbmUpfHwoISFMbSh0LG4uYmxvY2spfHwobi5zZWxlY3Rvcj8xPT09dC5ub2RlVHlwZSYmZS5pcyh0LG4uc2VsZWN0b3IpOnZvaWQgMCkpfSxVbT1mdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGEsdSxzLGM9bltyXTtpZihuLm9ubWF0Y2gpcmV0dXJuIG4ub25tYXRjaCh0LG4scik7aWYoYylpZigidW5kZWZpbmVkIj09dHlwZW9mIGMubGVuZ3RoKXtmb3IoYSBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkoYSkpe2lmKHU9ImF0dHJpYnV0ZXMiPT09cj9lLmdldEF0dHJpYih0LGEpOmZmKGUsdCxhKSxvJiYhdSYmIW4uZXhhY3QpcmV0dXJuO2lmKCghb3x8bi5leGFjdCkmJiFMbSh1LGxmKGUsc2YoY1thXSxpKSxhKSkpcmV0dXJufX1lbHNlIGZvcihzPTA7czxjLmxlbmd0aDtzKyspaWYoImF0dHJpYnV0ZXMiPT09cj9lLmdldEF0dHJpYih0LGNbc10pOmZmKGUsdCxjW3NdKSlyZXR1cm4gbjtyZXR1cm4gbn0sem09ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscyxjPWUuZm9ybWF0dGVyLmdldChuKSxsPWUuZG9tO2lmKGMmJnQpZm9yKGE9MDthPGMubGVuZ3RoO2ErKylpZihpPWNbYV0sRm0oZS5kb20sdCxpKSYmVW0obCx0LGksImF0dHJpYnV0ZXMiLG8scikmJlVtKGwsdCxpLCJzdHlsZXMiLG8scikpe2lmKHM9aS5jbGFzc2VzKWZvcih1PTA7dTxzLmxlbmd0aDt1KyspaWYoIWUuZG9tLmhhc0NsYXNzKHQsc1t1XSkpcmV0dXJuO3JldHVybiBpfX0sam09ZnVuY3Rpb24oZSx0LG4scil7aWYocilyZXR1cm4gTW0oZSxyLHQsbik7aWYocj1lLnNlbGVjdGlvbi5nZXROb2RlKCksTW0oZSxyLHQsbikpcmV0dXJuITA7dmFyIG89ZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKTtyZXR1cm4hKG89PT1yfHwhTW0oZSxvLHQsbikpfSxIbT1mdW5jdGlvbihyLHQpe3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBPdChlLEF0LmZyb21Eb20oci5nZXRCb2R5KCkpKX07cmV0dXJuIFUuZnJvbShyLnNlbGVjdGlvbi5nZXRTdGFydCghMCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIFBtKEF0LmZyb21Eb20oZSksZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPXQoZVtuXSxuKTtpZihyLmlzU29tZSgpKXJldHVybiByfXJldHVybiBVLm5vbmUoKX0odCxmdW5jdGlvbihlKXtyZXR1cm4gdD1lLHptKHIsbi5kb20sdCk/VS5zb21lKHQpOlUubm9uZSgpO3ZhciB0fSl9LG4pfSkuZ2V0T3JOdWxsKCl9LFZtPWZ1bmN0aW9uKG8saSxlKXtyZXR1cm4gWChlLGZ1bmN0aW9uKGUsdCl7dmFyIG4scj0obj10LEYoby5mb3JtYXR0ZXIuZ2V0KG4pLGZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiAxPGUubGVuZ3RoJiYiJSI9PT1lLmNoYXJBdCgwKX07cmV0dXJuIEYoWyJzdHlsZXMiLCJhdHRyaWJ1dGVzIl0sZnVuY3Rpb24oZSl7cmV0dXJuIGdlKHQsZSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3ZhciB0PVMoZSk/ZTpwZShlKTtyZXR1cm4gRih0LG4pfSl9KX0pKTtyZXR1cm4gby5mb3JtYXR0ZXIubWF0Y2hOb2RlKGksdCx7fSxyKT9lLmNvbmNhdChbdF0pOmV9LFtdKX0scW09eyIjdGV4dCI6MywiI2NvbW1lbnQiOjgsIiNjZGF0YSI6NCwiI3BpIjo3LCIjZG9jdHlwZSI6MTAsIiNkb2N1bWVudC1mcmFnbWVudCI6MTF9LCRtPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uPyJsYXN0Q2hpbGQiOiJmaXJzdENoaWxkIixvPW4/InByZXYiOiJuZXh0IjtpZihlW3JdKXJldHVybiBlW3JdO2lmKGUhPT10KXt2YXIgaT1lW29dO2lmKGkpcmV0dXJuIGk7Zm9yKHZhciBhPWUucGFyZW50O2EmJmEhPT10O2E9YS5wYXJlbnQpaWYoaT1hW29dKXJldHVybiBpfX0sV209ZnVuY3Rpb24oZSl7dmFyIHQ9ImEiPT09ZS5uYW1lJiYhZS5hdHRyKCJocmVmIikmJmUuYXR0cigiaWQiKTtyZXR1cm4gZS5hdHRyKCJuYW1lIil8fGUuYXR0cigiaWQiKSYmIWUuZmlyc3RDaGlsZHx8ZS5hdHRyKCJkYXRhLW1jZS1ib29rbWFyayIpfHx0fSxLbT0oWG0uY3JlYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IFhtKGUscW1bZV18fDEpO3JldHVybiB0JiZ1ZSh0LGZ1bmN0aW9uKGUsdCl7bi5hdHRyKHQsZSl9KSxufSxYbS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnQmJmUucmVtb3ZlKCksdGhpcy5pbnNlcnQoZSx0aGlzKSx0aGlzLnJlbW92ZSgpLHRoaXN9LFhtLnByb3RvdHlwZS5hdHRyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gZSE9PXVuZGVmaW5lZCYmbnVsbCE9PWUmJnVlKGUsZnVuY3Rpb24oZSx0KXtyLmF0dHIodCxlKX0pLHI7aWYobj1yLmF0dHJpYnV0ZXMpe2lmKHQ9PT11bmRlZmluZWQpcmV0dXJuIG4ubWFwW2VdO2lmKG51bGw9PT10KXtpZihlIGluIG4ubWFwKXtkZWxldGUgbi5tYXBbZV07Zm9yKHZhciBvPW4ubGVuZ3RoO28tLTspaWYobltvXS5uYW1lPT09ZSlyZXR1cm4gbi5zcGxpY2UobywxKSxyfXJldHVybiByfWlmKGUgaW4gbi5tYXApe2ZvcihvPW4ubGVuZ3RoO28tLTspaWYobltvXS5uYW1lPT09ZSl7bltvXS52YWx1ZT10O2JyZWFrfX1lbHNlIG4ucHVzaCh7bmFtZTplLHZhbHVlOnR9KTtyZXR1cm4gbi5tYXBbZV09dCxyfX0sWG0ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGUsdD1uZXcgWG0odGhpcy5uYW1lLHRoaXMudHlwZSk7aWYoZT10aGlzLmF0dHJpYnV0ZXMpe3ZhciBuPVtdO24ubWFwPXt9O2Zvcih2YXIgcj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTsiaWQiIT09aS5uYW1lJiYobltuLmxlbmd0aF09e25hbWU6aS5uYW1lLHZhbHVlOmkudmFsdWV9LG4ubWFwW2kubmFtZV09aS52YWx1ZSl9dC5hdHRyaWJ1dGVzPW59cmV0dXJuIHQudmFsdWU9dGhpcy52YWx1ZSx0LnNob3J0RW5kZWQ9dGhpcy5zaG9ydEVuZGVkLHR9LFhtLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcmVudC5pbnNlcnQoZSx0aGlzKSxlLmFwcGVuZCh0aGlzKSx0aGlzfSxYbS5wcm90b3R5cGUudW53cmFwPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZmlyc3RDaGlsZDtlOyl7dmFyIHQ9ZS5uZXh0O3RoaXMuaW5zZXJ0KGUsdGhpcywhMCksZT10fXRoaXMucmVtb3ZlKCl9LFhtLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhcmVudCx0PXRoaXMubmV4dCxuPXRoaXMucHJldjtyZXR1cm4gZSYmKGUuZmlyc3RDaGlsZD09PXRoaXM/KGUuZmlyc3RDaGlsZD10KSYmKHQucHJldj1udWxsKTpuLm5leHQ9dCxlLmxhc3RDaGlsZD09PXRoaXM/KGUubGFzdENoaWxkPW4pJiYobi5uZXh0PW51bGwpOnQucHJldj1uLHRoaXMucGFyZW50PXRoaXMubmV4dD10aGlzLnByZXY9bnVsbCksdGhpc30sWG0ucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlKXtlLnBhcmVudCYmZS5yZW1vdmUoKTt2YXIgdD10aGlzLmxhc3RDaGlsZDtyZXR1cm4gdD8oKHQubmV4dD1lKS5wcmV2PXQsdGhpcy5sYXN0Q2hpbGQ9ZSk6dGhpcy5sYXN0Q2hpbGQ9dGhpcy5maXJzdENoaWxkPWUsZS5wYXJlbnQ9dGhpcyxlfSxYbS5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKGUsdCxuKXtlLnBhcmVudCYmZS5yZW1vdmUoKTt2YXIgcj10LnBhcmVudHx8dGhpcztyZXR1cm4gbj8odD09PXIuZmlyc3RDaGlsZD9yLmZpcnN0Q2hpbGQ9ZTp0LnByZXYubmV4dD1lLGUucHJldj10LnByZXYsKGUubmV4dD10KS5wcmV2PWUpOih0PT09ci5sYXN0Q2hpbGQ/ci5sYXN0Q2hpbGQ9ZTp0Lm5leHQucHJldj1lLGUubmV4dD10Lm5leHQsKGUucHJldj10KS5uZXh0PWUpLGUucGFyZW50PXIsZX0sWG0ucHJvdG90eXBlLmdldEFsbD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj10aGlzLmZpcnN0Q2hpbGQ7bjtuPSRtKG4sdGhpcykpbi5uYW1lPT09ZSYmdC5wdXNoKG4pO3JldHVybiB0fSxYbS5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXtpZih0aGlzLmZpcnN0Q2hpbGQpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZmlyc3RDaGlsZDt0O3Q9JG0odCx0aGlzKSllLnB1c2godCk7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspKHQ9ZVtuXSkucGFyZW50PXQuZmlyc3RDaGlsZD10Lmxhc3RDaGlsZD10Lm5leHQ9dC5wcmV2PW51bGx9cmV0dXJuIHRoaXMuZmlyc3RDaGlsZD10aGlzLmxhc3RDaGlsZD1udWxsLHRoaXN9LFhtLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT10JiYodD17fSk7dmFyIHI9dGhpcy5maXJzdENoaWxkO2lmKFdtKHRoaXMpKXJldHVybiExO2lmKHIpZG97aWYoMT09PXIudHlwZSl7aWYoci5hdHRyKCJkYXRhLW1jZS1ib2d1cyIpKWNvbnRpbnVlO2lmKGVbci5uYW1lXSlyZXR1cm4hMTtpZihXbShyKSlyZXR1cm4hMX1pZig4PT09ci50eXBlKXJldHVybiExO2lmKDM9PT1yLnR5cGUmJiFmdW5jdGlvbihlKXtpZihVbyhlLnZhbHVlKSl7dmFyIHQ9ZS5wYXJlbnQ7cmV0dXJuIXR8fCJzcGFuIj09PXQubmFtZSYmIXQuYXR0cigic3R5bGUiKXx8IS9eWyBdKyQvLnRlc3QoZS52YWx1ZSl9fShyKSlyZXR1cm4hMTtpZigzPT09ci50eXBlJiZyLnBhcmVudCYmdFtyLnBhcmVudC5uYW1lXSYmVW8oci52YWx1ZSkpcmV0dXJuITE7aWYobiYmbihyKSlyZXR1cm4hMX13aGlsZShyPSRtKHIsdGhpcykpO3JldHVybiEwfSxYbS5wcm90b3R5cGUud2Fsaz1mdW5jdGlvbihlKXtyZXR1cm4gJG0odGhpcyxudWxsLGUpfSxYbSk7ZnVuY3Rpb24gWG0oZSx0KXt0aGlzLm5hbWU9ZSwxPT09KHRoaXMudHlwZT10KSYmKHRoaXMuYXR0cmlidXRlcz1bXSx0aGlzLmF0dHJpYnV0ZXMubWFwPXt9KX12YXIgWW09a3QubWFrZU1hcCxHbT1mdW5jdGlvbihlKXt2YXIgdT1bXSxzPShlPWV8fHt9KS5pbmRlbnQsYz1ZbShlLmluZGVudF9iZWZvcmV8fCIiKSxsPVltKGUuaW5kZW50X2FmdGVyfHwiIiksZj1jaS5nZXRFbmNvZGVGdW5jKGUuZW50aXR5X2VuY29kaW5nfHwicmF3IixlLmVudGl0aWVzKSxkPSJodG1sIj09PWUuZWxlbWVudF9mb3JtYXQ7cmV0dXJue3N0YXJ0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYTtpZihzJiZjW2VdJiYwPHUubGVuZ3RoJiYwPChhPXVbdS5sZW5ndGgtMV0pLmxlbmd0aCYmIlxuIiE9PWEmJnUucHVzaCgiXG4iKSx1LnB1c2goIjwiLGUpLHQpZm9yKHI9MCxvPXQubGVuZ3RoO3I8bztyKyspaT10W3JdLHUucHVzaCgiICIsaS5uYW1lLCc9IicsZihpLnZhbHVlLCEwKSwnIicpO3VbdS5sZW5ndGhdPSFufHxkPyI+IjoiIC8+IixuJiZzJiZsW2VdJiYwPHUubGVuZ3RoJiYwPChhPXVbdS5sZW5ndGgtMV0pLmxlbmd0aCYmIlxuIiE9PWEmJnUucHVzaCgiXG4iKX0sZW5kOmZ1bmN0aW9uKGUpe3ZhciB0O3UucHVzaCgiPC8iLGUsIj4iKSxzJiZsW2VdJiYwPHUubGVuZ3RoJiYwPCh0PXVbdS5sZW5ndGgtMV0pLmxlbmd0aCYmIlxuIiE9PXQmJnUucHVzaCgiXG4iKX0sdGV4dDpmdW5jdGlvbihlLHQpezA8ZS5sZW5ndGgmJih1W3UubGVuZ3RoXT10P2U6ZihlKSl9LGNkYXRhOmZ1bmN0aW9uKGUpe3UucHVzaCgiPCFbQ0RBVEFbIixlLCJdXT4iKX0sY29tbWVudDpmdW5jdGlvbihlKXt1LnB1c2goIlx4M2MhLS0iLGUsIi0tXHgzZSIpfSxwaTpmdW5jdGlvbihlLHQpe3Q/dS5wdXNoKCI8PyIsZSwiICIsZih0KSwiPz4iKTp1LnB1c2goIjw/IixlLCI/PiIpLHMmJnUucHVzaCgiXG4iKX0sZG9jdHlwZTpmdW5jdGlvbihlKXt1LnB1c2goIjwhRE9DVFlQRSIsZSwiPiIscz8iXG4iOiIiKX0scmVzZXQ6ZnVuY3Rpb24oKXt1Lmxlbmd0aD0wfSxnZXRDb250ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHUuam9pbigiIikucmVwbGFjZSgvXG4kLywiIil9fX0sSm09ZnVuY3Rpb24odCxwKXt2b2lkIDA9PT1wJiYocD1DaSgpKTt2YXIgZz1HbSh0KTsodD10fHx7fSkudmFsaWRhdGU9ISgidmFsaWRhdGUiaW4gdCl8fHQudmFsaWRhdGU7cmV0dXJue3NlcmlhbGl6ZTpmdW5jdGlvbihlKXt2YXIgZj10LnZhbGlkYXRlLGQ9ezM6ZnVuY3Rpb24oZSl7Zy50ZXh0KGUudmFsdWUsZS5yYXcpfSw4OmZ1bmN0aW9uKGUpe2cuY29tbWVudChlLnZhbHVlKX0sNzpmdW5jdGlvbihlKXtnLnBpKGUubmFtZSxlLnZhbHVlKX0sMTA6ZnVuY3Rpb24oZSl7Zy5kb2N0eXBlKGUudmFsdWUpfSw0OmZ1bmN0aW9uKGUpe2cuY2RhdGEoZS52YWx1ZSl9LDExOmZ1bmN0aW9uKGUpe2lmKGU9ZS5maXJzdENoaWxkKWZvcig7bShlKSxlPWUubmV4dDspO319O2cucmVzZXQoKTt2YXIgbT1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzLGMsbD1kW2UudHlwZV07aWYobClsKGUpO2Vsc2V7aWYodD1lLm5hbWUsbj1lLnNob3J0RW5kZWQscj1lLmF0dHJpYnV0ZXMsZiYmciYmMTxyLmxlbmd0aCYmKChhPVtdKS5tYXA9e30sYz1wLmdldEVsZW1lbnRSdWxlKGUubmFtZSkpKXtmb3IodT0wLHM9Yy5hdHRyaWJ1dGVzT3JkZXIubGVuZ3RoO3U8czt1KyspKG89Yy5hdHRyaWJ1dGVzT3JkZXJbdV0paW4gci5tYXAmJihpPXIubWFwW29dLGEubWFwW29dPWksYS5wdXNoKHtuYW1lOm8sdmFsdWU6aX0pKTtmb3IodT0wLHM9ci5sZW5ndGg7dTxzO3UrKykobz1yW3VdLm5hbWUpaW4gYS5tYXB8fChpPXIubWFwW29dLGEubWFwW29dPWksYS5wdXNoKHtuYW1lOm8sdmFsdWU6aX0pKTtyPWF9aWYoZy5zdGFydChlLm5hbWUscixuKSwhbil7aWYoZT1lLmZpcnN0Q2hpbGQpZm9yKDttKGUpLGU9ZS5uZXh0Oyk7Zy5lbmQodCl9fX07cmV0dXJuIDEhPT1lLnR5cGV8fHQuaW5uZXI/ZFsxMV0oZSk6bShlKSxnLmdldENvbnRlbnQoKX19fSxRbT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UobmV3IFJlZ0V4cCh0LnByZWZpeCsiX1swLTldKyIsImciKSxmdW5jdGlvbihlKXtyZXR1cm4gZ2UodC51cmlzLGUpLmdldE9yKGUpfSl9LFptPVsiaW1nIiwidmlkZW8iXSxlcD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIWUuYWxsb3dfaHRtbF9kYXRhX3VybHMmJigvXmRhdGE6aW1hZ2VcLy9pLnRlc3QodCk/KHI9ZS5hbGxvd19zdmdfZGF0YV91cmxzLG89biwhKCQocik/TShabSxvKTpyKSYmL15kYXRhOmltYWdlXC9zdmdcK3htbC9pLnRlc3QodCkpOi9eZGF0YTovaS50ZXN0KHQpKTt2YXIgcixvfSx0cD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPTEsYT1lLmdldFNob3J0RW5kZWRFbGVtZW50cygpLHU9LzwoWyE/XC9dKT8oW0EtWmEtejAtOVwtX1w6XC5dKykoKD86XHMrW14iXCc+XSsoPzooPzoiW14iXSoiKXwoPzpcJ1teXCddKlwnKXxbXj5dKikpKnxcL3xccyspPi9nO2Zvcih1Lmxhc3RJbmRleD1yPW47bz11LmV4ZWModCk7KXtpZihyPXUubGFzdEluZGV4LCIvIj09PW9bMV0paS0tO2Vsc2UgaWYoIW9bMV0pe2lmKG9bMl1pbiBhKWNvbnRpbnVlO2krK31pZigwPT09aSlicmVha31yZXR1cm4gcn07ZnVuY3Rpb24gbnAoVyxLKXt2b2lkIDA9PT1LJiYoSz1DaSgpKTt2YXIgZT1mdW5jdGlvbigpe307ITEhPT0oVz1XfHx7fSkuZml4X3NlbGZfY2xvc2luZyYmKFcuZml4X3NlbGZfY2xvc2luZz0hMCk7dmFyIFg9Vy5jb21tZW50P1cuY29tbWVudDplLFk9Vy5jZGF0YT9XLmNkYXRhOmUsRz1XLnRleHQ/Vy50ZXh0OmUsSj1XLnN0YXJ0P1cuc3RhcnQ6ZSxRPVcuZW5kP1cuZW5kOmUsWj1XLnBpP1cucGk6ZSxlZT1XLmRvY3R5cGU/Vy5kb2N0eXBlOmUsbj1mdW5jdGlvbihmLGUpe3ZvaWQgMD09PWUmJihlPSJodG1sIik7Zm9yKHZhciB0LGksbixkLHIsbyxhLG0sdSxzLGMsbCxwLGcsaCx2LHksYixDLHc9Zi5odG1sLHg9MCxTPVtdLE49MCxFPWNpLmRlY29kZSxrPWt0Lm1ha2VNYXAoInNyYyxocmVmLGRhdGEsYmFja2dyb3VuZCxmb3JtYWN0aW9uLHBvc3Rlcix4bGluazpocmVmIiksXz0vKChqYXZhfHZiKXNjcmlwdHxtaHRtbCk6L2ksQT0iaHRtbCI9PT1lPzA6MSxSPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPVMubGVuZ3RoO24tLSYmU1tuXS5uYW1lIT09ZTspO2lmKDA8PW4pe2Zvcih0PVMubGVuZ3RoLTE7bjw9dDt0LS0pKGU9U1t0XSkudmFsaWQmJlEoZS5uYW1lKTtTLmxlbmd0aD1ufX0sVD1mdW5jdGlvbihlLHQpe3JldHVybiBHKFFtKGUsZiksdCl9LEQ9ZnVuY3Rpb24oZSl7IiIhPT1lJiYoIj4iPT09ZS5jaGFyQXQoMCkmJihlPSIgIitlKSxXLmFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzfHwiW2lmIiE9PWUuc3Vic3RyKDAsMykudG9Mb3dlckNhc2UoKXx8KGU9IiAiK2UpLFgoUW0oZSxmKSkpfSxPPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZXx8IiIscj0hVmUobiwiLS0iKSxvPWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1uJiYobj0wKTt2YXIgcj1lLnRvTG93ZXJDYXNlKCk7aWYoLTEhPT1yLmluZGV4T2YoIltpZiAiLG4pJiYodT1uLC9eXHMqXFtpZiBbXHdcV10rXF0+Lio8IVxbZW5kaWZcXSgtLSE/KT8+Ly50ZXN0KHIuc3Vic3RyKHUpKSkpe3ZhciBvPXIuaW5kZXhPZigiW2VuZGlmXSIsbik7cmV0dXJuIHIuaW5kZXhPZigiPiIsbyl9aWYodCl7dmFyIGk9ci5pbmRleE9mKCI+IixuKTtyZXR1cm4tMSE9PWk/aTpyLmxlbmd0aH12YXIgYT0vLS0hPz4vO2EubGFzdEluZGV4PW47dmFyIHUscz1hLmV4ZWMoZSk7cmV0dXJuIHM/cy5pbmRleCtzWzBdLmxlbmd0aDpyLmxlbmd0aH0odyxyLHQpO3JldHVybiBlPXcuc3Vic3RyKHQsby10KSxEKHI/bitlOmUpLG8rMX0sQj1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdSxzO2lmKHQ9dC50b0xvd2VyQ2FzZSgpLHU9dCBpbiBGP3Q6RShufHxyfHxvfHwiIiksbj1nZShmLnVyaXMsdSkuZ2V0T3IodSksVSYmIW0mJiExPT0oMD09PShzPXQpLmluZGV4T2YoImRhdGEtIil8fDA9PT1zLmluZGV4T2YoImFyaWEtIikpKXtpZighKGk9Z1t0XSkmJmgpe2ZvcihhPWgubGVuZ3RoO2EtLSYmIShpPWhbYV0pLnBhdHRlcm4udGVzdCh0KTspOy0xPT09YSYmKGk9bnVsbCl9aWYoIWkpcmV0dXJuO2lmKGkudmFsaWRWYWx1ZXMmJiEobiBpbiBpLnZhbGlkVmFsdWVzKSlyZXR1cm59aWYoa1t0XSYmIVcuYWxsb3dfc2NyaXB0X3VybHMpe3ZhciBjPW4ucmVwbGFjZSgvW1xzXHUwMDAwLVx1MDAxRl0rL2csIiIpO3RyeXtjPWRlY29kZVVSSUNvbXBvbmVudChjKX1jYXRjaChsKXtjPXVuZXNjYXBlKGMpfWlmKF8udGVzdChjKSlyZXR1cm47aWYoZXAoVyxjLGUpKXJldHVybn1tJiYodCBpbiBrfHwwPT09dC5pbmRleE9mKCJvbiIpKXx8KGQubWFwW3RdPW4sZC5wdXNoKHtuYW1lOnQsdmFsdWU6bn0pKX0sUD1uZXcgUmVnRXhwKCI8KD86KD86IS0tKFtcXHdcXFddKj8pLS0hPz4pfCg/OiFcXFtDREFUQVxcWyhbXFx3XFxXXSo/KVxcXVxcXT4pfCg/OiFbRGRdW09vXVtDY11bVHRdW1l5XVtQcF1bRWVdKFtcXHdcXFddKj8pPil8KD86ISgtLSk/KXwoPzpcXD8oW15cXHNcXC88Pl0rKSA/KFtcXHdcXFddKj8pWz8vXT4pfCg/OlxcLyhbQS1aYS16XVtBLVphLXowLTlcXC1fXFw6XFwuXSopPil8KD86KFtBLVphLXpdW0EtWmEtejAtOVxcLV9cXDpcXC5dKikoKD86XFxzK1teXCInPl0rKD86KD86XCJbXlwiXSpcIil8KD86J1teJ10qJyl8W14+XSopKSp8XFwvfFxccyspPikpIiwiZyIpLEw9LyhbXHc6XC1dKykoPzpccyo9XHMqKD86KD86XCIoKD86W15cIl0pKilcIil8KD86XCcoKD86W15cJ10pKilcJyl8KFtePlxzXSspKSk/L2csST1LLmdldFNob3J0RW5kZWRFbGVtZW50cygpLE09Vy5zZWxmX2Nsb3NpbmdfZWxlbWVudHN8fEsuZ2V0U2VsZkNsb3NpbmdFbGVtZW50cygpLEY9Sy5nZXRCb29sQXR0cnMoKSxVPVcudmFsaWRhdGUsej1XLnJlbW92ZV9pbnRlcm5hbHMsaj1XLmZpeF9zZWxmX2Nsb3NpbmcsSD1LLmdldFNwZWNpYWxFbGVtZW50cygpLFY9dysiPiI7dD1QLmV4ZWMoVik7KXt2YXIgcT10WzBdO2lmKHg8dC5pbmRleCYmVChFKHcuc3Vic3RyKHgsdC5pbmRleC14KSkpLGk9dFs3XSkiOiI9PT0oaT1pLnRvTG93ZXJDYXNlKCkpLmNoYXJBdCgwKSYmKGk9aS5zdWJzdHIoMSkpLFIoaSk7ZWxzZSBpZihpPXRbOF0pe2lmKHQuaW5kZXgrcS5sZW5ndGg+dy5sZW5ndGgpe1QoRSh3LnN1YnN0cih0LmluZGV4KSkpLHg9dC5pbmRleCtxLmxlbmd0aDtjb250aW51ZX0iOiI9PT0oaT1pLnRvTG93ZXJDYXNlKCkpLmNoYXJBdCgwKSYmKGk9aS5zdWJzdHIoMSkpLHU9aSBpbiBJLGomJk1baV0mJjA8Uy5sZW5ndGgmJlNbUy5sZW5ndGgtMV0ubmFtZT09PWkmJlIoaSk7dmFyICQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmV4ZWModCk7aWYobil7dmFyIHI9blsxXSxvPW5bMl07cmV0dXJuInN0cmluZyI9PXR5cGVvZiByJiYiZGF0YS1tY2UtYm9ndXMiPT09ci50b0xvd2VyQ2FzZSgpP286bnVsbH1yZXR1cm4gbnVsbH0oTCx0WzldKTtpZihudWxsIT09JCl7aWYoImFsbCI9PT0kKXt4PXRwKEssdyxQLmxhc3RJbmRleCksUC5sYXN0SW5kZXg9eDtjb250aW51ZX1jPSExfWlmKCFVfHwocz1LLmdldEVsZW1lbnRSdWxlKGkpKSl7aWYoYz0hMCxVJiYoZz1zLmF0dHJpYnV0ZXMsaD1zLmF0dHJpYnV0ZVBhdHRlcm5zKSwocD10WzldKT8oKG09LTEhPT1wLmluZGV4T2YoImRhdGEtbWNlLXR5cGUiKSkmJnomJihjPSExKSwoZD1bXSkubWFwPXt9LHAucmVwbGFjZShMLGZ1bmN0aW9uKGUsdCxuLHIsbyl7cmV0dXJuIEIoaSx0LG4scixvKSwiIn0pKTooZD1bXSkubWFwPXt9LFUmJiFtKXtpZih2PXMuYXR0cmlidXRlc1JlcXVpcmVkLHk9cy5hdHRyaWJ1dGVzRGVmYXVsdCxiPXMuYXR0cmlidXRlc0ZvcmNlZCxzLnJlbW92ZUVtcHR5QXR0cnMmJiFkLmxlbmd0aCYmKGM9ITEpLGIpZm9yKHI9Yi5sZW5ndGg7ci0tOylhPShsPWJbcl0pLm5hbWUsInskdWlkfSI9PT0oQz1sLnZhbHVlKSYmKEM9Im1jZV8iK04rKyksZC5tYXBbYV09QyxkLnB1c2goe25hbWU6YSx2YWx1ZTpDfSk7aWYoeSlmb3Iocj15Lmxlbmd0aDtyLS07KShhPShsPXlbcl0pLm5hbWUpaW4gZC5tYXB8fCgieyR1aWR9Ij09PShDPWwudmFsdWUpJiYoQz0ibWNlXyIrTisrKSxkLm1hcFthXT1DLGQucHVzaCh7bmFtZTphLHZhbHVlOkN9KSk7aWYodil7Zm9yKHI9di5sZW5ndGg7ci0tJiYhKHZbcl1pbiBkLm1hcCk7KTstMT09PXImJihjPSExKX1pZihsPWQubWFwWyJkYXRhLW1jZS1ib2d1cyJdKXtpZigiYWxsIj09PWwpe3g9dHAoSyx3LFAubGFzdEluZGV4KSxQLmxhc3RJbmRleD14O2NvbnRpbnVlfWM9ITF9fWMmJkooaSxkLHUpfWVsc2UgYz0hMTtpZihuPUhbaV0pe24ubGFzdEluZGV4PXg9dC5pbmRleCtxLmxlbmd0aCx4PSh0PW4uZXhlYyh3KSk/KGMmJihvPXcuc3Vic3RyKHgsdC5pbmRleC14KSksdC5pbmRleCt0WzBdLmxlbmd0aCk6KG89dy5zdWJzdHIoeCksdy5sZW5ndGgpLGMmJigwPG8ubGVuZ3RoJiZUKG8sITApLFEoaSkpLFAubGFzdEluZGV4PXg7Y29udGludWV9dXx8KHAmJnAuaW5kZXhPZigiLyIpPT09cC5sZW5ndGgtMT9jJiZRKGkpOlMucHVzaCh7bmFtZTppLHZhbGlkOmN9KSl9ZWxzZSBpZihpPXRbMV0pRChpKTtlbHNlIGlmKGk9dFsyXSl7aWYoISgxPT1BfHxXLnByZXNlcnZlX2NkYXRhfHwwPFMubGVuZ3RoJiZLLmlzVmFsaWRDaGlsZChTW1MubGVuZ3RoLTFdLm5hbWUsIiNjZGF0YSIpKSl7eD1PKCIiLHQuaW5kZXgrMiksUC5sYXN0SW5kZXg9eDtjb250aW51ZX1ZKGkpfWVsc2UgaWYoaT10WzNdKWVlKGkpO2Vsc2V7aWYoKGk9dFs0XSl8fCI8ISI9PT1xKXt4PU8oaSx0LmluZGV4K3EubGVuZ3RoKSxQLmxhc3RJbmRleD14O2NvbnRpbnVlfWlmKGk9dFs1XSl7aWYoMSE9QSl7eD1PKCI/Iix0LmluZGV4KzIpLFAubGFzdEluZGV4PXg7Y29udGludWV9WihpLHRbNl0pfX14PXQuaW5kZXgrcS5sZW5ndGh9Zm9yKHg8dy5sZW5ndGgmJlQoRSh3LnN1YnN0cih4KSkpLHI9Uy5sZW5ndGgtMTswPD1yO3ItLSkoaT1TW3JdKS52YWxpZCYmUShpLm5hbWUpfTtyZXR1cm57cGFyc2U6ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0iaHRtbCIpLG4oZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49L2RhdGE6W147XSs7YmFzZTY0LChbYS16MC05XCtcLz1dKykvZ2kscj1bXSxvPXt9LGk9aXMoImltZyIpLGE9MCx1PTA7dD1uLmV4ZWMoZSk7KXt2YXIgcz10WzBdLGM9aSsiXyIrdSsrO29bY109cyxhPHQuaW5kZXgmJnIucHVzaChlLnN1YnN0cihhLHQuaW5kZXgtYSkpLHIucHVzaChjKSxhPXQuaW5kZXgrcy5sZW5ndGh9cmV0dXJuIDA9PT1hP3twcmVmaXg6aSx1cmlzOm8saHRtbDplfTooYTxlLmxlbmd0aCYmci5wdXNoKGUuc3Vic3RyKGEpKSx7cHJlZml4OmksdXJpczpvLGh0bWw6ci5qb2luKCIiKX0pfShlKSx0KX19fShucD1ucHx8e30pLmZpbmRFbmRUYWc9dHA7dmFyIHJwLG9wLGlwPW5wLGFwPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1LHMsYz10LGw9LzwoXHcrKSBbXj5dKmRhdGEtbWNlLWJvZ3VzPSJhbGwiW14+XSo+L2csZj1lLnNjaGVtYTthPWUuZ2V0VGVtcEF0dHJzKCksdT1jLHM9bmV3IFJlZ0V4cChbIlxccz8oIithLmpvaW4oInwiKSsnKT0iW14iXSsiJ10uam9pbigifCIpLCJnaSIpLGM9dS5yZXBsYWNlKHMsIiIpO2Zvcih2YXIgZD1mLmdldFNob3J0RW5kZWRFbGVtZW50cygpO2k9bC5leGVjKGMpOylyPWwubGFzdEluZGV4LG89aVswXS5sZW5ndGgsbj1kW2lbMV1dP3I6aXAuZmluZEVuZFRhZyhmLGMsciksYz1jLnN1YnN0cmluZygwLHItbykrYy5zdWJzdHJpbmcobiksbC5sYXN0SW5kZXg9ci1vO3JldHVybiBwbyhjKX0sdXA9YXAsc3A9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscztyZXR1cm4gdC5mb3JtYXQ9bix0LmdldD0hMCx0LmdldElubmVyPSEwLHQubm9fZXZlbnRzfHxlLmZpcmUoIkJlZm9yZUdldENvbnRlbnQiLHQpLG89InJhdyI9PT10LmZvcm1hdD9rdC50cmltKHVwKGUuc2VyaWFsaXplcixyLmlubmVySFRNTCkpOiJ0ZXh0Ij09PXQuZm9ybWF0P2UuZG9tLmlzRW1wdHkocik/IiI6cG8oci5pbm5lclRleHR8fHIudGV4dENvbnRlbnQpOiJ0cmVlIj09PXQuZm9ybWF0P2Uuc2VyaWFsaXplci5zZXJpYWxpemUocix0KTooYT0oaT1lKS5zZXJpYWxpemVyLnNlcmlhbGl6ZShyLHQpLHU9dmMoaSkscz1uZXcgUmVnRXhwKCJeKDwiK3UrIltePl0qPigmbmJzcDt8JiMxNjA7fFxcc3xceGEwfDxiciBcXC8+fCk8XFwvIit1KyI+W1xyXG5dKnw8YnIgXFwvPltcclxuXSopJCIpLGEucmVwbGFjZShzLCIiKSksTShbInRleHQiLCJ0cmVlIl0sdC5mb3JtYXQpfHxzbyhBdC5mcm9tRG9tKHIpKT90LmNvbnRlbnQ9bzp0LmNvbnRlbnQ9a3QudHJpbShvKSx0Lm5vX2V2ZW50c3x8ZS5maXJlKCJHZXRDb250ZW50Iix0KSx0LmNvbnRlbnR9LGNwPWt0LmVhY2gsbHA9ZnVuY3Rpb24obyl7dGhpcy5jb21wYXJlPWZ1bmN0aW9uKGUsdCl7aWYoZS5ub2RlTmFtZSE9PXQubm9kZU5hbWUpcmV0dXJuITE7dmFyIG49ZnVuY3Rpb24obil7dmFyIHI9e307cmV0dXJuIGNwKG8uZ2V0QXR0cmlicyhuKSxmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7MCE9PXQuaW5kZXhPZigiXyIpJiYic3R5bGUiIT09dCYmMCE9PXQuaW5kZXhPZigiZGF0YS0iKSYmKHJbdF09by5nZXRBdHRyaWIobix0KSl9KSxyfSxyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scjtmb3IociBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpe2lmKHZvaWQgMD09PShuPXRbcl0pKXJldHVybiExO2lmKGVbcl0hPT1uKXJldHVybiExO2RlbGV0ZSB0W3JdfWZvcihyIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShyKSlyZXR1cm4hMTtyZXR1cm4hMH07cmV0dXJuISFyKG4oZSksbih0KSkmJighIXIoby5wYXJzZVN0eWxlKG8uZ2V0QXR0cmliKGUsInN0eWxlIikpLG8ucGFyc2VTdHlsZShvLmdldEF0dHJpYih0LCJzdHlsZSIpKSkmJighSmwoZSkmJiFKbCh0KSkpfX0sZnA9ZnVuY3Rpb24obixyLG8pe3JldHVybiBVLmZyb20oby5jb250YWluZXIoKSkuZmlsdGVyKEluKS5leGlzdHMoZnVuY3Rpb24oZSl7dmFyIHQ9bj8wOi0xO3JldHVybiByKGUuZGF0YS5jaGFyQXQoby5vZmZzZXQoKSt0KSl9KX0sZHA9TihmcCwhMCxabCksbXA9TihmcCwhMSxabCkscHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb250YWluZXIoKTtyZXR1cm4gSW4odCkmJigwPT09dC5kYXRhLmxlbmd0aHx8bW8odC5kYXRhKSYmb2QuaXNCb29rbWFya05vZGUodC5wYXJlbnROb2RlKSl9LGdwPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBVLmZyb20oaWwodD8wOi0xLGUpKS5maWx0ZXIobikuaXNTb21lKCl9fSxocD1mdW5jdGlvbihlKXtyZXR1cm4gam4oZSkmJiJibG9jayI9PT1lcihBdC5mcm9tRG9tKGUpLCJkaXNwbGF5Iil9LHZwPWZ1bmN0aW9uKGUpe3JldHVybiBWbihlKSYmIShBbih0PWUpJiYiYWxsIj09PXQuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpKTt2YXIgdH0seXA9Z3AoITAsaHApLGJwPWdwKCExLGhwKSxDcD1ncCghMCwkbiksd3A9Z3AoITEsJG4pLHhwPWdwKCEwLEJuKSxTcD1ncCghMSxCbiksTnA9Z3AoITAsdnApLEVwPWdwKCExLHZwKSxrcD1mdW5jdGlvbihlKXt2YXIgdD1HdShlLCJiciIpLG49SChmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1lLmRvbTtuOyl0LnB1c2goQXQuZnJvbURvbShuKSksbj1uLmxhc3RDaGlsZDtyZXR1cm4gdH0oZSkuc2xpY2UoLTEpLG5vKTt0Lmxlbmd0aD09PW4ubGVuZ3RoJiZXKG4scG4pfSxfcD1mdW5jdGlvbihlKXttbihlKSxmbihlLEF0LmZyb21IdG1sKCc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicpKX0sQXA9ZnVuY3Rpb24obil7WnQobikuZWFjaChmdW5jdGlvbih0KXtXdCh0KS5lYWNoKGZ1bmN0aW9uKGUpe2VvKG4pJiZubyh0KSYmZW8oZSkmJnBuKHQpfSl9KX0sUnA9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBQdCh0LGUpP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVQodCk/dDpDLHI9ZS5kb20sbz1bXTtudWxsIT09ci5wYXJlbnROb2RlJiZyLnBhcmVudE5vZGUhPT11bmRlZmluZWQ7KXt2YXIgaT1yLnBhcmVudE5vZGUsYT1BdC5mcm9tRG9tKGkpO2lmKG8ucHVzaChhKSwhMD09PW4oYSkpYnJlYWs7cj1pfXJldHVybiBvfShlLGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfHxPdChlLHQpfSkuc2xpY2UoMCwtMSk6W119LFRwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFJwKGUsdCxDKX0sRHA9ZnVuY3Rpb24oZSx0KXtyZXR1cm5bZV0uY29uY2F0KFRwKGUsdCkpfSxPcD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFBsKGUsdCxuLHBwKX0sQnA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWShEcChBdC5mcm9tRG9tKHQuY29udGFpbmVyKCkpLGUpLGVvKX0sUHA9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBPcChlLG4uZG9tLHIpLmZvcmFsbChmdW5jdGlvbih0KXtyZXR1cm4gQnAobixyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuITE9PT1vbCh0LHIsbi5kb20pfSxmdW5jdGlvbihlKXtyZXR1cm4hMT09PW9sKHQscixuLmRvbSkmJlB0KGUsQXQuZnJvbURvbSh0LmNvbnRhaW5lcigpKSl9KX0pfSxMcD1mdW5jdGlvbih0LG4scil7cmV0dXJuIEJwKG4scikuZm9sZChmdW5jdGlvbigpe3JldHVybiBPcCh0LG4uZG9tLHIpLmZvcmFsbChmdW5jdGlvbihlKXtyZXR1cm4hMT09PW9sKGUscixuLmRvbSl9KX0sZnVuY3Rpb24oZSl7cmV0dXJuIE9wKHQsZS5kb20scikuaXNOb25lKCl9KX0sSXA9TihMcCwhMSksTXA9TihMcCwhMCksRnA9TihQcCwhMSksVXA9TihQcCwhMCksenA9ZnVuY3Rpb24oZSl7cmV0dXJuIG1sKGUpLmV4aXN0cyhubyl9LGpwPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1IKERwKEF0LmZyb21Eb20obi5jb250YWluZXIoKSksdCksZW8pLG89bmUocikuZ2V0T3IodCk7cmV0dXJuIE9sKGUsby5kb20sbikuZmlsdGVyKHpwKX0sSHA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbWwodCkuZXhpc3RzKG5vKXx8anAoITAsZSx0KS5pc1NvbWUoKX0sVnA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj10LFUuZnJvbShuLmdldE5vZGUoITApKS5tYXAoQXQuZnJvbURvbSkuZXhpc3RzKG5vKXx8anAoITEsZSx0KS5pc1NvbWUoKTt2YXIgbn0scXA9TihqcCwhMSksJHA9TihqcCwhMCksV3A9ZnVuY3Rpb24oZSl7cmV0dXJuIEhzLmlzVGV4dFBvc2l0aW9uKGUpJiYhZS5pc0F0U3RhcnQoKSYmIWUuaXNBdEVuZCgpfSxLcD1mdW5jdGlvbihlLHQpe3ZhciBuPUgoRHAoQXQuZnJvbURvbSh0LmNvbnRhaW5lcigpKSxlKSxlbyk7cmV0dXJuIG5lKG4pLmdldE9yKGUpfSxYcD1mdW5jdGlvbihlLHQpe3JldHVybiBXcCh0KT9tcCh0KTptcCh0KXx8TWwoS3AoZSx0KS5kb20sdCkuZXhpc3RzKG1wKX0sWXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gV3AodCk/ZHAodCk6ZHAodCl8fElsKEtwKGUsdCkuZG9tLHQpLmV4aXN0cyhkcCl9LEdwPWZ1bmN0aW9uKGUpe3JldHVybiBtbChlKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBBcihlLEZ0KX0pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gdD1lcihlLCJ3aGl0ZS1zcGFjZSIpLE0oWyJwcmUiLCJwcmUtd3JhcCJdLHQpO3ZhciB0fSl9LEpwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHI9dCxNbChlLmRvbSxyKS5pc05vbmUoKXx8KG49dCxJbChlLmRvbSxuKS5pc05vbmUoKSl8fElwKGUsdCl8fE1wKGUsdCl8fFZwKGUsdCl8fEhwKGUsdCk7dmFyIG4scn0sUXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hR3AodCkmJihJcChlLHQpfHxGcChlLHQpfHxWcChlLHQpfHxYcChlLHQpKX0sWnA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hR3AodCkmJihNcChlLHQpfHxVcChlLHQpfHxIcChlLHQpfHxZcChlLHQpKX0sZWc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUXAoZSx0KXx8WnAoZSwocj0obj10KS5jb250YWluZXIoKSxvPW4ub2Zmc2V0KCksSW4ocikmJm88ci5kYXRhLmxlbmd0aD9IcyhyLG8rMSk6bikpO3ZhciBuLHIsb30sdGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUWwoZS5jaGFyQXQodCkpfSxuZz1mdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRhaW5lcigpO3JldHVybiBJbih0KSYmSGUodC5kYXRhLGxvKX0scmc9ZnVuY3Rpb24oZSl7dmFyIG4sdD1lLmRhdGEscj0obj10LnNwbGl0KCIiKSx6KG4sZnVuY3Rpb24oZSx0KXtyZXR1cm4gUWwoZSkmJjA8dCYmdDxuLmxlbmd0aC0xJiZlZihuW3QtMV0pJiZlZihuW3QrMV0pPyIgIjplfSkuam9pbigiIikpO3JldHVybiByIT09dCYmKGUuZGF0YT1yLCEwKX0sb2c9ZnVuY3Rpb24obCxlKXtyZXR1cm4gVS5zb21lKGUpLmZpbHRlcihuZykuYmluZChmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzLGM9ZS5jb250YWluZXIoKTtyZXR1cm4oaT1sLHU9KGE9YykuZGF0YSxzPUhzKGEsMCksISghdGcodSwwKXx8ZWcoaSxzKXx8KGEuZGF0YT0iICIrdS5zbGljZSgxKSwwKSl8fHJnKGMpfHwodD1sLHI9KG49YykuZGF0YSxvPUhzKG4sci5sZW5ndGgtMSksISghdGcocixyLmxlbmd0aC0xKXx8ZWcodCxvKXx8KG4uZGF0YT1yLnNsaWNlKDAsLTEpKyIgIiwwKSkpKT9VLnNvbWUoZSk6VS5ub25lKCl9KX0saWc9ZnVuY3Rpb24odCl7dmFyIGU9QXQuZnJvbURvbSh0LmdldEJvZHkoKSk7dC5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmb2coZSxIcy5mcm9tUmFuZ2VTdGFydCh0LnNlbGVjdGlvbi5nZXRSbmcoKSkpLmVhY2goZnVuY3Rpb24oZSl7dC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKX0pfSxhZz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdSxzLGMsbDswIT09biYmKHI9QXQuZnJvbURvbShlKSxvPV9yKHIsZW8pLmdldE9yKHIpLGk9ZS5kYXRhLnNsaWNlKHQsdCtuKSxhPXQrbj49ZS5kYXRhLmxlbmd0aCYmWnAobywkcyhlLGUuZGF0YS5sZW5ndGgpKSx1PTA9PT10JiZRcChvLCRzKGUsMCkpLGUucmVwbGFjZURhdGEodCxuLChjPXUsbD1hLFgocz1pLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFpsKHQpfHxRbCh0KT9lLnByZXZpb3VzQ2hhcklzU3BhY2V8fCIiPT09ZS5zdHImJmN8fGUuc3RyLmxlbmd0aD09PXMubGVuZ3RoLTEmJmw/e3ByZXZpb3VzQ2hhcklzU3BhY2U6ITEsc3RyOmUuc3RyK2xvfTp7cHJldmlvdXNDaGFySXNTcGFjZTohMCxzdHI6ZS5zdHIrIiAifTp7cHJldmlvdXNDaGFySXNTcGFjZTohMSxzdHI6ZS5zdHIrdH19LHtwcmV2aW91c0NoYXJJc1NwYWNlOiExLHN0cjoiIn0pLnN0cikpKX0sdWc9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRhdGEuc2xpY2UodCkscj1uLmxlbmd0aC1XZShuKS5sZW5ndGg7cmV0dXJuIGFnKGUsdCxyKX0sc2c9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRhdGEuc2xpY2UoMCx0KSxyPW4ubGVuZ3RoLUtlKG4pLmxlbmd0aDtyZXR1cm4gYWcoZSx0LXIscil9LGNnPWZ1bmN0aW9uKGUsdCxuLHIpe3ZvaWQgMD09PXImJihyPSEwKTt2YXIgbz1LZShlLmRhdGEpLmxlbmd0aCxpPXI/ZTp0LGE9cj90OmU7cmV0dXJuIHI/aS5hcHBlbmREYXRhKGEuZGF0YSk6aS5pbnNlcnREYXRhKDAsYS5kYXRhKSxwbihBdC5mcm9tRG9tKGEpKSxuJiZ1ZyhpLG8pLGl9LGxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHI9ZSxvPShuPXQpLmNvbnRhaW5lcigpLGk9bi5vZmZzZXQoKSwhMT09PSRzLmlzVGV4dFBvc2l0aW9uKG4pJiZvPT09ci5wYXJlbnROb2RlJiZpPiRzLmJlZm9yZShyKS5vZmZzZXQoKT8kcyh0LmNvbnRhaW5lcigpLHQub2Zmc2V0KCktMSk6dDt2YXIgbixyLG8saX0sZmc9ZnVuY3Rpb24oZSl7cmV0dXJuIExvKGUucHJldmlvdXNTaWJsaW5nKT9VLnNvbWUoKHQ9ZS5wcmV2aW91c1NpYmxpbmcsSW4odCk/JHModCx0LmRhdGEubGVuZ3RoKTokcy5hZnRlcih0KSkpOmUucHJldmlvdXNTaWJsaW5nP1VsKGUucHJldmlvdXNTaWJsaW5nKTpVLm5vbmUoKTt2YXIgdH0sZGc9ZnVuY3Rpb24oZSl7cmV0dXJuIExvKGUubmV4dFNpYmxpbmcpP1Uuc29tZSgodD1lLm5leHRTaWJsaW5nLEluKHQpPyRzKHQsMCk6JHMuYmVmb3JlKHQpKSk6ZS5uZXh0U2libGluZz9GbChlLm5leHRTaWJsaW5nKTpVLm5vbmUoKTt2YXIgdH0sbWc9ZnVuY3Rpb24ocixvKXtyZXR1cm4gZmcobykub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBkZyhvKX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gZT1yLHQ9byxuPSRzLmJlZm9yZSh0LnByZXZpb3VzU2libGluZz90LnByZXZpb3VzU2libGluZzp0LnBhcmVudE5vZGUpLE1sKGUsbikuZm9sZChmdW5jdGlvbigpe3JldHVybiBJbChlLCRzLmFmdGVyKHQpKX0sVS5zb21lKTt2YXIgZSx0LG59KX0scGc9ZnVuY3Rpb24obixyKXtyZXR1cm4gZGcocikub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBmZyhyKX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gdD1yLElsKGU9biwkcy5hZnRlcih0KSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBNbChlLCRzLmJlZm9yZSh0KSl9LFUuc29tZSk7dmFyIGUsdH0pfSxnZz1mdW5jdGlvbihlLHQsbil7cmV0dXJuKGU/cGc6bWcpKHQsbikubWFwKE4obGcsbikpfSxoZz1mdW5jdGlvbih0LG4sZSl7ZS5mb2xkKGZ1bmN0aW9uKCl7dC5mb2N1cygpfSxmdW5jdGlvbihlKXt0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCksbil9KX0sdmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmaGUoZS5zY2hlbWEuZ2V0QmxvY2tFbGVtZW50cygpLEx0KHQpKX0seWc9ZnVuY3Rpb24oZSl7aWYoJG8oZSkpe3ZhciB0PUF0LmZyb21IdG1sKCc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicpO3JldHVybiBtbihlKSxmbihlLHQpLFUuc29tZSgkcy5iZWZvcmUodC5kb20pKX1yZXR1cm4gVS5ub25lKCl9LGJnPWZ1bmN0aW9uKGUsdCxhKXt2YXIgbixyLG8saSx1PVd0KGUpLmZpbHRlcihVdCkscz1LdChlKS5maWx0ZXIoVXQpO3JldHVybiBwbihlKSxyPXMsbz10LGk9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZG9tLG89dC5kb20saT1yLmRhdGEubGVuZ3RoO3JldHVybiBjZyhyLG8sYSksbi5jb250YWluZXIoKT09PW8/JHMocixpKTpufSwoKG49dSkuaXNTb21lKCkmJnIuaXNTb21lKCkmJm8uaXNTb21lKCk/VS5zb21lKGkobi5nZXRPckRpZSgpLHIuZ2V0T3JEaWUoKSxvLmdldE9yRGllKCkpKTpVLm5vbmUoKSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBhJiYodS5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBzZyhlLmRvbSxlLmRvbS5sZW5ndGgpfSkscy5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB1ZyhlLmRvbSwwKX0pKSx0fSl9LENnPWZ1bmN0aW9uKHQsbixlLHIpe3ZvaWQgMD09PXImJihyPSEwKTt2YXIgbyxpLGE9Z2cobix0LmdldEJvZHkoKSxlLmRvbSksdT1fcihlLE4odmcsdCksKG89dC5nZXRCb2R5KCksZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tPT09b30pKSxzPWJnKGUsYSwoaT1lLGhlKHQuc2NoZW1hLmdldFRleHRJbmxpbmVFbGVtZW50cygpLEx0KGkpKSkpO3QuZG9tLmlzRW1wdHkodC5nZXRCb2R5KCkpPyh0LnNldENvbnRlbnQoIiIpLHQuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKCkpOnUuYmluZCh5ZykuZm9sZChmdW5jdGlvbigpe3ImJmhnKHQsbixzKX0sZnVuY3Rpb24oZSl7ciYmaGcodCxuLFUuc29tZShlKSl9KX0sd2c9ZnVuY3Rpb24oZSx0KXtyZXR1cm57c3RhcnQ6ZSxlbmQ6dH19LHhnPUNyKFt7cmVtb3ZlVGFibGU6WyJlbGVtZW50Il19LHtlbXB0eUNlbGxzOlsiY2VsbHMiXX0se2RlbGV0ZUNlbGxTZWxlY3Rpb246WyJybmciLCJjZWxsIl19XSksU2c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT3IoQXQuZnJvbURvbShlKSwidGQsdGgiLHQpfSxOZz1mdW5jdGlvbihlLHQpe3JldHVybiBUcihlLCJ0YWJsZSIsdCl9LEVnPWZ1bmN0aW9uKGUpe3JldHVybiFPdChlLnN0YXJ0LGUuZW5kKX0sa2c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTmcoZS5zdGFydCx0KS5iaW5kKGZ1bmN0aW9uKHIpe3JldHVybiBOZyhlLmVuZCx0KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB0PU90KHIsZSksbj1yLHQ/VS5zb21lKG4pOlUubm9uZSgpO3ZhciB0LG59KX0pfSxfZz1mdW5jdGlvbihlKXtyZXR1cm4gR3UoZSwidGQsdGgiKX0sQWc9ZnVuY3Rpb24ocixlKXt2YXIgdD1TZyhlLnN0YXJ0Q29udGFpbmVyLHIpLG49U2coZS5lbmRDb250YWluZXIscik7cmV0dXJuIGUuY29sbGFwc2VkP1Uubm9uZSgpOmRzKHQsbix3ZykuZm9sZChmdW5jdGlvbigpe3JldHVybiB0LmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gbi5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiBOZyh0LHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIG5lKF9nKGUpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHdnKGUsdCl9KX0pfSl9LGZ1bmN0aW9uKHQpe3JldHVybiBOZyh0LHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHJlKF9nKGUpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHdnKHQsZSl9KX0pfSl9LGZ1bmN0aW9uKGUpe3JldHVybiBSZyhyLGUpP1Uubm9uZSgpOihuPXIsTmcoKHQ9ZSkuc3RhcnQsbikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gcmUoX2coZSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gd2codC5zdGFydCxlKX0pfSkpO3ZhciB0LG59KX0sUmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ga2codCxlKS5pc1NvbWUoKX0sVGc9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gRWcoZSkmJlJnKG4sZSl9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIEFnKG4sdCl9KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBrZyh0PWUsbikubWFwKGZ1bmN0aW9uKGUpe3JldHVybntybmc6dCx0YWJsZTplLGNlbGxzOl9nKGUpfX0pO3ZhciB0fSl9LERnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEcoZSxmdW5jdGlvbihlKXtyZXR1cm4gT3QoZSx0KX0pfSxPZz1mdW5jdGlvbihlLHIsbyl7cmV0dXJuIGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBuPW8sIUVnKHQ9ZSkmJmtnKHQsbikuZXhpc3RzKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tLnJvd3M7cmV0dXJuIDE9PT10Lmxlbmd0aCYmMT09PXRbMF0uY2VsbHMubGVuZ3RofSkmJmpmKGUuc3RhcnQscik7dmFyIHQsbn0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydH0pfSxCZz1mdW5jdGlvbihuKXtyZXR1cm4gZHMoRGcoKHI9bikuY2VsbHMsci5ybmcuc3RhcnQpLERnKHIuY2VsbHMsci5ybmcuZW5kKSxmdW5jdGlvbihlLHQpe3JldHVybiByLmNlbGxzLnNsaWNlKGUsdCsxKX0pLm1hcChmdW5jdGlvbihlKXt2YXIgdD1uLmNlbGxzO3JldHVybiBlLmxlbmd0aD09PXQubGVuZ3RoP3hnLnJlbW92ZVRhYmxlKG4udGFibGUpOnhnLmVtcHR5Q2VsbHMoZSl9KTt2YXIgcn0sUGc9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHU9KG49ZSxmdW5jdGlvbihlKXtyZXR1cm4gT3QobixlKX0pLHM9KG89dSxpPVNnKChyPXQpLnN0YXJ0Q29udGFpbmVyLG8pLGE9U2coci5lbmRDb250YWluZXIsbyksZHMoaSxhLHdnKSk7cmV0dXJuIE9nKHMsdCx1KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHhnLmRlbGV0ZUNlbGxTZWxlY3Rpb24odCxlKX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gVGcocyx0LHUpLmJpbmQoQmcpfSl9LExnPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybig4PT09SXQodD1lKXx8IiNjb21tZW50Ij09PUx0KHQpP1d0Olp0KShlKS5iaW5kKExnKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIFUuc29tZShlKX0pfSxJZz1mdW5jdGlvbihlLHQpe3JldHVybiBXKHQsX3ApLGUuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKHRbMF0uZG9tLDApLCEwfSxNZz1mdW5jdGlvbihlLHQsbil7dC5kZWxldGVDb250ZW50cygpO3ZhciByLG8saT1MZyhuKS5nZXRPcihuKSxhPUF0LmZyb21Eb20oZS5kb20uZ2V0UGFyZW50KGkuZG9tLGUuZG9tLmlzQmxvY2spKTtyZXR1cm4gJG8oYSkmJihfcChhKSxlLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihhLmRvbSwwKSksT3QobixhKXx8KHI9JHQoYSkuaXMobik/W106JHQobz1hKS5tYXAoR3QpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gSChlLGZ1bmN0aW9uKGUpe3JldHVybiFPdChvLGUpfSl9KS5nZXRPcihbXSksVyhyLmNvbmNhdChHdChuKSksZnVuY3Rpb24oZSl7T3QoZSxhKXx8UHQoZSxhKXx8cG4oZSl9KSksITB9LEZnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIENnKGUsITEsdCksITB9LFVnPWZ1bmN0aW9uKG4sZSxyLHQpe3JldHVybiBqZyhlLHQpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gdD1uLFBnKGUscikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQoTihGZyx0KSxOKElnLHQpLE4oTWcsdCkpfSk7dmFyIHR9LGZ1bmN0aW9uKGUpe3JldHVybiBIZyhuLGUpfSkuZ2V0T3IoITEpfSx6Zz1mdW5jdGlvbihlLHQpe3JldHVybiBZKERwKHQsZSksdW8pfSxqZz1mdW5jdGlvbihlLHQpe3JldHVybiBZKERwKHQsZSksZnVuY3Rpb24oZSl7cmV0dXJuImNhcHRpb24iPT09THQoZSl9KX0sSGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX3AodCksZS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24odC5kb20sMCksVS5zb21lKCEwKX0sVmc9ZnVuY3Rpb24odSxzLGMsbCxmKXtyZXR1cm4gQmwoYyx1LmdldEJvZHkoKSxmKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBvPWMsaT1mLGE9ZSxGbCgocj1sKS5kb20pLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIFVsKHIuZG9tKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG8/aS5pc0VxdWFsKHQpJiZhLmlzRXF1YWwoZSk6aS5pc0VxdWFsKGUpJiZhLmlzRXF1YWwodCl9KX0pLmdldE9yKCEwKT9IZyh1LGwpOih0PWwsbj1lLGpnKHMsQXQuZnJvbURvbShuLmdldE5vZGUoKSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hMT09PU90KGUsdCl9KSk7dmFyIHQsbixyLG8saSxhfSkub3IoVS5zb21lKCEwKSl9LHFnPWZ1bmN0aW9uKG8saSxhLGUpe3ZhciB1PSRzLmZyb21SYW5nZVN0YXJ0KG8uc2VsZWN0aW9uLmdldFJuZygpKTtyZXR1cm4gemcoYSxlKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiAkbyhlKT9IZyhvLGUpOih0PWEsbj1lLHI9dSxCbChpLG8uZ2V0Qm9keSgpLHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHpnKHQsQXQuZnJvbURvbShlLmdldE5vZGUoKSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hMT09PU90KGUsbil9KX0pKTt2YXIgdCxuLHJ9KS5nZXRPcighMSl9LCRnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU/eHA6U3ApKHQpfSxXZz1mdW5jdGlvbihhLHUscil7dmFyIHM9QXQuZnJvbURvbShhLmdldEJvZHkoKSk7cmV0dXJuIGpnKHMscikuZm9sZChmdW5jdGlvbigpe3JldHVybiBxZyhhLHUscyxyKXx8KGU9YSx0PXUsbj0kcy5mcm9tUmFuZ2VTdGFydChlLnNlbGVjdGlvbi5nZXRSbmcoKSksJGcodCxuKXx8T2wodCxlLmdldEJvZHkoKSxuKS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuICRnKHQsZSl9KSk7dmFyIGUsdCxufSxmdW5jdGlvbihlKXtyZXR1cm4gdD1hLG49dSxyPXMsbz1lLGk9JHMuZnJvbVJhbmdlU3RhcnQodC5zZWxlY3Rpb24uZ2V0Um5nKCkpLCgkbyhvKT9IZyh0LG8pOlZnKHQscixuLG8saSkpLmdldE9yKCExKTt2YXIgdCxuLHIsbyxpfSl9LEtnPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1PUF0LmZyb21Eb20oZS5zZWxlY3Rpb24uZ2V0U3RhcnQoITApKSxzPUZmKGUpO3JldHVybiBlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiYwPT09cy5sZW5ndGg/V2coZSx0LHUpOihuPWUscj11LG89QXQuZnJvbURvbShuLmdldEJvZHkoKSksaT1uLnNlbGVjdGlvbi5nZXRSbmcoKSwwIT09KGE9RmYobikpLmxlbmd0aD9JZyhuLGEpOlVnKG4sbyxpLHIpKX0sWGc9ZnVuY3Rpb24oYSl7dmFyIHU9JHMuZnJvbVJhbmdlU3RhcnQoYSkscz0kcy5mcm9tUmFuZ2VFbmQoYSksYz1hLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO3JldHVybiBPbCghMSxjLHMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hb2wodSxzLGMpJiZvbCh1LGUsYyk/KHQ9dS5jb250YWluZXIoKSxuPXUub2Zmc2V0KCkscj1lLmNvbnRhaW5lcigpLG89ZS5vZmZzZXQoKSwoaT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydCh0LG4pLGkuc2V0RW5kKHIsbyksaSk6YTt2YXIgdCxuLHIsbyxpfSkuZ2V0T3IoYSl9LFlnPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbGxhcHNlZD9lOlhnKGUpfSxHZz1mdW5jdGlvbihlLHQpe3ZhciBuLHI7cmV0dXJuIGUuZ2V0QmxvY2tFbGVtZW50cygpW3QubmFtZV0mJigocj10KS5maXJzdENoaWxkJiZyLmZpcnN0Q2hpbGQ9PT1yLmxhc3RDaGlsZCkmJigiYnIiPT09KG49dC5maXJzdENoaWxkKS5uYW1lfHxuLnZhbHVlPT09bG8pfSxKZz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPXQuZmlyc3RDaGlsZCxhPXQubGFzdENoaWxkO3JldHVybiBpJiYibWV0YSI9PT1pLm5hbWUmJihpPWkubmV4dCksYSYmIm1jZV9tYXJrZXIiPT09YS5hdHRyKCJpZCIpJiYoYT1hLnByZXYpLHI9YSxvPShuPWUpLmdldE5vbkVtcHR5RWxlbWVudHMoKSxyJiYoci5pc0VtcHR5KG8pfHxHZyhuLHIpKSYmKGE9YS5wcmV2KSwhKCFpfHxpIT09YSkmJigidWwiPT09aS5uYW1lfHwib2wiPT09aS5uYW1lKX0sUWc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuZmlyc3RDaGlsZCYmZS5maXJzdENoaWxkPT09ZS5sYXN0Q2hpbGQmJigodD1lLmZpcnN0Q2hpbGQpLmRhdGE9PT1sb3x8em4odCkpO3ZhciB0fSxaZz1mdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aCYmKCEodD1lW2UubGVuZ3RoLTFdKS5maXJzdENoaWxkfHxRZyh0KSk/ZS5zbGljZSgwLC0xKTplO3ZhciB0fSxlaD1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0UGFyZW50KHQsZS5pc0Jsb2NrKTtyZXR1cm4gbiYmIkxJIj09PW4ubm9kZU5hbWU/bjpudWxsfSx0aD1mdW5jdGlvbihlLHQpe3ZhciBuPSRzLmFmdGVyKGUpLHI9X2wodCkucHJldihuKTtyZXR1cm4gcj9yLnRvUmFuZ2UoKTpudWxsfSxuaD1mdW5jdGlvbih0LGUsbil7dmFyIHIsbyxpLGEsdT10LnBhcmVudE5vZGU7cmV0dXJuIGt0LmVhY2goZSxmdW5jdGlvbihlKXt1Lmluc2VydEJlZm9yZShlLHQpfSkscj10LG89bixpPSRzLmJlZm9yZShyKSwoYT1fbChvKS5uZXh0KGkpKT9hLnRvUmFuZ2UoKTpudWxsfSxyaD1mdW5jdGlvbihlLG8saSx0KXt2YXIgbixyLGEsdSxzLGMsbCxmLGQsbSxwLGcsaCx2LHksYixDLHcseCxTLE49KG49byxyPXQsYz1lLnNlcmlhbGl6ZShyKSxsPW4uY3JlYXRlRnJhZ21lbnQoYyksdT0oYT1sKS5maXJzdENoaWxkLHM9YS5sYXN0Q2hpbGQsdSYmIk1FVEEiPT09dS5ub2RlTmFtZSYmdS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHUpLHMmJiJtY2VfbWFya2VyIj09PXMuaWQmJnMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzKSxhKSxFPWVoKG8saS5zdGFydENvbnRhaW5lciksaz1aZygoZj1OLmZpcnN0Q2hpbGQsa3QuZ3JlcChmLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIkxJIj09PWUubm9kZU5hbWV9KSkpLF89by5nZXRSb290KCksQT1mdW5jdGlvbihlKXt2YXIgdD0kcy5mcm9tUmFuZ2VTdGFydChpKSxuPV9sKG8uZ2V0Um9vdCgpKSxyPTE9PT1lP24ucHJldih0KTpuLm5leHQodCk7cmV0dXJuIXJ8fGVoKG8sci5nZXROb2RlKCkpIT09RX07cmV0dXJuIEEoMSk/bmgoRSxrLF8pOkEoMik/KGQ9RSxtPWsscD1fLG8uaW5zZXJ0QWZ0ZXIobS5yZXZlcnNlKCksZCksdGgobVswXSxwKSk6KGg9ayx2PV8seT1nPUUsQz0oYj1pKS5jbG9uZVJhbmdlKCksdz1iLmNsb25lUmFuZ2UoKSxDLnNldFN0YXJ0QmVmb3JlKHkpLHcuc2V0RW5kQWZ0ZXIoeSkseD1bQy5jbG9uZUNvbnRlbnRzKCksdy5jbG9uZUNvbnRlbnRzKCldLChTPWcucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKHhbMF0sZyksa3QuZWFjaChoLGZ1bmN0aW9uKGUpe1MuaW5zZXJ0QmVmb3JlKGUsZyl9KSxTLmluc2VydEJlZm9yZSh4WzFdLGcpLFMucmVtb3ZlQ2hpbGQoZyksdGgoaFtoLmxlbmd0aC0xXSx2KSl9LG9oPXFuLGloPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tLG49WWcoZS5zZWxlY3Rpb24uZ2V0Um5nKCkpO2Uuc2VsZWN0aW9uLnNldFJuZyhuKTt2YXIgcixvLGksYT10LmdldFBhcmVudChuLnN0YXJ0Q29udGFpbmVyLG9oKTtyPXQsbz1uLG51bGwhPT0oaT1hKSYmaT09PXIuZ2V0UGFyZW50KG8uZW5kQ29udGFpbmVyLG9oKSYmamYoQXQuZnJvbURvbShpKSxvKT9NZyhlLG4sQXQuZnJvbURvbShhKSk6ZS5nZXREb2MoKS5leGVjQ29tbWFuZCgiRGVsZXRlIiwhMSxudWxsKX0sYWg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjLGwsZixkPWUuc2VsZWN0aW9uLG09ZS5kb207L14gfCAkLy50ZXN0KHQpJiYocz1tLGM9ZC5nZXRSbmcoKSxsPXQsZj1BdC5mcm9tRG9tKHMuZ2V0Um9vdCgpKSxsPVFwKGYsJHMuZnJvbVJhbmdlU3RhcnQoYykpP2wucmVwbGFjZSgvXiAvLCImbmJzcDsiKTpsLnJlcGxhY2UoL14mbmJzcDsvLCIgIiksdD1sPVpwKGYsJHMuZnJvbVJhbmdlRW5kKGMpKT9sLnJlcGxhY2UoLygmbmJzcDt8ICkoPGJyKCBcLyk+KT8kLywiJm5ic3A7Iik6bC5yZXBsYWNlKC8mbmJzcDsoPGJyKCBcLyk/Pik/JC8sIiAiKSk7dmFyIHA9ZS5wYXJzZXIsZz1uLm1lcmdlLGg9Sm0oe3ZhbGlkYXRlOmUuZ2V0UGFyYW0oInZhbGlkYXRlIil9LGUuc2NoZW1hKSx2PSc8c3BhbiBpZD0ibWNlX21hcmtlciIgZGF0YS1tY2UtdHlwZT0iYm9va21hcmsiPiYjeEZFRkY7PC9zcGFuPicseT17Y29udGVudDp0LGZvcm1hdDoiaHRtbCIsc2VsZWN0aW9uOiEwLHBhc3RlOm4ucGFzdGV9O2lmKCh5PWUuZmlyZSgiQmVmb3JlU2V0Q29udGVudCIseSkpLmlzRGVmYXVsdFByZXZlbnRlZCgpKWUuZmlyZSgiU2V0Q29udGVudCIse2NvbnRlbnQ6eS5jb250ZW50LGZvcm1hdDoiaHRtbCIsc2VsZWN0aW9uOiEwLHBhc3RlOm4ucGFzdGV9KTtlbHNley0xPT09KHQ9eS5jb250ZW50KS5pbmRleE9mKCJ7JGNhcmV0fSIpJiYodCs9InskY2FyZXR9IiksdD10LnJlcGxhY2UoL1x7XCRjYXJldFx9Lyx2KTt2YXIgYixDLHc9KGE9ZC5nZXRSbmcoKSkuc3RhcnRDb250YWluZXJ8fChhLnBhcmVudEVsZW1lbnQ/YS5wYXJlbnRFbGVtZW50KCk6bnVsbCkseD1lLmdldEJvZHkoKTt3PT09eCYmZC5pc0NvbGxhcHNlZCgpJiZtLmlzQmxvY2soeC5maXJzdENoaWxkKSYmKGI9ZSwoQz14LmZpcnN0Q2hpbGQpJiYhYi5zY2hlbWEuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKClbQy5ub2RlTmFtZV0pJiZtLmlzRW1wdHkoeC5maXJzdENoaWxkKSYmKChhPW0uY3JlYXRlUm5nKCkpLnNldFN0YXJ0KHguZmlyc3RDaGlsZCwwKSxhLnNldEVuZCh4LmZpcnN0Q2hpbGQsMCksZC5zZXRSbmcoYSkpLGQuaXNDb2xsYXBzZWQoKXx8aWgoZSk7dmFyIFMsTixFLGssXyxBLFIsVCxELE8sQixQLEwsSSxNPXtjb250ZXh0OihyPWQuZ2V0Tm9kZSgpKS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGRhdGE6bi5kYXRhLGluc2VydDohMH0sRj1wLnBhcnNlKHQsTSk7aWYoITA9PT1uLnBhc3RlJiZKZyhlLnNjaGVtYSxGKSYmZWgobSxyKSlyZXR1cm4gYT1yaChoLG0sZC5nZXRSbmcoKSxGKSxkLnNldFJuZyhhKSx2b2lkIGUuZmlyZSgiU2V0Q29udGVudCIseSk7aWYoIWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lO3Q9dC53YWxrKCk7KTE9PT10LnR5cGUmJnQuYXR0cigiZGF0YS1tY2UtZnJhZ21lbnQiLCIxIil9KEYpLCJtY2VfbWFya2VyIj09PSh1PUYubGFzdENoaWxkKS5hdHRyKCJpZCIpKWZvcih1PShpPXUpLnByZXY7dTt1PXUud2FsayghMCkpaWYoMz09PXUudHlwZXx8IW0uaXNCbG9jayh1Lm5hbWUpKXtlLnNjaGVtYS5pc1ZhbGlkQ2hpbGQodS5wYXJlbnQubmFtZSwic3BhbiIpJiZ1LnBhcmVudC5pbnNlcnQoaSx1LCJiciI9PT11Lm5hbWUpO2JyZWFrfWlmKGUuX3NlbGVjdGlvbk92ZXJyaWRlcy5zaG93QmxvY2tDYXJldENvbnRhaW5lcihyKSxNLmludmFsaWQpe2ZvcihlLnNlbGVjdGlvbi5zZXRDb250ZW50KHYpLHI9ZC5nZXROb2RlKCksbz1lLmdldEJvZHkoKSw5PT09ci5ub2RlVHlwZT9yPXU9bzp1PXI7dSE9PW87KXU9KHI9dSkucGFyZW50Tm9kZTt0PXI9PT1vP28uaW5uZXJIVE1MOm0uZ2V0T3V0ZXJIVE1MKHIpLHQ9aC5zZXJpYWxpemUocC5wYXJzZSh0LnJlcGxhY2UoLzxzcGFuIChpZD0ibWNlX21hcmtlciJ8aWQ9bWNlX21hcmtlcikuKz88XC9zcGFuPi9pLGZ1bmN0aW9uKCl7cmV0dXJuIGguc2VyaWFsaXplKEYpfSkpKSxyPT09bz9tLnNldEhUTUwobyx0KTptLnNldE91dGVySFRNTChyLHQpfWVsc2UgdD1oLnNlcmlhbGl6ZShGKSxTPWUsTj10LCJhbGwiPT09KEU9cikuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpP0UucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoUy5kb20uY3JlYXRlRnJhZ21lbnQoTiksRSk6KGs9RS5maXJzdENoaWxkLF89RS5sYXN0Q2hpbGQsIWt8fGs9PT1fJiYiQlIiPT09ay5ub2RlTmFtZT9TLmRvbS5zZXRIVE1MKEUsTik6Uy5zZWxlY3Rpb24uc2V0Q29udGVudChOKSk7Uj1nLE89KEE9ZSkuc2NoZW1hLmdldFRleHRJbmxpbmVFbGVtZW50cygpLEI9QS5kb20sUiYmKFQ9QS5nZXRCb2R5KCksRD1uZXcgbHAoQiksa3QuZWFjaChCLnNlbGVjdCgiKltkYXRhLW1jZS1mcmFnbWVudF0iKSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5wYXJlbnROb2RlO3QmJnQhPT1UO3Q9dC5wYXJlbnROb2RlKU9bZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSYmRC5jb21wYXJlKHQsZSkmJkIucmVtb3ZlKGUsITApfSkpLGZ1bmN0aW9uKG4sZSl7dmFyIHQscixvPW4uZG9tLGk9bi5zZWxlY3Rpb247aWYoZSl7aS5zY3JvbGxJbnRvVmlldyhlKTt2YXIgYT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9bi5nZXRCb2R5KCk7ZSYmZSE9PXQ7ZT1lLnBhcmVudE5vZGUpaWYoImZhbHNlIj09PW8uZ2V0Q29udGVudEVkaXRhYmxlKGUpKXJldHVybiBlO3JldHVybiBudWxsfShlKTtpZihhKXJldHVybiBvLnJlbW92ZShlKSxpLnNlbGVjdChhKTt2YXIgdT1vLmNyZWF0ZVJuZygpLHM9ZS5wcmV2aW91c1NpYmxpbmc7cyYmMz09PXMubm9kZVR5cGU/KHUuc2V0U3RhcnQocyxzLm5vZGVWYWx1ZS5sZW5ndGgpLHd0LmllfHwocj1lLm5leHRTaWJsaW5nKSYmMz09PXIubm9kZVR5cGUmJihzLmFwcGVuZERhdGEoci5kYXRhKSxyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocikpKToodS5zZXRTdGFydEJlZm9yZShlKSx1LnNldEVuZEJlZm9yZShlKSk7dmFyIGM9by5nZXRQYXJlbnQoZSxvLmlzQmxvY2spO28ucmVtb3ZlKGUpLGMmJm8uaXNFbXB0eShjKSYmKG4uJChjKS5lbXB0eSgpLHUuc2V0U3RhcnQoYywwKSx1LnNldEVuZChjLDApLG9oKGMpfHxjLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtZnJhZ21lbnQiKXx8ISh0PWZ1bmN0aW9uKGUpe3ZhciB0PSRzLmZyb21SYW5nZVN0YXJ0KGUpO2lmKHQ9X2wobi5nZXRCb2R5KCkpLm5leHQodCkpcmV0dXJuIHQudG9SYW5nZSgpfSh1KSk/by5hZGQoYyxvLmNyZWF0ZSgiYnIiLHsiZGF0YS1tY2UtYm9ndXMiOiIxIn0pKToodT10LG8ucmVtb3ZlKGMpKSksaS5zZXRSbmcodSl9fShlLG0uZ2V0KCJtY2VfbWFya2VyIikpLFA9ZS5nZXRCb2R5KCksa3QuZWFjaChQLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksZnVuY3Rpb24oZSl7ZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLWZyYWdtZW50Iil9KSxMPW0sST1kLmdldFN0YXJ0KCksVS5mcm9tKEwuZ2V0UGFyZW50KEksInRkLHRoIikpLm1hcChBdC5mcm9tRG9tKS5lYWNoKEFwKSxlLmZpcmUoIlNldENvbnRlbnQiLHkpLGUuYWRkVmlzdWFsKCl9fSx1aD1mdW5jdGlvbihlLHQpe3QoZSksZS5maXJzdENoaWxkJiZ1aChlLmZpcnN0Q2hpbGQsdCksZS5uZXh0JiZ1aChlLm5leHQsdCl9LHNoPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlLG4sdCl7dmFyIHI9e30sbz17fSxpPVtdO2Zvcih2YXIgYSBpbiB0LmZpcnN0Q2hpbGQmJnVoKHQuZmlyc3RDaGlsZCxmdW5jdGlvbih0KXtXKGUsZnVuY3Rpb24oZSl7ZS5uYW1lPT09dC5uYW1lJiYocltlLm5hbWVdP3JbZS5uYW1lXS5ub2Rlcy5wdXNoKHQpOnJbZS5uYW1lXT17ZmlsdGVyOmUsbm9kZXM6W3RdfSl9KSxXKG4sZnVuY3Rpb24oZSl7InN0cmluZyI9PXR5cGVvZiB0LmF0dHIoZS5uYW1lKSYmKG9bZS5uYW1lXT9vW2UubmFtZV0ubm9kZXMucHVzaCh0KTpvW2UubmFtZV09e2ZpbHRlcjplLG5vZGVzOlt0XX0pfSl9KSxyKXIuaGFzT3duUHJvcGVydHkoYSkmJmkucHVzaChyW2FdKTtmb3IodmFyIHUgaW4gbylvLmhhc093blByb3BlcnR5KHUpJiZpLnB1c2gob1t1XSk7cmV0dXJuIGl9KGUsdCxuKTtXKHIsZnVuY3Rpb24odCl7Vyh0LmZpbHRlci5jYWxsYmFja3MsZnVuY3Rpb24oZSl7ZSh0Lm5vZGVzLHQuZmlsdGVyLm5hbWUse30pfSl9KX0sY2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBLbX0sbGg9ZnVuY3Rpb24oZSx0KXt2YXIgcjtlLmRvbS5zZXRIVE1MKGUuZ2V0Qm9keSgpLHQpLEVtKHI9ZSkmJkZsKHIuZ2V0Qm9keSgpKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Tm9kZSgpLG49Qm4odCk/RmwodCkuZ2V0T3IoZSk6ZTtyLnNlbGVjdGlvbi5zZXRSbmcobi50b1JhbmdlKCkpfSl9LGZoPWZ1bmN0aW9uKHUscyxjKXtyZXR1cm4gYy5mb3JtYXQ9Yy5mb3JtYXQ/Yy5mb3JtYXQ6Imh0bWwiLGMuc2V0PSEwLGMuY29udGVudD1jaChzKT8iIjpzLGMubm9fZXZlbnRzfHx1LmZpcmUoIkJlZm9yZVNldENvbnRlbnQiLGMpLGNoKHMpfHwocz1jLmNvbnRlbnQpLFUuZnJvbSh1LmdldEJvZHkoKSkuZm9sZChFKHMpLGZ1bmN0aW9uKGUpe3JldHVybiBjaChzKT9mdW5jdGlvbihlLHQsbixyKXtzaChlLnBhcnNlci5nZXROb2RlRmlsdGVycygpLGUucGFyc2VyLmdldEF0dHJpYnV0ZUZpbHRlcnMoKSxuKTt2YXIgbz1KbSh7dmFsaWRhdGU6ZS52YWxpZGF0ZX0sZS5zY2hlbWEpLnNlcmlhbGl6ZShuKTtyZXR1cm4gci5jb250ZW50PXNvKEF0LmZyb21Eb20odCkpP286a3QudHJpbShvKSxsaChlLHIuY29udGVudCksci5ub19ldmVudHN8fGUuZmlyZSgiU2V0Q29udGVudCIsciksbn0odSxlLHMsYyk6KHQ9dSxuPWUsbz1jLDA9PT0ocj1zKS5sZW5ndGh8fC9eXHMrJC8udGVzdChyKT8oYT0nPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nLCJUQUJMRSI9PT1uLm5vZGVOYW1lP3I9Ijx0cj48dGQ+IithKyI8L3RkPjwvdHI+IjovXihVTHxPTCkkLy50ZXN0KG4ubm9kZU5hbWUpJiYocj0iPGxpPiIrYSsiPC9saT4iKSxyPShpPXZjKHQpKSYmdC5zY2hlbWEuaXNWYWxpZENoaWxkKG4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxpLnRvTG93ZXJDYXNlKCkpPyhyPWEsdC5kb20uY3JlYXRlSFRNTChpLHljKHQpLHIpKTpyfHwnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nLGxoKHQsciksdC5maXJlKCJTZXRDb250ZW50IixvKSk6KCJyYXciIT09by5mb3JtYXQmJihyPUptKHt2YWxpZGF0ZTp0LnZhbGlkYXRlfSx0LnNjaGVtYSkuc2VyaWFsaXplKHQucGFyc2VyLnBhcnNlKHIse2lzUm9vdENvbnRlbnQ6ITAsaW5zZXJ0OiEwfSkpKSxvLmNvbnRlbnQ9c28oQXQuZnJvbURvbShuKSk/cjprdC50cmltKHIpLGxoKHQsby5jb250ZW50KSxvLm5vX2V2ZW50c3x8dC5maXJlKCJTZXRDb250ZW50IixvKSksby5jb250ZW50KTt2YXIgdCxuLHIsbyxpLGF9KX0sZGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcj10LCgobz0obj1lKS5kb20pLnBhcmVudE5vZGU/UnIoQXQuZnJvbURvbShvLnBhcmVudE5vZGUpLGZ1bmN0aW9uKGUpe3JldHVybiFPdChuLGUpJiZyKGUpfSk6VS5ub25lKCkpLmlzU29tZSgpO3ZhciBuLHIsb30sbWg9Zm8scGg9Il9tY2VfY2FyZXQiLGdoPWZ1bmN0aW9uKGUpe3JldHVybiAwPGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXTtlOyl7aWYoMz09PWUubm9kZVR5cGUmJmUubm9kZVZhbHVlIT09bWh8fDE8ZS5jaGlsZE5vZGVzLmxlbmd0aClyZXR1cm5bXTsxPT09ZS5ub2RlVHlwZSYmdC5wdXNoKGUpLGU9ZS5maXJzdENoaWxkfXJldHVybiB0fShlKS5sZW5ndGh9LGhoPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PW5ldyBYcihlLGUpO2ZvcihlPXQuY3VycmVudCgpO2U7ZT10Lm5leHQoKSlpZihJbihlKSlyZXR1cm4gZX1yZXR1cm4gbnVsbH0sdmg9ZnVuY3Rpb24oZSl7dmFyIHQ9QXQuZnJvbVRhZygic3BhbiIpO3JldHVybiBZbih0LHtpZDpwaCwiZGF0YS1tY2UtYm9ndXMiOiIxIiwiZGF0YS1tY2UtdHlwZSI6ImZvcm1hdC1jYXJldCJ9KSxlJiZmbih0LEF0LmZyb21UZXh0KG1oKSksdH0seWg9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPSEwKTt2YXIgcixvLGksYSx1LHMsYyxsLGY9ZS5kb20sZD1lLnNlbGVjdGlvbjtnaCh0KT9DZyhlLCExLEF0LmZyb21Eb20odCksbik6KHI9ZC5nZXRSbmcoKSxvPWYuZ2V0UGFyZW50KHQsZi5pc0Jsb2NrKSxpPXIuc3RhcnRDb250YWluZXIsYT1yLnN0YXJ0T2Zmc2V0LHU9ci5lbmRDb250YWluZXIscz1yLmVuZE9mZnNldCwobD1oaCh0KSkmJmwubm9kZVZhbHVlLmNoYXJBdCgwKT09PW1oJiZsLmRlbGV0ZURhdGEoMCwxKSxjPWwsZi5yZW1vdmUodCwhMCksaT09PWMmJjA8YSYmci5zZXRTdGFydChjLGEtMSksdT09PWMmJjA8cyYmci5zZXRFbmQoYyxzLTEpLG8mJmYuaXNFbXB0eShvKSYmX3AoQXQuZnJvbURvbShvKSksZC5zZXRSbmcocikpfSxiaD1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09biYmKG49ITApO3ZhciByPWUuZG9tLG89ZS5zZWxlY3Rpb247aWYodCl5aChlLHQsbik7ZWxzZSBpZighKHQ9SGwoZS5nZXRCb2R5KCksby5nZXRTdGFydCgpKSkpZm9yKDt0PXIuZ2V0KHBoKTspeWgoZSx0LCExKX0sQ2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hcHBlbmRDaGlsZCh0KSx0fSx3aD1mdW5jdGlvbihlLHQpe3ZhciBuPUsoZSxmdW5jdGlvbihlLHQpe3JldHVybiBDaChlLHQuY2xvbmVOb2RlKCExKSl9LHQpO3JldHVybiBDaChuLG4ub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtaCkpfSx4aD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGMsbCxmLGQsbSxwLGcsaCx2PWUuZG9tLHk9ZS5zZWxlY3Rpb24sYj1bXSxDPXkuZ2V0Um5nKCksdz1DLnN0YXJ0Q29udGFpbmVyLHg9Qy5zdGFydE9mZnNldCxTPXc7Zm9yKDM9PT13Lm5vZGVUeXBlJiYoeCE9PXcubm9kZVZhbHVlLmxlbmd0aCYmKG89ITApLFM9Uy5wYXJlbnROb2RlKTtTOyl7aWYoem0oZSxTLHQsbixyKSl7aT1TO2JyZWFrfVMubmV4dFNpYmxpbmcmJihvPSEwKSxiLnB1c2goUyksUz1TLnBhcmVudE5vZGV9aSYmKG8/KGE9eS5nZXRCb29rbWFyaygpLEMuY29sbGFwc2UoITApLHU9T2YoZSxDLGUuZm9ybWF0dGVyLmdldCh0KSwhMCksdT1DZCh1KSxlLmZvcm1hdHRlci5yZW1vdmUodCxuLHUscikseS5tb3ZlVG9Cb29rbWFyayhhKSk6KHM9SGwoZS5nZXRCb2R5KCksaSksYz12aCghMSkuZG9tLG09YyxwPW51bGwhPT1zP3M6aSxnPShkPWUpLmRvbSwoaD1nLmdldFBhcmVudChwLE4ob2YsZCkpKSYmZy5pc0VtcHR5KGgpP3AucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobSxwKTooa3AoQXQuZnJvbURvbShwKSksZy5pc0VtcHR5KHApP3AucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobSxwKTpnLmluc2VydEFmdGVyKG0scCkpLGw9ZnVuY3Rpb24odCxlLG4scixvLGkpe3ZhciBhPXQuZm9ybWF0dGVyLHU9dC5kb20scz1IKGllKGEuZ2V0KCkpLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09ciYmIUhlKGUsInJlbW92ZWZvcm1hdCIpfSksYz1WbSh0LG4scyk7aWYoMDxIKGMsZnVuY3Rpb24oZSl7cmV0dXJuIXBmKHQsZSxyKX0pLmxlbmd0aCl7dmFyIGw9bi5jbG9uZU5vZGUoITEpO3JldHVybiB1LmFkZChlLGwpLGEucmVtb3ZlKHIsbyxsLGkpLHUucmVtb3ZlKGwpLFUuc29tZShsKX1yZXR1cm4gVS5ub25lKCl9KGUsYyxpLHQsbixyKSxmPXdoKGIuY29uY2F0KGwudG9BcnJheSgpKSxjKSx5aChlLHMsITEpLHkuc2V0Q3Vyc29yTG9jYXRpb24oZiwxKSx2LmlzRW1wdHkoaSkmJnYucmVtb3ZlKGkpKSl9LFNoPWZ1bmN0aW9uKGkpe2kub24oIm1vdXNldXAga2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG87dD1pLG49ZS5rZXlDb2RlLHI9dC5zZWxlY3Rpb24sbz10LmdldEJvZHkoKSxiaCh0LG51bGwsITEpLDghPT1uJiY0NiE9PW58fCFyLmlzQ29sbGFwc2VkKCl8fHIuZ2V0U3RhcnQoKS5pbm5lckhUTUwhPT1taHx8YmgodCxIbChvLHIuZ2V0U3RhcnQoKSkpLDM3IT09biYmMzkhPT1ufHxiaCh0LEhsKG8sci5nZXRTdGFydCgpKSl9KX0sTmg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zY2hlbWEuZ2V0VGV4dElubGluZUVsZW1lbnRzKCkuaGFzT3duUHJvcGVydHkoTHQodCkpJiYhamwodC5kb20pJiYhT24odC5kb20pfSxFaD17fSxraD13ZSxfaD1iZTtvcD1mdW5jdGlvbihlKXt2YXIgdCxuPWUuc2VsZWN0aW9uLmdldFJuZygpLHI9Um4oWyJwcmUiXSk7bi5jb2xsYXBzZWR8fCh0PWUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCksX2goa2goa2godCxyKSxmdW5jdGlvbihlKXtyZXR1cm4gcihlLnByZXZpb3VzU2libGluZykmJi0xIT09eGUodCxlLnByZXZpb3VzU2libGluZyl9KSxmdW5jdGlvbihlKXt2YXIgdCxuO3Q9ZS5wcmV2aW91c1NpYmxpbmcsaHUobj1lKS5yZW1vdmUoKSxodSh0KS5hcHBlbmQoIjxicj48YnI+IikuYXBwZW5kKG4uY2hpbGROb2Rlcyl9KSl9LEVoW3JwPSJwcmUiXXx8KEVoW3JwXT1bXSksRWhbcnBdLnB1c2gob3ApO3ZhciBBaD1rdC5lYWNoLFJoPWZ1bmN0aW9uKGUpe3JldHVybiBBbihlKSYmIUpsKGUpJiYhamwoZSkmJiFPbihlKX0sVGg9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZTtuO249blt0XSl7aWYoSW4obikmJjAhPT1uLm5vZGVWYWx1ZS5sZW5ndGgpcmV0dXJuIGU7aWYoQW4obikmJiFKbChuKSlyZXR1cm4gbn1yZXR1cm4gZX0sRGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT1uZXcgbHAoZSk7aWYodCYmbiYmKHQ9VGgodCwicHJldmlvdXNTaWJsaW5nIiksbj1UaChuLCJuZXh0U2libGluZyIpLGkuY29tcGFyZSh0LG4pKSl7Zm9yKHI9dC5uZXh0U2libGluZztyJiZyIT09bjspcj0obz1yKS5uZXh0U2libGluZyx0LmFwcGVuZENoaWxkKG8pO3JldHVybiBlLnJlbW92ZShuKSxrdC5lYWNoKGt0LmdyZXAobi5jaGlsZE5vZGVzKSxmdW5jdGlvbihlKXt0LmFwcGVuZENoaWxkKGUpfSksdH1yZXR1cm4gbn0sT2g9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG87ciYmITEhPT10Lm1lcmdlX3NpYmxpbmdzJiYobz1EaChlLHJmKHIpLHIpLERoKGUsbyxyZihvLCEwKSkpfSxCaD1mdW5jdGlvbihlLHQsbil7QWgoZS5jaGlsZE5vZGVzLGZ1bmN0aW9uKGUpe1JoKGUpJiYodChlKSYmbihlKSxlLmhhc0NoaWxkTm9kZXMoKSYmQmgoZSx0LG4pKX0pfSxQaD1mdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZmYodCxlLG4pKX19LExoPWZ1bmN0aW9uKHIsbyxpKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQsbjtyLnNldFN0eWxlKGUsbyxpKSwiIj09PWUuZ2V0QXR0cmlidXRlKCJzdHlsZSIpJiZlLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSx0PXIsIlNQQU4iPT09KG49ZSkubm9kZU5hbWUmJjA9PT10LmdldEF0dHJpYnMobikubGVuZ3RoJiZ0LnJlbW92ZShuLCEwKX19LEloPUNyKFt7a2VlcDpbXX0se3JlbmFtZTpbIm5hbWUiXX0se3JlbW92ZWQ6W119XSksTWg9L14oc3JjfGhyZWZ8c3R5bGUpJC8sRmg9a3QuZWFjaCxVaD1jZix6aD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuaXNDaGlsZE9mKHQsbikmJnQhPT1uJiYhZS5pc0Jsb2NrKG4pfSxqaD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbz10W24/InN0YXJ0Q29udGFpbmVyIjoiZW5kQ29udGFpbmVyIl0saT10W24/InN0YXJ0T2Zmc2V0IjoiZW5kT2Zmc2V0Il07cmV0dXJuIEFuKG8pJiYocj1vLmNoaWxkTm9kZXMubGVuZ3RoLTEsIW4mJmkmJmktLSxvPW8uY2hpbGROb2Rlc1tyPGk/cjppXSksSW4obykmJm4mJmk+PW8ubm9kZVZhbHVlLmxlbmd0aCYmKG89bmV3IFhyKG8sZS5nZXRCb2R5KCkpLm5leHQoKXx8byksSW4obykmJiFuJiYwPT09aSYmKG89bmV3IFhyKG8sZS5nZXRCb2R5KCkpLnByZXYoKXx8byksb30sSGg9ZnVuY3Rpb24oZSx0KXt2YXIgbj10PyJmaXJzdENoaWxkIjoibGFzdENoaWxkIjtpZigvXihUUnxUSHxURCkkLy50ZXN0KGUubm9kZU5hbWUpJiZlW25dKXt2YXIgcj1lW25dO3JldHVybiJUUiI9PT1lLm5vZGVOYW1lJiZyW25dfHxyfXJldHVybiBlfSxWaD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLmNyZWF0ZShuLHIpO3JldHVybiB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG8sdCksby5hcHBlbmRDaGlsZCh0KSxvfSxxaD1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPUF0LmZyb21Eb20odCksYT1BdC5mcm9tRG9tKGUuY3JlYXRlKHIsbykpLHU9KG4/WXQ6WHQpKGkpO3JldHVybiBkbihhLHUpLG4/KHNuKGksYSksbG4oYSxpKSk6KGNuKGksYSksZm4oYSxpKSksYS5kb219LCRoPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiEodD1yZih0LG4scikpfHwiQlIiPT09dC5ub2RlTmFtZXx8ZS5pc0Jsb2NrKHQpfSxXaD1mdW5jdGlvbihlLHIsbyx0LGkpe3ZhciBuLGEsdSxzLGMsbD1lLmRvbTtpZih1PWwsIShVaChzPXQsKGM9cikuaW5saW5lKXx8VWgocyxjLmJsb2NrKXx8Yy5zZWxlY3RvciYmKEFuKHMpJiZ1LmlzKHMsYy5zZWxlY3RvcikpfHwoYT10LHIubGlua3MmJiJBIj09PWEubm9kZU5hbWUpKSlyZXR1cm4gSWgua2VlcCgpO3ZhciBmLGQsbSxwLGcsaCx2LHk9dDtpZihyLmlubGluZSYmImFsbCI9PT1yLnJlbW92ZSYmUyhyLnByZXNlcnZlX2F0dHJpYnV0ZXMpKXt2YXIgYj1IKGwuZ2V0QXR0cmlicyh5KSxmdW5jdGlvbihlKXtyZXR1cm4gTShyLnByZXNlcnZlX2F0dHJpYnV0ZXMsZS5uYW1lLnRvTG93ZXJDYXNlKCkpfSk7aWYobC5yZW1vdmVBbGxBdHRyaWJzKHkpLFcoYixmdW5jdGlvbihlKXtyZXR1cm4gbC5zZXRBdHRyaWIoeSxlLm5hbWUsZS52YWx1ZSl9KSwwPGIubGVuZ3RoKXJldHVybiBJaC5yZW5hbWUoInNwYW4iKX1pZigiYWxsIiE9PXIucmVtb3ZlKXtGaChyLnN0eWxlcyxmdW5jdGlvbihlLHQpe2U9bGYobCxzZihlLG8pLHQrIiIpLE8odCkmJih0PWUsaT1udWxsKSwhci5yZW1vdmVfc2ltaWxhciYmaSYmIVVoKGZmKGwsaSx0KSxlKXx8bC5zZXRTdHlsZSh5LHQsIiIpLG49ITB9KSxuJiYiIj09PWwuZ2V0QXR0cmliKHksInN0eWxlIikmJih5LnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSx5LnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc3R5bGUiKSksRmgoci5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoZT1zZihlLG8pLE8odCkmJih0PWUsaT1udWxsKSxyLnJlbW92ZV9zaW1pbGFyfHwhaXx8VWgobC5nZXRBdHRyaWIoaSx0KSxlKSl7aWYoImNsYXNzIj09PXQmJihlPWwuZ2V0QXR0cmliKHksdCkpJiYobj0iIixXKGUuc3BsaXQoL1xzKy8pLGZ1bmN0aW9uKGUpey9tY2VcLVx3Ky8udGVzdChlKSYmKG4rPShuPyIgIjoiIikrZSl9KSxuKSlyZXR1cm4gdm9pZCBsLnNldEF0dHJpYih5LHQsbik7ImNsYXNzIj09PXQmJnkucmVtb3ZlQXR0cmlidXRlKCJjbGFzc05hbWUiKSxNaC50ZXN0KHQpJiZ5LnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtIit0KSx5LnJlbW92ZUF0dHJpYnV0ZSh0KX19KSxGaChyLmNsYXNzZXMsZnVuY3Rpb24oZSl7ZT1zZihlLG8pLGkmJiFsLmhhc0NsYXNzKGksZSl8fGwucmVtb3ZlQ2xhc3MoeSxlKX0pO2Zvcih2YXIgQz1sLmdldEF0dHJpYnMoeSksdz0wO3c8Qy5sZW5ndGg7dysrKXt2YXIgeD1DW3ddLm5vZGVOYW1lO2lmKDAhPT14LmluZGV4T2YoIl8iKSYmMCE9PXguaW5kZXhPZigiZGF0YS0iKSlyZXR1cm4gSWgua2VlcCgpfX1yZXR1cm4ibm9uZSIhPT1yLnJlbW92ZT8oZj1lLG09cixnPShkPXkpLnBhcmVudE5vZGUsaD1mLmRvbSx2PXZjKGYpLG0uYmxvY2smJih2P2c9PT1oLmdldFJvb3QoKSYmKG0ubGlzdF9ibG9jayYmVWgoZCxtLmxpc3RfYmxvY2spfHxXKG9lKGQuY2hpbGROb2RlcyksZnVuY3Rpb24oZSl7YWYoZix2LGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk/cD9wLmFwcGVuZENoaWxkKGUpOihwPVZoKGgsZSx2KSxoLnNldEF0dHJpYnMocCxmLnNldHRpbmdzLmZvcmNlZF9yb290X2Jsb2NrX2F0dHJzKSk6cD0wfSkpOmguaXNCbG9jayhkKSYmIWguaXNCbG9jayhnKSYmKCRoKGgsZCwhMSl8fCRoKGgsZC5maXJzdENoaWxkLCEwLCEwKXx8ZC5pbnNlcnRCZWZvcmUoaC5jcmVhdGUoImJyIiksZC5maXJzdENoaWxkKSwkaChoLGQsITApfHwkaChoLGQubGFzdENoaWxkLCExLCEwKXx8ZC5hcHBlbmRDaGlsZChoLmNyZWF0ZSgiYnIiKSkpKSxtLnNlbGVjdG9yJiZtLmlubGluZSYmIVVoKG0uaW5saW5lLGQpfHxoLnJlbW92ZShkLCEwKSxJaC5yZW1vdmVkKCkpOkloLmtlZXAoKX0sS2g9ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gV2godCxlLG4scixvKS5mb2xkKEMsZnVuY3Rpb24oZSl7cmV0dXJuIHQuZG9tLnJlbmFtZShyLGUpLCEwfSxrKX0sWGg9ZnVuY3Rpb24oZSx0LG4scixvLGksYSx1KXt2YXIgcyxjLGwsZj1lLmRvbTtpZihuKXtmb3IodmFyIGQ9bi5wYXJlbnROb2RlLG09ci5wYXJlbnROb2RlO20mJm0hPT1kO209bS5wYXJlbnROb2RlKXtzPWYuY2xvbmUobSwhMSk7Zm9yKHZhciBwPTA7cDx0Lmxlbmd0aCYmbnVsbCE9PShzPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBXaCh0LGUsbixyLHIpLmZvbGQoRShyKSxmdW5jdGlvbihlKXtyZXR1cm4gdC5kb20uY3JlYXRlRnJhZ21lbnQoKS5hcHBlbmRDaGlsZChyKSx0LmRvbS5yZW5hbWUocixlKX0sRShudWxsKSl9KGUsdFtwXSx1LHMpKTtwKyspO3MmJihjJiZzLmFwcGVuZENoaWxkKGMpLGw9bHx8cyxjPXMpfSFpfHxhLm1peGVkJiZmLmlzQmxvY2sobil8fChyPWYuc3BsaXQobixyKSksYyYmKG8ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYyxvKSxsLmFwcGVuZENoaWxkKG8pLGEuaW5saW5lJiZPaChmLGEsMCxjKSl9cmV0dXJuIHJ9LFloPWZ1bmN0aW9uKHMsYyxsLGUsZil7dmFyIHQsZD1zLmZvcm1hdHRlci5nZXQoYyksbT1kWzBdLGk9ITAsYT1zLmRvbSxuPXMuc2VsZWN0aW9uLHU9ZnVuY3Rpb24oZSl7dmFyIG4sdCxyLG8saSxhLHU9KHQ9ZSxyPWMsbz1sLGk9ZixXKG1mKChuPXMpLmRvbSx0LnBhcmVudE5vZGUpLnJldmVyc2UoKSxmdW5jdGlvbihlKXt2YXIgdDthfHwiX3N0YXJ0Ij09PWUuaWR8fCJfZW5kIj09PWUuaWR8fCh0PXptKG4sZSxyLG8saSkpJiYhMSE9PXQuc3BsaXQmJihhPWUpfSksYSk7cmV0dXJuIFhoKHMsZCx1LGUsZSwhMCxtLGwpfSxwPWZ1bmN0aW9uKGUpe3ZhciB0LG47QW4oZSkmJmEuZ2V0Q29udGVudEVkaXRhYmxlKGUpJiYodD1pLGk9InRydWUiPT09YS5nZXRDb250ZW50RWRpdGFibGUoZSksbj0hMCk7dmFyIHI9b2UoZS5jaGlsZE5vZGVzKTtpZihpJiYhbilmb3IodmFyIG89MDtvPGQubGVuZ3RoJiYhS2gocyxkW29dLGwsZSxlKTtvKyspO2lmKG0uZGVlcCYmci5sZW5ndGgpe2ZvcihvPTA7bzxyLmxlbmd0aDtvKyspcChyW29dKTtuJiYoaT10KX19LGc9ZnVuY3Rpb24oZSl7dmFyIHQsbj1hLmdldChlPyJfc3RhcnQiOiJfZW5kIikscj1uW2U/ImZpcnN0Q2hpbGQiOiJsYXN0Q2hpbGQiXTtyZXR1cm4gSmwodD1yKSYmQW4odCkmJigiX3N0YXJ0Ij09PXQuaWR8fCJfZW5kIj09PXQuaWQpJiYocj1yW2U/ImZpcnN0Q2hpbGQiOiJsYXN0Q2hpbGQiXSksSW4ocikmJjA9PT1yLmRhdGEubGVuZ3RoJiYocj1lP24ucHJldmlvdXNTaWJsaW5nfHxuLm5leHRTaWJsaW5nOm4ubmV4dFNpYmxpbmd8fG4ucHJldmlvdXNTaWJsaW5nKSxhLnJlbW92ZShuLCEwKSxyfSxyPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1PZihzLGUsZCxlLmNvbGxhcHNlZCk7aWYobS5zcGxpdCl7aWYocj1DZChyKSwodD1qaChzLHIsITApKSE9PShuPWpoKHMscikpKXtpZih0PUhoKHQsITApLG49SGgobiwhMSksemgoYSx0LG4pKXt2YXIgbz1VLmZyb20odC5maXJzdENoaWxkKS5nZXRPcih0KTtyZXR1cm4gdShxaChhLG8sITAsInNwYW4iLHtpZDoiX3N0YXJ0IiwiZGF0YS1tY2UtdHlwZSI6ImJvb2ttYXJrIn0pKSx2b2lkIGcoITApfWlmKHpoKGEsbix0KSl7bz1VLmZyb20obi5sYXN0Q2hpbGQpLmdldE9yKG4pO3JldHVybiB1KHFoKGEsbywhMSwic3BhbiIse2lkOiJfZW5kIiwiZGF0YS1tY2UtdHlwZSI6ImJvb2ttYXJrIn0pKSx2b2lkIGcoITEpfXQ9VmgoYSx0LCJzcGFuIix7aWQ6Il9zdGFydCIsImRhdGEtbWNlLXR5cGUiOiJib29rbWFyayJ9KSxuPVZoKGEsbiwic3BhbiIse2lkOiJfZW5kIiwiZGF0YS1tY2UtdHlwZSI6ImJvb2ttYXJrIn0pO3ZhciBpPWEuY3JlYXRlUm5nKCk7aS5zZXRTdGFydEFmdGVyKHQpLGkuc2V0RW5kQmVmb3JlKG4pLFBmKGEsaSxmdW5jdGlvbihlKXtXKGUsZnVuY3Rpb24oZSl7SmwoZSl8fEpsKGUucGFyZW50Tm9kZSl8fHUoZSl9KX0pLHUodCksdShuKSx0PWcoITApLG49ZygpfWVsc2UgdD1uPXUodCk7ci5zdGFydENvbnRhaW5lcj10LnBhcmVudE5vZGU/dC5wYXJlbnROb2RlOnQsci5zdGFydE9mZnNldD1hLm5vZGVJbmRleCh0KSxyLmVuZENvbnRhaW5lcj1uLnBhcmVudE5vZGU/bi5wYXJlbnROb2RlOm4sci5lbmRPZmZzZXQ9YS5ub2RlSW5kZXgobikrMX1QZihhLHIsZnVuY3Rpb24oZSl7VyhlLGZ1bmN0aW9uKHQpe3AodCk7VyhbInVuZGVybGluZSIsImxpbmUtdGhyb3VnaCIsIm92ZXJsaW5lIl0sZnVuY3Rpb24oZSl7QW4odCkmJnMuZG9tLmdldFN0eWxlKHQsInRleHQtZGVjb3JhdGlvbiIpPT09ZSYmdC5wYXJlbnROb2RlJiZkZihhLHQucGFyZW50Tm9kZSk9PT1lJiZLaChzLHtkZWVwOiExLGV4YWN0OiEwLGlubGluZToic3BhbiIsc3R5bGVzOnt0ZXh0RGVjb3JhdGlvbjplfX0sbnVsbCx0KX0pfSl9KX07aWYoZSl0ZihlKT8oKHQ9YS5jcmVhdGVSbmcoKSkuc2V0U3RhcnRCZWZvcmUoZSksdC5zZXRFbmRBZnRlcihlKSxyKHQpKTpyKGUpO2Vsc2UgaWYoImZhbHNlIiE9PWEuZ2V0Q29udGVudEVkaXRhYmxlKG4uZ2V0Tm9kZSgpKSluLmlzQ29sbGFwc2VkKCkmJm0uaW5saW5lJiYhRmYocykubGVuZ3RoP3hoKHMsYyxsLGYpOigkZihuLCEwLGZ1bmN0aW9uKCl7cWYocyxyKX0pLG0uaW5saW5lJiZqbShzLGMsbCxuLmdldFN0YXJ0KCkpJiZuZihhLG4sbi5nZXRSbmcoKSkscy5ub2RlQ2hhbmdlZCgpKTtlbHNle2U9bi5nZXROb2RlKCk7Zm9yKHZhciBvPTA7bzxkLmxlbmd0aCYmKCFkW29dLmNlRmFsc2VPdmVycmlkZXx8IUtoKHMsZFtvXSxsLGUsZSkpO28rKyk7fX0sR2g9a3QuZWFjaCxKaD1mdW5jdGlvbihpLGUsYSx1KXtHaChlLGZ1bmN0aW9uKHQpe3ZhciByLGUsbixvO0doKGkuZG9tLnNlbGVjdCh0LmlubGluZSx1KSxmdW5jdGlvbihlKXtSaChlKSYmS2goaSx0LGEsZSx0LmV4YWN0P2U6bnVsbCl9KSxyPWkuZG9tLG49dSwoZT10KS5jbGVhcl9jaGlsZF9zdHlsZXMmJihvPWUubGlua3M/Iio6bm90KGEpIjoiKiIsQWgoci5zZWxlY3QobyxuKSxmdW5jdGlvbihuKXtSaChuKSYmQWgoZS5zdHlsZXMsZnVuY3Rpb24oZSx0KXtyLnNldFN0eWxlKG4sdCwiIil9KX0pKX0pfSxRaD1rdC5lYWNoLFpoPXZlLGV2PWZ1bmN0aW9uKEUsayxfLHIpe3ZhciBlLHQsbixvLEE9RS5mb3JtYXR0ZXIuZ2V0KGspLFI9QVswXSxpPSFyJiZFLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpLGE9RS5kb20sdT1FLnNlbGVjdGlvbixUPWZ1bmN0aW9uKG4sZSl7dmFyIHQ7ZT1lfHxSLG4mJihlLm9uZm9ybWF0JiZlLm9uZm9ybWF0KG4sZSxfLHIpLFFoKGUuc3R5bGVzLGZ1bmN0aW9uKGUsdCl7YS5zZXRTdHlsZShuLHQsc2YoZSxfKSl9KSwhZS5zdHlsZXN8fCh0PWEuZ2V0QXR0cmliKG4sInN0eWxlIikpJiZhLnNldEF0dHJpYihuLCJkYXRhLW1jZS1zdHlsZSIsdCksUWgoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsdCl7YS5zZXRBdHRyaWIobix0LHNmKGUsXykpfSksUWgoZS5jbGFzc2VzLGZ1bmN0aW9uKGUpe2U9c2YoZSxfKSxhLmhhc0NsYXNzKG4sZSl8fGEuYWRkQ2xhc3MobixlKX0pKX0sbT1mdW5jdGlvbihlLHQpe3ZhciBuPSExO3JldHVybiEhaGYoUikmJihRaChlLGZ1bmN0aW9uKGUpe2lmKCEoImNvbGxhcHNlZCJpbiBlJiZlLmNvbGxhcHNlZCE9PWkpKXJldHVybiBhLmlzKHQsZS5zZWxlY3RvcikmJiFqbCh0KT8oVCh0LGUpLCEobj0hMCkpOnZvaWQgMH0pLG4pfSxzPWZ1bmN0aW9uKFMsZSx0LGMpe3ZhciBOPVtdLGw9ITAsZj1SLmlubGluZXx8Ui5ibG9jayxkPVMuY3JlYXRlKGYpO1QoZCksUGYoUyxlLGZ1bmN0aW9uKGUpe3ZhciB1LHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ITEsbj1sLHI9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG89ZS5wYXJlbnROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoQW4oZSkmJlMuZ2V0Q29udGVudEVkaXRhYmxlKGUpJiYobj1sLGw9InRydWUiPT09Uy5nZXRDb250ZW50RWRpdGFibGUoZSksdD0hMCksem4oZSkmJiFmdW5jdGlvbihlLHQsbixyKXtpZihlLmdldFBhcmFtKCJmb3JtYXRfZW1wdHlfbGluZXMiLCExLCJib29sZWFuIikmJnZmKHQpKXt2YXIgbz1rZShrZSh7fSxlLnNjaGVtYS5nZXRUZXh0QmxvY2tFbGVtZW50cygpKSx7dGQ6e30sdGg6e30sbGk6e30sZHQ6e30sZGQ6e30sZmlnY2FwdGlvbjp7fSxjYXB0aW9uOnt9LGRldGFpbHM6e30sc3VtbWFyeTp7fX0pLGk9ZGgoQXQuZnJvbURvbShuKSxmdW5jdGlvbihlKXtyZXR1cm4gamwoZS5kb20pfSk7cmV0dXJuIHZlKG8scikmJiRvKEF0LmZyb21Eb20obi5wYXJlbnROb2RlKSwhMSkmJiFpfXJldHVybiExfShFLFIsZSxvKSlyZXR1cm4gdT1udWxsLHZvaWQoZ2YoUikmJlMucmVtb3ZlKGUpKTtpZihSLndyYXBwZXImJnptKEUsZSxrLF8pKXU9bnVsbDtlbHNle2lmKGwmJiF0JiZnZihSKSYmIVIud3JhcHBlciYmb2YoRSxyKSYmYWYoRSxvLGYpKXt2YXIgaT1TLnJlbmFtZShlLGYpO3JldHVybiBUKGkpLE4ucHVzaChpKSx2b2lkKHU9bnVsbCl9aWYoaGYoUikpe3ZhciBhPW0oQSxlKTtpZighWmgoUiwiaW5saW5lIil8fGEpcmV0dXJuIHZvaWQodT1udWxsKX0hbHx8dHx8IWFmKEUsZixyKXx8IWFmKEUsbyxmKXx8IWMmJjM9PT1lLm5vZGVUeXBlJiYxPT09ZS5ub2RlVmFsdWUubGVuZ3RoJiY2NTI3OT09PWUubm9kZVZhbHVlLmNoYXJDb2RlQXQoMCl8fGpsKGUpfHxaaChSLCJpbmxpbmUiKSYmUy5pc0Jsb2NrKGUpPyh1PW51bGwsUWgoa3QuZ3JlcChlLmNoaWxkTm9kZXMpLHMpLHQmJihsPW4pLHU9bnVsbCk6KHV8fCh1PVMuY2xvbmUoZCwhMSksZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh1LGUpLE4ucHVzaCh1KSksdS5hcHBlbmRDaGlsZChlKSl9fTtRaChlLHMpfSksITA9PT1SLmxpbmtzJiZRaChOLGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpeyJBIj09PWUubm9kZU5hbWUmJlQoZSxSKSxRaChrdC5ncmVwKGUuY2hpbGROb2RlcyksdCl9O3QoZSl9KSxRaChOLGZ1bmN0aW9uKGUpe3ZhciBuLHQscixvLGksYSx1LHMsYyxsLGYsZCxtLHAsZyxoLHYseSxiLEMsdz1mdW5jdGlvbihlKXt2YXIgbj0hMTtyZXR1cm4gUWgoZS5jaGlsZE5vZGVzLGZ1bmN0aW9uKGUpe2lmKCh0PWUpJiYxPT09dC5ub2RlVHlwZSYmIUpsKHQpJiYhamwodCkmJiFPbih0KSlyZXR1cm4gbj1lLCExO3ZhciB0fSksbn0seD0obj0wLFFoKGUuY2hpbGROb2RlcyxmdW5jdGlvbihlKXt2YXIgdDtEKHQ9ZSkmJkluKHQpJiYwPT09dC5sZW5ndGh8fEpsKGUpfHxuKyt9KSxuKTshKDE8Ti5sZW5ndGgpJiZTLmlzQmxvY2soZSl8fDAhPT14Pyh2ZihSKXx8Ui53cmFwcGVyKSYmKFIuZXhhY3R8fDEhPT14fHwoKEM9dyh5PWUpKSYmIUpsKEMpJiZGbShTLEMsUikmJihiPVMuY2xvbmUoQywhMSksVChiKSxTLnJlcGxhY2UoYix5LCEwKSxTLnJlbW92ZShDLCEwKSksZT1ifHx5KSxKaChFLEEsXyxlKSxwPVIsZz1rLGg9Xyx6bShtPUUsKHY9ZSkucGFyZW50Tm9kZSxnLGgpJiZLaChtLHAsaCx2KXx8cC5tZXJnZV93aXRoX3BhcmVudHMmJm0uZG9tLmdldFBhcmVudCh2LnBhcmVudE5vZGUsZnVuY3Rpb24oZSl7aWYoem0obSxlLGcsaCkpcmV0dXJuIEtoKG0scCxoLHYpLCEwfSksYz1TLGY9XyxkPWUsKGw9Uikuc3R5bGVzJiZsLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3ImJkJoKGQsUGgoYywiZm9udFNpemUiKSxMaChjLCJiYWNrZ3JvdW5kQ29sb3IiLHNmKGwuc3R5bGVzLmJhY2tncm91bmRDb2xvcixmKSkpLGk9Uyx1PWUscz1mdW5jdGlvbihlKXt2YXIgdDsxPT09ZS5ub2RlVHlwZSYmZS5wYXJlbnROb2RlJiYxPT09ZS5wYXJlbnROb2RlLm5vZGVUeXBlJiYodD1kZihpLGUucGFyZW50Tm9kZSksaS5nZXRTdHlsZShlLCJjb2xvciIpJiZ0P2kuc2V0U3R5bGUoZSwidGV4dC1kZWNvcmF0aW9uIix0KTppLmdldFN0eWxlKGUsInRleHQtZGVjb3JhdGlvbiIpPT09dCYmaS5zZXRTdHlsZShlLCJ0ZXh0LWRlY29yYXRpb24iLG51bGwpKX0sKGE9Uikuc3R5bGVzJiYoYS5zdHlsZXMuY29sb3J8fGEuc3R5bGVzLnRleHREZWNvcmF0aW9uKSYmKGt0LndhbGsodSxzLCJjaGlsZE5vZGVzIikscyh1KSksdD1TLG89ZSwic3ViIiE9PShyPVIpLmlubGluZSYmInN1cCIhPT1yLmlubGluZXx8KEJoKG8sUGgodCwiZm9udFNpemUiKSxMaCh0LCJmb250U2l6ZSIsIiIpKSx0LnJlbW92ZSh0LnNlbGVjdCgic3VwIj09PXIuaW5saW5lPyJzdWIiOiJzdXAiLG8pLCEwKSksT2goUyxSLDAsZSkpOlMucmVtb3ZlKGUsITApfSl9O2lmKCJmYWxzZSIhPT1hLmdldENvbnRlbnRFZGl0YWJsZSh1LmdldE5vZGUoKSkpe1ImJihyP3RmKHIpP20oQSxyKXx8KChlPWEuY3JlYXRlUm5nKCkpLnNldFN0YXJ0QmVmb3JlKHIpLGUuc2V0RW5kQWZ0ZXIocikscyhhLE9mKEUsZSxBKSwwLCEwKSk6cyhhLHIsMCwhMCk6aSYmdmYoUikmJiFGZihFKS5sZW5ndGg/ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89ZS5zZWxlY3Rpb24saT1vLmdldFJuZygpLGE9aS5zdGFydE9mZnNldCx1PWkuc3RhcnRDb250YWluZXIubm9kZVZhbHVlLHM9SGwoZS5nZXRCb2R5KCksby5nZXRTdGFydCgpKTtzJiYocj1oaChzKSk7dmFyIGMsbCxmLGQsbT0vW15cc1x1MDBhMFx1MDBhZFx1MjAwYlx1ZmVmZl0vO3UmJjA8YSYmYTx1Lmxlbmd0aCYmbS50ZXN0KHUuY2hhckF0KGEpKSYmbS50ZXN0KHUuY2hhckF0KGEtMSkpPyhjPW8uZ2V0Qm9va21hcmsoKSxpLmNvbGxhcHNlKCEwKSxsPU9mKGUsaSxlLmZvcm1hdHRlci5nZXQodCkpLGw9Q2QobCksZS5mb3JtYXR0ZXIuYXBwbHkodCxuLGwpLG8ubW92ZVRvQm9va21hcmsoYykpOihzJiZyLm5vZGVWYWx1ZT09PW1ofHwoZj1lLmdldERvYygpLGQ9dmgoITApLmRvbSxyPShzPWYuaW1wb3J0Tm9kZShkLCEwKSkuZmlyc3RDaGlsZCxpLmluc2VydE5vZGUocyksYT0xKSxlLmZvcm1hdHRlci5hcHBseSh0LG4scyksby5zZXRDdXJzb3JMb2NhdGlvbihyLGEpKX0oRSxrLF8pOih0PXUuZ2V0Tm9kZSgpLG49QVswXSxFLnNldHRpbmdzLmZvcmNlZF9yb290X2Jsb2NrfHwhbi5kZWZhdWx0QmxvY2t8fGEuZ2V0UGFyZW50KHQsYS5pc0Jsb2NrKXx8ZXYoRSxuLmRlZmF1bHRCbG9jayksdS5zZXRSbmcoWWcodS5nZXRSbmcoKSkpLCRmKHUsITAsZnVuY3Rpb24oZSl7cWYoRSxmdW5jdGlvbihlLHQpe3ZhciBuPXQ/ZTpPZihFLGUsQSk7cyhhLG4pfSl9KSxuZihhLHUsdS5nZXRSbmcoKSksRS5ub2RlQ2hhbmdlZCgpKSxvPUUsX2goRWhba10sZnVuY3Rpb24oZSl7ZShvKX0pKX1lbHNle3I9dS5nZXROb2RlKCk7Zm9yKHZhciBjPTAsbD1BLmxlbmd0aDtjPGw7YysrKXt2YXIgZj1BW2NdO2lmKGYuY2VGYWxzZU92ZXJyaWRlJiZoZihmKSYmYS5pcyhyLGYuc2VsZWN0b3IpKXJldHVybiB2b2lkIFQocixmKX19fSx0dj1mdW5jdGlvbihyLGUsdCxuKXt2YXIgbz1pZSh0LmdldCgpKSxpPXt9LGE9e30sdT1IKG1mKHIuZG9tLGUpLGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZSYmIWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpfSk7dWUobixmdW5jdGlvbihlLG4pe2t0LmVhY2godSxmdW5jdGlvbih0KXtyZXR1cm4gci5mb3JtYXR0ZXIubWF0Y2hOb2RlKHQsbix7fSxlLnNpbWlsYXIpPygtMT09PW8uaW5kZXhPZihuKSYmKFcoZS5jYWxsYmFja3MsZnVuY3Rpb24oZSl7ZSghMCx7bm9kZTp0LGZvcm1hdDpuLHBhcmVudHM6dX0pfSksaVtuXT1lLmNhbGxiYWNrcyksYVtuXT1lLmNhbGxiYWNrcywhMSk6IUltKHIsdCxuKSYmdm9pZCAwfSl9KTt2YXIgcz1udih0LmdldCgpLGEsZSx1KTt0LnNldChrZShrZSh7fSxpKSxzKSl9LG52PWZ1bmN0aW9uKGUsbixyLG8pe3JldHVybiBkZShlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuISFoZShuLHQpfHwoVyhlLGZ1bmN0aW9uKGUpe2UoITEse25vZGU6cixmb3JtYXQ6dCxwYXJlbnRzOm99KX0pLCExKX0pLnR9LHJ2PWZ1bmN0aW9uKGUsbyxpLGEsdCl7dmFyIG4scix1LHMsYyxsLGYsZDtyZXR1cm4gbnVsbD09PW8uZ2V0KCkmJihyPWUsdT1PdSh7fSksKG49bykuc2V0KHt9KSxyLm9uKCJOb2RlQ2hhbmdlIixmdW5jdGlvbihlKXt0dihyLGUuZWxlbWVudCx1LG4uZ2V0KCkpfSkpLGM9aSxsPWEsZj10LGQ9KHM9bykuZ2V0KCksVyhjLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7ZFtlXXx8KGRbZV09e3NpbWlsYXI6ZixjYWxsYmFja3M6W119KSxkW2VdLmNhbGxiYWNrcy5wdXNoKGwpfSkscy5zZXQoZCkse3VuYmluZDpmdW5jdGlvbigpe3JldHVybiB0PWksbj1hLHI9KGU9bykuZ2V0KCksVyh0LnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7cltlXS5jYWxsYmFja3M9SChyW2VdLmNhbGxiYWNrcyxmdW5jdGlvbihlKXtyZXR1cm4gZSE9PW59KSwwPT09cltlXS5jYWxsYmFja3MubGVuZ3RoJiZkZWxldGUgcltlXX0pLHZvaWQgZS5zZXQocik7dmFyIGUsdCxuLHJ9fX0sb3Y9ZnVuY3Rpb24oZSx0KXt2YXIgbj0odHx8ZG9jdW1lbnQpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4gVyhlLGZ1bmN0aW9uKGUpe24uYXBwZW5kQ2hpbGQoZS5kb20pfSksQXQuZnJvbURvbShuKX0saXY9ZnVuY3Rpb24oZSx0LG4pe3JldHVybntlbGVtZW50OmUsd2lkdGg6dCxyb3dzOm59fSxhdj1mdW5jdGlvbihlLHQpe3JldHVybntlbGVtZW50OmUsY2VsbHM6dH19LHV2PWZ1bmN0aW9uKGUsdCl7dmFyIG49cGFyc2VJbnQoR24oZSx0KSwxMCk7cmV0dXJuIGlzTmFOKG4pPzE6bn0sc3Y9ZnVuY3Rpb24oZSl7cmV0dXJuIFgoZSxmdW5jdGlvbihlLHQpe3JldHVybiB0LmNlbGxzLmxlbmd0aD5lP3QuY2VsbHMubGVuZ3RoOmV9LDApfSxjdj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLnJvd3Mscj0wO3I8bi5sZW5ndGg7cisrKWZvcih2YXIgbz1uW3JdLmNlbGxzLGk9MDtpPG8ubGVuZ3RoO2krKylpZihPdChvW2ldLHQpKXJldHVybiBVLnNvbWUoe3g6aSx5OnJ9KTtyZXR1cm4gVS5ub25lKCl9LGx2PWZ1bmN0aW9uKGUsdCxuLHIsbyl7Zm9yKHZhciBpPVtdLGE9ZS5yb3dzLHU9bjt1PD1vO3UrKyl7dmFyIHM9YVt1XS5jZWxscyxjPXQ8cj9zLnNsaWNlKHQscisxKTpzLnNsaWNlKHIsdCsxKTtpLnB1c2goYXYoYVt1XS5lbGVtZW50LGMpKX1yZXR1cm4gaX0sZnY9ZnVuY3Rpb24oZSl7dmFyIG89aXYoc3MoZSksMCxbXSk7cmV0dXJuIFcoR3UoZSwidHIiKSxmdW5jdGlvbihuLHIpe1coR3UobiwidGQsdGgiKSxmdW5jdGlvbihlLHQpeyFmdW5jdGlvbihlLHQsbixyLG8pe2Zvcih2YXIgaT11dihvLCJyb3dzcGFuIiksYT11dihvLCJjb2xzcGFuIiksdT1lLnJvd3Mscz1uO3M8bitpO3MrKyl7dVtzXXx8KHVbc109YXYoY3MociksW10pKTtmb3IodmFyIGM9dDtjPHQrYTtjKyspe3Vbc10uY2VsbHNbY109cz09PW4mJmM9PT10P286c3Mobyl9fX0obyxmdW5jdGlvbihlLHQsbil7Zm9yKDtyPXQsbz1uLCgoaT1lLnJvd3MpW29dP2lbb10uY2VsbHM6W10pW3JdOyl0Kys7dmFyIHIsbyxpO3JldHVybiB0fShvLHQscikscixuLGUpfSl9KSxpdihvLmVsZW1lbnQsc3Yoby5yb3dzKSxvLnJvd3MpfSxkdj1mdW5jdGlvbihlKXtyZXR1cm4gbj16KCh0PWUpLnJvd3MsZnVuY3Rpb24oZSl7dmFyIHQ9eihlLmNlbGxzLGZ1bmN0aW9uKGUpe3ZhciB0PWNzKGUpO3JldHVybiBRbih0LCJjb2xzcGFuIiksUW4odCwicm93c3BhbiIpLHR9KSxuPXNzKGUuZWxlbWVudCk7cmV0dXJuIGRuKG4sdCksbn0pLHI9c3ModC5lbGVtZW50KSxvPUF0LmZyb21UYWcoInRib2R5IiksZG4obyxuKSxmbihyLG8pLHI7dmFyIHQsbixyLG99LG12PWZ1bmN0aW9uKGwsZSx0KXtyZXR1cm4gY3YobCxlKS5iaW5kKGZ1bmN0aW9uKGMpe3JldHVybiBjdihsLHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdD1sLHI9ZSxvPShuPWMpLngsaT1uLnksYT1yLngsdT1yLnkscz1pPHU/bHYodCxvLGksYSx1KTpsdih0LG8sdSxhLGkpLGl2KHQuZWxlbWVudCxzdihzKSxzKTt2YXIgdCxuLHIsbyxpLGEsdSxzfSl9KX0scHY9ZnVuY3Rpb24odCxuKXtyZXR1cm4gWSh0LGZ1bmN0aW9uKGUpe3JldHVybiJsaSI9PT1MdChlKSYmamYoZSxuKX0pLmZvbGQoRShbXSksZnVuY3Rpb24oZSl7cmV0dXJuIFkodCxmdW5jdGlvbihlKXtyZXR1cm4idWwiPT09THQoZSl8fCJvbCI9PT1MdChlKX0pLm1hcChmdW5jdGlvbihlKXt2YXIgdD1BdC5mcm9tVGFnKEx0KGUpKSxuPW1lKHJyKGUpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFZlKHQsImxpc3Qtc3R5bGUiKX0pO3JldHVybiBabih0LG4pLFtBdC5mcm9tVGFnKCJsaSIpLHRdfSkuZ2V0T3IoW10pfSl9LGd2PWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1BdC5mcm9tRG9tKHQuY29tbW9uQW5jZXN0b3JDb250YWluZXIpLG89RHAocixlKSxpPUgobyxmdW5jdGlvbihlKXtyZXR1cm4gdG8oZSl8fFpyKGUpfSksYT1wdihvLHQpLHU9aS5jb25jYXQoYS5sZW5ndGg/YTppbyhuPXIpPyR0KG4pLmZpbHRlcihvbykuZm9sZChFKFtdKSxmdW5jdGlvbihlKXtyZXR1cm5bbixlXX0pOm9vKG4pP1tuXTpbXSk7cmV0dXJuIHoodSxzcyl9LGh2PWZ1bmN0aW9uKCl7cmV0dXJuIG92KFtdKX0sdnY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1BdC5mcm9tRG9tKHQuY2xvbmVDb250ZW50cygpKSxyPWd2KGUsdCksbz1YKHIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZm4odCxlKSx0fSxuKSwwPHIubGVuZ3RoP292KFtvXSk6bzt2YXIgbixyLG99LHl2PWZ1bmN0aW9uKGUsbyl7cmV0dXJuIHQ9ZSxuPW9bMF0sVHIobiwidGFibGUiLE4oT3QsdCkpLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQ9b1swXSxuPW9bby5sZW5ndGgtMV0scj1mdihlKTtyZXR1cm4gbXYocix0LG4pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gb3YoW2R2KGUpXSl9KX0pLmdldE9yVGh1bmsoaHYpO3ZhciB0LG59LGJ2PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPU1mKHQsZSk7cmV0dXJuIDA8by5sZW5ndGg/eXYoZSxvKToobj1lLDA8KHI9dCkubGVuZ3RoJiZyWzBdLmNvbGxhcHNlZD9odigpOnZ2KG4sclswXSkpfSxDdj1mdW5jdGlvbihlLHQpe3JldHVybiAwPD10JiZ0PGUubGVuZ3RoJiZabChlLmNoYXJBdCh0KSl9LHd2PWZ1bmN0aW9uKGUsdCl7dmFyIG49cG8oZS5pbm5lclRleHQpO3JldHVybiB0P24ucmVwbGFjZSgvXlsgXGZcblxyXHRcdl0rLywiIik6bn0seHY9ZnVuY3Rpb24oZil7cmV0dXJuIFUuZnJvbShmLnNlbGVjdGlvbi5nZXRSbmcoKSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PVUuZnJvbShmLmRvbS5nZXRQYXJlbnQoZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixmLmRvbS5pc0Jsb2NrKSksbj1mLmdldEJvZHkoKSxyPXQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lfSkuZ2V0T3IoImRpdiIpLnRvTG93ZXJDYXNlKCksbz13dC5icm93c2VyLmlzSUUoKSYmInByZSIhPT1yLGk9Zi5kb20uYWRkKG4scix7ImRhdGEtbWNlLWJvZ3VzIjoiYWxsIixzdHlsZToib3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogMDsifSxlLmNsb25lQ29udGVudHMoKSksYT13dihpLG8pLHU9cG8oaS50ZXh0Q29udGVudCk7aWYoZi5kb20ucmVtb3ZlKGkpLEN2KHUsMCl8fEN2KHUsdS5sZW5ndGgtMSkpe3ZhciBzPXQuZ2V0T3IobiksYz13dihzLG8pLGw9Yy5pbmRleE9mKGEpO3JldHVybi0xPT09bD9hOihDdihjLGwtMSk/IiAiOiIiKSthKyhDdihjLGwrYS5sZW5ndGgpPyIgIjoiIil9cmV0dXJuIGF9KS5nZXRPcigiIil9LFN2PWZ1bmN0aW9uKGUsdCxuKXtpZih2b2lkIDA9PT1uJiYobj17fSksbi5nZXQ9ITAsbi5mb3JtYXQ9dCxuLnNlbGVjdGlvbj0hMCwobj1lLmZpcmUoIkJlZm9yZUdldENvbnRlbnQiLG4pKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gZS5maXJlKCJHZXRDb250ZW50IixuKSxuLmNvbnRlbnQ7aWYoInRleHQiPT09bi5mb3JtYXQpcmV0dXJuIHh2KGUpO24uZ2V0SW5uZXI9ITA7dmFyIHIsbyxpLGEsdSxzLGMsbD0obz1uLGk9KHI9ZSkuc2VsZWN0aW9uLmdldFJuZygpLGE9ci5kb20uY3JlYXRlKCJib2R5IiksdT1yLnNlbGVjdGlvbi5nZXRTZWwoKSxzPU9tKHIsTGYodSkpLChjPW8uY29udGV4dHVhbD9idihBdC5mcm9tRG9tKHIuZ2V0Qm9keSgpKSxzKS5kb206aS5jbG9uZUNvbnRlbnRzKCkpJiZhLmFwcGVuZENoaWxkKGMpLHIuc2VsZWN0aW9uLnNlcmlhbGl6ZXIuc2VyaWFsaXplKGEsbykpO3JldHVybiJ0cmVlIj09PW4uZm9ybWF0P2w6KG4uY29udGVudD1lLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpPyIiOmwsZS5maXJlKCJHZXRDb250ZW50IixuKSxuLmNvbnRlbnQpfSxOdj1mdW5jdGlvbihlKXtyZXR1cm4gQW4oZSk/ZS5vdXRlckhUTUw6SW4oZSk/Y2kuZW5jb2RlUmF3KGUuZGF0YSwhMSk6TW4oZSk/Ilx4M2MhLS0iK2UuZGF0YSsiLS1ceDNlIjoiIn0sRXY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89ZnVuY3Rpb24oZSl7dmFyIHQsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IoZSYmKG4uaW5uZXJIVE1MPWUpO3Q9bi5maXJzdENoaWxkOylyLmFwcGVuZENoaWxkKHQpO3JldHVybiByfSh0KTtlLmhhc0NoaWxkTm9kZXMoKSYmbjxlLmNoaWxkTm9kZXMubGVuZ3RoPyhyPWUuY2hpbGROb2Rlc1tuXSkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobyxyKTplLmFwcGVuZENoaWxkKG8pfSxrdj1mdW5jdGlvbihlLG8pe3ZhciBpPTA7VyhlLGZ1bmN0aW9uKGUpe3ZhciB0LG4scjswPT09ZVswXT9pKys6MT09PWVbMF0/KEV2KG8sZVsxXSxpKSxpKyspOjI9PT1lWzBdJiYobj1pLCh0PW8pLmhhc0NoaWxkTm9kZXMoKSYmbjx0LmNoaWxkTm9kZXMubGVuZ3RoJiYocj10LmNoaWxkTm9kZXNbbl0pLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocikpfSl9LF92PWZ1bmN0aW9uKGUsdCl7dmFyIHAsZyxuLGgsdixjLHksbCxyLG89eihvZSh0LmNoaWxkTm9kZXMpLE52KTtyZXR1cm4ga3YoKGc9ZSxuPShwPW8pLmxlbmd0aCtnLmxlbmd0aCsyLGg9bmV3IEFycmF5KG4pLHY9bmV3IEFycmF5KG4pLGM9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1sKGUsdCxuLHIpO2lmKG51bGw9PT1pfHxpLnN0YXJ0PT09dCYmaS5kaWFnPT09dC1yfHxpLmVuZD09PWUmJmkuZGlhZz09PWUtbilmb3IodmFyIGE9ZSx1PW47YTx0fHx1PHI7KWE8dCYmdTxyJiZwW2FdPT09Z1t1XT8oby5wdXNoKFswLHBbYV1dKSwrK2EsKyt1KTpyLW48dC1lPyhvLnB1c2goWzIscFthXV0pLCsrYSk6KG8ucHVzaChbMSxnW3VdXSksKyt1KTtlbHNle2MoZSxpLnN0YXJ0LG4saS5zdGFydC1pLmRpYWcsbyk7Zm9yKHZhciBzPWkuc3RhcnQ7czxpLmVuZDsrK3Mpby5wdXNoKFswLHBbc11dKTtjKGkuZW5kLHQsaS5lbmQtaS5kaWFnLHIsbyl9fSx5PWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbz1lO28tdDxyJiZvPG4mJnBbb109PT1nW28tdF07KSsrbztyZXR1cm57c3RhcnQ6ZSxlbmQ6byxkaWFnOnR9fSxsPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXQtZSxpPXItbjtpZigwPT1vfHwwPT1pKXJldHVybiBudWxsO3ZhciBhLHUscyxjLGwsZj1vLWksZD1pK28sbT0oZCUyPT0wP2Q6MStkKS8yO2ZvcihoWzErbV09ZSx2WzErbV09dCsxLGE9MDthPD1tOysrYSl7Zm9yKHU9LWE7dTw9YTt1Kz0yKXtmb3Iocz11K20sdT09PS1hfHx1IT09YSYmaFtzLTFdPGhbcysxXT9oW3NdPWhbcysxXTpoW3NdPWhbcy0xXSsxLGw9KGM9aFtzXSktZStuLXU7Yzx0JiZsPHImJnBbY109PT1nW2xdOyloW3NdPSsrYywrK2w7aWYoZiUyIT0wJiZmLWE8PXUmJnU8PWYrYSYmdltzLWZdPD1oW3NdKXJldHVybiB5KHZbcy1mXSx1K2Utbix0LHIpfWZvcih1PWYtYTt1PD1mK2E7dSs9Mil7Zm9yKHM9dSttLWYsdT09PWYtYXx8dSE9PWYrYSYmdltzKzFdPD12W3MtMV0/dltzXT12W3MrMV0tMTp2W3NdPXZbcy0xXSxsPShjPXZbc10tMSktZStuLXU7ZTw9YyYmbjw9bCYmcFtjXT09PWdbbF07KXZbc109Yy0tLGwtLTtpZihmJTI9PTAmJi1hPD11JiZ1PD1hJiZ2W3NdPD1oW3MrZl0pcmV0dXJuIHkodltzXSx1K2Utbix0LHIpfX19LHI9W10sYygwLHAubGVuZ3RoLDAsZy5sZW5ndGgsciksciksdCksdH0sQXY9T3UoVS5ub25lKCkpLFJ2PWZ1bmN0aW9uKG4pe3ZhciBlLHQ9KGU9bi5nZXRCb2R5KCksSCh6KG9lKGUuY2hpbGROb2RlcyksTnYpLGZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RofSkpLHI9Sih0LGZ1bmN0aW9uKGUpe3ZhciB0PWFwKG4uc2VyaWFsaXplcixlKTtyZXR1cm4gMDx0Lmxlbmd0aD9bdF06W119KSxvPXIuam9pbigiIik7cmV0dXJuLTEhPT1vLmluZGV4T2YoIjwvaWZyYW1lPiIpP3t0eXBlOiJmcmFnbWVudGVkIixmcmFnbWVudHM6cixjb250ZW50OiIiLGJvb2ttYXJrOm51bGwsYmVmb3JlQm9va21hcms6bnVsbH06e3R5cGU6ImNvbXBsZXRlIixmcmFnbWVudHM6bnVsbCxjb250ZW50Om8sYm9va21hcms6bnVsbCxiZWZvcmVCb29rbWFyazpudWxsfX0sVHY9ZnVuY3Rpb24oZSx0LG4peyJmcmFnbWVudGVkIj09PXQudHlwZT9fdih0LmZyYWdtZW50cyxlLmdldEJvZHkoKSk6ZS5zZXRDb250ZW50KHQuY29udGVudCx7Zm9ybWF0OiJyYXcifSksZS5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsobj90LmJlZm9yZUJvb2ttYXJrOnQuYm9va21hcmspfSxEdj1mdW5jdGlvbihlKXtyZXR1cm4iZnJhZ21lbnRlZCI9PT1lLnR5cGU/ZS5mcmFnbWVudHMuam9pbigiIik6ZS5jb250ZW50fSxPdj1mdW5jdGlvbihlKXt2YXIgdD1BdC5mcm9tVGFnKCJib2R5IixBdi5nZXQoKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJ1bmRvIik7cmV0dXJuIEF2LnNldChVLnNvbWUoZSkpLGV9KSk7cmV0dXJuIGFzKHQsRHYoZSkpLFcoR3UodCwiKltkYXRhLW1jZS1ib2d1c10iKSxnbiksdC5kb20uaW5uZXJIVE1MfSxCdj1mdW5jdGlvbihlLHQpe3JldHVybiEoIWV8fCF0KSYmKHI9dCxEdihlKT09PUR2KHIpfHwobj10LE92KGUpPT09T3YobikpKTt2YXIgbixyfSxQdj1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuZ2V0KCl9LEx2PWZ1bmN0aW9uKGUsdCxuKXtQdihuKSYmKGUudHlwaW5nPXQpfSxJdj1mdW5jdGlvbihlLHQpe2UudHlwaW5nJiYoTHYoZSwhMSx0KSxlLmFkZCgpKX0sTXY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBLbX0sRnY9ZnVuY3Rpb24oZSx0KXtzaChlLnNlcmlhbGl6ZXIuZ2V0Tm9kZUZpbHRlcnMoKSxlLnNlcmlhbGl6ZXIuZ2V0QXR0cmlidXRlRmlsdGVycygpLHQpfSxVdj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJjb21wbGV0ZSIsZnJhZ21lbnRzOltdLGNvbnRlbnQ6IiIsYm9va21hcms6bnVsbCxiZWZvcmVCb29rbWFyazpudWxsfX0senY9ZnVuY3Rpb24oZil7cmV0dXJue3VuZG9NYW5hZ2VyOntiZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1mLHI9dCx2b2lkKFB2KGUpJiZyLnNldChVLnNvbWUobWMobi5zZWxlY3Rpb24pKSkpO3ZhciBuLHJ9LGFkZFVuZG9MZXZlbDpmdW5jdGlvbihlLHQsbixyLG8saSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIsbyxpLGEpe3ZhciB1PVJ2KGUpO2lmKGk9aXx8e30saT1rdC5leHRlbmQoaSx1KSwhMT09PVB2KHIpfHxlLnJlbW92ZWQpcmV0dXJuIG51bGw7dmFyIHM9dC5kYXRhW24uZ2V0KCldO2lmKGUuZmlyZSgiQmVmb3JlQWRkVW5kbyIse2xldmVsOmksbGFzdExldmVsOnMsb3JpZ2luYWxFdmVudDphfSkuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuIG51bGw7aWYocyYmQnYocyxpKSlyZXR1cm4gbnVsbDt0LmRhdGFbbi5nZXQoKV0mJm8uZ2V0KCkuZWFjaChmdW5jdGlvbihlKXt0LmRhdGFbbi5nZXQoKV0uYmVmb3JlQm9va21hcms9ZX0pO3ZhciBjPWUuZ2V0UGFyYW0oImN1c3RvbV91bmRvX3JlZG9fbGV2ZWxzIiwwLCJudW1iZXIiKTtpZihjJiZ0LmRhdGEubGVuZ3RoPmMpe2Zvcih2YXIgbD0wO2w8dC5kYXRhLmxlbmd0aC0xO2wrKyl0LmRhdGFbbF09dC5kYXRhW2wrMV07dC5kYXRhLmxlbmd0aC0tLG4uc2V0KHQuZGF0YS5sZW5ndGgpfWkuYm9va21hcms9bWMoZS5zZWxlY3Rpb24pLG4uZ2V0KCk8dC5kYXRhLmxlbmd0aC0xJiYodC5kYXRhLmxlbmd0aD1uLmdldCgpKzEpLHQuZGF0YS5wdXNoKGkpLG4uc2V0KHQuZGF0YS5sZW5ndGgtMSk7dmFyIGY9e2xldmVsOmksbGFzdExldmVsOnMsb3JpZ2luYWxFdmVudDphfTtyZXR1cm4gMDxuLmdldCgpPyhlLnNldERpcnR5KCEwKSxlLmZpcmUoIkFkZFVuZG8iLGYpLGUuZmlyZSgiY2hhbmdlIixmKSk6ZS5maXJlKCJBZGRVbmRvIixmKSxpfShmLGUsdCxuLHIsbyxpKX0sdW5kbzpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHI9ZixpPXQsYT1uLChvPWUpLnR5cGluZyYmKG8uYWRkKCksby50eXBpbmc9ITEsTHYobywhMSxpKSksMDxhLmdldCgpJiYoYS5zZXQoYS5nZXQoKS0xKSx1PW8uZGF0YVthLmdldCgpXSxUdihyLHUsITApLHIuc2V0RGlydHkoITApLHIuZmlyZSgiVW5kbyIse2xldmVsOnV9KSksdTt2YXIgcixvLGksYSx1fSxyZWRvOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49ZixvPXQsKHI9ZSkuZ2V0KCk8by5sZW5ndGgtMSYmKHIuc2V0KHIuZ2V0KCkrMSksaT1vW3IuZ2V0KCldLFR2KG4saSwhMSksbi5zZXREaXJ0eSghMCksbi5maXJlKCJSZWRvIix7bGV2ZWw6aX0pKSxpO3ZhciBuLHIsbyxpfSxjbGVhcjpmdW5jdGlvbihlLHQpe3JldHVybiBuPWYsbz10LChyPWUpLmRhdGE9W10sby5zZXQoMCksci50eXBpbmc9ITEsdm9pZCBuLmZpcmUoIkNsZWFyVW5kb3MiKTt2YXIgbixyLG99LHJlc2V0OmZ1bmN0aW9uKGUpe3JldHVybih0PWUpLmNsZWFyKCksdm9pZCB0LmFkZCgpO3ZhciB0fSxoYXNVbmRvOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49ZixyPWUsMDx0LmdldCgpfHxyLnR5cGluZyYmci5kYXRhWzBdJiYhQnYoUnYobiksci5kYXRhWzBdKTt2YXIgbixyfSxoYXNSZWRvOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49ZSx0LmdldCgpPG4uZGF0YS5sZW5ndGgtMSYmIW4udHlwaW5nO3ZhciBufSx0cmFuc2FjdDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG89bixJdihyPWUsdCksci5iZWZvcmVDaGFuZ2UoKSxyLmlnbm9yZShvKSxyLmFkZCgpO3ZhciByLG99LGlnbm9yZTpmdW5jdGlvbihlLHQpe3RyeXtlLnNldChlLmdldCgpKzEpLHQoKX1maW5hbGx5e2Uuc2V0KGUuZ2V0KCktMSl9fSxleHRyYTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbz1mLGE9dCx1PW4scz1yLHZvaWQoKGk9ZSkudHJhbnNhY3QodSkmJihjPWkuZGF0YVthLmdldCgpXS5ib29rbWFyayxsPWkuZGF0YVthLmdldCgpLTFdLFR2KG8sbCwhMCksaS50cmFuc2FjdChzKSYmKGkuZGF0YVthLmdldCgpLTFdLmJlZm9yZUJvb2ttYXJrPWMpKSk7dmFyIG8saSxhLHUscyxjLGx9fSxmb3JtYXR0ZXI6e21hdGNoOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gam0oZixlLHQsbil9LG1hdGNoQWxsOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG89ZSxpPXQsYT1bXSx1PXt9LG49KHI9Zikuc2VsZWN0aW9uLmdldFN0YXJ0KCksci5kb20uZ2V0UGFyZW50KG4sZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxvLmxlbmd0aDt0Kyspe3ZhciBuPW9bdF07IXVbbl0mJnptKHIsZSxuLGkpJiYodVtuXT0hMCxhLnB1c2gobikpfX0sci5kb20uZ2V0Um9vdCgpKSxhO3ZhciByLG8saSxhLHUsbn0sbWF0Y2hOb2RlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB6bShmLGUsdCxuLHIpfSxjYW5BcHBseTpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHU9ZS5mb3JtYXR0ZXIuZ2V0KHQpLHM9ZS5kb207aWYodSlmb3Iobj1lLnNlbGVjdGlvbi5nZXRTdGFydCgpLHI9bWYocyxuKSxpPXUubGVuZ3RoLTE7MDw9aTtpLS0pe2lmKCEoYT11W2ldLnNlbGVjdG9yKXx8dVtpXS5kZWZhdWx0QmxvY2spcmV0dXJuITA7Zm9yKG89ci5sZW5ndGgtMTswPD1vO28tLSlpZihzLmlzKHJbb10sYSkpcmV0dXJuITB9cmV0dXJuITF9KGYsZSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIEhtKGYsZSl9LGFwcGx5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZXYoZixlLHQsbil9LHJlbW92ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gWWgoZixlLHQsbixyKX0sdG9nZ2xlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbz1lLGk9dCxhPW4sdT0ocj1mKS5mb3JtYXR0ZXIuZ2V0KG8pLHZvaWQoIWptKHIsbyxpLGEpfHwidG9nZ2xlImluIHVbMF0mJiF1WzBdLnRvZ2dsZT9ldjpZaCkocixvLGksYSk7dmFyIHIsbyxpLGEsdX0sZm9ybWF0Q2hhbmdlZDpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gcnYoZixlLHQsbixyKX19LGVkaXRvcjp7Z2V0Q29udGVudDpmdW5jdGlvbihlLHQpe3JldHVybiBuPWYscj1lLG89dCxVLmZyb20obi5nZXRCb2R5KCkpLmZvbGQoRSgidHJlZSI9PT1yLmZvcm1hdD9uZXcgS20oImJvZHkiLDExKToiIiksZnVuY3Rpb24oZSl7cmV0dXJuIHNwKG4scixvLGUpfSk7dmFyIG4scixvfSxzZXRDb250ZW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZoKGYsZSx0KX0saW5zZXJ0Q29udGVudDpmdW5jdGlvbihlLHQpe3JldHVybiBhaChmLGUsdCl9LGFkZFZpc3VhbDpmdW5jdGlvbihlKXtyZXR1cm4gdD1lLGE9KGk9ZikuZG9tLG49RCh0KT90OmkuZ2V0Qm9keSgpLFIoaS5oYXNWaXN1YWwpJiYoaS5oYXNWaXN1YWw9aS5nZXRQYXJhbSgidmlzdWFsIiwhMCwiYm9vbGVhbiIpKSxXKGEuc2VsZWN0KCJ0YWJsZSxhIixuKSxmdW5jdGlvbihlKXtzd2l0Y2goZS5ub2RlTmFtZSl7Y2FzZSJUQUJMRSI6dmFyIHQ9aS5nZXRQYXJhbSgidmlzdWFsX3RhYmxlX2NsYXNzIiwibWNlLWl0ZW0tdGFibGUiLCJzdHJpbmciKSxuPWEuZ2V0QXR0cmliKGUsImJvcmRlciIpO24mJiIwIiE9PW58fCFpLmhhc1Zpc3VhbD9hLnJlbW92ZUNsYXNzKGUsdCk6YS5hZGRDbGFzcyhlLHQpO2JyZWFrO2Nhc2UiQSI6dmFyIHIsbzthLmdldEF0dHJpYihlLCJocmVmIil8fChyPWEuZ2V0QXR0cmliKGUsIm5hbWUiKXx8ZS5pZCxvPWkuZ2V0UGFyYW0oInZpc3VhbF9hbmNob3JfY2xhc3MiLCJtY2UtaXRlbS1hbmNob3IiLCJzdHJpbmciKSxyJiZpLmhhc1Zpc3VhbD9hLmFkZENsYXNzKGUsbyk6YS5yZW1vdmVDbGFzcyhlLG8pKX19KSx2b2lkIGkuZmlyZSgiVmlzdWFsQWlkIix7ZWxlbWVudDp0LGhhc1Zpc3VhbDppLmhhc1Zpc3VhbH0pO3ZhciBpLHQsYSxufX0sc2VsZWN0aW9uOntnZXRDb250ZW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFN2KGYsZSx0KX19LHJhdzp7Z2V0TW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gVS5ub25lKCl9fX19LGp2PWZ1bmN0aW9uKGksYSl7dmFyIG89ZnVuY3Rpb24oZSl7cmV0dXJuIF8oZSk/ZTp7fX0sZT1tKCJVbmltcGxlbWVudGVkIGZlYXR1cmUgZm9yIHJ0YyIpO3JldHVybnt1bmRvTWFuYWdlcjp7YmVmb3JlQ2hhbmdlOlYsYWRkVW5kb0xldmVsOmUsdW5kbzpmdW5jdGlvbigpe3JldHVybiBhLnVuZG8oKSxVdigpfSxyZWRvOmZ1bmN0aW9uKCl7cmV0dXJuIGEucmVkbygpLFV2KCl9LGNsZWFyOmUscmVzZXQ6ZSxoYXNVbmRvOmZ1bmN0aW9uKCl7cmV0dXJuIGEuaGFzVW5kbygpfSxoYXNSZWRvOmZ1bmN0aW9uKCl7cmV0dXJuIGEuaGFzUmVkbygpfSx0cmFuc2FjdDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGEudHJhbnNhY3QobiksVXYoKX0saWdub3JlOmUsZXh0cmE6ZX0sZm9ybWF0dGVyOnttYXRjaDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGEubWF0Y2hGb3JtYXQoZSxvKHQpKX0sbWF0Y2hBbGw6ZSxtYXRjaE5vZGU6ZSxjYW5BcHBseTpmdW5jdGlvbihlKXtyZXR1cm4gYS5jYW5BcHBseUZvcm1hdChlKX0sY2xvc2VzdDpmdW5jdGlvbihlKXtyZXR1cm4gYS5jbG9zZXN0Rm9ybWF0KGUpfSxhcHBseTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGEuYXBwbHlGb3JtYXQoZSxvKHQpKX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBhLnJlbW92ZUZvcm1hdChlLG8odCkpfSx0b2dnbGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhLnRvZ2dsZUZvcm1hdChlLG8odCkpfSxmb3JtYXRDaGFuZ2VkOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBhLmZvcm1hdENoYW5nZWQodCxuLHIpfX0sZWRpdG9yOntnZXRDb250ZW50OmZ1bmN0aW9uKGUsdCl7aWYoImh0bWwiIT09dCYmInRyZWUiIT09dClyZXR1cm4genYoaSkuZWRpdG9yLmdldENvbnRlbnQoZSx0KTt2YXIgbj1hLmdldENvbnRlbnQoKSxyPUptKHtpbm5lcjohMH0pO3JldHVybiBGdihpLG4pLCJ0cmVlIj09PXQ/bjpyLnNlcmlhbGl6ZShuKX0sc2V0Q29udGVudDpmdW5jdGlvbihlLHQpe3ZhciBuPU12KGUpP2U6aS5wYXJzZXIucGFyc2UoZSx7aXNSb290Q29udGVudDohMCxpbnNlcnQ6ITB9KTtyZXR1cm4gYS5zZXRDb250ZW50KG4pLGV9LGluc2VydENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPShuPWksVS5mcm9tKG4uc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl9KS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJue319LGZ1bmN0aW9uKGUpe3JldHVybntjb250ZXh0OmV9fSkpLG89TXYoZSk/ZTppLnBhcnNlci5wYXJzZShlLGtlKGtlKHt9LHIpLHtpbnNlcnQ6ITB9KSk7YS5pbnNlcnRDb250ZW50KG8pfSxhZGRWaXN1YWw6ZnVuY3Rpb24oZSl7fX0sc2VsZWN0aW9uOntnZXRDb250ZW50OmZ1bmN0aW9uKGUsdCl7aWYoImh0bWwiIT09ZSYmInRyZWUiIT09ZSlyZXR1cm4genYoaSkuc2VsZWN0aW9uLmdldENvbnRlbnQoZSx0KTt2YXIgbj1hLmdldFNlbGVjdGVkQ29udGVudCgpLHI9Sm0oe30pO3JldHVybiBGdihpLG4pLCJ0cmVlIj09PWU/bjpyLnNlcmlhbGl6ZShuKX19LHJhdzp7Z2V0TW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gVS5zb21lKGEuZ2V0UmF3TW9kZWwoKSl9fX19LEh2PWZ1bmN0aW9uKGUpe3JldHVybiBoZShlLnBsdWdpbnMsInJ0YyIpfSxWdj1mdW5jdGlvbihlKXtyZXR1cm4gZS5ydGNJbnN0YW5jZT9lLnJ0Y0luc3RhbmNlOnp2KGUpfSxxdj1mdW5jdGlvbihlKXt2YXIgdD1lLnJ0Y0luc3RhbmNlO2lmKHQpcmV0dXJuIHQ7dGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZ2V0IFJUQyBpbnN0YW5jZSBub3QgeWV0IGluaXRpYWxpemVkLiIpfSwkdj1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgbixyLG89dC5mb3JtYXQ/dC5mb3JtYXQ6Imh0bWwiO3JldHVybiBuPW8scj10LHF2KGUpLnNlbGVjdGlvbi5nZXRDb250ZW50KG4scil9LFd2PWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5kb20ubGVuZ3RoPyhwbihlKSxVLm5vbmUoKSk6VS5zb21lKGUpfSxLdj1mdW5jdGlvbihlLHQscyxjKXtlLmJpbmQoZnVuY3Rpb24odSl7cmV0dXJuKGM/c2c6dWcpKHUuZG9tLGM/dS5kb20ubGVuZ3RoOjApLHQuZmlsdGVyKFV0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZSxuPXMscj1jLG89dS5kb20saT10LmRvbSxhPXI/by5sZW5ndGg6aS5sZW5ndGgsdm9pZChyPyhjZyhvLGksITEsIXIpLG4uc2V0U3RhcnQoaSxhKSk6KGNnKGksbywhMSwhciksbi5zZXRFbmQoaSxhKSkpO3ZhciB0LG4scixvLGksYX0pfSkub3JUaHVuayhmdW5jdGlvbigpe3ZhciBlO3JldHVybihlPWMsdC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG9kLmlzQm9va21hcmtOb2RlKGUuZG9tKX0pLmJpbmQoZT9LdDpXdCkub3IodCkuZmlsdGVyKFV0KSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByPWMsdm9pZCAkdChuPWUpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5kb207ciYmUXAoZSwkcyh0LDApKT91Zyh0LDApOiFyJiZacChlLCRzKHQsdC5sZW5ndGgpKSYmc2codCx0Lmxlbmd0aCl9KTt2YXIgbixyfSl9KX0sWHY9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcixvLGk9KHI9dCxrZShrZSh7Zm9ybWF0OiJodG1sIn0sbikse3NldDohMCxzZWxlY3Rpb246ITAsY29udGVudDpyfSkpO2kubm9fZXZlbnRzfHwhKGk9ZS5maXJlKCJCZWZvcmVTZXRDb250ZW50IixpKSkuaXNEZWZhdWx0UHJldmVudGVkKCk/KG4uY29udGVudD1mdW5jdGlvbihlLHQpe2lmKCJyYXciPT09dC5mb3JtYXQpcmV0dXJuIHQuY29udGVudDt2YXIgbj1lLnNlbGVjdGlvbi5nZXRSbmcoKSxyPWUuZG9tLmdldFBhcmVudChuLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLGUuZG9tLmlzQmxvY2spLG89cj97Y29udGV4dDpyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl9Ont9LGk9ZS5wYXJzZXIucGFyc2UodC5jb250ZW50LGtlKGtlKHtpc1Jvb3RDb250ZW50OiEwLGZvcmNlZF9yb290X2Jsb2NrOiExfSxvKSx0KSk7cmV0dXJuIEptKHt2YWxpZGF0ZTplLnZhbGlkYXRlfSxlLnNjaGVtYSkuc2VyaWFsaXplKGkpfShlLGkpLGZ1bmN0aW9uKGUsdCl7dmFyIG49VS5mcm9tKHQuZmlyc3RDaGlsZCkubWFwKEF0LmZyb21Eb20pLHI9VS5mcm9tKHQubGFzdENoaWxkKS5tYXAoQXQuZnJvbURvbSk7ZS5kZWxldGVDb250ZW50cygpLGUuaW5zZXJ0Tm9kZSh0KTt2YXIgbz1uLmJpbmQoV3QpLmZpbHRlcihVdCkuYmluZChXdiksaT1yLmJpbmQoS3QpLmZpbHRlcihVdCkuYmluZChXdik7S3YobyxuLGUsITApLEt2KGkscixlLCExKSxlLmNvbGxhcHNlKCExKX0obz1lLnNlbGVjdGlvbi5nZXRSbmcoKSxvLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChuLmNvbnRlbnQpKSxlLnNlbGVjdGlvbi5zZXRSbmcobyksWGQoZSxvKSxpLm5vX2V2ZW50c3x8ZS5maXJlKCJTZXRDb250ZW50IixpKSk6ZS5maXJlKCJTZXRDb250ZW50IixpKX0sWXY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2UmJmUuaGFzT3duUHJvcGVydHkodCkmJigwPT09KHI9SChlW3RdLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09bn0pKS5sZW5ndGg/ZGVsZXRlIGVbdF06ZVt0XT1yKX07dmFyIEd2PWZ1bmN0aW9uKGUpe3JldHVybiEhZS5zZWxlY3R9LEp2PWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLm93bmVyRG9jdW1lbnQpJiZQdChBdC5mcm9tRG9tKGUub3duZXJEb2N1bWVudCksQXQuZnJvbURvbShlKSl9LFF2PWZ1bmN0aW9uKHUscyxlLGMpe3ZhciBsLGYsaSxuLGEsZCxyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGF8fChhPXt9LGQ9e30sbi5vbigiTm9kZUNoYW5nZSIsZnVuY3Rpb24oZSl7dmFyIG49ZS5lbGVtZW50LHI9aS5nZXRQYXJlbnRzKG4sbnVsbCxpLmdldFJvb3QoKSksbz17fTtrdC5lYWNoKGEsZnVuY3Rpb24oZSxuKXtrdC5lYWNoKHIsZnVuY3Rpb24odCl7aWYoaS5pcyh0LG4pKXJldHVybiBkW25dfHwoa3QuZWFjaChlLGZ1bmN0aW9uKGUpe2UoITAse25vZGU6dCxzZWxlY3RvcjpuLHBhcmVudHM6cn0pfSksZFtuXT1lKSxvW25dPWUsITF9KX0pLGt0LmVhY2goZCxmdW5jdGlvbihlLHQpe29bdF18fChkZWxldGUgZFt0XSxrdC5lYWNoKGUsZnVuY3Rpb24oZSl7ZSghMSx7bm9kZTpuLHNlbGVjdG9yOnQscGFyZW50czpyfSl9KSl9KX0pKSxhW2VdfHwoYVtlXT1bXSksYVtlXS5wdXNoKHQpLHt1bmJpbmQ6ZnVuY3Rpb24oKXtZdihhLGUsdCksWXYoZCxlLHQpfX19LHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWHYoYyxlLHQpfSxvPWZ1bmN0aW9uKGUpe3ZhciB0PXAoKTt0LmNvbGxhcHNlKCEhZSksZyh0KX0sbT1mdW5jdGlvbigpe3JldHVybiBzLmdldFNlbGVjdGlvbj9zLmdldFNlbGVjdGlvbigpOnMuZG9jdW1lbnQuc2VsZWN0aW9ufSxwPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9ZnVuY3Rpb24oZSx0LG4pe3RyeXtyZXR1cm4gdC5jb21wYXJlQm91bmRhcnlQb2ludHMoZSxuKX1jYXRjaChyKXtyZXR1cm4tMX19O2lmKCFzKXJldHVybiBudWxsO3ZhciBvPXMuZG9jdW1lbnQ7aWYobnVsbD09bylyZXR1cm4gbnVsbDtpZihjLmJvb2ttYXJrIT09dW5kZWZpbmVkJiYhMT09PUVtKGMpKXt2YXIgaT1kbShjKTtpZihpLmlzU29tZSgpKXJldHVybiBpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gT20oYyxbZV0pWzBdfSkuZ2V0T3Ioby5jcmVhdGVSYW5nZSgpKX10cnl7KGU9bSgpKSYmIV9uKGUuYW5jaG9yTm9kZSkmJih0PTA8ZS5yYW5nZUNvdW50P2UuZ2V0UmFuZ2VBdCgwKTplLmNyZWF0ZVJhbmdlP2UuY3JlYXRlUmFuZ2UoKTpvLmNyZWF0ZVJhbmdlKCksdD1PbShjLFt0XSlbMF0pfWNhdGNoKGEpe31yZXR1cm4odD10fHwoby5jcmVhdGVSYW5nZT9vLmNyZWF0ZVJhbmdlKCk6by5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpKSkuc2V0U3RhcnQmJjk9PT10LnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlJiZ0LmNvbGxhcHNlZCYmKG49dS5nZXRSb290KCksdC5zZXRTdGFydChuLDApLHQuc2V0RW5kKG4sMCkpLGwmJmYmJigwPT09cih0LlNUQVJUX1RPX1NUQVJULHQsbCkmJjA9PT1yKHQuRU5EX1RPX0VORCx0LGwpP3Q9ZjpmPWw9bnVsbCksdH0sZz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKChyPWUpJiYoR3Yocil8fEp2KHIuc3RhcnRDb250YWluZXIpJiZKdihyLmVuZENvbnRhaW5lcikpKXt2YXIgcixvPUd2KGUpP2U6bnVsbDtpZihvKXtmPW51bGw7dHJ5e28uc2VsZWN0KCl9Y2F0Y2goYSl7fX1lbHNle3ZhciBpPW0oKTtpZihlPWMuZmlyZSgiU2V0U2VsZWN0aW9uUmFuZ2UiLHtyYW5nZTplLGZvcndhcmQ6dH0pLnJhbmdlLGkpe2Y9ZTt0cnl7aS5yZW1vdmVBbGxSYW5nZXMoKSxpLmFkZFJhbmdlKGUpfWNhdGNoKGEpe30hMT09PXQmJmkuZXh0ZW5kJiYoaS5jb2xsYXBzZShlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCksaS5leHRlbmQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KSksbD0wPGkucmFuZ2VDb3VudD9pLmdldFJhbmdlQXQoMCk6bnVsbH1lLmNvbGxhcHNlZHx8ZS5zdGFydENvbnRhaW5lciE9PWUuZW5kQ29udGFpbmVyfHwhaS5zZXRCYXNlQW5kRXh0ZW50fHx3dC5pZXx8ZS5lbmRPZmZzZXQtZS5zdGFydE9mZnNldDwyJiZlLnN0YXJ0Q29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSYmKG49ZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW2Uuc3RhcnRPZmZzZXRdKSYmIklNRyI9PT1uLnRhZ05hbWUmJihpLnNldEJhc2VBbmRFeHRlbnQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0LGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KSxpLmFuY2hvck5vZGU9PT1lLnN0YXJ0Q29udGFpbmVyJiZpLmZvY3VzTm9kZT09PWUuZW5kQ29udGFpbmVyfHxpLnNldEJhc2VBbmRFeHRlbnQobiwwLG4sMSkpLGMuZmlyZSgiQWZ0ZXJTZXRTZWxlY3Rpb25SYW5nZSIse3JhbmdlOmUsZm9yd2FyZDp0fSl9fX0saD1mdW5jdGlvbigpe3ZhciBlPW0oKSx0PW51bGw9PWU/dm9pZCAwOmUuYW5jaG9yTm9kZSxuPW51bGw9PWU/dm9pZCAwOmUuZm9jdXNOb2RlO2lmKCFlfHwhdHx8IW58fF9uKHQpfHxfbihuKSlyZXR1cm4hMDt2YXIgcj11LmNyZWF0ZVJuZygpO3Iuc2V0U3RhcnQodCxlLmFuY2hvck9mZnNldCksci5jb2xsYXBzZSghMCk7dmFyIG89dS5jcmVhdGVSbmcoKTtyZXR1cm4gby5zZXRTdGFydChuLGUuZm9jdXNPZmZzZXQpLG8uY29sbGFwc2UoITApLHIuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKHIuU1RBUlRfVE9fU1RBUlQsbyk8PTB9LHY9e2Jvb2ttYXJrTWFuYWdlcjpudWxsLGNvbnRyb2xTZWxlY3Rpb246bnVsbCxkb206aT11LHdpbjpzLHNlcmlhbGl6ZXI6ZSxlZGl0b3I6bj1jLGNvbGxhcHNlOm8sc2V0Q3Vyc29yTG9jYXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj11LmNyZWF0ZVJuZygpO2U/KG4uc2V0U3RhcnQoZSx0KSxuLnNldEVuZChlLHQpLGcobiksbyghMSkpOihIZih1LG4sYy5nZXRCb2R5KCksITApLGcobikpfSxnZXRDb250ZW50OmZ1bmN0aW9uKGUpe3JldHVybiAkdihjLGUpfSxzZXRDb250ZW50OnQsZ2V0Qm9va21hcms6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geS5nZXRCb29rbWFyayhlLHQpfSxtb3ZlVG9Cb29rbWFyazpmdW5jdGlvbihlKXtyZXR1cm4geS5tb3ZlVG9Cb29rbWFyayhlKX0sc2VsZWN0OmZ1bmN0aW9uKGUsdCl7dmFyIHIsbixvO3JldHVybiByPXUsbj1lLG89dCxVLmZyb20obikubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXIubm9kZUluZGV4KGUpLG49ci5jcmVhdGVSbmcoKTtyZXR1cm4gbi5zZXRTdGFydChlLnBhcmVudE5vZGUsdCksbi5zZXRFbmQoZS5wYXJlbnROb2RlLHQrMSksbyYmKEhmKHIsbixlLCEwKSxIZihyLG4sZSwhMSkpLG59KS5lYWNoKGcpLGV9LGlzQ29sbGFwc2VkOmZ1bmN0aW9uKCl7dmFyIGU9cCgpLHQ9bSgpO3JldHVybiEoIWV8fGUuaXRlbSkmJihlLmNvbXBhcmVFbmRQb2ludHM/MD09PWUuY29tcGFyZUVuZFBvaW50cygiU3RhcnRUb0VuZCIsZSk6IXR8fGUuY29sbGFwc2VkKX0saXNGb3J3YXJkOmgsc2V0Tm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gdCh1LmdldE91dGVySFRNTChlKSksZX0sZ2V0Tm9kZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuLHI7aWYoIXQpcmV0dXJuIGU7bj10LnN0YXJ0Q29udGFpbmVyLHI9dC5lbmRDb250YWluZXI7dmFyIG89dC5zdGFydE9mZnNldCxpPXQuZW5kT2Zmc2V0LGE9dC5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtyZXR1cm4hdC5jb2xsYXBzZWQmJihuPT09ciYmaS1vPDImJm4uaGFzQ2hpbGROb2RlcygpJiYoYT1uLmNoaWxkTm9kZXNbb10pLDM9PT1uLm5vZGVUeXBlJiYzPT09ci5ub2RlVHlwZSYmKG49bi5sZW5ndGg9PT1vP0RtKG4ubmV4dFNpYmxpbmcsITApOm4ucGFyZW50Tm9kZSxyPTA9PT1pP0RtKHIucHJldmlvdXNTaWJsaW5nLCExKTpyLnBhcmVudE5vZGUsbiYmbj09PXIpKT9uOmEmJjM9PT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZTphfShjLmdldEJvZHkoKSxwKCkpfSxnZXRTZWw6bSxzZXRSbmc6ZyxnZXRSbmc6cCxnZXRTdGFydDpmdW5jdGlvbihlKXtyZXR1cm4gUm0oYy5nZXRCb2R5KCkscCgpLGUpfSxnZXRFbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFRtKGMuZ2V0Qm9keSgpLHAoKSxlKX0sZ2V0U2VsZWN0ZWRCbG9ja3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saT1bXSxhPWUuZ2V0Um9vdCgpO2lmKG49ZS5nZXRQYXJlbnQobnx8Um0oYSx0LHQuY29sbGFwc2VkKSxlLmlzQmxvY2spLHI9ZS5nZXRQYXJlbnQocnx8VG0oYSx0LHQuY29sbGFwc2VkKSxlLmlzQmxvY2spLG4mJm4hPT1hJiZpLnB1c2gobiksbiYmciYmbiE9PXIpZm9yKHZhciB1PW5ldyBYcihvPW4sYSk7KG89dS5uZXh0KCkpJiZvIT09cjspZS5pc0Jsb2NrKG8pJiZpLnB1c2gobyk7cmV0dXJuIHImJm4hPT1yJiZyIT09YSYmaS5wdXNoKHIpLGl9KHUscCgpLGUsdCl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe3ZhciBlPXAoKSx0PW0oKTtpZigxPExmKHQpLmxlbmd0aHx8IVZmKGMpKXJldHVybiBlO3ZhciBuPXlkKHUsZSk7cmV0dXJuIG4uZWFjaChmdW5jdGlvbihlKXtnKGUsaCgpKX0pLG4uZ2V0T3IoZSl9LHNlbGVjdG9yQ2hhbmdlZDpmdW5jdGlvbihlLHQpe3JldHVybiByKGUsdCksdn0sc2VsZWN0b3JDaGFuZ2VkV2l0aFVuYmluZDpyLGdldFNjcm9sbENvbnRhaW5lcjpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PXUuZ2V0Um9vdCgpO3QmJiJCT0RZIiE9PXQubm9kZU5hbWU7KXtpZih0LnNjcm9sbEhlaWdodD50LmNsaWVudEhlaWdodCl7ZT10O2JyZWFrfXQ9dC5wYXJlbnROb2RlfXJldHVybiBlfSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbihlLHQpe3JldHVybiByPWUsbz10LHZvaWQoKG49YykuaW5saW5lPyRkOktkKShuLHIsbyk7dmFyIG4scixvfSxwbGFjZUNhcmV0QXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZyhmZChlLHQsYy5nZXREb2MoKSkpfSxnZXRCb3VuZGluZ0NsaWVudFJlY3Q6ZnVuY3Rpb24oKXt2YXIgZT1wKCk7cmV0dXJuIGUuY29sbGFwc2VkPyRzLmZyb21SYW5nZVN0YXJ0KGUpLmdldENsaWVudFJlY3RzKClbMF06ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX0sZGVzdHJveTpmdW5jdGlvbigpe3M9bD1mPW51bGwsYi5kZXN0cm95KCl9fSx5PW9kKHYpLGI9Y2QodixjKTtyZXR1cm4gdi5ib29rbWFya01hbmFnZXI9eSx2LmNvbnRyb2xTZWxlY3Rpb249Yix2fSxadj1mdW5jdGlvbihlLGEsdSl7ZS5hZGROb2RlRmlsdGVyKCJmb250IixmdW5jdGlvbihlKXtXKGUsZnVuY3Rpb24oZSl7dmFyIHQsbj1hLnBhcnNlKGUuYXR0cigic3R5bGUiKSkscj1lLmF0dHIoImNvbG9yIiksbz1lLmF0dHIoImZhY2UiKSxpPWUuYXR0cigic2l6ZSIpO3ImJihuLmNvbG9yPXIpLG8mJihuWyJmb250LWZhbWlseSJdPW8pLGkmJihuWyJmb250LXNpemUiXT11W3BhcnNlSW50KGUuYXR0cigic2l6ZSIpLDEwKS0xXSksZS5uYW1lPSJzcGFuIixlLmF0dHIoInN0eWxlIixhLnNlcmlhbGl6ZShuKSksdD1lLFcoWyJjb2xvciIsImZhY2UiLCJzaXplIl0sZnVuY3Rpb24oZSl7dC5hdHRyKGUsbnVsbCl9KX0pfSl9LGV5PWZ1bmN0aW9uKGUsdCl7dmFyIG4scj14aSgpO3QuY29udmVydF9mb250c190b19zcGFucyYmWnYoZSxyLGt0LmV4cGxvZGUodC5mb250X3NpemVfbGVnYWN5X3ZhbHVlcykpLG49cixlLmFkZE5vZGVGaWx0ZXIoInN0cmlrZSIsZnVuY3Rpb24oZSl7VyhlLGZ1bmN0aW9uKGUpe3ZhciB0PW4ucGFyc2UoZS5hdHRyKCJzdHlsZSIpKTt0WyJ0ZXh0LWRlY29yYXRpb24iXT0ibGluZS10aHJvdWdoIixlLm5hbWU9InNwYW4iLGUuYXR0cigic3R5bGUiLG4uc2VyaWFsaXplKHQpKX0pfSl9LHR5PWZ1bmN0aW9uKGUpe3ZhciB0LG49ZGVjb2RlVVJJQ29tcG9uZW50KGUpLnNwbGl0KCIsIikscj0vZGF0YTooW147XSspLy5leGVjKG5bMF0pO3JldHVybiByJiYodD1yWzFdKSx7dHlwZTp0LGRhdGE6blsxXX19LG55PWZ1bmN0aW9uKGUsdCl7dmFyIG47dHJ5e249YXRvYih0KX1jYXRjaChPayl7cmV0dXJuIFUubm9uZSgpfWZvcih2YXIgcj1uZXcgVWludDhBcnJheShuLmxlbmd0aCksbz0wO288ci5sZW5ndGg7bysrKXJbb109bi5jaGFyQ29kZUF0KG8pO3JldHVybiBVLnNvbWUobmV3IEJsb2IoW3JdLHt0eXBlOmV9KSl9LHJ5PWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5pbmRleE9mKCJibG9iOiIpPyhpPWUsbmV3IEJyKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oKXt0KCJDYW5ub3QgY29udmVydCAiK2krIiB0byBCbG9iLiBSZXNvdXJjZSBtaWdodCBub3QgZXhpc3Qgb3IgaXMgaW5hY2Nlc3NpYmxlLiIpfTt0cnl7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3Iub3BlbigiR0VUIixpLCEwKSxyLnJlc3BvbnNlVHlwZT0iYmxvYiIsci5vbmxvYWQ9ZnVuY3Rpb24oKXsyMDA9PT10aGlzLnN0YXR1cz9lKHRoaXMucmVzcG9uc2UpOm4oKX0sci5vbmVycm9yPW4sci5zZW5kKCl9Y2F0Y2gobyl7bigpfX0pKTowPT09ZS5pbmRleE9mKCJkYXRhOiIpPyhvPWUsbmV3IEJyKGZ1bmN0aW9uKGUpe3ZhciB0PXR5KG8pLG49dC50eXBlLHI9dC5kYXRhO255KG4scikuZm9sZChmdW5jdGlvbigpe3JldHVybiBlKG5ldyBCbG9iKFtdKSl9LGUpfSkpOm51bGw7dmFyIGksb30sb3k9MCxpeT1mdW5jdGlvbihlKXtyZXR1cm4oZXx8ImJsb2JpZCIpK295Kyt9LGF5PWZ1bmN0aW9uKHIsbyxpLHQpe3ZhciBlLG4sYSx1LHM7MCE9PW8uc3JjLmluZGV4T2YoImJsb2I6Iik/KG49KGU9dHkoby5zcmMpKS5kYXRhLGE9ZS50eXBlLHU9biwocz1yLmdldEJ5RGF0YSh1LGEpKT9pKHtpbWFnZTpvLGJsb2JJbmZvOnN9KTpyeShvLnNyYykudGhlbihmdW5jdGlvbihlKXtzPXIuY3JlYXRlKGl5KCksZSx1KSxyLmFkZChzKSxpKHtpbWFnZTpvLGJsb2JJbmZvOnN9KX0sZnVuY3Rpb24oZSl7dChlKX0pKToocz1yLmdldEJ5VXJpKG8uc3JjKSk/aSh7aW1hZ2U6byxibG9iSW5mbzpzfSk6cnkoby5zcmMpLnRoZW4oZnVuY3Rpb24odCl7dmFyIG47bj10LG5ldyBCcihmdW5jdGlvbihlKXt2YXIgdD1uZXcgRmlsZVJlYWRlcjt0Lm9ubG9hZGVuZD1mdW5jdGlvbigpe2UodC5yZXN1bHQpfSx0LnJlYWRBc0RhdGFVUkwobil9KS50aGVuKGZ1bmN0aW9uKGUpe3U9dHkoZSkuZGF0YSxzPXIuY3JlYXRlKGl5KCksdCx1KSxyLmFkZChzKSxpKHtpbWFnZTpvLGJsb2JJbmZvOnN9KX0pfSxmdW5jdGlvbihlKXt0KGUpfSl9O2Z1bmN0aW9uIHV5KGksYSl7dmFyIHU9e307cmV0dXJue2ZpbmRBbGw6ZnVuY3Rpb24oZSxuKXtuPW58fGs7dmFyIHQscj1IKCh0PWUpP29lKHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpKTpbXSxmdW5jdGlvbihlKXt2YXIgdD1lLnNyYztyZXR1cm4hIXd0LmZpbGVBcGkmJighZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikmJighZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLXBsYWNlaG9sZGVyIikmJighKCF0fHx0PT09d3QudHJhbnNwYXJlbnRTcmMpJiYoMD09PXQuaW5kZXhPZigiYmxvYjoiKT8haS5pc1VwbG9hZGVkKHQpJiZuKGUpOjA9PT10LmluZGV4T2YoImRhdGE6IikmJm4oZSkpKSkpfSksbz16KHIsZnVuY3Rpb24obil7aWYodVtuLnNyY10hPT11bmRlZmluZWQpcmV0dXJuIG5ldyBCcihmdW5jdGlvbih0KXt1W24uc3JjXS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9lOnZvaWQgdCh7aW1hZ2U6bixibG9iSW5mbzplLmJsb2JJbmZvfSl9KX0pO3ZhciBlPW5ldyBCcihmdW5jdGlvbihlLHQpe2F5KGEsbixlLHQpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIHVbZS5pbWFnZS5zcmNdLGV9KVsiY2F0Y2giXShmdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIHVbbi5zcmNdLGV9KTtyZXR1cm4gdVtuLnNyY109ZX0pO3JldHVybiBCci5hbGwobyl9fX12YXIgc3ksY3ksbHk9ZnVuY3Rpb24oZSx0LG4scil7KGUucGFkZF9lbXB0eV93aXRoX2JyfHx0Lmluc2VydCkmJm5bci5uYW1lXT9yLmVtcHR5KCkuYXBwZW5kKG5ldyBLbSgiYnIiLDEpKS5zaG9ydEVuZGVkPSEwOnIuZW1wdHkoKS5hcHBlbmQobmV3IEttKCIjdGV4dCIsMykpLnZhbHVlPWxvfSxmeT1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmZpcnN0Q2hpbGQmJmUuZmlyc3RDaGlsZD09PWUubGFzdENoaWxkJiZlLmZpcnN0Q2hpbGQubmFtZT09PXR9LGR5PWZ1bmN0aW9uKHIsZSx0LG4pe3JldHVybiBuLmlzRW1wdHkoZSx0LGZ1bmN0aW9uKGUpe3JldHVybiB0PWUsKG49ci5nZXRFbGVtZW50UnVsZSh0Lm5hbWUpKSYmbi5wYWRkRW1wdHk7dmFyIHQsbn0pfSxteT1mdW5jdGlvbihlLG8pe3ZhciBpPW8uYmxvYl9jYWNoZSx0PWZ1bmN0aW9uKHQpe3ZhciBlLG4scj10LmF0dHIoInNyYyIpOyhlPXQpLmF0dHIoInNyYyIpPT09d3QudHJhbnNwYXJlbnRTcmN8fGUuYXR0cigiZGF0YS1tY2UtcGxhY2Vob2xkZXIiKXx8dC5hdHRyKCJkYXRhLW1jZS1ib2d1cyIpfHwoKG49L2RhdGE6KFteO10rKTtiYXNlNjQsKFthLXowLTlcK1wvPV0rKS9pLmV4ZWMocikpP1Uuc29tZSh7dHlwZTpuWzFdLGRhdGE6ZGVjb2RlVVJJQ29tcG9uZW50KG5bMl0pfSk6VS5ub25lKCkpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKHQuaW1hZ2VzX2RhdGFpbWdfZmlsdGVyKXt2YXIgbj1uZXcgSW1hZ2U7cmV0dXJuIG4uc3JjPWUuYXR0cigic3JjIiksdWUoZS5hdHRyaWJ1dGVzLm1hcCxmdW5jdGlvbihlLHQpe24uc2V0QXR0cmlidXRlKHQsZSl9KSx0LmltYWdlc19kYXRhaW1nX2ZpbHRlcihuKX1yZXR1cm4hMH0odCxvKX0pLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlLG49ZS5kYXRhO3JldHVybiBVLmZyb20oaS5nZXRCeURhdGEobix0KSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBueSh0LG4pLm1hcChmdW5jdGlvbihlKXt2YXIgdD1pLmNyZWF0ZShpeSgpLGUsbik7cmV0dXJuIGkuYWRkKHQpLHR9KX0pfSkuZWFjaChmdW5jdGlvbihlKXt0LmF0dHIoInNyYyIsZS5ibG9iVXJpKCkpfSl9O2kmJmUuYWRkQXR0cmlidXRlRmlsdGVyKCJzcmMiLGZ1bmN0aW9uKGUpe3JldHVybiBXKGUsdCl9KX0scHk9ZnVuY3Rpb24oZSxnKXt2YXIgaD1lLnNjaGVtYTtnLnJlbW92ZV90cmFpbGluZ19icnMmJmUuYWRkTm9kZUZpbHRlcigiYnIiLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYyxsLGY9ZS5sZW5ndGgsZD1rdC5leHRlbmQoe30saC5nZXRCbG9ja0VsZW1lbnRzKCkpLG09aC5nZXROb25FbXB0eUVsZW1lbnRzKCkscD1oLmdldFdoaXRlU3BhY2VFbGVtZW50cygpO2ZvcihkLmJvZHk9MSxyPTA7cjxmO3IrKylpZihpPShvPWVbcl0pLnBhcmVudCxkW28ucGFyZW50Lm5hbWVdJiZvPT09aS5sYXN0Q2hpbGQpe2Zvcih1PW8ucHJldjt1Oyl7aWYoInNwYW4iIT09KHM9dS5uYW1lKXx8ImJvb2ttYXJrIiE9PXUuYXR0cigiZGF0YS1tY2UtdHlwZSIpKXsiYnIiPT09cyYmKG89bnVsbCk7YnJlYWt9dT11LnByZXZ9byYmKG8ucmVtb3ZlKCksZHkoaCxtLHAsaSkmJihjPWguZ2V0RWxlbWVudFJ1bGUoaS5uYW1lKSkmJihjLnJlbW92ZUVtcHR5P2kucmVtb3ZlKCk6Yy5wYWRkRW1wdHkmJmx5KGcsbixkLGkpKSl9ZWxzZXtmb3IoYT1vO2kmJmkuZmlyc3RDaGlsZD09PWEmJmkubGFzdENoaWxkPT09YSYmIWRbKGE9aSkubmFtZV07KWk9aS5wYXJlbnQ7YT09PWkmJiEwIT09Zy5wYWRkX2VtcHR5X3dpdGhfYnImJigobD1uZXcgS20oIiN0ZXh0IiwzKSkudmFsdWU9bG8sby5yZXBsYWNlKGwpKX19KSxlLmFkZEF0dHJpYnV0ZUZpbHRlcigiaHJlZiIsZnVuY3Rpb24oZSl7dmFyIHQsbixyPWUubGVuZ3RoO2lmKCFnLmFsbG93X3Vuc2FmZV9saW5rX3RhcmdldClmb3IoO3ItLTspe3ZhciBvPWVbcl07ImEiPT09by5uYW1lJiYiX2JsYW5rIj09PW8uYXR0cigidGFyZ2V0IikmJm8uYXR0cigicmVsIiwodD1vLmF0dHIoInJlbCIpLG49dD9rdC50cmltKHQpOiIiLC9cYihub29wZW5lcilcYi9nLnRlc3Qobik/bjpuLnNwbGl0KCIgIikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RofSkuY29uY2F0KFsibm9vcGVuZXIiXSkuc29ydCgpLmpvaW4oIiAiKSkpfX0pLGcuYWxsb3dfaHRtbF9pbl9uYW1lZF9hbmNob3J8fGUuYWRkQXR0cmlidXRlRmlsdGVyKCJpZCxuYW1lIixmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLG8saT1lLmxlbmd0aDtpLS07KWlmKCJhIj09PShvPWVbaV0pLm5hbWUmJm8uZmlyc3RDaGlsZCYmIW8uYXR0cigiaHJlZiIpKWZvcihyPW8ucGFyZW50LHQ9by5sYXN0Q2hpbGQ7bj10LnByZXYsci5pbnNlcnQodCxvKSx0PW47KTt9KSxnLmZpeF9saXN0X2VsZW1lbnRzJiZlLmFkZE5vZGVGaWx0ZXIoInVsLG9sIixmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLG89ZS5sZW5ndGg7by0tOyl7InVsIiE9PShyPShuPWVbb10pLnBhcmVudCkubmFtZSYmIm9sIiE9PXIubmFtZXx8KG4ucHJldiYmImxpIj09PW4ucHJldi5uYW1lP24ucHJldi5hcHBlbmQobik6KCh0PW5ldyBLbSgibGkiLDEpKS5hdHRyKCJzdHlsZSIsImxpc3Qtc3R5bGUtdHlwZTogbm9uZSIpLG4ud3JhcCh0KSkpfX0pLGcudmFsaWRhdGUmJmguZ2V0VmFsaWRDbGFzc2VzKCkmJmUuYWRkQXR0cmlidXRlRmlsdGVyKCJjbGFzcyIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixvLGksYSx1LHM9ZS5sZW5ndGgsYz1oLmdldFZhbGlkQ2xhc3NlcygpO3MtLTspe2ZvcihuPSh0PWVbc10pLmF0dHIoImNsYXNzIikuc3BsaXQoIiAiKSxpPSIiLHI9MDtyPG4ubGVuZ3RoO3IrKylvPW5bcl0sdT0hMSwoYT1jWyIqIl0pJiZhW29dJiYodT0hMCksYT1jW3QubmFtZV0sIXUmJmEmJmFbb10mJih1PSEwKSx1JiYoaSYmKGkrPSIgIiksaSs9byk7aS5sZW5ndGh8fChpPW51bGwpLHQuYXR0cigiY2xhc3MiLGkpfX0pLG15KGUsZyl9LGd5PWt0Lm1ha2VNYXAsaHk9a3QuZWFjaCx2eT1rdC5leHBsb2RlLHl5PWt0LmV4dGVuZCxieT1mdW5jdGlvbihBLFIpe3ZvaWQgMD09PVImJihSPUNpKCkpO3ZhciBUPXt9LEQ9W10sTz17fSxCPXt9OyhBPUF8fHt9KS52YWxpZGF0ZT0hKCJ2YWxpZGF0ZSJpbiBBKXx8QS52YWxpZGF0ZSxBLnJvb3RfbmFtZT1BLnJvb3RfbmFtZXx8ImJvZHkiO3ZhciBlLHQsUD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9ZS5uYW1lO3IgaW4gVCYmKChuPU9bcl0pP24ucHVzaChlKTpPW3JdPVtlXSksdD1ELmxlbmd0aDtmb3IoO3QtLTspKHI9RFt0XS5uYW1lKWluIGUuYXR0cmlidXRlcy5tYXAmJigobj1CW3JdKT9uLnB1c2goZSk6QltyXT1bZV0pO3JldHVybiBlfSxuPXtzY2hlbWE6UixhZGRBdHRyaWJ1dGVGaWx0ZXI6ZnVuY3Rpb24oZSxuKXtoeSh2eShlKSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PEQubGVuZ3RoO3QrKylpZihEW3RdLm5hbWU9PT1lKXJldHVybiB2b2lkIERbdF0uY2FsbGJhY2tzLnB1c2gobik7RC5wdXNoKHtuYW1lOmUsY2FsbGJhY2tzOltuXX0pfSl9LGdldEF0dHJpYnV0ZUZpbHRlcnM6ZnVuY3Rpb24oKXtyZXR1cm5bXS5jb25jYXQoRCl9LGFkZE5vZGVGaWx0ZXI6ZnVuY3Rpb24oZSxuKXtoeSh2eShlKSxmdW5jdGlvbihlKXt2YXIgdD1UW2VdO3R8fChUW2VdPXQ9W10pLHQucHVzaChuKX0pfSxnZXROb2RlRmlsdGVyczpmdW5jdGlvbigpe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiBUKVQuaGFzT3duUHJvcGVydHkodCkmJmUucHVzaCh7bmFtZTp0LGNhbGxiYWNrczpUW3RdfSk7cmV0dXJuIGV9LGZpbHRlck5vZGU6UCxwYXJzZTpmdW5jdGlvbihlLHUpe3ZhciB0LG4scixvLGkscyxhLGMsbD1bXTt1PXV8fHt9LE89e30sQj17fTt2YXIgZixkPXl5KGd5KCJzY3JpcHQsc3R5bGUsaGVhZCxodG1sLGJvZHksdGl0bGUsbWV0YSxwYXJhbSIpLFIuZ2V0QmxvY2tFbGVtZW50cygpKSxtPVIuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLHA9Ui5jaGlsZHJlbixnPUEudmFsaWRhdGUsaD0iZm9yY2VkX3Jvb3RfYmxvY2siaW4gdT91LmZvcmNlZF9yb290X2Jsb2NrOkEuZm9yY2VkX3Jvb3RfYmxvY2ssdj0hMT09PShmPWgpPyIiOiEwPT09Zj8icCI6Zix5PVIuZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCksYj0vXlsgXHRcclxuXSsvLEM9L1sgXHRcclxuXSskLyx3PS9bIFx0XHJcbl0rL2cseD0vXlsgXHRcclxuXSskLyxTPXkuaGFzT3duUHJvcGVydHkodS5jb250ZXh0KXx8eS5oYXNPd25Qcm9wZXJ0eShBLnJvb3RfbmFtZSksTj1mdW5jdGlvbihlLHQpe3ZhciBuLHI9bmV3IEttKGUsdCk7cmV0dXJuIGUgaW4gVCYmKChuPU9bZV0pP24ucHVzaChyKTpPW2VdPVtyXSkscn0sRT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLG89Ui5nZXRCbG9ja0VsZW1lbnRzKCksaT1lLnByZXY7aSYmMz09PWkudHlwZTspe2lmKDA8KG49aS52YWx1ZS5yZXBsYWNlKEMsIiIpKS5sZW5ndGgpcmV0dXJuIHZvaWQoaS52YWx1ZT1uKTtpZih0PWkubmV4dCl7aWYoMz09PXQudHlwZSYmdC52YWx1ZS5sZW5ndGgpe2k9aS5wcmV2O2NvbnRpbnVlfWlmKCFvW3QubmFtZV0mJiJzY3JpcHQiIT09dC5uYW1lJiYic3R5bGUiIT09dC5uYW1lKXtpPWkucHJldjtjb250aW51ZX19cj1pLnByZXYsaS5yZW1vdmUoKSxpPXJ9fSxrPWlwKHt2YWxpZGF0ZTpnLGFsbG93X2h0bWxfZGF0YV91cmxzOkEuYWxsb3dfaHRtbF9kYXRhX3VybHMsYWxsb3dfc3ZnX2RhdGFfdXJsczpBLmFsbG93X3N2Z19kYXRhX3VybHMsYWxsb3dfc2NyaXB0X3VybHM6QS5hbGxvd19zY3JpcHRfdXJscyxhbGxvd19jb25kaXRpb25hbF9jb21tZW50czpBLmFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzLHByZXNlcnZlX2NkYXRhOkEucHJlc2VydmVfY2RhdGEsc2VsZl9jbG9zaW5nX2VsZW1lbnRzOmZ1bmN0aW9uKGUpe3ZhciB0LG49e307Zm9yKHQgaW4gZSkibGkiIT09dCYmInAiIT09dCYmKG5bdF09ZVt0XSk7cmV0dXJuIG59KFIuZ2V0U2VsZkNsb3NpbmdFbGVtZW50cygpKSxjZGF0YTpmdW5jdGlvbihlKXtjLmFwcGVuZChOKCIjY2RhdGEiLDQpKS52YWx1ZT1lfSx0ZXh0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvO1N8fChlPWUucmVwbGFjZSh3LCIgIikscj1jLmxhc3RDaGlsZCxvPWQsciYmKG9bci5uYW1lXXx8ImJyIj09PXIubmFtZSkmJihlPWUucmVwbGFjZShiLCIiKSkpLDAhPT1lLmxlbmd0aCYmKChuPU4oIiN0ZXh0IiwzKSkucmF3PSEhdCxjLmFwcGVuZChuKS52YWx1ZT1lKX0sY29tbWVudDpmdW5jdGlvbihlKXtjLmFwcGVuZChOKCIjY29tbWVudCIsOCkpLnZhbHVlPWV9LHBpOmZ1bmN0aW9uKGUsdCl7Yy5hcHBlbmQoTihlLDcpKS52YWx1ZT10LEUoYyl9LGRvY3R5cGU6ZnVuY3Rpb24oZSl7Yy5hcHBlbmQoTigiI2RvY3R5cGUiLDEwKSkudmFsdWU9ZSxFKGMpfSxzdGFydDpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdT1nP1IuZ2V0RWxlbWVudFJ1bGUoZSk6e307aWYodSl7Zm9yKChyPU4odS5vdXRwdXROYW1lfHxlLDEpKS5hdHRyaWJ1dGVzPXQsci5zaG9ydEVuZGVkPW4sYy5hcHBlbmQociksKGE9cFtjLm5hbWVdKSYmcFtyLm5hbWVdJiYhYVtyLm5hbWVdJiZsLnB1c2gociksbz1ELmxlbmd0aDtvLS07KShpPURbb10ubmFtZSlpbiB0Lm1hcCYmKChzPUJbaV0pP3MucHVzaChyKTpCW2ldPVtyXSk7ZFtlXSYmRShyKSxufHwoYz1yKSwhUyYmeVtlXSYmKFM9ITApfX0sZW5kOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYT1nP1IuZ2V0RWxlbWVudFJ1bGUoZSk6e307aWYoYSl7aWYoZFtlXSYmIVMpe2lmKCh0PWMuZmlyc3RDaGlsZCkmJjM9PT10LnR5cGUpaWYoMDwobj10LnZhbHVlLnJlcGxhY2UoYiwiIikpLmxlbmd0aCl0LnZhbHVlPW4sdD10Lm5leHQ7ZWxzZSBmb3Iocj10Lm5leHQsdC5yZW1vdmUoKSx0PXI7dCYmMz09PXQudHlwZTspbj10LnZhbHVlLHI9dC5uZXh0LDAhPT1uLmxlbmd0aCYmIXgudGVzdChuKXx8KHQucmVtb3ZlKCksdD1yKSx0PXI7aWYoKHQ9Yy5sYXN0Q2hpbGQpJiYzPT09dC50eXBlKWlmKDA8KG49dC52YWx1ZS5yZXBsYWNlKEMsIiIpKS5sZW5ndGgpdC52YWx1ZT1uLHQ9dC5wcmV2O2Vsc2UgZm9yKHI9dC5wcmV2LHQucmVtb3ZlKCksdD1yO3QmJjM9PT10LnR5cGU7KW49dC52YWx1ZSxyPXQucHJldiwwIT09bi5sZW5ndGgmJiF4LnRlc3Qobil8fCh0LnJlbW92ZSgpLHQ9ciksdD1yfWlmKFMmJnlbZV0mJihTPSExKSxhLnJlbW92ZUVtcHR5JiZkeShSLG0seSxjKSlyZXR1cm4gbz1jLnBhcmVudCxkW2MubmFtZV0/Yy5lbXB0eSgpLnJlbW92ZSgpOmMudW53cmFwKCksdm9pZChjPW8pO2EucGFkZEVtcHR5JiYoZnkoaT1jLCIjdGV4dCIpJiZpLmZpcnN0Q2hpbGQudmFsdWU9PT1sb3x8ZHkoUixtLHksYykpJiZseShBLHUsZCxjKSxjPWMucGFyZW50fX19LFIpLF89Yz1uZXcgS20odS5jb250ZXh0fHxBLnJvb3RfbmFtZSwxMSk7aWYoay5wYXJzZShlLHUuZm9ybWF0KSxnJiZsLmxlbmd0aCYmKHUuY29udGV4dD91LmludmFsaWQ9ITA6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixvLGksYSx1LHMsYyxsLGY9Z3koInRyLHRkLHRoLHRib2R5LHRoZWFkLHRmb290LHRhYmxlIiksZD1SLmdldE5vbkVtcHR5RWxlbWVudHMoKSxtPVIuZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCkscD1SLmdldFRleHRCbG9ja0VsZW1lbnRzKCksZz1SLmdldFNwZWNpYWxFbGVtZW50cygpLGg9MDtoPGUubGVuZ3RoO2grKylpZigodD1lW2hdKS5wYXJlbnQmJiF0LmZpeGVkKWlmKHBbdC5uYW1lXSYmImxpIj09PXQucGFyZW50Lm5hbWUpe2ZvcihjPXQubmV4dDtjJiZwW2MubmFtZV07KWMubmFtZT0ibGkiLGMuZml4ZWQ9ITAsdC5wYXJlbnQuaW5zZXJ0KGMsdC5wYXJlbnQpLGM9Yy5uZXh0O3QudW53cmFwKHQpfWVsc2V7Zm9yKHI9W3RdLG49dC5wYXJlbnQ7biYmIVIuaXNWYWxpZENoaWxkKG4ubmFtZSx0Lm5hbWUpJiYhZltuLm5hbWVdO249bi5wYXJlbnQpci5wdXNoKG4pO2lmKG4mJjE8ci5sZW5ndGgpe2ZvcihyLnJldmVyc2UoKSxvPWk9UChyWzBdLmNsb25lKCkpLHM9MDtzPHIubGVuZ3RoLTE7cysrKXtmb3IoUi5pc1ZhbGlkQ2hpbGQoaS5uYW1lLHJbc10ubmFtZSk/KGE9UChyW3NdLmNsb25lKCkpLGkuYXBwZW5kKGEpKTphPWksdT1yW3NdLmZpcnN0Q2hpbGQ7dSYmdSE9PXJbcysxXTspbD11Lm5leHQsYS5hcHBlbmQodSksdT1sO2k9YX1keShSLGQsbSxvKT9uLmluc2VydCh0LHJbMF0sITApOihuLmluc2VydChvLHJbMF0sITApLG4uaW5zZXJ0KHQsbykpLG49clswXSwoZHkoUixkLG0sbil8fGZ5KG4sImJyIikpJiZuLmVtcHR5KCkucmVtb3ZlKCl9ZWxzZSBpZih0LnBhcmVudCl7aWYoImxpIj09PXQubmFtZSl7aWYoKGM9dC5wcmV2KSYmKCJ1bCI9PT1jLm5hbWV8fCJvbCI9PT1jLm5hbWUpKXtjLmFwcGVuZCh0KTtjb250aW51ZX1pZigoYz10Lm5leHQpJiYoInVsIj09PWMubmFtZXx8Im9sIj09PWMubmFtZSkpe2MuaW5zZXJ0KHQsYy5maXJzdENoaWxkLCEwKTtjb250aW51ZX10LndyYXAoUChuZXcgS20oInVsIiwxKSkpO2NvbnRpbnVlfVIuaXNWYWxpZENoaWxkKHQucGFyZW50Lm5hbWUsImRpdiIpJiZSLmlzVmFsaWRDaGlsZCgiZGl2Iix0Lm5hbWUpP3Qud3JhcChQKG5ldyBLbSgiZGl2IiwxKSkpOmdbdC5uYW1lXT90LmVtcHR5KCkucmVtb3ZlKCk6dC51bndyYXAoKX19fShsKSksdiYmKCJib2R5Ij09PV8ubmFtZXx8dS5pc1Jvb3RDb250ZW50KSYmZnVuY3Rpb24oKXt2YXIgZSx0LG49Xy5maXJzdENoaWxkLHI9ZnVuY3Rpb24oZSl7ZSYmKChuPWUuZmlyc3RDaGlsZCkmJjM9PT1uLnR5cGUmJihuLnZhbHVlPW4udmFsdWUucmVwbGFjZShiLCIiKSksKG49ZS5sYXN0Q2hpbGQpJiYzPT09bi50eXBlJiYobi52YWx1ZT1uLnZhbHVlLnJlcGxhY2UoQywiIikpKX07aWYoUi5pc1ZhbGlkQ2hpbGQoXy5uYW1lLHYudG9Mb3dlckNhc2UoKSkpe2Zvcig7bjspZT1uLm5leHQsMz09PW4udHlwZXx8MT09PW4udHlwZSYmInAiIT09bi5uYW1lJiYhZFtuLm5hbWVdJiYhbi5hdHRyKCJkYXRhLW1jZS10eXBlIik/KHR8fCgodD1OKHYsMSkpLmF0dHIoQS5mb3JjZWRfcm9vdF9ibG9ja19hdHRycyksXy5pbnNlcnQodCxuKSksdC5hcHBlbmQobikpOihyKHQpLHQ9bnVsbCksbj1lO3IodCl9fSgpLCF1LmludmFsaWQpe2ZvcihhIGluIE8paWYoTy5oYXNPd25Qcm9wZXJ0eShhKSl7Zm9yKHM9VFthXSxvPSh0PU9bYV0pLmxlbmd0aDtvLS07KXRbb10ucGFyZW50fHx0LnNwbGljZShvLDEpO2ZvcihuPTAscj1zLmxlbmd0aDtuPHI7bisrKXNbbl0odCxhLHUpfWZvcihuPTAscj1ELmxlbmd0aDtuPHI7bisrKWlmKChzPURbbl0pLm5hbWUgaW4gQil7Zm9yKG89KHQ9QltzLm5hbWVdKS5sZW5ndGg7by0tOyl0W29dLnBhcmVudHx8dC5zcGxpY2UobywxKTtmb3Iobz0wLGk9cy5jYWxsYmFja3MubGVuZ3RoO288aTtvKyspcy5jYWxsYmFja3Nbb10odCxzLm5hbWUsdSl9fXJldHVybiBffX07cmV0dXJuIHB5KG4sQSksZT1uLCh0PUEpLmlubGluZV9zdHlsZXMmJmV5KGUsdCksbn0sQ3k9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBvPW4sKHI9ZSkmJnIuaGFzRXZlbnRMaXN0ZW5lcnMoIlByZVByb2Nlc3MiKSYmIW8ubm9fZXZlbnRzP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9ZS5kb207dD10LmNsb25lTm9kZSghMCk7dmFyIGEsdSxzPWRvY3VtZW50LmltcGxlbWVudGF0aW9uO3JldHVybiBzLmNyZWF0ZUhUTUxEb2N1bWVudCYmKHI9cy5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLGt0LmVhY2goIkJPRFkiPT09dC5ub2RlTmFtZT90LmNoaWxkTm9kZXM6W3RdLGZ1bmN0aW9uKGUpe3IuYm9keS5hcHBlbmRDaGlsZChyLmltcG9ydE5vZGUoZSwhMCkpfSksdD0iQk9EWSIhPT10Lm5vZGVOYW1lP3IuYm9keS5maXJzdENoaWxkOnIuYm9keSxvPWkuZG9jLGkuZG9jPXIpLGE9ZSx1PWtlKGtlKHt9LG4pLHtub2RlOnR9KSxhLmZpcmUoIlByZVByb2Nlc3MiLHUpLG8mJihpLmRvYz1vKSx0fShlLHQsbik6dDt2YXIgcixvfSx3eT1mdW5jdGlvbihlLHQsbil7LTE9PT1rdC5pbkFycmF5KHQsbikmJihlLmFkZEF0dHJpYnV0ZUZpbHRlcihuLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspZVtuXS5hdHRyKHQsbnVsbCl9KSx0LnB1c2gobikpfSx4eT1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdSxzLGMsbCxmPShpPXIsSm0odCxuKS5zZXJpYWxpemUoaSkpO3JldHVybiBhPWUscz1mLCh1PW8pLm5vX2V2ZW50c3x8IWE/czooYz1hLGw9a2Uoa2Uoe30sdSkse2NvbnRlbnQ6c30pLGMuZmlyZSgiUG9zdFByb2Nlc3MiLGwpLmNvbnRlbnQpfSxTeT1mdW5jdGlvbih5LGIpe3ZhciBlPVsiZGF0YS1tY2Utc2VsZWN0ZWQiXSxDPWImJmIuZG9tP2IuZG9tOkV1LkRPTSx3PWImJmIuc2NoZW1hP2Iuc2NoZW1hOkNpKHkpO3kuZW50aXR5X2VuY29kaW5nPXkuZW50aXR5X2VuY29kaW5nfHwibmFtZWQiLHkucmVtb3ZlX3RyYWlsaW5nX2Jycz0hKCJyZW1vdmVfdHJhaWxpbmdfYnJzImluIHkpfHx5LnJlbW92ZV90cmFpbGluZ19icnM7dmFyIHQscyxjLHg9YnkoeSx3KTtzPXksYz1DLCh0PXgpLmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2UtdGFiaW5kZXgiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9ZS5sZW5ndGg7ci0tOykobj1lW3JdKS5hdHRyKCJ0YWJpbmRleCIsbi5hdHRyKCJkYXRhLW1jZS10YWJpbmRleCIpKSxuLmF0dHIodCxudWxsKX0pLHQuYWRkQXR0cmlidXRlRmlsdGVyKCJzcmMsaHJlZixzdHlsZSIsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scixvPWUubGVuZ3RoLGk9ImRhdGEtbWNlLSIrdCxhPXMudXJsX2NvbnZlcnRlcix1PXMudXJsX2NvbnZlcnRlcl9zY29wZTtvLS07KShyPShuPWVbb10pLmF0dHIoaSkpIT09dW5kZWZpbmVkPyhuLmF0dHIodCwwPHIubGVuZ3RoP3I6bnVsbCksbi5hdHRyKGksbnVsbCkpOihyPW4uYXR0cih0KSwic3R5bGUiPT09dD9yPWMuc2VyaWFsaXplU3R5bGUoYy5wYXJzZVN0eWxlKHIpLG4ubmFtZSk6YSYmKHI9YS5jYWxsKHUscix0LG4ubmFtZSkpLG4uYXR0cih0LDA8ci5sZW5ndGg/cjpudWxsKSl9KSx0LmFkZEF0dHJpYnV0ZUZpbHRlcigiY2xhc3MiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHI9ZS5sZW5ndGg7ci0tOykobj0odD1lW3JdKS5hdHRyKCJjbGFzcyIpKSYmKG49dC5hdHRyKCJjbGFzcyIpLnJlcGxhY2UoLyg/Ol58XHMpbWNlLWl0ZW0tXHcrKD8hXFMpL2csIiIpLHQuYXR0cigiY2xhc3MiLDA8bi5sZW5ndGg/bjpudWxsKSl9KSx0LmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2UtdHlwZSIsZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixvPWUubGVuZ3RoO28tLTspeyJib29rbWFyayIhPT0ocj1lW29dKS5hdHRyKCJkYXRhLW1jZS10eXBlIil8fG4uY2xlYW51cHx8KFUuZnJvbShyLmZpcnN0Q2hpbGQpLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4hbW8oZS52YWx1ZSl9KT9yLnVud3JhcCgpOnIucmVtb3ZlKCkpfX0pLHQuYWRkTm9kZUZpbHRlcigibm9zY3JpcHQiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoO24tLTspKHQ9ZVtuXS5maXJzdENoaWxkKSYmKHQudmFsdWU9Y2kuZGVjb2RlKHQudmFsdWUpKX0pLHQuYWRkTm9kZUZpbHRlcigic2NyaXB0LHN0eWxlIixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLG8saT1lLmxlbmd0aCxhPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg8IS0tXFtDREFUQVxbfFxdXF0tLT4pL2csIlxuIikucmVwbGFjZSgvXltcclxuXSp8W1xyXG5dKiQvZywiIikucmVwbGFjZSgvXlxzKigoPCEtLSk/KFxzKlwvXC8pP1xzKjwhXFtDREFUQVxbfCg8IS0tXHMqKT9cL1wqXHMqPCFcW0NEQVRBXFtccypcKlwvfChcL1wvKT9ccyo8IS0tfFwvXCpccyo8IS0tXHMqXCpcLylccypbXHJcbl0qL2dpLCIiKS5yZXBsYWNlKC9ccyooXC9cKlxzKlxdXF0+XHMqXCpcLygtLT4pP3xccypcL1wvXHMqXF1cXT4oLS0+KT98XC9cL1xzKigtLT4pP3xcXVxdPnxcL1wqXHMqLS0+XHMqXCpcL3xccyotLT5ccyopXHMqJC9nLCIiKX07aS0tOylyPShuPWVbaV0pLmZpcnN0Q2hpbGQ/bi5maXJzdENoaWxkLnZhbHVlOiIiLCJzY3JpcHQiPT09dD8oKG89bi5hdHRyKCJ0eXBlIikpJiZuLmF0dHIoInR5cGUiLCJtY2Utbm8vdHlwZSI9PT1vP251bGw6by5yZXBsYWNlKC9ebWNlXC0vLCIiKSksInhodG1sIj09PXMuZWxlbWVudF9mb3JtYXQmJjA8ci5sZW5ndGgmJihuLmZpcnN0Q2hpbGQudmFsdWU9Ii8vIDwhW0NEQVRBW1xuIithKHIpKyJcbi8vIF1dPiIpKToieGh0bWwiPT09cy5lbGVtZW50X2Zvcm1hdCYmMDxyLmxlbmd0aCYmKG4uZmlyc3RDaGlsZC52YWx1ZT0iXHgzYyEtLVxuIithKHIpKyJcbi0tXHgzZSIpfSksdC5hZGROb2RlRmlsdGVyKCIjY29tbWVudCIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49ZS5sZW5ndGg7bi0tOyl0PWVbbl0scy5wcmVzZXJ2ZV9jZGF0YSYmMD09PXQudmFsdWUuaW5kZXhPZigiW0NEQVRBWyIpPyh0Lm5hbWU9IiNjZGF0YSIsdC50eXBlPTQsdC52YWx1ZT1jLmRlY29kZSh0LnZhbHVlLnJlcGxhY2UoL15cW0NEQVRBXFt8XF1cXSQvZywiIikpKTowPT09dC52YWx1ZS5pbmRleE9mKCJtY2U6cHJvdGVjdGVkICIpJiYodC5uYW1lPSIjdGV4dCIsdC50eXBlPTMsdC5yYXc9ITAsdC52YWx1ZT11bmVzY2FwZSh0LnZhbHVlKS5zdWJzdHIoMTQpKX0pLHQuYWRkTm9kZUZpbHRlcigieG1sOm5hbWVzcGFjZSxpbnB1dCIsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1lLmxlbmd0aDtyLS07KTc9PT0obj1lW3JdKS50eXBlP24ucmVtb3ZlKCk6MT09PW4udHlwZSYmKCJpbnB1dCIhPT10fHxuLmF0dHIoInR5cGUiKXx8bi5hdHRyKCJ0eXBlIiwidGV4dCIpKX0pLHQuYWRkQXR0cmlidXRlRmlsdGVyKCJkYXRhLW1jZS10eXBlIixmdW5jdGlvbihlKXtXKGUsZnVuY3Rpb24oZSl7ImZvcm1hdC1jYXJldCI9PT1lLmF0dHIoImRhdGEtbWNlLXR5cGUiKSYmKGUuaXNFbXB0eSh0LnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCkpP2UucmVtb3ZlKCk6ZS51bndyYXAoKSl9KX0pLHQuYWRkQXR0cmlidXRlRmlsdGVyKCJkYXRhLW1jZS1zcmMsZGF0YS1tY2UtaHJlZixkYXRhLW1jZS1zdHlsZSxkYXRhLW1jZS1zZWxlY3RlZCxkYXRhLW1jZS1leHBhbmRvLGRhdGEtbWNlLXR5cGUsZGF0YS1tY2UtcmVzaXplLGRhdGEtbWNlLXBsYWNlaG9sZGVyIixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWVbbl0uYXR0cih0LG51bGwpfSk7cmV0dXJue3NjaGVtYTp3LGFkZE5vZGVGaWx0ZXI6eC5hZGROb2RlRmlsdGVyLGFkZEF0dHJpYnV0ZUZpbHRlcjp4LmFkZEF0dHJpYnV0ZUZpbHRlcixzZXJpYWxpemU6ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIG4scixvLGksYSx1LHMsYyxsLGYsZCxtLHA9a2Uoe2Zvcm1hdDoiaHRtbCJ9LHQpLGc9Q3koYixlLHApLGg9KG49QyxyPWcsaT1wbygobz1wKS5nZXRJbm5lcj9yLmlubmVySFRNTDpuLmdldE91dGVySFRNTChyKSksby5zZWxlY3Rpb258fHNvKEF0LmZyb21Eb20ocikpP2k6a3QudHJpbShpKSksdj0oYT14LHU9aCxkPShzPXApLnNlbGVjdGlvbj9rZSh7Zm9yY2VkX3Jvb3RfYmxvY2s6ITF9LHMpOnMsbT1hLnBhcnNlKHUsZCksbD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmImJyIj09PWUubmFtZX0sZj1tLmxhc3RDaGlsZCwhbChmKXx8bChjPWYucHJldikmJihmLnJlbW92ZSgpLGMucmVtb3ZlKCkpLG0pO3JldHVybiJ0cmVlIj09PXAuZm9ybWF0P3Y6eHkoYix5LHcsdixwKX0sYWRkUnVsZXM6ZnVuY3Rpb24oZSl7dy5hZGRWYWxpZEVsZW1lbnRzKGUpfSxzZXRSdWxlczpmdW5jdGlvbihlKXt3LnNldFZhbGlkRWxlbWVudHMoZSl9LGFkZFRlbXBBdHRyOk4od3kseCxlKSxnZXRUZW1wQXR0cnM6ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZ2V0Tm9kZUZpbHRlcnM6eC5nZXROb2RlRmlsdGVycyxnZXRBdHRyaWJ1dGVGaWx0ZXJzOnguZ2V0QXR0cmlidXRlRmlsdGVyc319LE55PWZ1bmN0aW9uKGUsdCl7dmFyIG49U3koZSx0KTtyZXR1cm57c2NoZW1hOm4uc2NoZW1hLGFkZE5vZGVGaWx0ZXI6bi5hZGROb2RlRmlsdGVyLGFkZEF0dHJpYnV0ZUZpbHRlcjpuLmFkZEF0dHJpYnV0ZUZpbHRlcixzZXJpYWxpemU6bi5zZXJpYWxpemUsYWRkUnVsZXM6bi5hZGRSdWxlcyxzZXRSdWxlczpuLnNldFJ1bGVzLGFkZFRlbXBBdHRyOm4uYWRkVGVtcEF0dHIsZ2V0VGVtcEF0dHJzOm4uZ2V0VGVtcEF0dHJzLGdldE5vZGVGaWx0ZXJzOm4uZ2V0Tm9kZUZpbHRlcnMsZ2V0QXR0cmlidXRlRmlsdGVyczpuLmdldEF0dHJpYnV0ZUZpbHRlcnN9fSxFeT1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgbixyLG89dC5mb3JtYXQ/dC5mb3JtYXQ6Imh0bWwiO3JldHVybiBuPXQscj1vLFZ2KGUpLmVkaXRvci5nZXRDb250ZW50KG4scil9LGt5PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLHI9dCxvPW4sVnYoZSkuZWRpdG9yLnNldENvbnRlbnQocixvKTt2YXIgcixvfSxfeT1FdS5ET00sQXk9ZnVuY3Rpb24oZSl7cmV0dXJuIFUuZnJvbShlKS5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlc3Ryb3koKX0pfSxSeT1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpO2UucmVtb3ZlZHx8KHQ9ZS5fc2VsZWN0aW9uT3ZlcnJpZGVzLG49ZS5lZGl0b3JVcGxvYWQscj1lLmdldEJvZHkoKSxvPWUuZ2V0RWxlbWVudCgpLHImJmUuc2F2ZSh7aXNfcmVtb3Zpbmc6ITB9KSxlLnJlbW92ZWQ9ITAsZS51bmJpbmRBbGxOYXRpdmVFdmVudHMoKSxlLmhhc0hpZGRlbklucHV0JiZvJiZfeS5yZW1vdmUoby5uZXh0U2libGluZyksZS5maXJlKCJyZW1vdmUiKSxlLmVkaXRvck1hbmFnZXIucmVtb3ZlKGUpLCFlLmlubGluZSYmciYmKGk9ZSxfeS5zZXRTdHlsZShpLmlkLCJkaXNwbGF5IixpLm9yZ0Rpc3BsYXkpKSxlLmZpcmUoImRldGFjaCIpLF95LnJlbW92ZShlLmdldENvbnRhaW5lcigpKSxBeSh0KSxBeShuKSxlLmRlc3Ryb3koKSl9LFR5PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk9ZS5zZWxlY3Rpb24sYT1lLmRvbTtlLmRlc3Ryb3llZHx8KHR8fGUucmVtb3ZlZD8odHx8KGUuZWRpdG9yTWFuYWdlci5vZmYoImJlZm9yZXVubG9hZCIsZS5fYmVmb3JlVW5sb2FkKSxlLnRoZW1lJiZlLnRoZW1lLmRlc3Ryb3kmJmUudGhlbWUuZGVzdHJveSgpLEF5KGkpLEF5KGEpKSwocj0obj1lKS5mb3JtRWxlbWVudCkmJihyLl9tY2VPbGRTdWJtaXQmJihyLnN1Ym1pdD1yLl9tY2VPbGRTdWJtaXQsci5fbWNlT2xkU3VibWl0PW51bGwpLF95LnVuYmluZChyLCJzdWJtaXQgcmVzZXQiLG4uZm9ybUV2ZW50RGVsZWdhdGUpKSwobz1lKS5jb250ZW50QXJlYUNvbnRhaW5lcj1vLmZvcm1FbGVtZW50PW8uY29udGFpbmVyPW8uZWRpdG9yQ29udGFpbmVyPW51bGwsby5ib2R5RWxlbWVudD1vLmNvbnRlbnREb2N1bWVudD1vLmNvbnRlbnRXaW5kb3c9bnVsbCxvLmlmcmFtZUVsZW1lbnQ9by50YXJnZXRFbG09bnVsbCxvLnNlbGVjdGlvbiYmKG8uc2VsZWN0aW9uPW8uc2VsZWN0aW9uLndpbj1vLnNlbGVjdGlvbi5kb209by5zZWxlY3Rpb24uZG9tLmRvYz1udWxsKSxlLmRlc3Ryb3llZD0hMCk6ZS5yZW1vdmUoKSl9LER5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksT3k9KHN5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8oZSkmJl8odCk/T3koZSx0KTp0fSxmdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO2lmKDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IG1lcmdlIHplcm8gb2JqZWN0cyIpO2Zvcih2YXIgbj17fSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl07Zm9yKHZhciBpIGluIG8pRHkuY2FsbChvLGkpJiYobltpXT1zeShuW2ldLG9baV0pKX1yZXR1cm4gbn0pLEJ5PWR0KCkuZGV2aWNlVHlwZSxQeT1CeS5pc1RvdWNoKCksTHk9QnkuaXNQaG9uZSgpLEl5PUJ5LmlzVGFibGV0KCksTXk9WyJsaXN0cyIsImF1dG9saW5rIiwiYXV0b3NhdmUiXSxGeT17dGFibGVfZ3JpZDohMSxvYmplY3RfcmVzaXppbmc6ITEscmVzaXplOiExfSxVeT1mdW5jdGlvbihlKXt2YXIgdD1TKGUpP2Uuam9pbigiICIpOmUsbj16KHEodCk/dC5zcGxpdCgiICIpOltdLCRlKTtyZXR1cm4gSChuLGZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RofSl9LHp5PWZ1bmN0aW9uKG4sZSl7dmFyIHQscixvPWRlKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gTShuLHQpfSk7cmV0dXJuIHQ9by50LHI9by5mLHtzZWN0aW9uczpFKHQpLHNldHRpbmdzOkUocil9fSxqeT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnNlY3Rpb25zKCkuaGFzT3duUHJvcGVydHkodCl9LEh5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGdlKGUsInRvb2xiYXJfbW9kZSIpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gZ2UoZSwidG9vbGJhcl9kcmF3ZXIiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1lPyJ3cmFwIjplfSl9KS5nZXRPcih0KX0sVnk9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGUmJihhPWk9Im1vYmlsZSIsdT0obz10KS5zZWN0aW9ucygpLGp5KG8saSkmJnVbaV0udGhlbWU9PT1hKT9IKHIsTihNLE15KSk6ZSYmankodCwibW9iaWxlIik/cjpuO3ZhciBvLGksYSx1fSxxeT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdT1VeShuLmZvcmNlZF9wbHVnaW5zKSxzPVV5KHIucGx1Z2lucyksYz1qeShvPXQsaT0ibW9iaWxlIik/by5zZWN0aW9ucygpW2ldOnt9LGw9Yy5wbHVnaW5zP1V5KGMucGx1Z2lucyk6cyxmPVZ5KGUsdCxzLGwpLGQ9KGE9ZixbXS5jb25jYXQoVXkodSkpLmNvbmNhdChVeShhKSkpO2lmKHd0LmJyb3dzZXIuaXNJRSgpJiZNKGQsInJ0YyIpKXRocm93IG5ldyBFcnJvcigiUlRDIHBsdWdpbiBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIDExLiIpO3JldHVybiBrdC5leHRlbmQocix7cGx1Z2luczpkLmpvaW4oIiAiKX0pfSwkeT1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdSxzLGMsbCxmLGQ9ZT97bW9iaWxlOihpPW8ubW9iaWxlfHx7fSxhPXQsdT17cmVzaXplOiExLHRvb2xiYXJfbW9kZTpIeShpLCJzY3JvbGxpbmciKSx0b29sYmFyX3N0aWNreTohMX0sa2Uoa2Uoa2Uoe30sRnkpLHUpLGE/e21lbnViYXI6ITF9Ont9KSl9Ont9LG09enkoWyJtb2JpbGUiXSxPeShkLG8pKSxwPWt0LmV4dGVuZChuLHIsbS5zZXR0aW5ncygpLChmPW0sZSYmankoZiwibW9iaWxlIik/ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcj1lLnNlY3Rpb25zKCksbz1yLmhhc093blByb3BlcnR5KHQpP3JbdF06e307cmV0dXJuIGt0LmV4dGVuZCh7fSxuLG8pfShtLCJtb2JpbGUiKTp7fSkse3ZhbGlkYXRlOiEwLGV4dGVybmFsX3BsdWdpbnM6KHM9cixjPW0uc2V0dGluZ3MoKSxsPWMuZXh0ZXJuYWxfcGx1Z2lucz9jLmV4dGVybmFsX3BsdWdpbnM6e30scyYmcy5leHRlcm5hbF9wbHVnaW5zP2t0LmV4dGVuZCh7fSxzLmV4dGVybmFsX3BsdWdpbnMsbCk6bCl9KTtyZXR1cm4gcXkoZSxtLHIscCl9LFd5PWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1LHMsYz0oaT1uLGE9UHksdT1lLHM9e2lkOnQsdGhlbWU6InNpbHZlciIsdG9vbGJhcl9tb2RlOkh5KG8sImZsb2F0aW5nIikscGx1Z2luczoiIixkb2N1bWVudF9iYXNlX3VybDppLGFkZF9mb3JtX3N1Ym1pdF90cmlnZ2VyOiEwLHN1Ym1pdF9wYXRjaDohMCxhZGRfdW5sb2FkX3RyaWdnZXI6ITAsY29udmVydF91cmxzOiEwLHJlbGF0aXZlX3VybHM6ITAscmVtb3ZlX3NjcmlwdF9ob3N0OiEwLG9iamVjdF9yZXNpemluZzohMCxkb2N0eXBlOiI8IURPQ1RZUEUgaHRtbD4iLHZpc3VhbDohMCxmb250X3NpemVfbGVnYWN5X3ZhbHVlczoieHgtc21hbGwsc21hbGwsbWVkaXVtLGxhcmdlLHgtbGFyZ2UseHgtbGFyZ2UsMzAwJSIsZm9yY2VkX3Jvb3RfYmxvY2s6InAiLGhpZGRlbl9pbnB1dDohMCxpbmxpbmVfc3R5bGVzOiEwLGNvbnZlcnRfZm9udHNfdG9fc3BhbnM6ITAsaW5kZW50OiEwLGluZGVudF9iZWZvcmU6InAsaDEsaDIsaDMsaDQsaDUsaDYsYmxvY2txdW90ZSxkaXYsdGl0bGUsc3R5bGUscHJlLHNjcmlwdCx0ZCx0aCx1bCxvbCxsaSxkbCxkdCxkZCxhcmVhLHRhYmxlLHRoZWFkLHRmb290LHRib2R5LHRyLHNlY3Rpb24sc3VtbWFyeSxhcnRpY2xlLGhncm91cCxhc2lkZSxmaWd1cmUsZmlnY2FwdGlvbixvcHRpb24sb3B0Z3JvdXAsZGF0YWxpc3QiLGluZGVudF9hZnRlcjoicCxoMSxoMixoMyxoNCxoNSxoNixibG9ja3F1b3RlLGRpdix0aXRsZSxzdHlsZSxwcmUsc2NyaXB0LHRkLHRoLHVsLG9sLGxpLGRsLGR0LGRkLGFyZWEsdGFibGUsdGhlYWQsdGZvb3QsdGJvZHksdHIsc2VjdGlvbixzdW1tYXJ5LGFydGljbGUsaGdyb3VwLGFzaWRlLGZpZ3VyZSxmaWdjYXB0aW9uLG9wdGlvbixvcHRncm91cCxkYXRhbGlzdCIsZW50aXR5X2VuY29kaW5nOiJuYW1lZCIsdXJsX2NvbnZlcnRlcjp1LmNvbnZlcnRVUkwsdXJsX2NvbnZlcnRlcl9zY29wZTp1fSxrZShrZSh7fSxzKSxhP0Z5Ont9KSk7cmV0dXJuICR5KEx5fHxJeSxMeSxjLHIsbyl9LEt5PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVS5mcm9tKHQuc2V0dGluZ3Nbbl0pLmZpbHRlcihlKX0sWHk9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHU9dCBpbiBlLnNldHRpbmdzP2Uuc2V0dGluZ3NbdF06bjtyZXR1cm4iaGFzaCI9PT1yPyhhPXt9LCJzdHJpbmciPT10eXBlb2YoaT11KT9XKDA8aS5pbmRleE9mKCI9Iik/aS5zcGxpdCgvWzssXSg/IVtePTssXSooPzpbOyxdfCQpKS8pOmkuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCI9Iik7MTx0Lmxlbmd0aD9hW2t0LnRyaW0odFswXSldPWt0LnRyaW0odFsxXSk6YVtrdC50cmltKHRbMF0pXT1rdC50cmltKHRbMF0pfSk6YT1pLGEpOiJzdHJpbmciPT09cj9LeShxLGUsdCkuZ2V0T3Iobik6Im51bWJlciI9PT1yP0t5KE8sZSx0KS5nZXRPcihuKToiYm9vbGVhbiI9PT1yP0t5KEEsZSx0KS5nZXRPcihuKToib2JqZWN0Ij09PXI/S3koXyxlLHQpLmdldE9yKG4pOiJhcnJheSI9PT1yP0t5KFMsZSx0KS5nZXRPcihuKToic3RyaW5nW10iPT09cj9LeSgobz1xLGZ1bmN0aW9uKGUpe3JldHVybiBTKGUpJiZRKGUsbyl9KSxlLHQpLmdldE9yKG4pOiJmdW5jdGlvbiI9PT1yP0t5KFQsZSx0KS5nZXRPcihuKTp1fSxZeT0oY3k9e30se2FkZDpmdW5jdGlvbihlLHQpe2N5W2VdPXR9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gY3lbZV0/Y3lbZV06e2ljb25zOnt9fX0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBoZShjeSxlKX19KSxHeT1mdW5jdGlvbihlLHQpe3JldHVybiB0LmRvbVtlXX0sSnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcGFyc2VJbnQoZXIodCxlKSwxMCl9LFF5PU4oR3ksImNsaWVudFdpZHRoIiksWnk9TihHeSwiY2xpZW50SGVpZ2h0IiksZWI9TihKeSwibWFyZ2luLXRvcCIpLHRiPU4oSnksIm1hcmdpbi1sZWZ0IiksbmI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjLGwsZixkLG0scD1BdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKSxnPWUuaW5saW5lP3A6KHI9cCxBdC5mcm9tRG9tKFZ0KHIpLmRvbS5kb2N1bWVudEVsZW1lbnQpKSxoPShvPWUuaW5saW5lLGE9dCx1PW4scz0oaT1nKS5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkse3g6YS0obz9zLmxlZnQraS5kb20uY2xpZW50TGVmdCt0YihpKTowKSx5OnUtKG8/cy50b3AraS5kb20uY2xpZW50VG9wK2ViKGkpOjApfSk7cmV0dXJuIGw9aC54LGY9aC55LGQ9UXkoYz1nKSxtPVp5KGMpLDA8PWwmJjA8PWYmJmw8PWQmJmY8PW19LHJiPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5pbmxpbmU/ZS5nZXRCb2R5KCk6ZS5nZXRDb250ZW50QXJlYUNvbnRhaW5lcigpO3JldHVybiB0PW4sVS5mcm9tKHQpLm1hcChBdC5mcm9tRG9tKS5tYXAoaG4pLmdldE9yKCExKX07ZnVuY3Rpb24gb2Iobil7dmFyIHQsbz1bXSxpPWZ1bmN0aW9uKCl7dmFyIGUsdD1uLnRoZW1lO3JldHVybiB0JiZ0LmdldE5vdGlmaWNhdGlvbk1hbmFnZXJJbXBsP3QuZ2V0Tm90aWZpY2F0aW9uTWFuYWdlckltcGwoKTp7b3BlbjplPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJUaGVtZSBkaWQgbm90IHByb3ZpZGUgYSBOb3RpZmljYXRpb25NYW5hZ2VyIGltcGxlbWVudGF0aW9uLiIpfSxjbG9zZTplLHJlcG9zaXRpb246ZSxnZXRBcmdzOmV9fSxhPWZ1bmN0aW9uKCl7cmV0dXJuIFUuZnJvbShvWzBdKX0sdT1mdW5jdGlvbigpezA8by5sZW5ndGgmJmkoKS5yZXBvc2l0aW9uKG8pfSxzPWZ1bmN0aW9uKHQpe0cobyxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KS5lYWNoKGZ1bmN0aW9uKGUpe28uc3BsaWNlKGUsMSl9KX0scj1mdW5jdGlvbihyLGUpe2lmKHZvaWQgMD09PWUmJihlPSEwKSwhbi5yZW1vdmVkJiZyYihuKSlyZXR1cm4gZSYmbi5maXJlKCJCZWZvcmVPcGVuTm90aWZpY2F0aW9uIix7bm90aWZpY2F0aW9uOnJ9KSxZKG8sZnVuY3Rpb24oZSl7cmV0dXJuIHQ9aSgpLmdldEFyZ3MoZSksbj1yLCEodC50eXBlIT09bi50eXBlfHx0LnRleHQhPT1uLnRleHR8fHQucHJvZ3Jlc3NCYXJ8fHQudGltZW91dHx8bi5wcm9ncmVzc0Jhcnx8bi50aW1lb3V0KTt2YXIgdCxufSkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe24uZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUobik7dmFyIGUsdD1pKCkub3BlbihyLGZ1bmN0aW9uKCl7cyh0KSx1KCksYSgpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gbi5mb2N1cygpfSxmdW5jdGlvbihlKXtyZXR1cm4gQXQuZnJvbURvbShlLmdldEVsKCkpLmRvbS5mb2N1cygpfSl9KTtyZXR1cm4gZT10LG8ucHVzaChlKSx1KCksbi5maXJlKCJPcGVuTm90aWZpY2F0aW9uIixrZSh7fSx0KSksdH0pfTtyZXR1cm4odD1uKS5vbigiU2tpbkxvYWRlZCIsZnVuY3Rpb24oKXt2YXIgZT10LmdldFBhcmFtKCJzZXJ2aWNlX21lc3NhZ2UiKTtlJiZyKHt0ZXh0OmUsdHlwZToid2FybmluZyIsdGltZW91dDowfSwhMSl9KSx0Lm9uKCJSZXNpemVFZGl0b3IgUmVzaXplV2luZG93IE5vZGVDaGFuZ2UiLGZ1bmN0aW9uKCl7cXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHUpfSksdC5vbigicmVtb3ZlIixmdW5jdGlvbigpe1coby5zbGljZSgpLGZ1bmN0aW9uKGUpe2koKS5jbG9zZShlKX0pfSkse29wZW46cixjbG9zZTpmdW5jdGlvbigpe2EoKS5lYWNoKGZ1bmN0aW9uKGUpe2koKS5jbG9zZShlKSxzKGUpLHUoKX0pfSxnZXROb3RpZmljYXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIG99fX12YXIgaWI9VXUuUGx1Z2luTWFuYWdlcixhYj1VdS5UaGVtZU1hbmFnZXI7dmFyIHViPWZ1bmN0aW9uKG4pe3ZhciByPVtdLG89ZnVuY3Rpb24oKXt2YXIgZSx0PW4udGhlbWU7cmV0dXJuIHQmJnQuZ2V0V2luZG93TWFuYWdlckltcGw/dC5nZXRXaW5kb3dNYW5hZ2VySW1wbCgpOntvcGVuOmU9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIlRoZW1lIGRpZCBub3QgcHJvdmlkZSBhIFdpbmRvd01hbmFnZXIgaW1wbGVtZW50YXRpb24uIil9LG9wZW5Vcmw6ZSxhbGVydDplLGNvbmZpcm06ZSxjbG9zZTplLGdldFBhcmFtczplLHNldFBhcmFtczplfX0saT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0P3QuYXBwbHkoZSxhcmd1bWVudHMpOnVuZGVmaW5lZH19LGE9ZnVuY3Rpb24oZSl7dmFyIHQ7ci5wdXNoKGUpLHQ9ZSxuLmZpcmUoIk9wZW5XaW5kb3ciLHtkaWFsb2c6dH0pfSx1PWZ1bmN0aW9uKHQpe3ZhciBlO2U9dCxuLmZpcmUoIkNsb3NlV2luZG93Iix7ZGlhbG9nOmV9KSwwPT09KHI9SChyLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKS5sZW5ndGgmJm4uZm9jdXMoKX0scz1mdW5jdGlvbihlKXtuLmVkaXRvck1hbmFnZXIuc2V0QWN0aXZlKG4pLGZtKG4pO3ZhciB0PWUoKTtyZXR1cm4gYSh0KSx0fTtyZXR1cm4gbi5vbigicmVtb3ZlIixmdW5jdGlvbigpe1cocixmdW5jdGlvbihlKXtvKCkuY2xvc2UoZSl9KX0pLHtvcGVuOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZnVuY3Rpb24oKXtyZXR1cm4gbygpLm9wZW4oZSx0LHUpfSl9LG9wZW5Vcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIHMoZnVuY3Rpb24oKXtyZXR1cm4gbygpLm9wZW5VcmwoZSx1KX0pfSxhbGVydDpmdW5jdGlvbihlLHQsbil7bygpLmFsZXJ0KGUsaShufHx0aGlzLHQpKX0sY29uZmlybTpmdW5jdGlvbihlLHQsbil7bygpLmNvbmZpcm0oZSxpKG58fHRoaXMsdCkpfSxjbG9zZTpmdW5jdGlvbigpe1UuZnJvbShyW3IubGVuZ3RoLTFdKS5lYWNoKGZ1bmN0aW9uKGUpe28oKS5jbG9zZShlKSx1KGUpfSl9fX0sc2I9ZnVuY3Rpb24oZSx0KXtlLm5vdGlmaWNhdGlvbk1hbmFnZXIub3Blbih7dHlwZToiZXJyb3IiLHRleHQ6dH0pfSxjYj1mdW5jdGlvbihlLHQpe2UuX3NraW5Mb2FkZWQ/c2IoZSx0KTplLm9uKCJTa2luTG9hZGVkIixmdW5jdGlvbigpe3NiKGUsdCl9KX0sbGI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87cj10LG89e21lc3NhZ2U6bn0sZS5maXJlKHIsbyksY29uc29sZS5lcnJvcihuKX0sZmI9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuPyJGYWlsZWQgdG8gbG9hZCAiK2UrIjogIituKyIgZnJvbSB1cmwgIit0OiJGYWlsZWQgdG8gbG9hZCAiK2UrIiB1cmw6ICIrdH0sZGI9ZnVuY3Rpb24oZSx0LG4pe2xiKGUsIlBsdWdpbkxvYWRFcnJvciIsZmIoInBsdWdpbiIsdCxuKSl9LG1iPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3ZhciByPXdpbmRvdy5jb25zb2xlO3ImJihyLmVycm9yP3IuZXJyb3IuYXBwbHkocixfZShbZV0sdCkpOnIubG9nLmFwcGx5KHIsX2UoW2VdLHQpKSl9LHBiPWZ1bmN0aW9uKHQpe3ZhciBlLG4scj0obj0oZT10KS5nZXRQYXJhbSgiY29udGVudF9jc3MiKSxxKG4pP3oobi5zcGxpdCgiLCIpLCRlKTpTKG4pP246ITE9PT1ufHxlLmlubGluZT9bXTpbImRlZmF1bHQiXSksbz10LmVkaXRvck1hbmFnZXIuYmFzZVVSTCsiL3NraW5zL2NvbnRlbnQiLGk9ImNvbnRlbnQiK3QuZWRpdG9yTWFuYWdlci5zdWZmaXgrIi5jc3MiLGE9ITA9PT10LmlubGluZTtyZXR1cm4geihyLGZ1bmN0aW9uKGUpe3JldHVybi9eW2EtejAtOVwtXSskL2kudGVzdChlKSYmIWE/bysiLyIrZSsiLyIraTp0LmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKGUpfSl9O2Z1bmN0aW9uIGdiKHUscyl7dmFyIG89e30sbj1mdW5jdGlvbihlLHIsbyx0KXt2YXIgaT1uZXcgWE1MSHR0cFJlcXVlc3Q7aS5vcGVuKCJQT1NUIixzLnVybCksaS53aXRoQ3JlZGVudGlhbHM9cy5jcmVkZW50aWFscyxpLnVwbG9hZC5vbnByb2dyZXNzPWZ1bmN0aW9uKGUpe3QoZS5sb2FkZWQvZS50b3RhbCoxMDApfSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXtvKCJJbWFnZSB1cGxvYWQgZmFpbGVkIGR1ZSB0byBhIFhIUiBUcmFuc3BvcnQgZXJyb3IuIENvZGU6ICIraS5zdGF0dXMpfSxpLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlLHQsbjtpLnN0YXR1czwyMDB8fDMwMDw9aS5zdGF0dXM/bygiSFRUUCBFcnJvcjogIitpLnN0YXR1cyk6KGU9SlNPTi5wYXJzZShpLnJlc3BvbnNlVGV4dCkpJiYic3RyaW5nIj09dHlwZW9mIGUubG9jYXRpb24/cigodD1zLmJhc2VQYXRoLG49ZS5sb2NhdGlvbix0P3QucmVwbGFjZSgvXC8kLywiIikrIi8iK24ucmVwbGFjZSgvXlwvLywiIik6bikpOm8oIkludmFsaWQgSlNPTjogIitpLnJlc3BvbnNlVGV4dCl9O3ZhciBuPW5ldyBGb3JtRGF0YTtuLmFwcGVuZCgiZmlsZSIsZS5ibG9iKCksZS5maWxlbmFtZSgpKSxpLnNlbmQobil9LGM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dXJsOnQsYmxvYkluZm86ZSxzdGF0dXM6ITB9fSxsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm57dXJsOiIiLGJsb2JJbmZvOmUsc3RhdHVzOiExLGVycm9yOnttZXNzYWdlOnQsb3B0aW9uczpufX19LGY9ZnVuY3Rpb24oZSx0KXtrdC5lYWNoKG9bZV0sZnVuY3Rpb24oZSl7ZSh0KX0pLGRlbGV0ZSBvW2VdfSxyPWZ1bmN0aW9uKGUscil7cmV0dXJuIGU9a3QuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiF1LmlzVXBsb2FkZWQoZS5ibG9iVXJpKCkpfSksQnIuYWxsKGt0Lm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybiB1LmlzUGVuZGluZyhlLmJsb2JVcmkoKSk/KHQ9ZS5ibG9iVXJpKCksbmV3IEJyKGZ1bmN0aW9uKGUpe29bdF09b1t0XXx8W10sb1t0XS5wdXNoKGUpfSkpOihpPWUsbj1zLmhhbmRsZXIsYT1yLHUubWFya1BlbmRpbmcoaS5ibG9iVXJpKCkpLG5ldyBCcihmdW5jdGlvbihyKXt2YXIgdDt0cnl7dmFyIG89ZnVuY3Rpb24oKXt0JiZ0LmNsb3NlKCl9O24oaSxmdW5jdGlvbihlKXtvKCksdS5tYXJrVXBsb2FkZWQoaS5ibG9iVXJpKCksZSksZihpLmJsb2JVcmkoKSxjKGksZSkpLHIoYyhpLGUpKX0sZnVuY3Rpb24oZSx0KXt2YXIgbj10fHx7fTtvKCksdS5yZW1vdmVGYWlsZWQoaS5ibG9iVXJpKCkpLGYoaS5ibG9iVXJpKCksbChpLGUsbikpLHIobChpLGUsbikpfSxmdW5jdGlvbihlKXtlPDB8fDEwMDxlfHwodD10fHxhKCkpLnByb2dyZXNzQmFyLnZhbHVlKGUpfSl9Y2F0Y2goZSl7cihsKGksZS5tZXNzYWdlLHt9KSl9fSkpO3ZhciBpLG4sYSx0fSkpfTtyZXR1cm4hMT09PVQocy5oYW5kbGVyKSYmKHMuaGFuZGxlcj1uKSx7dXBsb2FkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMudXJsfHxzLmhhbmRsZXIhPT1uP3IoZSx0KTpuZXcgQnIoZnVuY3Rpb24oZSl7ZShbXSl9KX19fXZhciBoYj0wLHZiPWZ1bmN0aW9uKGUpe3JldHVybiBlK2hiKysrKHQ9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCg0Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KX0sInMiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKDM2KSt0KCkrdCgpK3QoKSk7dmFyIHR9LHliPWZ1bmN0aW9uKHMpe3ZhciBuLGksZSx0LHIsbyxhLHUsYyxsPShuPVtdLGk9ZnVuY3Rpb24oZSl7aWYoIWUuYmxvYnx8IWUuYmFzZTY0KXRocm93IG5ldyBFcnJvcigiYmxvYiBhbmQgYmFzZTY0IHJlcHJlc2VudGF0aW9ucyBvZiB0aGUgaW1hZ2UgYXJlIHJlcXVpcmVkIGZvciBCbG9iSW5mbyB0byBiZSBjcmVhdGVkIik7dmFyIHQ9ZS5pZHx8dmIoImJsb2JpZCIpLG49ZS5uYW1lfHx0LHI9ZS5ibG9iO3JldHVybntpZDpFKHQpLG5hbWU6RShuKSxmaWxlbmFtZTpFKGUuZmlsZW5hbWV8fG4rIi4iKyh7ImltYWdlL2pwZWciOiJqcGciLCJpbWFnZS9qcGciOiJqcGciLCJpbWFnZS9naWYiOiJnaWYiLCJpbWFnZS9wbmciOiJwbmciLCJpbWFnZS9hcG5nIjoiYXBuZyIsImltYWdlL2F2aWYiOiJhdmlmIiwiaW1hZ2Uvc3ZnK3htbCI6InN2ZyIsImltYWdlL3dlYnAiOiJ3ZWJwIiwiaW1hZ2UvYm1wIjoiYm1wIiwiaW1hZ2UvdGlmZiI6InRpZmYifVtyLnR5cGUudG9Mb3dlckNhc2UoKV18fCJkYXQiKSksYmxvYjpFKHIpLGJhc2U2NDpFKGUuYmFzZTY0KSxibG9iVXJpOkUoZS5ibG9iVXJpfHxVUkwuY3JlYXRlT2JqZWN0VVJMKHIpKSx1cmk6RShlLnVyaSl9fSx7Y3JlYXRlOmZ1bmN0aW9uKGUsdCxuLHIsbyl7aWYocShlKSlyZXR1cm4gaSh7aWQ6ZSxuYW1lOnIsZmlsZW5hbWU6byxibG9iOnQsYmFzZTY0Om59KTtpZihfKGUpKXJldHVybiBpKGUpO3Rocm93IG5ldyBFcnJvcigiVW5rbm93biBpbnB1dCB0eXBlIil9LGFkZDpmdW5jdGlvbihlKXt0KGUuaWQoKSl8fG4ucHVzaChlKX0sZ2V0OnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQoKT09PXR9KX0sZ2V0QnlVcmk6ZnVuY3Rpb24odCl7cmV0dXJuIGUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmxvYlVyaSgpPT09dH0pfSxnZXRCeURhdGE6ZnVuY3Rpb24odCxuKXtyZXR1cm4gZShmdW5jdGlvbihlKXtyZXR1cm4gZS5iYXNlNjQoKT09PXQmJmUuYmxvYigpLnR5cGU9PT1ufSl9LGZpbmRGaXJzdDplPWZ1bmN0aW9uKGUpe3JldHVybiBZKG4sZSkuZ2V0T3JVbmRlZmluZWQoKX0scmVtb3ZlQnlVcmk6ZnVuY3Rpb24odCl7bj1IKG4sZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmxvYlVyaSgpIT09dHx8KFVSTC5yZXZva2VPYmplY3RVUkwoZS5ibG9iVXJpKCkpLCExKX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7VyhuLGZ1bmN0aW9uKGUpe1VSTC5yZXZva2VPYmplY3RVUkwoZS5ibG9iVXJpKCkpfSksbj1bXX19KSxmPShhPXt9LHU9ZnVuY3Rpb24oZSx0KXtyZXR1cm57c3RhdHVzOmUscmVzdWx0VXJpOnR9fSx7aGFzQmxvYlVyaTpjPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluIGF9LGdldFJlc3VsdFVyaTpmdW5jdGlvbihlKXt2YXIgdD1hW2VdO3JldHVybiB0P3QucmVzdWx0VXJpOm51bGx9LGlzUGVuZGluZzpmdW5jdGlvbihlKXtyZXR1cm4hIWMoZSkmJjE9PT1hW2VdLnN0YXR1c30saXNVcGxvYWRlZDpmdW5jdGlvbihlKXtyZXR1cm4hIWMoZSkmJjI9PT1hW2VdLnN0YXR1c30sbWFya1BlbmRpbmc6ZnVuY3Rpb24oZSl7YVtlXT11KDEsbnVsbCl9LG1hcmtVcGxvYWRlZDpmdW5jdGlvbihlLHQpe2FbZV09dSgyLHQpfSxyZW1vdmVGYWlsZWQ6ZnVuY3Rpb24oZSl7ZGVsZXRlIGFbZV19LGRlc3Ryb3k6ZnVuY3Rpb24oKXthPXt9fX0pLGQ9W10sbT1mdW5jdGlvbihuKXt2YXIgcj1PdShudWxsKTtuLm9uKCJjaGFuZ2UgQWRkVW5kbyIsZnVuY3Rpb24oZSl7ci5zZXQoa2Uoe30sZS5sZXZlbCkpfSk7cmV0dXJue2ZpcmVJZkNoYW5nZWQ6ZnVuY3Rpb24oKXt2YXIgdD1uLnVuZG9NYW5hZ2VyLmRhdGE7cmUodCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFCdihyLmdldCgpLGUpfSkuZWFjaChmdW5jdGlvbihlKXtuLnNldERpcnR5KCEwKSxuLmZpcmUoImNoYW5nZSIse2xldmVsOmUsbGFzdExldmVsOnRlKHQsdC5sZW5ndGgtMikuZ2V0T3JOdWxsKCl9KX0pfX19KHMpLHA9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBzLnNlbGVjdGlvbj90KGUpOltdfX0sZz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTA7LTEhPT0ocj1lLmluZGV4T2YodCxyKSkmJihlPWUuc3Vic3RyaW5nKDAscikrbitlLnN1YnN0cihyK3QubGVuZ3RoKSxyKz1uLmxlbmd0aC10Lmxlbmd0aCsxKSwtMSE9PXI7KTtyZXR1cm4gZX0saD1mdW5jdGlvbihlLHQsbil7dmFyIHI9J3NyYz0iJytuKyciJysobj09PXd0LnRyYW5zcGFyZW50U3JjPycgZGF0YS1tY2UtcGxhY2Vob2xkZXI9IjEiJzoiIik7cmV0dXJuIGU9ZyhlLCdzcmM9IicrdCsnIicsciksZT1nKGUsJ2RhdGEtbWNlLXNyYz0iJyt0KyciJywnZGF0YS1tY2Utc3JjPSInK24rJyInKX0sdj1mdW5jdGlvbih0LG4pe1cocy51bmRvTWFuYWdlci5kYXRhLGZ1bmN0aW9uKGUpeyJmcmFnbWVudGVkIj09PWUudHlwZT9lLmZyYWdtZW50cz16KGUuZnJhZ21lbnRzLGZ1bmN0aW9uKGUpe3JldHVybiBoKGUsdCxuKX0pOmUuY29udGVudD1oKGUuY29udGVudCx0LG4pfSl9LHk9ZnVuY3Rpb24oKXtyZXR1cm4gcy5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oe3RleHQ6cy50cmFuc2xhdGUoIkltYWdlIHVwbG9hZGluZy4uLiIpLHR5cGU6ImluZm8iLHRpbWVvdXQ6LTEscHJvZ3Jlc3NCYXI6ITB9KX0sYj1mdW5jdGlvbihlLHQpe3ZhciBuLHI9cy5jb252ZXJ0VVJMKHQsInNyYyIpO3YoZS5zcmMsdCkscy4kKGUpLmF0dHIoe3NyYzpzLmdldFBhcmFtKCJpbWFnZXNfcmV1c2VfZmlsZW5hbWUiLCExLCJib29sZWFuIik/KG49dCkrKC0xPT09bi5pbmRleE9mKCI/Iik/Ij8iOiImIikrKG5ldyBEYXRlKS5nZXRUaW1lKCk6dCwiZGF0YS1tY2Utc3JjIjpyfSl9LEM9ZnVuY3Rpb24obil7cmV0dXJuIHI9cnx8Z2IoZix7dXJsOnMuZ2V0UGFyYW0oImltYWdlc191cGxvYWRfdXJsIiwiIiwic3RyaW5nIiksYmFzZVBhdGg6cy5nZXRQYXJhbSgiaW1hZ2VzX3VwbG9hZF9iYXNlX3BhdGgiLCIiLCJzdHJpbmciKSxjcmVkZW50aWFsczpzLmdldFBhcmFtKCJpbWFnZXNfdXBsb2FkX2NyZWRlbnRpYWxzIiwhMSwiYm9vbGVhbiIpLGhhbmRsZXI6cy5nZXRQYXJhbSgiaW1hZ2VzX3VwbG9hZF9oYW5kbGVyIixudWxsLCJmdW5jdGlvbiIpfSksUygpLnRoZW4ocChmdW5jdGlvbih1KXt2YXIgZT16KHUsZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmxvYkluZm99KTtyZXR1cm4gci51cGxvYWQoZSx5KS50aGVuKHAoZnVuY3Rpb24oZSl7dmFyIGE9W10sdD16KGUsZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89dVt0XS5ibG9iSW5mbyxpPXVbdF0uaW1hZ2U7cmV0dXJuIGUuc3RhdHVzJiZzLmdldFBhcmFtKCJpbWFnZXNfcmVwbGFjZV9ibG9iX3VyaXMiLCEwLCJib29sZWFuIik/KGwucmVtb3ZlQnlVcmkoaS5zcmMpLGIoaSxlLnVybCkpOmUuZXJyb3ImJihlLmVycm9yLm9wdGlvbnMucmVtb3ZlJiYodihpLmdldEF0dHJpYnV0ZSgic3JjIiksd3QudHJhbnNwYXJlbnRTcmMpLGEucHVzaChpKSksbj1zLHI9ZS5lcnJvci5tZXNzYWdlLGNiKG4sSXUudHJhbnNsYXRlKFsiRmFpbGVkIHRvIHVwbG9hZCBpbWFnZTogezB9IixyXSkpKSx7ZWxlbWVudDppLHN0YXR1czplLnN0YXR1cyx1cGxvYWRVcmk6ZS51cmwsYmxvYkluZm86b319KTtyZXR1cm4gMDx0Lmxlbmd0aCYmbS5maXJlSWZDaGFuZ2VkKCksMDxhLmxlbmd0aCYmKEh2KHMpP2NvbnNvbGUuZXJyb3IoIlJlbW92aW5nIGltYWdlcyBvbiBmYWlsZWQgdXBsb2FkcyBpcyBjdXJyZW50bHkgdW5zdXBwb3J0ZWQgZm9yIFJUQyIpOnMudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXtXKGEsZnVuY3Rpb24oZSl7cy5kb20ucmVtb3ZlKGUpLGwucmVtb3ZlQnlVcmkoZS5zcmMpfSl9KSksbiYmbih0KSx0fSkpfSkpfSx3PWZ1bmN0aW9uKGUpe2lmKGJjKHMpKXJldHVybiBDKGUpfSx4PWZ1bmN0aW9uKHQpe3JldHVybiExIT09UShkLGZ1bmN0aW9uKGUpe3JldHVybiBlKHQpfSkmJigwIT09dC5nZXRBdHRyaWJ1dGUoInNyYyIpLmluZGV4T2YoImRhdGE6Iil8fHMuZ2V0UGFyYW0oImltYWdlc19kYXRhaW1nX2ZpbHRlciIsaywiZnVuY3Rpb24iKSh0KSl9LFM9ZnVuY3Rpb24oKXtyZXR1cm4obz1vfHx1eShmLGwpKS5maW5kQWxsKHMuZ2V0Qm9keSgpLHgpLnRoZW4ocChmdW5jdGlvbihlKXtyZXR1cm4gZT1IKGUsZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlfHwoY2IocyxlKSwhMSl9KSxXKGUsZnVuY3Rpb24oZSl7dihlLmltYWdlLnNyYyxlLmJsb2JJbmZvLmJsb2JVcmkoKSksZS5pbWFnZS5zcmM9ZS5ibG9iSW5mby5ibG9iVXJpKCksZS5pbWFnZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNyYyIpfSksZX0pKX0sTj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9zcmM9IihibG9iOlteIl0rKSIvZyxmdW5jdGlvbihlLG4pe3ZhciB0PWYuZ2V0UmVzdWx0VXJpKG4pO2lmKHQpcmV0dXJuJ3NyYz0iJyt0KyciJzt2YXIgcj1sLmdldEJ5VXJpKG4pO3JldHVybihyPXJ8fFgocy5lZGl0b3JNYW5hZ2VyLmdldCgpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV8fHQuZWRpdG9yVXBsb2FkJiZ0LmVkaXRvclVwbG9hZC5ibG9iQ2FjaGUuZ2V0QnlVcmkobil9LG51bGwpKT8nc3JjPSJkYXRhOicrci5ibG9iKCkudHlwZSsiO2Jhc2U2NCwiK3IuYmFzZTY0KCkrJyInOmV9KX07cmV0dXJuIHMub24oIlNldENvbnRlbnQiLGZ1bmN0aW9uKCl7KGJjKHMpP3c6UykoKX0pLHMub24oIlJhd1NhdmVDb250ZW50IixmdW5jdGlvbihlKXtlLmNvbnRlbnQ9TihlLmNvbnRlbnQpfSkscy5vbigiR2V0Q29udGVudCIsZnVuY3Rpb24oZSl7ZS5zb3VyY2Vfdmlld3x8InJhdyI9PT1lLmZvcm1hdHx8InRyZWUiPT09ZS5mb3JtYXR8fChlLmNvbnRlbnQ9TihlLmNvbnRlbnQpKX0pLHMub24oIlBvc3RSZW5kZXIiLGZ1bmN0aW9uKCl7cy5wYXJzZXIuYWRkTm9kZUZpbHRlcigiaW1nIixmdW5jdGlvbihlKXtXKGUsZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmF0dHIoInNyYyIpO2wuZ2V0QnlVcmkobil8fCh0PWYuZ2V0UmVzdWx0VXJpKG4pKSYmZS5hdHRyKCJzcmMiLHQpfSl9KX0pLHtibG9iQ2FjaGU6bCxhZGRGaWx0ZXI6ZnVuY3Rpb24oZSl7ZC5wdXNoKGUpfSx1cGxvYWRJbWFnZXM6Qyx1cGxvYWRJbWFnZXNBdXRvOncsc2NhbkZvckltYWdlczpTLGRlc3Ryb3k6ZnVuY3Rpb24oKXtsLmRlc3Ryb3koKSxmLmRlc3Ryb3koKSxvPXI9bnVsbH19fTtmdW5jdGlvbiBiYihlKXt2YXIgcix0LG49e30sbz1mdW5jdGlvbihlLHQpe2UmJigic3RyaW5nIiE9dHlwZW9mIGU/a3QuZWFjaChlLGZ1bmN0aW9uKGUsdCl7byh0LGUpfSk6KFModCl8fCh0PVt0XSksa3QuZWFjaCh0LGZ1bmN0aW9uKGUpeyJ1bmRlZmluZWQiPT10eXBlb2YgZS5kZWVwJiYoZS5kZWVwPSFlLnNlbGVjdG9yKSwidW5kZWZpbmVkIj09dHlwZW9mIGUuc3BsaXQmJihlLnNwbGl0PSFlLnNlbGVjdG9yfHxlLmlubGluZSksInVuZGVmaW5lZCI9PXR5cGVvZiBlLnJlbW92ZSYmZS5zZWxlY3RvciYmIWUuaW5saW5lJiYoZS5yZW1vdmU9Im5vbmUiKSxlLnNlbGVjdG9yJiZlLmlubGluZSYmKGUubWl4ZWQ9ITAsZS5ibG9ja19leHBhbmQ9ITApLCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc2VzJiYoZS5jbGFzc2VzPWUuY2xhc3Nlcy5zcGxpdCgvXHMrLykpfSksbltlXT10KSl9O3JldHVybiBvKChyPWUuZG9tLHQ9e3ZhbGlnbnRvcDpbe3NlbGVjdG9yOiJ0ZCx0aCIsc3R5bGVzOnt2ZXJ0aWNhbEFsaWduOiJ0b3AifX1dLHZhbGlnbm1pZGRsZTpbe3NlbGVjdG9yOiJ0ZCx0aCIsc3R5bGVzOnt2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifX1dLHZhbGlnbmJvdHRvbTpbe3NlbGVjdG9yOiJ0ZCx0aCIsc3R5bGVzOnt2ZXJ0aWNhbEFsaWduOiJib3R0b20ifX1dLGFsaWdubGVmdDpbe3NlbGVjdG9yOiJmaWd1cmUuaW1hZ2UiLGNvbGxhcHNlZDohMSxjbGFzc2VzOiJhbGlnbi1sZWZ0IixjZUZhbHNlT3ZlcnJpZGU6ITAscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn0se3NlbGVjdG9yOiJmaWd1cmUscCxoMSxoMixoMyxoNCxoNSxoNix0ZCx0aCx0cixkaXYsdWwsb2wsbGkiLHN0eWxlczp7dGV4dEFsaWduOiJsZWZ0In0saW5oZXJpdDohMSxwcmV2aWV3OiExLGRlZmF1bHRCbG9jazoiZGl2In0se3NlbGVjdG9yOiJpbWcsdGFibGUiLGNvbGxhcHNlZDohMSxzdHlsZXM6eyJmbG9hdCI6ImxlZnQifSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifV0sYWxpZ25jZW50ZXI6W3tzZWxlY3RvcjoiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIixzdHlsZXM6e3RleHRBbGlnbjoiY2VudGVyIn0saW5oZXJpdDohMSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUiLGRlZmF1bHRCbG9jazoiZGl2In0se3NlbGVjdG9yOiJmaWd1cmUuaW1hZ2UiLGNvbGxhcHNlZDohMSxjbGFzc2VzOiJhbGlnbi1jZW50ZXIiLGNlRmFsc2VPdmVycmlkZTohMCxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifSx7c2VsZWN0b3I6ImltZyIsY29sbGFwc2VkOiExLHN0eWxlczp7ZGlzcGxheToiYmxvY2siLG1hcmdpbkxlZnQ6ImF1dG8iLG1hcmdpblJpZ2h0OiJhdXRvIn0scHJldmlldzohMX0se3NlbGVjdG9yOiJ0YWJsZSIsY29sbGFwc2VkOiExLHN0eWxlczp7bWFyZ2luTGVmdDoiYXV0byIsbWFyZ2luUmlnaHQ6ImF1dG8ifSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifV0sYWxpZ25yaWdodDpbe3NlbGVjdG9yOiJmaWd1cmUuaW1hZ2UiLGNvbGxhcHNlZDohMSxjbGFzc2VzOiJhbGlnbi1yaWdodCIsY2VGYWxzZU92ZXJyaWRlOiEwLHByZXZpZXc6ImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSJ9LHtzZWxlY3RvcjoiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIixzdHlsZXM6e3RleHRBbGlnbjoicmlnaHQifSxpbmhlcml0OiExLHByZXZpZXc6ImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSIsZGVmYXVsdEJsb2NrOiJkaXYifSx7c2VsZWN0b3I6ImltZyx0YWJsZSIsY29sbGFwc2VkOiExLHN0eWxlczp7ImZsb2F0IjoicmlnaHQifSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifV0sYWxpZ25qdXN0aWZ5Olt7c2VsZWN0b3I6ImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsc3R5bGVzOnt0ZXh0QWxpZ246Imp1c3RpZnkifSxpbmhlcml0OiExLGRlZmF1bHRCbG9jazoiZGl2IixwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifV0sYm9sZDpbe2lubGluZToic3Ryb25nIixyZW1vdmU6ImFsbCIscHJlc2VydmVfYXR0cmlidXRlczpbImNsYXNzIiwic3R5bGUiXX0se2lubGluZToic3BhbiIsc3R5bGVzOntmb250V2VpZ2h0OiJib2xkIn19LHtpbmxpbmU6ImIiLHJlbW92ZToiYWxsIixwcmVzZXJ2ZV9hdHRyaWJ1dGVzOlsiY2xhc3MiLCJzdHlsZSJdfV0saXRhbGljOlt7aW5saW5lOiJlbSIscmVtb3ZlOiJhbGwiLHByZXNlcnZlX2F0dHJpYnV0ZXM6WyJjbGFzcyIsInN0eWxlIl19LHtpbmxpbmU6InNwYW4iLHN0eWxlczp7Zm9udFN0eWxlOiJpdGFsaWMifX0se2lubGluZToiaSIscmVtb3ZlOiJhbGwiLHByZXNlcnZlX2F0dHJpYnV0ZXM6WyJjbGFzcyIsInN0eWxlIl19XSx1bmRlcmxpbmU6W3tpbmxpbmU6InNwYW4iLHN0eWxlczp7dGV4dERlY29yYXRpb246InVuZGVybGluZSJ9LGV4YWN0OiEwfSx7aW5saW5lOiJ1IixyZW1vdmU6ImFsbCIscHJlc2VydmVfYXR0cmlidXRlczpbImNsYXNzIiwic3R5bGUiXX1dLHN0cmlrZXRocm91Z2g6W3tpbmxpbmU6InNwYW4iLHN0eWxlczp7dGV4dERlY29yYXRpb246ImxpbmUtdGhyb3VnaCJ9LGV4YWN0OiEwfSx7aW5saW5lOiJzdHJpa2UiLHJlbW92ZToiYWxsIixwcmVzZXJ2ZV9hdHRyaWJ1dGVzOlsiY2xhc3MiLCJzdHlsZSJdfSx7aW5saW5lOiJzIixyZW1vdmU6ImFsbCIscHJlc2VydmVfYXR0cmlidXRlczpbImNsYXNzIiwic3R5bGUiXX1dLGZvcmVjb2xvcjp7aW5saW5lOiJzcGFuIixzdHlsZXM6e2NvbG9yOiIldmFsdWUifSxsaW5rczohMCxyZW1vdmVfc2ltaWxhcjohMCxjbGVhcl9jaGlsZF9zdHlsZXM6ITB9LGhpbGl0ZWNvbG9yOntpbmxpbmU6InNwYW4iLHN0eWxlczp7YmFja2dyb3VuZENvbG9yOiIldmFsdWUifSxsaW5rczohMCxyZW1vdmVfc2ltaWxhcjohMCxjbGVhcl9jaGlsZF9zdHlsZXM6ITB9LGZvbnRuYW1lOntpbmxpbmU6InNwYW4iLHRvZ2dsZTohMSxzdHlsZXM6e2ZvbnRGYW1pbHk6IiV2YWx1ZSJ9LGNsZWFyX2NoaWxkX3N0eWxlczohMH0sZm9udHNpemU6e2lubGluZToic3BhbiIsdG9nZ2xlOiExLHN0eWxlczp7Zm9udFNpemU6IiV2YWx1ZSJ9LGNsZWFyX2NoaWxkX3N0eWxlczohMH0sbGluZWhlaWdodDp7c2VsZWN0b3I6ImgxLGgyLGgzLGg0LGg1LGg2LHAsbGksdGQsdGgsZGl2IixkZWZhdWx0QmxvY2s6InAiLHN0eWxlczp7bGluZUhlaWdodDoiJXZhbHVlIn19LGZvbnRzaXplX2NsYXNzOntpbmxpbmU6InNwYW4iLGF0dHJpYnV0ZXM6eyJjbGFzcyI6IiV2YWx1ZSJ9fSxibG9ja3F1b3RlOntibG9jazoiYmxvY2txdW90ZSIsd3JhcHBlcjohMCxyZW1vdmU6ImFsbCJ9LHN1YnNjcmlwdDp7aW5saW5lOiJzdWIifSxzdXBlcnNjcmlwdDp7aW5saW5lOiJzdXAifSxjb2RlOntpbmxpbmU6ImNvZGUifSxsaW5rOntpbmxpbmU6ImEiLHNlbGVjdG9yOiJhIixyZW1vdmU6ImFsbCIsc3BsaXQ6ITAsZGVlcDohMCxvbm1hdGNoOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gQW4oZSkmJmUuaGFzQXR0cmlidXRlKCJocmVmIil9LG9uZm9ybWF0OmZ1bmN0aW9uKG4sZSx0KXtrdC5lYWNoKHQsZnVuY3Rpb24oZSx0KXtyLnNldEF0dHJpYihuLHQsZSl9KX19LHJlbW92ZWZvcm1hdDpbe3NlbGVjdG9yOiJiLHN0cm9uZyxlbSxpLGZvbnQsdSxzdHJpa2UscyxzdWIsc3VwLGRmbixjb2RlLHNhbXAsa2JkLHZhcixjaXRlLG1hcmsscSxkZWwsaW5zIixyZW1vdmU6ImFsbCIsc3BsaXQ6ITAsZXhwYW5kOiExLGJsb2NrX2V4cGFuZDohMCxkZWVwOiEwfSx7c2VsZWN0b3I6InNwYW4iLGF0dHJpYnV0ZXM6WyJzdHlsZSIsImNsYXNzIl0scmVtb3ZlOiJlbXB0eSIsc3BsaXQ6ITAsZXhwYW5kOiExLGRlZXA6ITB9LHtzZWxlY3RvcjoiKiIsYXR0cmlidXRlczpbInN0eWxlIiwiY2xhc3MiXSxzcGxpdDohMSxleHBhbmQ6ITEsZGVlcDohMH1dfSxrdC5lYWNoKCJwIGgxIGgyIGgzIGg0IGg1IGg2IGRpdiBhZGRyZXNzIHByZSBkaXYgZHQgZGQgc2FtcCIuc3BsaXQoL1xzLyksZnVuY3Rpb24oZSl7dFtlXT17YmxvY2s6ZSxyZW1vdmU6ImFsbCJ9fSksdCkpLG8oZS5nZXRQYXJhbSgiZm9ybWF0cyIpKSx7Z2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlP25bZV06bn0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBoZShuLGUpfSxyZWdpc3RlcjpvLHVucmVnaXN0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJm5bZV0mJmRlbGV0ZSBuW2VdLG59fX12YXIgQ2Isd2IseGI9a3QuZWFjaCxTYj1FdS5ET00sTmI9ZnVuY3Rpb24oZSx0KXt2YXIgbixvLHIsbT10JiZ0LnNjaGVtYXx8Q2koe30pLHA9ZnVuY3Rpb24oZSl7bz0ic3RyaW5nIj09dHlwZW9mIGU/e25hbWU6ZSxjbGFzc2VzOltdLGF0dHJzOnt9fTplO3ZhciB0LG4scj1TYi5jcmVhdGUoby5uYW1lKTtyZXR1cm4gdD1yLChuPW8pLmNsYXNzZXMubGVuZ3RoJiZTYi5hZGRDbGFzcyh0LG4uY2xhc3Nlcy5qb2luKCIgIikpLFNiLnNldEF0dHJpYnModCxuLmF0dHJzKSxyfSxnPWZ1bmN0aW9uKG4sZSx0KXt2YXIgcixvLGksYSx1LHMsYyxsPTA8ZS5sZW5ndGgmJmVbMF0sZj1sJiZsLm5hbWUsZD0oYT1mLHU9InN0cmluZyIhPXR5cGVvZihpPW4pP2kubm9kZU5hbWUudG9Mb3dlckNhc2UoKTppLHM9bS5nZXRFbGVtZW50UnVsZSh1KSwhKCEoYz1zJiZzLnBhcmVudHNSZXF1aXJlZCl8fCFjLmxlbmd0aCkmJihhJiYtMSE9PWt0LmluQXJyYXkoYyxhKT9hOmNbMF0pKTtpZihkKWY9PT1kPyhvPWVbMF0sZT1lLnNsaWNlKDEpKTpvPWQ7ZWxzZSBpZihsKW89ZVswXSxlPWUuc2xpY2UoMSk7ZWxzZSBpZighdClyZXR1cm4gbjtyZXR1cm4gbyYmKHI9cChvKSkuYXBwZW5kQ2hpbGQobiksdCYmKHJ8fChyPVNiLmNyZWF0ZSgiZGl2IikpLmFwcGVuZENoaWxkKG4pLGt0LmVhY2godCxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO3IuaW5zZXJ0QmVmb3JlKHQsbil9KSksZyhyLGUsbyYmby5zaWJsaW5ncyl9O3JldHVybiBlJiZlLmxlbmd0aD8obz1lWzBdLG49cChvKSwocj1TYi5jcmVhdGUoImRpdiIpKS5hcHBlbmRDaGlsZChnKG4sZS5zbGljZSgxKSxvLnNpYmxpbmdzKSkscik6IiJ9LEViPWZ1bmN0aW9uKGUpe3ZhciB0LGE9e2NsYXNzZXM6W10sYXR0cnM6e319O3JldHVybiIqIiE9PShlPWEuc2VsZWN0b3I9a3QudHJpbShlKSkmJih0PWUucmVwbGFjZSgvKD86KFsjXC5dfDo6PykoW1x3XC1dKyl8KFxbKShbXlxdXSspXF0/KS9nLGZ1bmN0aW9uKGUsdCxuLHIsbyl7c3dpdGNoKHQpe2Nhc2UiIyI6YS5hdHRycy5pZD1uO2JyZWFrO2Nhc2UiLiI6YS5jbGFzc2VzLnB1c2gobik7YnJlYWs7Y2FzZSI6IjotMSE9PWt0LmluQXJyYXkoImNoZWNrZWQgZGlzYWJsZWQgZW5hYmxlZCByZWFkLW9ubHkgcmVxdWlyZWQiLnNwbGl0KCIgIiksbikmJihhLmF0dHJzW25dPW4pfXZhciBpO3JldHVybiJbIiE9PXJ8fChpPW8ubWF0Y2goLyhbXHdcLV0rKSg/Olw9XCIoW15cIl0rKSk/LykpJiYoYS5hdHRyc1tpWzFdXT1pWzJdKSwiIn0pKSxhLm5hbWU9dHx8ImRpdiIsYX0sa2I9ZnVuY3Rpb24obixlKXt2YXIgdCxyLG8saT0iIixhPShvPW4uZ2V0UGFyYW0oInByZXZpZXdfc3R5bGVzIiwiZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtd2VpZ2h0IGZvbnQtc3R5bGUgdGV4dC1kZWNvcmF0aW9uIHRleHQtdHJhbnNmb3JtIGNvbG9yIGJhY2tncm91bmQtY29sb3IgYm9yZGVyIGJvcmRlci1yYWRpdXMgb3V0bGluZSB0ZXh0LXNoYWRvdyIpLHEobyk/bzoiIik7aWYoIiI9PT1hKXJldHVybiIiO3ZhciB1PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyUoXHcrKS9nLCIiKX07aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZighKGU9bi5mb3JtYXR0ZXIuZ2V0KGUpKSlyZXR1cm47ZT1lWzBdfWlmKCJwcmV2aWV3ImluIGUpe3ZhciBzPWdlKGUsInByZXZpZXciKTtpZihzLmlzKCExKSlyZXR1cm4iIjthPXMuZ2V0T3IoYSl9dD1lLmJsb2NrfHxlLmlubGluZXx8InNwYW4iO3ZhciBjLGw9KGM9ZS5zZWxlY3RvcikmJiJzdHJpbmciPT10eXBlb2YgYz8oYz0oYz1jLnNwbGl0KC9ccyosXHMqLylbMF0pLnJlcGxhY2UoL1xzKih+XCt8fnxcK3w+KVxzKi9nLCIkMSIpLGt0Lm1hcChjLnNwbGl0KC8oPzo+fFxzKyg/IVteXFtcXV0rXF0pKS8pLGZ1bmN0aW9uKGUpe3ZhciB0PWt0Lm1hcChlLnNwbGl0KC8oPzp+XCt8fnxcKykvKSxFYiksbj10LnBvcCgpO3JldHVybiB0Lmxlbmd0aCYmKG4uc2libGluZ3M9dCksbn0pLnJldmVyc2UoKSk6W10sZj1sLmxlbmd0aD8obFswXS5uYW1lfHwobFswXS5uYW1lPXQpLHQ9ZS5zZWxlY3RvcixOYihsLG4pKTpOYihbdF0sbiksZD1TYi5zZWxlY3QodCxmKVswXXx8Zi5maXJzdENoaWxkO3JldHVybiB4YihlLnN0eWxlcyxmdW5jdGlvbihlLHQpe3ZhciBuPXUoZSk7biYmU2Iuc2V0U3R5bGUoZCx0LG4pfSkseGIoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsdCl7dmFyIG49dShlKTtuJiZTYi5zZXRBdHRyaWIoZCx0LG4pfSkseGIoZS5jbGFzc2VzLGZ1bmN0aW9uKGUpe3ZhciB0PXUoZSk7U2IuaGFzQ2xhc3MoZCx0KXx8U2IuYWRkQ2xhc3MoZCx0KX0pLG4uZmlyZSgiUHJldmlld0Zvcm1hdHMiKSxTYi5zZXRTdHlsZXMoZix7cG9zaXRpb246ImFic29sdXRlIixsZWZ0Oi02NTUzNX0pLG4uZ2V0Qm9keSgpLmFwcGVuZENoaWxkKGYpLHI9U2IuZ2V0U3R5bGUobi5nZXRCb2R5KCksImZvbnRTaXplIiwhMCkscj0vcHgkLy50ZXN0KHIpP3BhcnNlSW50KHIsMTApOjAseGIoYS5zcGxpdCgiICIpLGZ1bmN0aW9uKGUpe3ZhciB0PVNiLmdldFN0eWxlKGQsZSwhMCk7aWYoISgiYmFja2dyb3VuZC1jb2xvciI9PT1lJiYvdHJhbnNwYXJlbnR8cmdiYVxzKlwoW14pXSssXHMqMFwpLy50ZXN0KHQpJiYodD1TYi5nZXRTdHlsZShuLmdldEJvZHkoKSxlLCEwKSwiI2ZmZmZmZiI9PT1TYi50b0hleCh0KS50b0xvd2VyQ2FzZSgpKXx8ImNvbG9yIj09PWUmJiIjMDAwMDAwIj09PVNiLnRvSGV4KHQpLnRvTG93ZXJDYXNlKCkpKXtpZigiZm9udC1zaXplIj09PWUmJi9lbXwlJC8udGVzdCh0KSl7aWYoMD09PXIpcmV0dXJuO3Q9cGFyc2VGbG9hdCh0KS8oLyUkLy50ZXN0KHQpPzEwMDoxKSpyKyJweCJ9ImJvcmRlciI9PT1lJiZ0JiYoaSs9InBhZGRpbmc6MCAycHg7IiksaSs9ZSsiOiIrdCsiOyJ9fSksbi5maXJlKCJBZnRlclByZXZpZXdGb3JtYXRzIiksU2IucmVtb3ZlKGYpLGl9LF9iPWZ1bmN0aW9uKHMpe3ZhciBlPWJiKHMpLHU9T3UobnVsbCk7cmV0dXJuIGZ1bmN0aW9uKGUpe2UuYWRkU2hvcnRjdXQoIm1ldGErYiIsIiIsIkJvbGQiKSxlLmFkZFNob3J0Y3V0KCJtZXRhK2kiLCIiLCJJdGFsaWMiKSxlLmFkZFNob3J0Y3V0KCJtZXRhK3UiLCIiLCJVbmRlcmxpbmUiKTtmb3IodmFyIHQ9MTt0PD02O3QrKyllLmFkZFNob3J0Y3V0KCJhY2Nlc3MrIit0LCIiLFsiRm9ybWF0QmxvY2siLCExLCJoIit0XSk7ZS5hZGRTaG9ydGN1dCgiYWNjZXNzKzciLCIiLFsiRm9ybWF0QmxvY2siLCExLCJwIl0pLGUuYWRkU2hvcnRjdXQoImFjY2Vzcys4IiwiIixbIkZvcm1hdEJsb2NrIiwhMSwiZGl2Il0pLGUuYWRkU2hvcnRjdXQoImFjY2Vzcys5IiwiIixbIkZvcm1hdEJsb2NrIiwhMSwiYWRkcmVzcyJdKX0ocyksU2gocykse2dldDplLmdldCxoYXM6ZS5oYXMscmVnaXN0ZXI6ZS5yZWdpc3Rlcix1bnJlZ2lzdGVyOmUudW5yZWdpc3RlcixhcHBseTpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpO3I9ZSxvPXQsaT1uLHF2KHMpLmZvcm1hdHRlci5hcHBseShyLG8saSl9LHJlbW92ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdTtvPWUsaT10LGE9bix1PXIscXYocykuZm9ybWF0dGVyLnJlbW92ZShvLGksYSx1KX0sdG9nZ2xlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk7cj1lLG89dCxpPW4scXYocykuZm9ybWF0dGVyLnRvZ2dsZShyLG8saSl9LG1hdGNoOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcj1lLG89dCxpPW4scXYocykuZm9ybWF0dGVyLm1hdGNoKHIsbyxpKTt2YXIgcixvLGl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZSxxdihzKS5mb3JtYXR0ZXIuY2xvc2VzdCh0KTt2YXIgdH0sbWF0Y2hBbGw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1lLHI9dCxxdihzKS5mb3JtYXR0ZXIubWF0Y2hBbGwobixyKTt2YXIgbixyfSxtYXRjaE5vZGU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG89ZSxpPXQsYT1uLHU9cixxdihzKS5mb3JtYXR0ZXIubWF0Y2hOb2RlKG8saSxhLHUpO3ZhciBvLGksYSx1fSxjYW5BcHBseTpmdW5jdGlvbihlKXtyZXR1cm4gdD1lLHF2KHMpLmZvcm1hdHRlci5jYW5BcHBseSh0KTt2YXIgdH0sZm9ybWF0Q2hhbmdlZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHI9dSxvPWUsaT10LHZvaWQgMD09PShhPW4pJiYoYT0hMSkscXYocykuZm9ybWF0dGVyLmZvcm1hdENoYW5nZWQocixvLGksYSk7dmFyIHIsbyxpLGF9LGdldENzc1RleHQ6TihrYixzKX19LEFiPWZ1bmN0aW9uKG4scixvKXt2YXIgaT1PdSghMSksYT1mdW5jdGlvbihlKXtMdihyLCExLG8pLHIuYWRkKHt9LGUpfTtuLm9uKCJpbml0IixmdW5jdGlvbigpe3IuYWRkKCl9KSxuLm9uKCJCZWZvcmVFeGVjQ29tbWFuZCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21tYW5kLnRvTG93ZXJDYXNlKCk7InVuZG8iIT09dCYmInJlZG8iIT09dCYmIm1jZXJlcGFpbnQiIT09dCYmKEl2KHIsbyksci5iZWZvcmVDaGFuZ2UoKSl9KSxuLm9uKCJFeGVjQ29tbWFuZCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21tYW5kLnRvTG93ZXJDYXNlKCk7InVuZG8iIT09dCYmInJlZG8iIT09dCYmIm1jZXJlcGFpbnQiIT09dCYmYShlKX0pLG4ub24oIk9iamVjdFJlc2l6ZVN0YXJ0IGN1dCIsZnVuY3Rpb24oKXtyLmJlZm9yZUNoYW5nZSgpfSksbi5vbigiU2F2ZUNvbnRlbnQgT2JqZWN0UmVzaXplZCBibHVyIixhKSxuLm9uKCJkcmFnZW5kIixhKSxuLm9uKCJrZXl1cCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXlDb2RlO2UuaXNEZWZhdWx0UHJldmVudGVkKCl8fCgoMzM8PXQmJnQ8PTM2fHwzNzw9dCYmdDw9NDB8fDQ1PT09dHx8ZS5jdHJsS2V5KSYmKGEoKSxuLm5vZGVDaGFuZ2VkKCkpLDQ2IT09dCYmOCE9PXR8fG4ubm9kZUNoYW5nZWQoKSxpLmdldCgpJiZyLnR5cGluZyYmITE9PT1CdihSdihuKSxyLmRhdGFbMF0pJiYoITE9PT1uLmlzRGlydHkoKSYmKG4uc2V0RGlydHkoITApLG4uZmlyZSgiY2hhbmdlIix7bGV2ZWw6ci5kYXRhWzBdLGxhc3RMZXZlbDpudWxsfSkpLG4uZmlyZSgiVHlwaW5nVW5kbyIpLGkuc2V0KCExKSxuLm5vZGVDaGFuZ2VkKCkpKX0pLG4ub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5rZXlDb2RlO2UuaXNEZWZhdWx0UHJldmVudGVkKCl8fCgzMzw9biYmbjw9MzZ8fDM3PD1uJiZuPD00MHx8NDU9PT1uP3IudHlwaW5nJiZhKGUpOih0PWUuY3RybEtleSYmIWUuYWx0S2V5fHxlLm1ldGFLZXksIShuPDE2fHwyMDxuKXx8MjI0PT09bnx8OTE9PT1ufHxyLnR5cGluZ3x8dHx8KHIuYmVmb3JlQ2hhbmdlKCksTHYociwhMCxvKSxyLmFkZCh7fSxlKSxpLnNldCghMCkpKSl9KSxuLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKGUpe3IudHlwaW5nJiZhKGUpfSk7bi5vbigiaW5wdXQiLGZ1bmN0aW9uKGUpe3ZhciB0LG47ZS5pbnB1dFR5cGUmJigiaW5zZXJ0UmVwbGFjZW1lbnRUZXh0Ij09PWUuaW5wdXRUeXBlfHwiaW5zZXJ0VGV4dCI9PT0obj1lKS5pbnB1dFR5cGUmJm51bGw9PT1uLmRhdGF8fCgiaW5zZXJ0RnJvbVBhc3RlIj09PSh0PWUpLmlucHV0VHlwZXx8Imluc2VydEZyb21Ecm9wIj09PXQuaW5wdXRUeXBlKSkmJmEoZSl9KSxuLm9uKCJBZGRVbmRvIFVuZG8gUmVkbyBDbGVhclVuZG9zIixmdW5jdGlvbihlKXtlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxuLm5vZGVDaGFuZ2VkKCl9KX0sUmI9ZnVuY3Rpb24ocyl7dmFyIGUsYz1PdShVLm5vbmUoKSksbD1PdSgwKSxmPU91KDApLGQ9e2RhdGE6W10sdHlwaW5nOiExLGJlZm9yZUNoYW5nZTpmdW5jdGlvbigpe3ZhciBlLHQ7ZT1sLHQ9YyxxdihzKS51bmRvTWFuYWdlci5iZWZvcmVDaGFuZ2UoZSx0KX0sYWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49ZCxyPWYsbz1sLGk9YyxhPWUsdT10LHF2KHMpLnVuZG9NYW5hZ2VyLmFkZFVuZG9MZXZlbChuLHIsbyxpLGEsdSk7dmFyIG4scixvLGksYSx1fSx1bmRvOmZ1bmN0aW9uKCl7cmV0dXJuIGU9ZCx0PWwsbj1mLHF2KHMpLnVuZG9NYW5hZ2VyLnVuZG8oZSx0LG4pO3ZhciBlLHQsbn0scmVkbzpmdW5jdGlvbigpe3JldHVybiBlPXMsdD1mLG49ZC5kYXRhLHF2KGUpLnVuZG9NYW5hZ2VyLnJlZG8odCxuKTt2YXIgZSx0LG59LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIGUsdDtlPWQsdD1mLHF2KHMpLnVuZG9NYW5hZ2VyLmNsZWFyKGUsdCl9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIGU7ZT1kLHF2KHMpLnVuZG9NYW5hZ2VyLnJlc2V0KGUpfSxoYXNVbmRvOmZ1bmN0aW9uKCl7cmV0dXJuIGU9ZCx0PWYscXYocykudW5kb01hbmFnZXIuaGFzVW5kbyhlLHQpO3ZhciBlLHR9LGhhc1JlZG86ZnVuY3Rpb24oKXtyZXR1cm4gZT1kLHQ9ZixxdihzKS51bmRvTWFuYWdlci5oYXNSZWRvKGUsdCk7dmFyIGUsdH0sdHJhbnNhY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZCxuPWwscj1lLHF2KHMpLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KHQsbixyKTt2YXIgdCxuLHJ9LGlnbm9yZTpmdW5jdGlvbihlKXt2YXIgdCxuO3Q9bCxuPWUscXYocykudW5kb01hbmFnZXIuaWdub3JlKHQsbil9LGV4dHJhOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk7bj1kLHI9ZixvPWUsaT10LHF2KHMpLnVuZG9NYW5hZ2VyLmV4dHJhKG4scixvLGkpfX07cmV0dXJuIEh2KHMpfHxBYihzLGQsbCksKGU9cykuYWRkU2hvcnRjdXQoIm1ldGEreiIsIiIsIlVuZG8iKSxlLmFkZFNob3J0Y3V0KCJtZXRhK3ksbWV0YStzaGlmdCt6IiwiIiwiUmVkbyIpLGR9LFRiPVs5LDI3LHVkLkhPTUUsdWQuRU5ELDE5LDIwLDQ0LDE0NCwxNDUsMzMsMzQsNDUsMTYsMTcsMTgsOTEsOTIsOTMsdWQuRE9XTix1ZC5VUCx1ZC5MRUZULHVkLlJJR0hUXS5jb25jYXQod3QuYnJvd3Nlci5pc0ZpcmVmb3goKT9bMjI0XTpbXSksRGI9ImRhdGEtbWNlLXBsYWNlaG9sZGVyIixPYj1mdW5jdGlvbihlKXtyZXR1cm4ia2V5ZG93biI9PT1lLnR5cGV8fCJrZXl1cCI9PT1lLnR5cGV9LEJiPWZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5Q29kZTtyZXR1cm4gdD09PXVkLkJBQ0tTUEFDRXx8dD09PXVkLkRFTEVURX0sUGI9ZnVuY3Rpb24oYSl7dmFyIGUsdT1hLmRvbSxzPXZjKGEpLGM9KGU9YSkuZ2V0UGFyYW0oInBsYWNlaG9sZGVyIixwYy5nZXRBdHRyaWIoZS5nZXRFbGVtZW50KCksInBsYWNlaG9sZGVyIiksInN0cmluZyIpLGw9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saTshZnVuY3Rpb24oZSl7aWYoT2IoZSkpe3ZhciB0PWUua2V5Q29kZTtyZXR1cm4hQmIoZSkmJih1ZC5tZXRhS2V5UHJlc3NlZChlKXx8ZS5hbHRLZXl8fDExMjw9dCYmdDw9MTIzfHxNKFRiLHQpKX1yZXR1cm4hMX0oZSkmJihuPWEuZ2V0Qm9keSgpLHI9IShPYihvPWUpJiYhKEJiKG8pfHwia2V5dXAiPT09by50eXBlJiYyMjk9PT1vLmtleUNvZGUpKSYmZnVuY3Rpb24oZSx0LG4pe2lmKCRvKEF0LmZyb21Eb20odCksITEpKXt2YXIgcj0iIj09PW4sbz10LmZpcnN0RWxlbWVudENoaWxkO3JldHVybiFvfHwhZS5nZXRTdHlsZSh0LmZpcnN0RWxlbWVudENoaWxkLCJwYWRkaW5nLWxlZnQiKSYmIWUuZ2V0U3R5bGUodC5maXJzdEVsZW1lbnRDaGlsZCwicGFkZGluZy1yaWdodCIpJiYocj8hZS5pc0Jsb2NrKG8pOm49PT1vLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpfXJldHVybiExfSh1LG4scyksIiIhPT11LmdldEF0dHJpYihuLERiKT09PXImJiF0fHwodS5zZXRBdHRyaWIobixEYixyP2M6bnVsbCksdS5zZXRBdHRyaWIobiwiYXJpYS1wbGFjZWhvbGRlciIscj9jOm51bGwpLGk9cixhLmZpcmUoIlBsYWNlaG9sZGVyVG9nZ2xlIix7c3RhdGU6aX0pLGEub24ocj8ia2V5ZG93biI6ImtleXVwIixsKSxhLm9mZihyPyJrZXl1cCI6ImtleWRvd24iLGwpKSl9O2MmJmEub24oImluaXQiLGZ1bmN0aW9uKGUpe2woZSwhMCksYS5vbigiY2hhbmdlIFNldENvbnRlbnQgRXhlY0NvbW1hbmQiLGwpLGEub24oInBhc3RlIixmdW5jdGlvbihlKXtyZXR1cm4gcXIuc2V0RWRpdG9yVGltZW91dChhLGZ1bmN0aW9uKCl7cmV0dXJuIGwoZSl9KX0pfSl9LExiPS9bXHUwNTkxLVx1MDdGRlx1RkIxRC1cdUZERkZcdUZFNzAtXHVGRUZDXS8sSWI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVHQoQXQuZnJvbURvbSh0KSxlLmdldFBhcmFtKCJpbmxpbmVfYm91bmRhcmllc19zZWxlY3RvciIsImFbaHJlZl0sY29kZSwubWNlLWFubm90YXRpb24iLCJzdHJpbmciKSl9LE1iPWZ1bmN0aW9uKGUpe3JldHVybiJydGwiPT09RXUuRE9NLmdldFN0eWxlKGUsImRpcmVjdGlvbiIsITApfHwodD1lLnRleHRDb250ZW50LExiLnRlc3QodCkpO3ZhciB0fSxGYj1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE9KHI9ZSxvPXQsaT1uLEgoRXUuRE9NLmdldFBhcmVudHMoaS5jb250YWluZXIoKSwiKiIsbykscikpO3JldHVybiBVLmZyb20oYVthLmxlbmd0aC0xXSl9LFViPWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuIHQ7dmFyIG49dC5jb250YWluZXIoKSxyPXQub2Zmc2V0KCk7cmV0dXJuIGU/eW8obik/SW4obi5uZXh0U2libGluZyk/JHMobi5uZXh0U2libGluZywwKTokcy5hZnRlcihuKTp3byh0KT8kcyhuLHIrMSk6dDp5byhuKT9JbihuLnByZXZpb3VzU2libGluZyk/JHMobi5wcmV2aW91c1NpYmxpbmcsbi5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGgpOiRzLmJlZm9yZShuKTp4byh0KT8kcyhuLHItMSk6dH0semI9TihVYiwhMCksamI9TihVYiwhMSksSGI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHQoZSx0KT9Bcih0LGZ1bmN0aW9uKGUpe3JldHVybiBybyhlKXx8aW8oZSl9LChuPWUsZnVuY3Rpb24oZSl7cmV0dXJuIE90KG4sQXQuZnJvbURvbShlLmRvbS5wYXJlbnROb2RlKSl9KSk6VS5ub25lKCk7dmFyIG59LFZiPWZ1bmN0aW9uKGUpe3ZhciB0LG4scjtlLmRvbS5pc0VtcHR5KGUuZ2V0Qm9keSgpKSYmKGUuc2V0Q29udGVudCgiIiksbj0odD1lKS5nZXRCb2R5KCkscj1uLmZpcnN0Q2hpbGQmJnQuZG9tLmlzQmxvY2sobi5maXJzdENoaWxkKT9uLmZpcnN0Q2hpbGQ6bix0LnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihyLDApKX0scWI9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZnJvbTplLHRvOnR9fSwkYj1mdW5jdGlvbihlLHQpe3ZhciBuPUF0LmZyb21Eb20oZSkscj1BdC5mcm9tRG9tKHQuY29udGFpbmVyKCkpO3JldHVybiBIYihuLHIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57YmxvY2s6ZSxwb3NpdGlvbjp0fX0pfSxXYj1mdW5jdGlvbihvLGksZSl7dmFyIHQ9JGIobywkcy5mcm9tUmFuZ2VTdGFydChlKSksbj10LmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIE9sKGksbyxlLnBvc2l0aW9uKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiAkYihvLGUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdD1vLG49aSx6bigocj1lKS5wb3NpdGlvbi5nZXROb2RlKCkpJiYhMT09PSRvKHIuYmxvY2spP0xsKCExLHIuYmxvY2suZG9tKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXF1YWwoci5wb3NpdGlvbik/T2wobix0LGUpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuICRiKHQsZSl9KTpVLnNvbWUocil9KS5nZXRPcihyKTpyO3ZhciB0LG4scn0pfSl9KTtyZXR1cm4gZHModCxuLHFiKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1PdCgocj1lKS5mcm9tLmJsb2NrLHIudG8uYmxvY2spJiYkdCgobj1lKS5mcm9tLmJsb2NrKS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiAkdChuLnRvLmJsb2NrKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIE90KHQsZSl9KX0pLmlzU29tZSgpJiYoITE9PT1WbigodD1lKS5mcm9tLmJsb2NrLmRvbSkmJiExPT09Vm4odC50by5ibG9jay5kb20pKTt2YXIgdCxuLHJ9KX0sS2I9ZnVuY3Rpb24oZSl7dmFyIHQsbj0odD1HdChlKSxHKHQsZW8pLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gdH0sZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2xpY2UoMCxlKX0pKTtyZXR1cm4gVyhuLHBuKSxufSxYYj1mdW5jdGlvbihlLHQpe3ZhciBuPURwKHQsZSk7cmV0dXJuIFkobi5yZXZlcnNlKCksZnVuY3Rpb24oZSl7cmV0dXJuICRvKGUpfSkuZWFjaChwbil9LFliPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCRvKG4pKXJldHVybiBfcChuKSxGbChuLmRvbSk7MD09PUgoWHQociksZnVuY3Rpb24oZSl7cmV0dXJuISRvKGUpfSkubGVuZ3RoJiYkbyh0KSYmc24ocixBdC5mcm9tVGFnKCJiciIpKTt2YXIgbz1NbChuLmRvbSwkcy5iZWZvcmUoci5kb20pKTtyZXR1cm4gVyhLYih0KSxmdW5jdGlvbihlKXtzbihyLGUpfSksWGIoZSx0KSxvfSxHYj1mdW5jdGlvbihlLHQsbil7aWYoJG8obikpcmV0dXJuIHBuKG4pLCRvKHQpJiZfcCh0KSxGbCh0LmRvbSk7dmFyIHI9VWwobi5kb20pO3JldHVybiBXKEtiKHQpLGZ1bmN0aW9uKGUpe2ZuKG4sZSl9KSxYYihlLHQpLHJ9LEpiPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFB0KHQsZSk/KG49RHAoZSx0KSxVLmZyb20obltuLmxlbmd0aC0xXSkpOlUubm9uZSgpO3ZhciBufSxRYj1mdW5jdGlvbihlLHQpe0xsKGUsdC5kb20pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXROb2RlKCl9KS5tYXAoQXQuZnJvbURvbSkuZmlsdGVyKG5vKS5lYWNoKHBuKX0sWmI9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBRYighMCx0KSxRYighMSxuKSxKYih0LG4pLmZvbGQoTihHYixlLHQsbiksTihZYixlLHQsbikpfSxlQz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdD9aYihlLHIsbik6WmIoZSxuLHIpfSx0Qz1mdW5jdGlvbih0LG4pe3ZhciBlLHIsbyxpPUF0LmZyb21Eb20odC5nZXRCb2R5KCkpLGE9KGU9aS5kb20scj1uLCgobz10LnNlbGVjdGlvbi5nZXRSbmcoKSkuY29sbGFwc2VkP1diKGUscixvKTpVLm5vbmUoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZUMoaSxuLGUuZnJvbS5ibG9jayxlLnRvLmJsb2NrKX0pKTtyZXR1cm4gYS5lYWNoKGZ1bmN0aW9uKGUpe3Quc2VsZWN0aW9uLnNldFJuZyhlLnRvUmFuZ2UoKSl9KSxhLmlzU29tZSgpfSxuQz1mdW5jdGlvbihlLHQpe3ZhciBuPUF0LmZyb21Eb20odCkscj1OKE90LGUpO3JldHVybiBfcihuLHVvLHIpLmlzU29tZSgpfSxyQz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1NbChlLmRvbSwkcy5mcm9tUmFuZ2VTdGFydCh0KSkuaXNOb25lKCksaT1JbChlLmRvbSwkcy5mcm9tUmFuZ2VFbmQodCkpLmlzTm9uZSgpO3JldHVybiEobkMobj1lLChyPXQpLnN0YXJ0Q29udGFpbmVyKXx8bkMobixyLmVuZENvbnRhaW5lcikpJiZvJiZpfSxvQz1mdW5jdGlvbihlKXt2YXIgbixyLG8sdCxpPUF0LmZyb21Eb20oZS5nZXRCb2R5KCkpLGE9ZS5zZWxlY3Rpb24uZ2V0Um5nKCk7cmV0dXJuIHJDKGksYSk/KCh0PWUpLnNldENvbnRlbnQoIiIpLHQuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKCksITApOihuPWkscj1lLnNlbGVjdGlvbixvPXIuZ2V0Um5nKCksZHMoSGIobixBdC5mcm9tRG9tKG8uc3RhcnRDb250YWluZXIpKSxIYihuLEF0LmZyb21Eb20oby5lbmRDb250YWluZXIpKSxmdW5jdGlvbihlLHQpe3JldHVybiExPT09T3QoZSx0KSYmKG8uZGVsZXRlQ29udGVudHMoKSxlQyhuLCEwLGUsdCkuZWFjaChmdW5jdGlvbihlKXtyLnNldFJuZyhlLnRvUmFuZ2UoKSl9KSwhMCl9KS5nZXRPcighMSkpfSxpQz1mdW5jdGlvbihlLHQpe3JldHVybiFlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZvQyhlKX0sYUM9SG4sdUM9Vm4sc0M9ZnVuY3Rpb24oZSx0LG4scixvKXtyZXR1cm4gVS5mcm9tKHQuX3NlbGVjdGlvbk92ZXJyaWRlcy5zaG93Q2FyZXQoZSxuLHIsbykpfSxjQz1mdW5jdGlvbihlLHQpe3ZhciBuLHI7cmV0dXJuIGUuZmlyZSgiQmVmb3JlT2JqZWN0U2VsZWN0ZWQiLHt0YXJnZXQ6dH0pLmlzRGVmYXVsdFByZXZlbnRlZCgpP1Uubm9uZSgpOlUuc29tZSgoKHI9KG49dCkub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZWxlY3ROb2RlKG4pLHIpKX0sbEM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWxsKDEsZS5nZXRCb2R5KCksdCksbz0kcy5mcm9tUmFuZ2VTdGFydChyKSxpPW8uZ2V0Tm9kZSgpO2lmKFdjKGkpKXJldHVybiBzQygxLGUsaSwhby5pc0F0RW5kKCksITEpO3ZhciBhPW8uZ2V0Tm9kZSghMCk7aWYoV2MoYSkpcmV0dXJuIHNDKDEsZSxhLCExLCExKTt2YXIgdT1lLmRvbS5nZXRQYXJlbnQoby5nZXROb2RlKCksZnVuY3Rpb24oZSl7cmV0dXJuIHVDKGUpfHxhQyhlKX0pO3JldHVybiBXYyh1KT9zQygxLGUsdSwhMSxuKTpVLm5vbmUoKX0sZkM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0LmNvbGxhcHNlZD9sQyhlLHQsbikuZ2V0T3IodCk6dH0sZEM9ZnVuY3Rpb24oZSl7cmV0dXJuIE5wKGUpfHxDcChlKX0sbUM9ZnVuY3Rpb24oZSl7cmV0dXJuIEVwKGUpfHx3cChlKX0scEM9ZnVuY3Rpb24obixyLGUsdCxvLGkpe3ZhciBhLHU7cmV0dXJuIHNDKHQsbixpLmdldE5vZGUoIW8pLG8sITApLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7ci5jb2xsYXBzZWQ/KHQ9ci5jbG9uZVJhbmdlKCksbz90LnNldEVuZChlLnN0YXJ0Q29udGFpbmVyLGUuc3RhcnRPZmZzZXQpOnQuc2V0U3RhcnQoZS5lbmRDb250YWluZXIsZS5lbmRPZmZzZXQpLHQuZGVsZXRlQ29udGVudHMoKSk6ci5kZWxldGVDb250ZW50cygpLG4uc2VsZWN0aW9uLnNldFJuZyhlKX0pLGE9bi5kb20sSW4odT1lKSYmMD09PXUuZGF0YS5sZW5ndGgmJmEucmVtb3ZlKHUpLCEwfSxnQz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuc2VsZWN0aW9uLmdldFJuZygpO2lmKCFJbihuLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKSlyZXR1cm4hMTt2YXIgcj10P1ZzLkZvcndhcmRzOlZzLkJhY2t3YXJkcyxvPV9sKGUuZ2V0Qm9keSgpKSxpPU4ocGwsdD9vLm5leHQ6by5wcmV2KSxhPXQ/ZEM6bUMsdT1kbChyLGUuZ2V0Qm9keSgpLG4pLHM9VWIodCxpKHUpKTtpZighc3x8IWdsKHUscykpcmV0dXJuITE7aWYoYShzKSlyZXR1cm4gcEMoZSxuLHUuZ2V0Tm9kZSgpLHIsdCxzKTt2YXIgYz1pKHMpO3JldHVybiEhKGMmJmEoYykmJmdsKHMsYykpJiZwQyhlLG4sdS5nZXROb2RlKCkscix0LGMpfSxoQz1Dcihbe3JlbW92ZTpbImVsZW1lbnQiXX0se21vdmVUb0VsZW1lbnQ6WyJlbGVtZW50Il19LHttb3ZlVG9Qb3NpdGlvbjpbInBvc2l0aW9uIl19XSksdkM9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ci5nZXROb2RlKCExPT09dCk7cmV0dXJuIEhiKEF0LmZyb21Eb20oZSksQXQuZnJvbURvbShuLmdldE5vZGUoKSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gJG8oZSk/aEMucmVtb3ZlKGUuZG9tKTpoQy5tb3ZlVG9FbGVtZW50KG8pfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBVLnNvbWUoaEMubW92ZVRvRWxlbWVudChvKSl9KX0seUM9ZnVuY3Rpb24odSxzLGMpe3JldHVybiBPbChzLHUsYykuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gYT1lLmdldE5vZGUoKSx1byhBdC5mcm9tRG9tKGEpKXx8aW8oQXQuZnJvbURvbShhKSk/VS5ub25lKCk6KHQ9dSxvPWUsaT1mdW5jdGlvbihlKXtyZXR1cm4gdG8oQXQuZnJvbURvbShlKSkmJiFvbChyLG8sdCl9LGZsKCEobj1zKSxyPWMpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZmwobixvKS5mb2xkKEMsaSl9LGkpP1Uubm9uZSgpOnMmJlZuKGUuZ2V0Tm9kZSgpKXx8ITE9PT1zJiZWbihlLmdldE5vZGUoITApKT92Qyh1LHMsYyxlKTpzJiZFcChjKXx8ITE9PT1zJiZOcChjKT9VLnNvbWUoaEMubW92ZVRvUG9zaXRpb24oZSkpOlUubm9uZSgpKTt2YXIgdCxuLHIsbyxpLGF9KX0sYkM9ZnVuY3Rpb24ocixlLG8pe3JldHVybiBpPWUsYT1vLmdldE5vZGUoITE9PT1pKSx1PWk/ImFmdGVyIjoiYmVmb3JlIixBbihhKSYmYS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0Iik9PT11Pyh0PWUsbj1vLmdldE5vZGUoITE9PT1lKSwodCYmVm4obi5uZXh0U2libGluZyk/VS5zb21lKGhDLm1vdmVUb0VsZW1lbnQobi5uZXh0U2libGluZykpOiExPT09dCYmVm4obi5wcmV2aW91c1NpYmxpbmcpP1Uuc29tZShoQy5tb3ZlVG9FbGVtZW50KG4ucHJldmlvdXNTaWJsaW5nKSk6VS5ub25lKCkpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4geUMocixlLG8pfSxVLnNvbWUpKTp5QyhyLGUsbykuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gdD1yLG49byxlLmZvbGQoZnVuY3Rpb24oZSl7cmV0dXJuIFUuc29tZShoQy5yZW1vdmUoZSkpfSxmdW5jdGlvbihlKXtyZXR1cm4gVS5zb21lKGhDLm1vdmVUb0VsZW1lbnQoZSkpfSxmdW5jdGlvbihlKXtyZXR1cm4gb2wobixlLHQpP1Uubm9uZSgpOlUuc29tZShoQy5tb3ZlVG9Qb3NpdGlvbihlKSl9KTt2YXIgdCxufSk7dmFyIHQsbixpLGEsdX0sQ0M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVS5mcm9tKGlkKGUuZ2V0Qm9keSgpLHQpKX0sd0M9ZnVuY3Rpb24oYSx1KXt2YXIgZT1hLnNlbGVjdGlvbi5nZXROb2RlKCk7cmV0dXJuIENDKGEsZSkuZmlsdGVyKFZuKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGU9YS5nZXRCb2R5KCksdD11LG49YS5zZWxlY3Rpb24uZ2V0Um5nKCkscj1sbCh0PzE6LTEsZSxuKSxvPSRzLmZyb21SYW5nZVN0YXJ0KHIpLGk9QXQuZnJvbURvbShlKSwoITE9PT10JiZFcChvKT9VLnNvbWUoaEMucmVtb3ZlKG8uZ2V0Tm9kZSghMCkpKTp0JiZOcChvKT9VLnNvbWUoaEMucmVtb3ZlKG8uZ2V0Tm9kZSgpKSk6ITE9PT10JiZOcChvKSYmVnAoaSxvKT9xcChpLG8pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gaEMucmVtb3ZlKGUuZ2V0Tm9kZSgpKX0pOnQmJkVwKG8pJiZIcChpLG8pPyRwKGksbykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBoQy5yZW1vdmUoZS5nZXROb2RlKCkpfSk6YkMoZSx0LG8pKS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChmdW5jdGlvbihlKXtyZXR1cm4gby5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSxDZyhvLGksQXQuZnJvbURvbShlKSksITB9LChyPWk9dSxmdW5jdGlvbihlKXt2YXIgdD1yPyRzLmJlZm9yZShlKTokcy5hZnRlcihlKTtyZXR1cm4gbi5zZWxlY3Rpb24uc2V0Um5nKHQudG9SYW5nZSgpKSwhMH0pLCh0PW49bz1hLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpLCEwfSkpO3ZhciB0LG4scixvLGl9KTt2YXIgZSx0LG4scixvLGl9LGspfSx4Qz1mdW5jdGlvbih0LG4pe3ZhciBlPXQuc2VsZWN0aW9uLmdldE5vZGUoKTtyZXR1cm4hIVZuKGUpJiZDQyh0LGUucGFyZW50Tm9kZSkuZmlsdGVyKFZuKS5mb2xkKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGU9QXQuZnJvbURvbSh0LmdldEJvZHkoKSksVyhHdShlLCIubWNlLW9mZnNjcmVlbi1zZWxlY3Rpb24iKSxwbiksQ2codCxuLEF0LmZyb21Eb20odC5zZWxlY3Rpb24uZ2V0Tm9kZSgpKSksVmIodCksITB9LGZ1bmN0aW9uKCl7cmV0dXJuITB9KX0sU0M9ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmRvbSxyPWUuc2VsZWN0aW9uLG89aWQoZS5nZXRCb2R5KCksci5nZXROb2RlKCkpO3JldHVybiBIbihvKSYmbi5pc0Jsb2NrKG8pJiZuLmlzRW1wdHkobykmJih0PW4uY3JlYXRlKCJiciIseyJkYXRhLW1jZS1ib2d1cyI6IjEifSksbi5zZXRIVE1MKG8sIiIpLG8uYXBwZW5kQ2hpbGQodCksci5zZXRSbmcoJHMuYmVmb3JlKHQpLnRvUmFuZ2UoKSkpLCEwfSxOQz1mdW5jdGlvbihlLHQpe3JldHVybihlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpP3dDOnhDKShlLHQpfSxFQz1mdW5jdGlvbihlLHQpe3JldHVybiEhZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmKG49ZSxyPXQsbz0kcy5mcm9tUmFuZ2VTdGFydChuLnNlbGVjdGlvbi5nZXRSbmcoKSksT2wocixuLmdldEJvZHkoKSxvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuKHI/eXA6YnApKGUpfSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gVS5mcm9tKGlsKHI/MDotMSxlKSl9KS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIG4uc2VsZWN0aW9uLnNlbGVjdChlKSwhMH0pKTt2YXIgbixyLG99LGtDPUluLF9DPWZ1bmN0aW9uKGUpe3JldHVybiBrQyhlKSYmZS5kYXRhWzBdPT09Zm99LEFDPWZ1bmN0aW9uKGUpe3JldHVybiBrQyhlKSYmZS5kYXRhW2UuZGF0YS5sZW5ndGgtMV09PT1mb30sUkM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShmbyl9LFRDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU/ZnVuY3Rpb24oZSl7aWYoa0MoZS5wcmV2aW91c1NpYmxpbmcpKXJldHVybiBBQyhlLnByZXZpb3VzU2libGluZyl8fGUucHJldmlvdXNTaWJsaW5nLmFwcGVuZERhdGEoZm8pLGUucHJldmlvdXNTaWJsaW5nO2lmKGtDKGUpKXJldHVybiBfQyhlKXx8ZS5pbnNlcnREYXRhKDAsZm8pLGU7dmFyIHQ9UkMoZSk7cmV0dXJuIGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxlKSx0fTpmdW5jdGlvbihlKXtpZihrQyhlLm5leHRTaWJsaW5nKSlyZXR1cm4gX0MoZS5uZXh0U2libGluZyl8fGUubmV4dFNpYmxpbmcuaW5zZXJ0RGF0YSgwLGZvKSxlLm5leHRTaWJsaW5nO2lmKGtDKGUpKXJldHVybiBBQyhlKXx8ZS5hcHBlbmREYXRhKGZvKSxlO3ZhciB0PVJDKGUpO3JldHVybiBlLm5leHRTaWJsaW5nP2UucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxlLm5leHRTaWJsaW5nKTplLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodCksdH0pKHQpfSxEQz1OKFRDLCEwKSxPQz1OKFRDLCExKSxCQz1mdW5jdGlvbihlLHQpe3JldHVybiBJbihlLmNvbnRhaW5lcigpKT9UQyh0LGUuY29udGFpbmVyKCkpOlRDKHQsZS5nZXROb2RlKCkpfSxQQz1mdW5jdGlvbihlLHQpe3ZhciBuPXQuZ2V0KCk7cmV0dXJuIG4mJmUuY29udGFpbmVyKCk9PT1uJiZ5byhuKX0sTEM9ZnVuY3Rpb24obixlKXtyZXR1cm4gZS5mb2xkKGZ1bmN0aW9uKGUpe0ZjKG4uZ2V0KCkpO3ZhciB0PURDKGUpO3JldHVybiBuLnNldCh0KSxVLnNvbWUoJHModCx0Lmxlbmd0aC0xKSl9LGZ1bmN0aW9uKGUpe3JldHVybiBGbChlKS5tYXAoZnVuY3Rpb24oZSl7aWYoUEMoZSxuKSlyZXR1cm4gJHMobi5nZXQoKSwxKTtGYyhuLmdldCgpKTt2YXIgdD1CQyhlLCEwKTtyZXR1cm4gbi5zZXQodCksJHModCwxKX0pfSxmdW5jdGlvbihlKXtyZXR1cm4gVWwoZSkubWFwKGZ1bmN0aW9uKGUpe2lmKFBDKGUsbikpcmV0dXJuICRzKG4uZ2V0KCksbi5nZXQoKS5sZW5ndGgtMSk7RmMobi5nZXQoKSk7dmFyIHQ9QkMoZSwhMSk7cmV0dXJuIG4uc2V0KHQpLCRzKHQsdC5sZW5ndGgtMSl9KX0sZnVuY3Rpb24oZSl7RmMobi5nZXQoKSk7dmFyIHQ9T0MoZSk7cmV0dXJuIG4uc2V0KHQpLFUuc29tZSgkcyh0LDEpKX0pfSxJQz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dLmFwcGx5KG51bGwsdCk7aWYoci5pc1NvbWUoKSlyZXR1cm4gcn1yZXR1cm4gVS5ub25lKCl9LE1DPUNyKFt7YmVmb3JlOlsiZWxlbWVudCJdfSx7c3RhcnQ6WyJlbGVtZW50Il19LHtlbmQ6WyJlbGVtZW50Il19LHthZnRlcjpbImVsZW1lbnQiXX1dKSxGQz1mdW5jdGlvbihlLHQpe3ZhciBuPXJsKHQsZSk7cmV0dXJuIG58fGV9LFVDPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj16YihuKSxvPUZDKHQsci5jb250YWluZXIoKSk7cmV0dXJuIEZiKGUsbyxyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIElsKG8scikuYmluZChOKEZiLGUsbykpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gTUMuYmVmb3JlKGUpfSl9LFUubm9uZSl9LHpDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PT1IbChlLHQpfSxqQz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEZiKGUsdCxuKS5maWx0ZXIoTih6Qyx0KSl9LEhDPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1qYihuKTtyZXR1cm4gakMoZSx0LHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIE1sKGUscikuaXNOb25lKCk/VS5zb21lKE1DLnN0YXJ0KGUpKTpVLm5vbmUoKX0pfSxWQz1mdW5jdGlvbihlLHQsbil7dmFyIHI9emIobik7cmV0dXJuIGpDKGUsdCxyKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBJbChlLHIpLmlzTm9uZSgpP1Uuc29tZShNQy5lbmQoZSkpOlUubm9uZSgpfSl9LHFDPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1qYihuKSxvPUZDKHQsci5jb250YWluZXIoKSk7cmV0dXJuIEZiKGUsbyxyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIE1sKG8scikuYmluZChOKEZiLGUsbykpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gTUMuYWZ0ZXIoZSl9KX0sVS5ub25lKX0sJEM9ZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1NYihLQyhlKSl9LFdDPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gSUMoW1VDLEhDLFZDLHFDXSxbZSx0LG5dKS5maWx0ZXIoJEMpfSxLQz1mdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKG8sbyxvLG8pfSxYQz1mdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKEUoImJlZm9yZSIpLEUoInN0YXJ0IiksRSgiZW5kIiksRSgiYWZ0ZXIiKSl9LFlDPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQoTUMuYmVmb3JlLE1DLmJlZm9yZSxNQy5hZnRlcixNQy5hZnRlcil9LEdDPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQoTUMuc3RhcnQsTUMuc3RhcnQsTUMuZW5kLE1DLmVuZCl9LEpDPWZ1bmN0aW9uKGEsZSx1LHQsbixzKXtyZXR1cm4gZHMoRmIoZSx1LHQpLEZiKGUsdSxuKSxmdW5jdGlvbihlLHQpe3JldHVybiBlIT09dCYmKHI9dCxvPXJsKGUsbj11KSxpPXJsKHIsbiksbyYmbz09PWkpP01DLmFmdGVyKGE/ZTp0KTpzO3ZhciBuLHIsbyxpfSkuZ2V0T3Iocyl9LFFDPWZ1bmN0aW9uKGUscil7cmV0dXJuIGUuZm9sZChrLGZ1bmN0aW9uKGUpe3JldHVybiBuPXIsIShYQyh0PWUpPT09WEMobikmJktDKHQpPT09S0MobikpO3ZhciB0LG59KX0sWkM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT90LmZvbGQoYShVLnNvbWUsTUMuc3RhcnQpLFUubm9uZSxhKFUuc29tZSxNQy5hZnRlciksVS5ub25lKTp0LmZvbGQoVS5ub25lLGEoVS5zb21lLE1DLmJlZm9yZSksVS5ub25lLGEoVS5zb21lLE1DLmVuZCkpfSxldz1mdW5jdGlvbihlLGEsdSxzKXt2YXIgdD1VYihlLHMpLGM9V0MoYSx1LHQpO3JldHVybiBXQyhhLHUsdCkuYmluZChOKFpDLGUpKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIG49YSxyPXUsbz1jLGk9VWIodD1lLHMpLE9sKHQscixpKS5tYXAoTihVYix0KSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBvLm1hcChZQyl9LGZ1bmN0aW9uKGUpe3JldHVybiBXQyhuLHIsZSkubWFwKE4oSkMsdCxuLHIsaSxlKSkuZmlsdGVyKE4oUUMsbykpfSkuZmlsdGVyKCRDKTt2YXIgdCxuLHIsbyxpfSl9LHR3PShOKGV3LCExKSxOKGV3LCEwKSxmdW5jdGlvbihlLHQsbil7dmFyIHI9ZT8xOi0xO3JldHVybiB0LnNldFJuZygkcyhuLmNvbnRhaW5lcigpLG4ub2Zmc2V0KCkrcikudG9SYW5nZSgpKSx0LmdldFNlbCgpLm1vZGlmeSgibW92ZSIsZT8iZm9yd2FyZCI6ImJhY2t3YXJkIiwid29yZCIpLCEwfSksbnc9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnNlbGVjdGlvbi5nZXRSbmcoKSxyPWU/JHMuZnJvbVJhbmdlRW5kKG4pOiRzLmZyb21SYW5nZVN0YXJ0KG4pO3JldHVybiEhVCh0LnNlbGVjdGlvbi5nZXRTZWwoKS5tb2RpZnkpJiYoZSYmd28ocik/dHcoITAsdC5zZWxlY3Rpb24scik6IShlfHwheG8ocikpJiZ0dyghMSx0LnNlbGVjdGlvbixyKSl9LHJ3PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20uY3JlYXRlUm5nKCk7bi5zZXRTdGFydCh0LmNvbnRhaW5lcigpLHQub2Zmc2V0KCkpLG4uc2V0RW5kKHQuY29udGFpbmVyKCksdC5vZmZzZXQoKSksZS5zZWxlY3Rpb24uc2V0Um5nKG4pfSxvdz1mdW5jdGlvbihlLHQpe2U/dC5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiwiaW5saW5lLWJvdW5kYXJ5Iik6dC5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIil9LGl3PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gTEMoZSxuKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHJ3KHQsZSksbn0pfSxhdz1mdW5jdGlvbihlLHQpe3ZhciBuLHI7ZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmITAhPT1lLmNvbXBvc2luZyYmdC5nZXQoKSYmKG49JHMuZnJvbVJhbmdlU3RhcnQoZS5zZWxlY3Rpb24uZ2V0Um5nKCkpLCRzLmlzVGV4dFBvc2l0aW9uKG4pJiYhMT09PSh3byhyPW4pfHx4byhyKSkmJihydyhlLE1jKHQuZ2V0KCksbikpLHQuc2V0KG51bGwpKSl9LHV3PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hIV9jKGUpJiYobz10LGk9bixhPShyPWUpLmdldEJvZHkoKSx1PSRzLmZyb21SYW5nZVN0YXJ0KHIuc2VsZWN0aW9uLmdldFJuZygpKSxzPU4oSWIsciksZXcoaSxzLGEsdSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gaXcocixvLGUpfSkuaXNTb21lKCkpO3ZhciByLG8saSxhLHUsc30sc3c9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiEhX2ModCkmJm53KGUsdCl9LGN3PWZ1bmN0aW9uKGQpe3ZhciBtPU91KG51bGwpLHA9TihJYixkKTtyZXR1cm4gZC5vbigiTm9kZUNoYW5nZSIsZnVuY3Rpb24oZSl7dmFyIG4scixvLHQsaSxhLHUscyxjLGwsZjshX2MoZCl8fHd0LmJyb3dzZXIuaXNJRSgpJiZlLmluaXRpYWx8fChhPXAsdT1kLmRvbSxzPWUucGFyZW50cyxjPXooR3UoQXQuZnJvbURvbSh1LmdldFJvb3QoKSksJypbZGF0YS1tY2Utc2VsZWN0ZWQ9ImlubGluZS1ib3VuZGFyeSJdJyksZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tfSksbD1IKGMsYSksZj1IKHMsYSksVyhlZShsLGYpLE4ob3csITEpKSxXKGVlKGYsbCksTihvdywhMCkpLGF3KGQsbSksbj1wLHI9ZCxvPW0sdD1lLnBhcmVudHMsci5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmKGk9SCh0LG4pLFcoaSxmdW5jdGlvbihlKXt2YXIgdD0kcy5mcm9tUmFuZ2VTdGFydChyLnNlbGVjdGlvbi5nZXRSbmcoKSk7V0MobixyLmdldEJvZHkoKSx0KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBpdyhyLG8sZSl9KX0pKSl9KSxtfSxsdz1OKHN3LCEwKSxmdz1OKHN3LCExKSxkdz1mdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gTEMobixlKS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIHJ3KHQsZSksITB9KX19LG13PWZ1bmN0aW9uKHIsbyxpLGEpe3ZhciB1PXIuZ2V0Qm9keSgpLHM9TihJYixyKTtyLnVuZG9NYW5hZ2VyLmlnbm9yZShmdW5jdGlvbigpe3ZhciBlLHQsbjtyLnNlbGVjdGlvbi5zZXRSbmcoKGU9aSx0PWEsKG49ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSkuc2V0U3RhcnQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSxuLnNldEVuZCh0LmNvbnRhaW5lcigpLHQub2Zmc2V0KCkpLG4pKSxyLmV4ZWNDb21tYW5kKCJEZWxldGUiKSxXQyhzLHUsJHMuZnJvbVJhbmdlU3RhcnQoci5zZWxlY3Rpb24uZ2V0Um5nKCkpKS5tYXAoR0MpLm1hcChkdyhyLG8pKX0pLHIubm9kZUNoYW5nZWQoKX0scHc9ZnVuY3Rpb24obixyLGksbyl7dmFyIGUsdCxhPShlPW4uZ2V0Qm9keSgpLHQ9by5jb250YWluZXIoKSxybCh0LGUpfHxlKSx1PU4oSWIsbikscz1XQyh1LGEsbyk7cmV0dXJuIHMuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gaT9lLmZvbGQoRShVLnNvbWUoR0MoZSkpKSxVLm5vbmUsRShVLnNvbWUoWUMoZSkpKSxVLm5vbmUpOmUuZm9sZChVLm5vbmUsRShVLnNvbWUoWUMoZSkpKSxVLm5vbmUsRShVLnNvbWUoR0MoZSkpKSl9KS5tYXAoZHcobixyKSkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciB0PUJsKGksYSxvKSxlPXQuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gV0ModSxhLGUpfSk7cmV0dXJuIGRzKHMsZSxmdW5jdGlvbigpe3JldHVybiBGYih1LGEsbykuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiEhZHMoRmwobz1lKSxVbChvKSxmdW5jdGlvbihlLHQpe3ZhciBuPVViKCEwLGUpLHI9VWIoITEsdCk7cmV0dXJuIElsKG8sbikuZm9yYWxsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXF1YWwocil9KX0pLmdldE9yKCEwKSYmKENnKG4saSxBdC5mcm9tRG9tKGUpKSwhMCk7dmFyIG99KX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gZS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gaT9tdyhuLHIsbyxlKTptdyhuLHIsZSxvKSwhMH0pfSl9KS5nZXRPcighMSl9KX0sZ3c9ZnVuY3Rpb24oZSx0LG4pe2lmKGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJl9jKGUpKXt2YXIgcj0kcy5mcm9tUmFuZ2VTdGFydChlLnNlbGVjdGlvbi5nZXRSbmcoKSk7cmV0dXJuIHB3KGUsdCxuLHIpfXJldHVybiExfSxodz1mdW5jdGlvbihlKXtyZXR1cm4gMT09PUd0KGUpLmxlbmd0aH0sdnc9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscyxjPU4oTmgsdCksbD16KEgocixjKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5kb219KTswPT09bC5sZW5ndGg/Q2codCxlLG4pOihpPW4uZG9tLGE9bCx1PXZoKCExKSxzPXdoKGEsdS5kb20pLHNuKEF0LmZyb21Eb20oaSksdSkscG4oQXQuZnJvbURvbShpKSksbz0kcyhzLDApLHQuc2VsZWN0aW9uLnNldFJuZyhvLnRvUmFuZ2UoKSkpfSx5dz1mdW5jdGlvbihyLG8pe3ZhciB0LGU9QXQuZnJvbURvbShyLmdldEJvZHkoKSksbj1BdC5mcm9tRG9tKHIuc2VsZWN0aW9uLmdldFN0YXJ0KCkpLHM9SCgodD1EcChuLGUpLEcodCxlbykuZm9sZChFKHQpLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNsaWNlKDAsZSl9KSksaHcpO3JldHVybiByZShzKS5leGlzdHMoZnVuY3Rpb24oZSl7dmFyIHQsaSxhLHUsbj0kcy5mcm9tUmFuZ2VTdGFydChyLnNlbGVjdGlvbi5nZXRSbmcoKSk7cmV0dXJuIGk9byxhPW4sdT1lLmRvbSwhKCFkcyhGbCh1KSxVbCh1KSxmdW5jdGlvbihlLHQpe3ZhciBuPVViKCEwLGUpLHI9VWIoITEsdCksbz1VYighMSxhKTtyZXR1cm4gaT9JbCh1LG8pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKHIpJiZhLmlzRXF1YWwobil9KTpNbCh1LG8pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKG4pJiZhLmlzRXF1YWwocil9KX0pLmdldE9yKCEwKXx8amwoKHQ9ZSkuZG9tKSYmZ2godC5kb20pKSYmKHZ3KG8scixlLHMpLCEwKX0pfSxidz1mdW5jdGlvbihlLHQpe3JldHVybiEhZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmeXcoZSx0KX0sQ3c9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpLENnKGUsdCxBdC5mcm9tRG9tKG4pKSwhMH0sd3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKT8oaT1lLHU9KGE9dCk/Q3A6d3Ascz1hP1ZzLkZvcndhcmRzOlZzLkJhY2t3YXJkcyxjPWRsKHMsaS5nZXRCb2R5KCksaS5zZWxlY3Rpb24uZ2V0Um5nKCkpLHUoYyk/Q3coaSxhLGMuZ2V0Tm9kZSghYSkpOlUuZnJvbShVYihhLGMpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSkmJmdsKGMsZSl9KS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIEN3KGksYSxlLmdldE5vZGUoIWEpKX0pKToocj10LG89KG49ZSkuc2VsZWN0aW9uLmdldE5vZGUoKSwhISRuKG8pJiZDdyhuLHIsbykpO3ZhciBuLHIsbyxpLGEsdSxzLGN9LHh3PWZ1bmN0aW9uKGUpe3ZhciB0PXBhcnNlSW50KGUsMTApO3JldHVybiBpc05hTih0KT8wOnR9LFN3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGV8fCJ0YWJsZSI9PT1MdCh0KT8ibWFyZ2luIjoicGFkZGluZyIpKygicnRsIj09PWVyKHQsImRpcmVjdGlvbiIpPyItcmlnaHQiOiItbGVmdCIpfSxOdz1mdW5jdGlvbihlKXt2YXIgcix0PWt3KGUpO3JldHVybiFlLm1vZGUuaXNSZWFkT25seSgpJiYoMTx0Lmxlbmd0aHx8KHI9ZSxRKHQsZnVuY3Rpb24oZSl7dmFyIHQ9U3coU2MociksZSksbj1ucihlLHQpLm1hcCh4dykuZ2V0T3IoMCk7cmV0dXJuImZhbHNlIiE9PXIuZG9tLmdldENvbnRlbnRFZGl0YWJsZShlLmRvbSkmJjA8bn0pKSl9LEV3PWZ1bmN0aW9uKGUpe3JldHVybiBvbyhlKXx8aW8oZSl9LGt3PWZ1bmN0aW9uKGUpe3JldHVybiBIKHooZS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSxBdC5mcm9tRG9tKSxmdW5jdGlvbihlKXtyZXR1cm4hRXcoZSkmJiEkdChlKS5tYXAoRXcpLmdldE9yKCExKSYmQXIoZSxmdW5jdGlvbihlKXtyZXR1cm4gSG4oZS5kb20pfHxWbihlLmRvbSl9KS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIEhuKGUuZG9tKX0pfSl9LF93PWZ1bmN0aW9uKGUsYyl7dmFyIGw9ZS5kb20sdD1lLnNlbGVjdGlvbixuPWUuZm9ybWF0dGVyLHI9ZS5nZXRQYXJhbSgiaW5kZW50YXRpb24iLCI0MHB4Iiwic3RyaW5nIiksZj0vW2EteiVdKyQvaS5leGVjKHIpWzBdLGQ9cGFyc2VJbnQociwxMCksbT1TYyhlKSxvPXZjKGUpO2UucXVlcnlDb21tYW5kU3RhdGUoIkluc2VydFVub3JkZXJlZExpc3QiKXx8ZS5xdWVyeUNvbW1hbmRTdGF0ZSgiSW5zZXJ0T3JkZXJlZExpc3QiKXx8IiIhPT1vfHxsLmdldFBhcmVudCh0LmdldE5vZGUoKSxsLmlzQmxvY2spfHxuLmFwcGx5KCJkaXYiKSxXKGt3KGUpLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHM7dD1sLG49YyxyPW0sbz1kLGk9ZixhPWUuZG9tLHM9U3cocixBdC5mcm9tRG9tKGEpKSwib3V0ZGVudCI9PT1uPyh1PU1hdGgubWF4KDAseHcoYS5zdHlsZVtzXSktbyksdC5zZXRTdHlsZShhLHMsdT91K2k6IiIpKToodT14dyhhLnN0eWxlW3NdKStvK2ksdC5zZXRTdHlsZShhLHMsdSkpfSl9LEF3PWZ1bmN0aW9uKGUsdCl7aWYoZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmTncoZSkpe3ZhciBuPWUuZG9tLHI9ZS5zZWxlY3Rpb24uZ2V0Um5nKCksbz0kcy5mcm9tUmFuZ2VTdGFydChyKSxpPW4uZ2V0UGFyZW50KHIuc3RhcnRDb250YWluZXIsbi5pc0Jsb2NrKTtpZihudWxsIT09aSYmSXAoQXQuZnJvbURvbShpKSxvKSlyZXR1cm4gX3coZSwib3V0ZGVudCIpLCEwfXJldHVybiExfSxSdz1mdW5jdGlvbihlLHQpe2UuZ2V0RG9jKCkuZXhlY0NvbW1hbmQodCwhMSxudWxsKX0sVHc9ZnVuY3Rpb24obixyKXtuLmFkZENvbW1hbmQoImRlbGV0ZSIsZnVuY3Rpb24oKXt2YXIgZSx0O3Q9cixBdyhlPW4pfHxOQyhlLCExKXx8Z0MoZSwhMSl8fGd3KGUsdCwhMSl8fHRDKGUsITEpfHxLZyhlKXx8RUMoZSwhMSl8fHd3KGUsITEpfHxpQyhlKXx8YncoZSwhMSl8fChSdyhlLCJEZWxldGUiKSxWYihlKSl9KSxuLmFkZENvbW1hbmQoImZvcndhcmREZWxldGUiLGZ1bmN0aW9uKCl7dmFyIGUsdDt0PXIsTkMoZT1uLCEwKXx8Z0MoZSwhMCl8fGd3KGUsdCwhMCl8fHRDKGUsITApfHxLZyhlKXx8RUMoZSwhMCl8fHd3KGUsITApfHxpQyhlKXx8YncoZSwhMCl8fFJ3KGUsIkZvcndhcmREZWxldGUiKX0pfSxEdz1mdW5jdGlvbihlKXtyZXR1cm4gZS50b3VjaGVzPT09dW5kZWZpbmVkfHwxIT09ZS50b3VjaGVzLmxlbmd0aD9VLm5vbmUoKTpVLnNvbWUoZS50b3VjaGVzWzBdKX0sT3c9ZnVuY3Rpb24oYSl7dmFyIHU9T3UoVS5ub25lKCkpLHM9T3UoITEpLHI9anUoZnVuY3Rpb24oZSl7YS5maXJlKCJsb25ncHJlc3MiLGtlKGtlKHt9LGUpLHt0eXBlOiJsb25ncHJlc3MifSkpLHMuc2V0KCEwKX0sNDAwKTthLm9uKCJ0b3VjaHN0YXJ0IixmdW5jdGlvbihuKXtEdyhuKS5lYWNoKGZ1bmN0aW9uKGUpe3IuY2FuY2VsKCk7dmFyIHQ9e3g6ZS5jbGllbnRYLHk6ZS5jbGllbnRZLHRhcmdldDpuLnRhcmdldH07ci50aHJvdHRsZShuKSxzLnNldCghMSksdS5zZXQoVS5zb21lKHQpKX0pfSwhMCksYS5vbigidG91Y2htb3ZlIixmdW5jdGlvbihlKXtyLmNhbmNlbCgpLER3KGUpLmVhY2goZnVuY3Rpb24oaSl7dS5nZXQoKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvO3Q9aSxuPWUscj1NYXRoLmFicyh0LmNsaWVudFgtbi54KSxvPU1hdGguYWJzKHQuY2xpZW50WS1uLnkpLCg1PHJ8fDU8bykmJih1LnNldChVLm5vbmUoKSkscy5zZXQoITEpLGEuZmlyZSgibG9uZ3ByZXNzY2FuY2VsIikpfSl9KX0sITApLGEub24oInRvdWNoZW5kIHRvdWNoY2FuY2VsIixmdW5jdGlvbih0KXtyLmNhbmNlbCgpLCJ0b3VjaGNhbmNlbCIhPT10LnR5cGUmJnUuZ2V0KCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRhcmdldC5pc0VxdWFsTm9kZSh0LnRhcmdldCl9KS5lYWNoKGZ1bmN0aW9uKCl7cy5nZXQoKT90LnByZXZlbnREZWZhdWx0KCk6YS5maXJlKCJ0YXAiLGtlKGtlKHt9LHQpLHt0eXBlOiJ0YXAifSkpfSl9LCEwKX0sQnc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSh0Lm5vZGVOYW1lKX0sUHc9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89ZS5kb20saT1lLnNlbGVjdGlvbixhPWUuc2NoZW1hLHU9YS5nZXRCbG9ja0VsZW1lbnRzKCkscz1pLmdldFN0YXJ0KCksYz1lLmdldEJvZHkoKSxsPXZjKGUpO2lmKHMmJkFuKHMpJiZsKXt2YXIgZj1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoYS5pc1ZhbGlkQ2hpbGQoZixsLnRvTG93ZXJDYXNlKCkpJiYoZD11LG09YyxwPXMsIUYoVHAoQXQuZnJvbURvbShwKSxBdC5mcm9tRG9tKG0pKSxmdW5jdGlvbihlKXtyZXR1cm4gQncoZCxlLmRvbSl9KSkpe2Zvcih2YXIgZCxtLHAsZyxoLHY9aS5nZXRSbmcoKSx5PXYuc3RhcnRDb250YWluZXIsYj12LnN0YXJ0T2Zmc2V0LEM9di5lbmRDb250YWluZXIsdz12LmVuZE9mZnNldCx4PUVtKGUpLHM9Yy5maXJzdENoaWxkO3M7KWlmKGc9dSxJbihoPXMpfHxBbihoKSYmIUJ3KGcsaCkmJiFKbChoKSl7aWYoZnVuY3Rpb24oZSx0KXtpZihJbih0KSl7aWYoMD09PXQubm9kZVZhbHVlLmxlbmd0aClyZXR1cm4hMDtpZigvXlxzKyQvLnRlc3QodC5ub2RlVmFsdWUpJiYoIXQubmV4dFNpYmxpbmd8fEJ3KGUsdC5uZXh0U2libGluZykpKXJldHVybiEwfXJldHVybiExfSh1LHMpKXtzPShuPXMpLm5leHRTaWJsaW5nLG8ucmVtb3ZlKG4pO2NvbnRpbnVlfXR8fCh0PW8uY3JlYXRlKGwseWMoZSkpLHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxzKSxyPSEwKSxzPShuPXMpLm5leHRTaWJsaW5nLHQuYXBwZW5kQ2hpbGQobil9ZWxzZSB0PW51bGwscz1zLm5leHRTaWJsaW5nO3ImJngmJih2LnNldFN0YXJ0KHksYiksdi5zZXRFbmQoQyx3KSxpLnNldFJuZyh2KSxlLm5vZGVDaGFuZ2VkKCkpfX19LEx3PWZ1bmN0aW9uKGUsdCl7dmFyIG47dC5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IikmJihrbyh0KSwobj1lKS5zZWxlY3Rpb24uc2V0Um5nKG4uc2VsZWN0aW9uLmdldFJuZygpKSxlLnNlbGVjdGlvbi5zY3JvbGxJbnRvVmlldyh0KSl9LEl3PWZ1bmN0aW9uKGUsdCl7dmFyIG4scj0obj1lLERyKEF0LmZyb21Eb20obi5nZXRCb2R5KCkpLCIqW2RhdGEtbWNlLWNhcmV0XSIpLmZvbGQoRShudWxsKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5kb219KSk7aWYocilyZXR1cm4iY29tcG9zaXRpb25zdGFydCI9PT10LnR5cGU/KHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHZvaWQgTHcoZSxyKSk6dm9pZChDbyhyKSYmKEx3KGUsciksZS51bmRvTWFuYWdlci5hZGQoKSkpfTsod2I9Q2I9Q2J8fHt9KVt3Yi5Ccj0wXT0iQnIiLHdiW3diLkJsb2NrPTFdPSJCbG9jayIsd2Jbd2IuV3JhcD0yXT0iV3JhcCIsd2Jbd2IuRW9sPTNdPSJFb2wiO3ZhciBNdyxGdyxVdz1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09VnMuQmFja3dhcmRzP1oodCk6dH0senc9ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBvLGksYSx1LHMsYyxsPV9sKG4pLGY9cixkPVtdO2YmJihzPWwsYz1mLG89dD09PVZzLkZvcndhcmRzP3MubmV4dChjKTpzLnByZXYoYykpOyl7aWYoem4oby5nZXROb2RlKCExKSkpcmV0dXJuIHQ9PT1Wcy5Gb3J3YXJkcz97cG9zaXRpb25zOlV3KHQsZCkuY29uY2F0KFtvXSksYnJlYWtUeXBlOkNiLkJyLGJyZWFrQXQ6VS5zb21lKG8pfTp7cG9zaXRpb25zOlV3KHQsZCksYnJlYWtUeXBlOkNiLkJyLGJyZWFrQXQ6VS5zb21lKG8pfTtpZihvLmlzVmlzaWJsZSgpKXtpZihlKGYsbykpe3ZhciBtPShpPXQsYT1mLHpuKCh1PW8pLmdldE5vZGUoaT09PVZzLkZvcndhcmRzKSk/Q2IuQnI6ITE9PT1vbChhLHUpP0NiLkJsb2NrOkNiLldyYXApO3JldHVybntwb3NpdGlvbnM6VXcodCxkKSxicmVha1R5cGU6bSxicmVha0F0OlUuc29tZShvKX19ZC5wdXNoKG8pLGY9b31lbHNlIGY9b31yZXR1cm57cG9zaXRpb25zOlV3KHQsZCksYnJlYWtUeXBlOkNiLkVvbCxicmVha0F0OlUubm9uZSgpfX0sanc9ZnVuY3Rpb24obixyLG8sZSl7cmV0dXJuIHIobyxlKS5icmVha0F0Lm1hcChmdW5jdGlvbihlKXt2YXIgdD1yKG8sZSkucG9zaXRpb25zO3JldHVybiBuPT09VnMuQmFja3dhcmRzP3QuY29uY2F0KGUpOltlXS5jb25jYXQodCl9KS5nZXRPcihbXSl9LEh3PWZ1bmN0aW9uKGUsaSl7cmV0dXJuIFgoZSxmdW5jdGlvbihlLG8pe3JldHVybiBlLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gVS5zb21lKG8pfSxmdW5jdGlvbihyKXtyZXR1cm4gZHMobmUoci5nZXRDbGllbnRSZWN0cygpKSxuZShvLmdldENsaWVudFJlY3RzKCkpLGZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5hYnMoaS1lLmxlZnQpO3JldHVybiBNYXRoLmFicyhpLXQubGVmdCk8PW4/bzpyfSkub3IoZSl9KX0sVS5ub25lKCkpfSxWdz1mdW5jdGlvbih0LGUpe3JldHVybiBuZShlLmdldENsaWVudFJlY3RzKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIEh3KHQsZS5sZWZ0KX0pfSxxdz1OKHp3LEhzLmlzQWJvdmUsLTEpLCR3PU4oencsSHMuaXNCZWxvdywxKSxXdz1OKGp3LC0xLHF3KSxLdz1OKGp3LDEsJHcpLFh3PWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUpe3JldHVybiB6KGUsZnVuY3Rpb24oZSl7cmV0dXJuKGU9cHMoZSkpLm5vZGU9dCxlfSl9O2lmKEFuKHQpKXJldHVybiBlKHQuZ2V0Q2xpZW50UmVjdHMoKSk7aWYoSW4odCkpe3ZhciBuPXQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiBuLnNldFN0YXJ0KHQsMCksbi5zZXRFbmQodCx0LmRhdGEubGVuZ3RoKSxlKG4uZ2V0Q2xpZW50UmVjdHMoKSl9fSxZdz1mdW5jdGlvbihlKXtyZXR1cm4gSihlLFh3KX07KEZ3PU13PU13fHx7fSlbRncuVXA9LTFdPSJVcCIsRndbRncuRG93bj0xXT0iRG93biI7dmFyIEd3PWZ1bmN0aW9uKG8saSxhLGUsdSx0KXt2YXIgcz0wLGM9W10sbj1mdW5jdGlvbihlKXt2YXIgdCxuLHI9WXcoW2VdKTtmb3IoLTE9PT1vJiYocj1yLnJldmVyc2UoKSksdD0wO3Q8ci5sZW5ndGg7dCsrKWlmKG49clt0XSwhYShuLGwpKXtpZigwPGMubGVuZ3RoJiZpKG4sRWUoYykpJiZzKyssbi5saW5lPXMsdShuKSlyZXR1cm4hMDtjLnB1c2gobil9fSxsPUVlKHQuZ2V0Q2xpZW50UmVjdHMoKSk7aWYoIWwpcmV0dXJuIGM7dmFyIHI9dC5nZXROb2RlKCk7cmV0dXJuIG4ociksZnVuY3Rpb24oZSx0LG4scil7Zm9yKDtyPW5sKHIsZSxNbyx0KTspaWYobihyKSlyZXR1cm59KG8sZSxuLHIpLGN9LEp3PU4oR3csTXcuVXAsdnMseXMpLFF3PU4oR3csTXcuRG93bix5cyx2cyksWnc9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0PW4sZS5saW5lPnQ7dmFyIHR9fSxleD1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQ9bixlLmxpbmU9PT10O3ZhciB0fX0sdHg9Vm4sbng9bmwscng9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5hYnMoZS5sZWZ0LXQpfSxveD1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLmFicyhlLnJpZ2h0LXQpfSxpeD1mdW5jdGlvbihlLHQpe3JldHVybiBlPj10LmxlZnQmJmU8PXQucmlnaHR9LGF4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+PXQudG9wJiZlPD10LmJvdHRvbX0sdXg9ZnVuY3Rpb24oZSxvKXtyZXR1cm4gU2UoZSxmdW5jdGlvbihlLHQpe3ZhciBuPU1hdGgubWluKHJ4KGUsbyksb3goZSxvKSkscj1NYXRoLm1pbihyeCh0LG8pLG94KHQsbykpO3JldHVybiBpeChvLHQpfHwhaXgobyxlKSYmKHI9PT1uJiZ0eCh0Lm5vZGUpfHxyPG4pP3Q6ZX0pfSxzeD1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPW54KHIsZSxNbyx0LCFvKTtkb3tpZighaXx8bihpKSlyZXR1cm59d2hpbGUoaT1ueChpLGUsTW8sdCkpfSxjeD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPVl3KEgob2UoZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKSxLYykpLGE9SChpLE4oYXgsbikpO2lmKHU9dXgoYSx0KSl7dmFyIHUscz0hQm4odS5ub2RlKSYmISRuKHUubm9kZSk7aWYoKHU9dXgoZnVuY3Rpb24oZSxyLHQpe3ZvaWQgMD09PXQmJih0PSEwKTt2YXIgbz1bXSxuPWZ1bmN0aW9uKHQsZSl7dmFyIG49SChZdyhbZV0pLGZ1bmN0aW9uKGUpe3JldHVybiF0KGUscil9KTtyZXR1cm4gbz1vLmNvbmNhdChuKSwwPT09bi5sZW5ndGh9O3JldHVybiBvLnB1c2gociksc3goTXcuVXAsZSxOKG4sdnMpLHIubm9kZSx0KSxzeChNdy5Eb3duLGUsTihuLHlzKSxyLm5vZGUsdCksb30oZSx1LHMpLHQpKSYmS2ModS5ub2RlKSlyZXR1cm4gbz10LHtub2RlOihyPXUpLm5vZGUsYmVmb3JlOnJ4KHIsbyk8b3gocixvKX19cmV0dXJuIG51bGx9LGx4PWZ1bmN0aW9uKGUsdCl7ZS5zZWxlY3Rpb24uc2V0Um5nKHQpLFhkKGUsZS5zZWxlY3Rpb24uZ2V0Um5nKCkpfSxmeD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFUuc29tZShmQyhlLHQsbikpfSxkeD1mdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGE9dD09PVZzLkZvcndhcmRzLHU9X2woZS5nZXRCb2R5KCkpLHM9TihwbCxhP3UubmV4dDp1LnByZXYpLGM9YT9yOm87aWYoIW4uY29sbGFwc2VkKXt2YXIgbD1DcyhuKTtpZihpKGwpKXJldHVybiBzQyh0LGUsbCx0PT09VnMuQmFja3dhcmRzLCExKX12YXIgZj1kbCh0LGUuZ2V0Qm9keSgpLG4pO2lmKGMoZikpcmV0dXJuIGNDKGUsZi5nZXROb2RlKCFhKSk7dmFyIGQ9VWIoYSxzKGYpKSxtPXZvKG4uc3RhcnRDb250YWluZXIpO2lmKCFkKXJldHVybiBtP1Uuc29tZShuKTpVLm5vbmUoKTtpZihjKGQpKXJldHVybiBzQyh0LGUsZC5nZXROb2RlKCFhKSxhLCExKTt2YXIgcD1zKGQpO3JldHVybiBwJiZjKHApJiZnbChkLHApP3NDKHQsZSxwLmdldE5vZGUoIWEpLGEsITEpOm0/ZngoZSxkLnRvUmFuZ2UoKSwhMSk6VS5ub25lKCl9LG14PWZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt2YXIgYT1kbChlLHQuZ2V0Qm9keSgpLG4pLHU9RWUoYS5nZXRDbGllbnRSZWN0cygpKSxzPWU9PT1Ndy5Eb3duO2lmKCF1KXJldHVybiBVLm5vbmUoKTt2YXIgYyxsPShzP1F3Okp3KSh0LmdldEJvZHkoKSxadygxKSxhKSxmPUgobCxleCgxKSksZD11LmxlZnQsbT11eChmLGQpO2lmKG0mJmkobS5ub2RlKSl7dmFyIHA9TWF0aC5hYnMoZC1tLmxlZnQpLGc9TWF0aC5hYnMoZC1tLnJpZ2h0KTtyZXR1cm4gc0MoZSx0LG0ubm9kZSxwPGcsITEpfWlmKGM9cihhKT9hLmdldE5vZGUoKTpvKGEpP2EuZ2V0Tm9kZSghMCk6Q3Mobikpe3ZhciBoPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHM9X2wodCksYz1bXSxsPTAsZj1mdW5jdGlvbihlKXtyZXR1cm4gRWUoZS5nZXRDbGllbnRSZWN0cygpKX0sZD0xPT09ZT8obz1zLm5leHQsaT15cyxhPXZzLCRzLmFmdGVyKHIpKToobz1zLnByZXYsaT12cyxhPXlzLCRzLmJlZm9yZShyKSksbT1mKGQpO2Rve2lmKGQuaXNWaXNpYmxlKCkmJiFhKHU9ZihkKSxtKSl7aWYoMDxjLmxlbmd0aCYmaSh1LEVlKGMpKSYmbCsrLCh1PXBzKHUpKS5wb3NpdGlvbj1kLHUubGluZT1sLG4odSkpcmV0dXJuIGM7Yy5wdXNoKHUpfX13aGlsZShkPW8oZCkpO3JldHVybiBjfShlLHQuZ2V0Qm9keSgpLFp3KDEpLGMpLHY9dXgoSChoLGV4KDEpKSxkKTtpZih2KXJldHVybiBmeCh0LHYucG9zaXRpb24udG9SYW5nZSgpLCExKTtpZih2PUVlKEgoaCxleCgwKSkpKXJldHVybiBmeCh0LHYucG9zaXRpb24udG9SYW5nZSgpLCExKX1yZXR1cm4gMD09PWYubGVuZ3RoP3B4KHQscykuZmlsdGVyKHM/bzpyKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGZDKHQsZS50b1JhbmdlKCksITEpfSk6VS5ub25lKCl9LHB4PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5zZWxlY3Rpb24uZ2V0Um5nKCkscj1lLmdldEJvZHkoKTtpZih0KXt2YXIgbz0kcy5mcm9tUmFuZ2VFbmQobiksaT0kdyhyLG8pO3JldHVybiByZShpLnBvc2l0aW9ucyl9bz0kcy5mcm9tUmFuZ2VTdGFydChuKSxpPXF3KHIsbyk7cmV0dXJuIG5lKGkucG9zaXRpb25zKX0sZ3g9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBweCh0LGUpLmZpbHRlcihuKS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2VsZWN0aW9uLnNldFJuZyhlLnRvUmFuZ2UoKSksITB9KX0saHg9Vm4sdng9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT1fbChlLmdldEJvZHkoKSksYT1OKHBsLDE9PT10P2kubmV4dDppLnByZXYpO2lmKG4uY29sbGFwc2VkJiYiIiE9PXZjKGUpKXt2YXIgdSxzPWUuZG9tLmdldFBhcmVudChuLnN0YXJ0Q29udGFpbmVyLCJQUkUiKTtpZighcylyZXR1cm47YSgkcy5mcm9tUmFuZ2VTdGFydChuKSl8fChvPShyPWUpLmRvbS5jcmVhdGUodmMocikpLCghd3QuaWV8fDExPD13dC5pZSkmJihvLmlubmVySFRNTD0nPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nKSx1PW8sMT09PXQ/ZS4kKHMpLmFmdGVyKHUpOmUuJChzKS5iZWZvcmUodSksZS5zZWxlY3Rpb24uc2VsZWN0KHUsITApLGUuc2VsZWN0aW9uLmNvbGxhcHNlKCkpfX0seXg9ZnVuY3Rpb24oZSx0KXt2YXIgbj10P1ZzLkZvcndhcmRzOlZzLkJhY2t3YXJkcyxyPWUuc2VsZWN0aW9uLmdldFJuZygpO3JldHVybiBkeChlLG4scixOcCxFcCxoeCkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiB2eChlLG4sciksVS5ub25lKCl9KX0sYng9ZnVuY3Rpb24oZSx0KXt2YXIgbj10PzE6LTEscj1lLnNlbGVjdGlvbi5nZXRSbmcoKTtyZXR1cm4gbXgoZSxuLHIsZnVuY3Rpb24oZSl7cmV0dXJuIE5wKGUpfHx4cChlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIEVwKGUpfHxTcChlKX0saHgpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gdngoZSxuLHIpLFUubm9uZSgpfSl9LEN4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHl4KHQsZSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiBseCh0LGUpLCEwfSl9LHd4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGJ4KHQsZSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiBseCh0LGUpLCEwfSl9LHh4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGd4KGUsdCx0P0VwOk5wKX0sU3g9ZnVuY3Rpb24oZSl7cmV0dXJuIE0oWyJmaWdjYXB0aW9uIl0sTHQoZSkpfSxOeD1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiB0LnNldFN0YXJ0QmVmb3JlKGUuZG9tKSx0LnNldEVuZEJlZm9yZShlLmRvbSksdH0sRXg9ZnVuY3Rpb24oZSx0LG4peyhuP2ZuOmxuKShlLHQpfSxreD1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4iIj09PXQ/KGw9ZSxmPXIsZD1BdC5mcm9tVGFnKCJiciIpLEV4KGwsZCxmKSxOeChkKSk6KG89ZSxpPXIsYT10LHU9bixzPUF0LmZyb21UYWcoYSksYz1BdC5mcm9tVGFnKCJiciIpLFluKHMsdSksZm4ocyxjKSxFeChvLHMsaSksTngoYykpO3ZhciBvLGksYSx1LHMsYyxsLGYsZH0sX3g9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PyhvPWUuZG9tLCR3KG8sbikuYnJlYWtBdC5pc05vbmUoKSk6KHI9ZS5kb20scXcocixuKS5icmVha0F0LmlzTm9uZSgpKTt2YXIgcixvfSxBeD1mdW5jdGlvbih0LG4pe3ZhciBlLHIsbz1BdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSxpPSRzLmZyb21SYW5nZVN0YXJ0KHQuc2VsZWN0aW9uLmdldFJuZygpKSxhPXZjKHQpLHU9eWModCk7cmV0dXJuIGU9aSxyPU4oT3QsbyksQXIoQXQuZnJvbURvbShlLmNvbnRhaW5lcigpKSxlbyxyKS5maWx0ZXIoU3gpLmV4aXN0cyhmdW5jdGlvbigpe2lmKF94KG8sbixpKSl7dmFyIGU9a3gobyxhLHUsbik7cmV0dXJuIHQuc2VsZWN0aW9uLnNldFJuZyhlKSwhMH1yZXR1cm4hMX0pfSxSeD1mdW5jdGlvbihlLHQpe3JldHVybiEhZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmQXgoZSx0KX0sVHg9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gSih6KGUsZnVuY3Rpb24oZSl7cmV0dXJuIGtlKHtzaGlmdEtleTohMSxhbHRLZXk6ITEsY3RybEtleTohMSxtZXRhS2V5OiExLGtleUNvZGU6MCxhY3Rpb246Vn0sZSl9KSxmdW5jdGlvbihlKXtyZXR1cm4gdD1lLChuPXIpLmtleUNvZGU9PT10LmtleUNvZGUmJm4uc2hpZnRLZXk9PT10LnNoaWZ0S2V5JiZuLmFsdEtleT09PXQuYWx0S2V5JiZuLmN0cmxLZXk9PT10LmN0cmxLZXkmJm4ubWV0YUtleT09PXQubWV0YUtleT9bZV06W107dmFyIHQsbn0pfSxEeD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseShudWxsLHQpfX0sT3g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWShUeChlLHQpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmFjdGlvbigpfSl9LEJ4PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZT9Wcy5Gb3J3YXJkczpWcy5CYWNrd2FyZHMscj10LnNlbGVjdGlvbi5nZXRSbmcoKTtyZXR1cm4gZHgodCxuLHIsQ3Asd3AsJG4pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gbHgodCxlKSwhMH0pfSxQeD1mdW5jdGlvbih0LGUpe3ZhciBuPWU/MTotMSxyPXQuc2VsZWN0aW9uLmdldFJuZygpO3JldHVybiBteCh0LG4scixDcCx3cCwkbikuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiBseCh0LGUpLCEwfSl9LEx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGd4KGUsdCx0P3dwOkNwKX0sSXg9ZnVuY3Rpb24obyxlKXtyZXR1cm4gSihlLGZ1bmN0aW9uKGUpe3ZhciB0LG4scj0odD1wcyhlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxuPS0xLHtsZWZ0OnQubGVmdC1uLHRvcDp0LnRvcC1uLHJpZ2h0OnQucmlnaHQrMipuLGJvdHRvbTp0LmJvdHRvbSsyKm4sd2lkdGg6dC53aWR0aCtuLGhlaWdodDp0LmhlaWdodCtufSk7cmV0dXJuW3t4OnIubGVmdCx5Om8ociksY2VsbDplfSx7eDpyLnJpZ2h0LHk6byhyKSxjZWxsOmV9XX0pfSxNeD1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdT1HdShBdC5mcm9tRG9tKG4pLCJ0ZCx0aCxjYXB0aW9uIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbX0pLHM9SChJeChlLHUpLGZ1bmN0aW9uKGUpe3JldHVybiB0KGUsbyl9KTtyZXR1cm4gaT1yLGE9byxYKHMsZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIFUuc29tZShyKX0sZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5zcXJ0KE1hdGguYWJzKGUueC1pKStNYXRoLmFicyhlLnktYSkpLG49TWF0aC5zcXJ0KE1hdGguYWJzKHIueC1pKStNYXRoLmFicyhyLnktYSkpO3JldHVybiBVLnNvbWUobjx0P3I6ZSl9KX0sVS5ub25lKCkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5jZWxsfSl9LEZ4PU4oTXgsZnVuY3Rpb24oZSl7cmV0dXJuIGUuYm90dG9tfSxmdW5jdGlvbihlLHQpe3JldHVybiBlLnk8dH0pLFV4PU4oTXgsZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9wfSxmdW5jdGlvbihlLHQpe3JldHVybiBlLnk+dH0pLHp4PWZ1bmN0aW9uKHQsbil7cmV0dXJuIG5lKG4uZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gRngodCxlLmxlZnQsZS50b3ApfSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gVncoVWwodD1lKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHF3KHQsZSkucG9zaXRpb25zLmNvbmNhdChlKX0pLmdldE9yKFtdKSxuKTt2YXIgdH0pfSxqeD1mdW5jdGlvbih0LG4pe3JldHVybiByZShuLmdldENsaWVudFJlY3RzKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIFV4KHQsZS5sZWZ0LGUudG9wKX0pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIFZ3KEZsKHQ9ZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybltlXS5jb25jYXQoJHcodCxlKS5wb3NpdGlvbnMpfSkuZ2V0T3IoW10pLG4pO3ZhciB0fSl9LEh4PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1PWUodCxuKTtyZXR1cm4oYT11KS5icmVha1R5cGU9PT1DYi5XcmFwJiYwPT09YS5wb3NpdGlvbnMubGVuZ3RofHwhem4obi5nZXROb2RlKCkpJiYoKGk9dSkuYnJlYWtUeXBlPT09Q2IuQnImJjE9PT1pLnBvc2l0aW9ucy5sZW5ndGgpPyhyPWUsbz10LCF1LmJyZWFrQXQuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiByKG8sZSkuYnJlYWtBdC5pc1NvbWUoKX0pKTp1LmJyZWFrQXQuaXNOb25lKCl9LFZ4PU4oSHgscXcpLHF4PU4oSHgsJHcpLCR4PWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvLGksYSx1LHM9dC5zZWxlY3Rpb24uZ2V0Um5nKCksYz1lPzE6LTE7cmV0dXJuISghJGMoKXx8KG89ZSxpPXMsYT1uLHU9JHMuZnJvbVJhbmdlU3RhcnQoaSksIUxsKCFvLGEpLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKHUpfSkpKSYmKHNDKGMsdCxuLCFlLCExKS5lYWNoKGZ1bmN0aW9uKGUpe2x4KHQsZSl9KSwhMCl9LFd4PWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5nZXROb2RlKGUpO3JldHVybiBBbihuKSYmIlRBQkxFIj09PW4ubm9kZU5hbWU/VS5zb21lKG4pOlUubm9uZSgpfSxLeD1mdW5jdGlvbih1LHMsYyl7dmFyIGU9V3goISFzLGMpLHQ9ITE9PT1zO2UuZm9sZChmdW5jdGlvbigpe3JldHVybiBseCh1LGMudG9SYW5nZSgpKX0sZnVuY3Rpb24oYSl7cmV0dXJuIExsKHQsdS5nZXRCb2R5KCkpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKGMpfSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBseCh1LGMudG9SYW5nZSgpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG49cyxvPWEsdD1jLHZvaWQoKGk9dmMocj11KSk/ci51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbigpe3ZhciBlPUF0LmZyb21UYWcoaSk7WW4oZSx5YyhyKSksZm4oZSxBdC5mcm9tVGFnKCJiciIpKSwobj9jbjpzbikoQXQuZnJvbURvbShvKSxlKTt2YXIgdD1yLmRvbS5jcmVhdGVSbmcoKTt0LnNldFN0YXJ0KGUuZG9tLDApLHQuc2V0RW5kKGUuZG9tLDApLGx4KHIsdCl9KTpseChyLHQudG9SYW5nZSgpKSk7dmFyIG4scixvLHQsaX0pfSl9LFh4PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsPWUuc2VsZWN0aW9uLmdldFJuZygpLGY9JHMuZnJvbVJhbmdlU3RhcnQobCksZD1lLmdldEJvZHkoKTtpZighdCYmVngocixmKSl7dmFyIG09KHU9ZCx6eChzPW4sYz1mKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIG5lKGMuZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gSHcoV3codSwkcy5iZWZvcmUocykpLGUubGVmdCl9KX0pLmdldE9yKCRzLmJlZm9yZShzKSkpO3JldHVybiBLeChlLHQsbSksITB9aWYodCYmcXgocixmKSl7bT0obz1kLGp4KGk9bixhPWYpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gbmUoYS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBIdyhLdyhvLCRzLmFmdGVyKGkpKSxlLmxlZnQpfSl9KS5nZXRPcigkcy5hZnRlcihpKSkpO3JldHVybiBLeChlLHQsbSksITB9cmV0dXJuITF9LFl4PWZ1bmN0aW9uKG4scixvKXtyZXR1cm4gVS5mcm9tKG4uZG9tLmdldFBhcmVudChuLnNlbGVjdGlvbi5nZXROb2RlKCksInRkLHRoIikpLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIFUuZnJvbShuLmRvbS5nZXRQYXJlbnQodCwidGFibGUiKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBvKG4scixlLHQpfSl9KS5nZXRPcighMSl9LEd4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFl4KGUsdCwkeCl9LEp4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFl4KGUsdCxYeCl9LFF4PWZ1bmN0aW9uKGksYSl7aS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG87ITE9PT1lLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodD1pLG49YSxyPWUsbz1kdCgpLm9zLE94KFt7a2V5Q29kZTp1ZC5SSUdIVCxhY3Rpb246RHgoQ3gsdCwhMCl9LHtrZXlDb2RlOnVkLkxFRlQsYWN0aW9uOkR4KEN4LHQsITEpfSx7a2V5Q29kZTp1ZC5VUCxhY3Rpb246RHgod3gsdCwhMSl9LHtrZXlDb2RlOnVkLkRPV04sYWN0aW9uOkR4KHd4LHQsITApfSx7a2V5Q29kZTp1ZC5SSUdIVCxhY3Rpb246RHgoR3gsdCwhMCl9LHtrZXlDb2RlOnVkLkxFRlQsYWN0aW9uOkR4KEd4LHQsITEpfSx7a2V5Q29kZTp1ZC5VUCxhY3Rpb246RHgoSngsdCwhMSl9LHtrZXlDb2RlOnVkLkRPV04sYWN0aW9uOkR4KEp4LHQsITApfSx7a2V5Q29kZTp1ZC5SSUdIVCxhY3Rpb246RHgoQngsdCwhMCl9LHtrZXlDb2RlOnVkLkxFRlQsYWN0aW9uOkR4KEJ4LHQsITEpfSx7a2V5Q29kZTp1ZC5VUCxhY3Rpb246RHgoUHgsdCwhMSl9LHtrZXlDb2RlOnVkLkRPV04sYWN0aW9uOkR4KFB4LHQsITApfSx7a2V5Q29kZTp1ZC5SSUdIVCxhY3Rpb246RHgodXcsdCxuLCEwKX0se2tleUNvZGU6dWQuTEVGVCxhY3Rpb246RHgodXcsdCxuLCExKX0se2tleUNvZGU6dWQuUklHSFQsY3RybEtleTohby5pc09TWCgpLGFsdEtleTpvLmlzT1NYKCksYWN0aW9uOkR4KGx3LHQsbil9LHtrZXlDb2RlOnVkLkxFRlQsY3RybEtleTohby5pc09TWCgpLGFsdEtleTpvLmlzT1NYKCksYWN0aW9uOkR4KGZ3LHQsbil9LHtrZXlDb2RlOnVkLlVQLGFjdGlvbjpEeChSeCx0LCExKX0se2tleUNvZGU6dWQuRE9XTixhY3Rpb246RHgoUngsdCwhMCl9XSxyKS5lYWNoKGZ1bmN0aW9uKGUpe3IucHJldmVudERlZmF1bHQoKX0pKX0pfSxaeD1mdW5jdGlvbihvLGkpe28ub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scjshMT09PWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJih0PW8sbj1pLHI9ZSxPeChbe2tleUNvZGU6dWQuQkFDS1NQQUNFLGFjdGlvbjpEeChBdyx0LCExKX0se2tleUNvZGU6dWQuQkFDS1NQQUNFLGFjdGlvbjpEeChOQyx0LCExKX0se2tleUNvZGU6dWQuREVMRVRFLGFjdGlvbjpEeChOQyx0LCEwKX0se2tleUNvZGU6dWQuQkFDS1NQQUNFLGFjdGlvbjpEeChnQyx0LCExKX0se2tleUNvZGU6dWQuREVMRVRFLGFjdGlvbjpEeChnQyx0LCEwKX0se2tleUNvZGU6dWQuQkFDS1NQQUNFLGFjdGlvbjpEeChndyx0LG4sITEpfSx7a2V5Q29kZTp1ZC5ERUxFVEUsYWN0aW9uOkR4KGd3LHQsbiwhMCl9LHtrZXlDb2RlOnVkLkJBQ0tTUEFDRSxhY3Rpb246RHgoS2csdCwhMSl9LHtrZXlDb2RlOnVkLkRFTEVURSxhY3Rpb246RHgoS2csdCwhMCl9LHtrZXlDb2RlOnVkLkJBQ0tTUEFDRSxhY3Rpb246RHgoRUMsdCwhMSl9LHtrZXlDb2RlOnVkLkRFTEVURSxhY3Rpb246RHgoRUMsdCwhMCl9LHtrZXlDb2RlOnVkLkJBQ0tTUEFDRSxhY3Rpb246RHgod3csdCwhMSl9LHtrZXlDb2RlOnVkLkRFTEVURSxhY3Rpb246RHgod3csdCwhMCl9LHtrZXlDb2RlOnVkLkJBQ0tTUEFDRSxhY3Rpb246RHgoaUMsdCwhMSl9LHtrZXlDb2RlOnVkLkRFTEVURSxhY3Rpb246RHgoaUMsdCwhMCl9LHtrZXlDb2RlOnVkLkJBQ0tTUEFDRSxhY3Rpb246RHgodEMsdCwhMSl9LHtrZXlDb2RlOnVkLkRFTEVURSxhY3Rpb246RHgodEMsdCwhMCl9LHtrZXlDb2RlOnVkLkJBQ0tTUEFDRSxhY3Rpb246RHgoYncsdCwhMSl9LHtrZXlDb2RlOnVkLkRFTEVURSxhY3Rpb246RHgoYncsdCwhMCl9XSxyKS5lYWNoKGZ1bmN0aW9uKGUpe3IucHJldmVudERlZmF1bHQoKX0pKX0pLG8ub24oImtleXVwIixmdW5jdGlvbihlKXt2YXIgdCxuOyExPT09ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHQ9byxuPWUsT3goW3trZXlDb2RlOnVkLkJBQ0tTUEFDRSxhY3Rpb246RHgoU0MsdCl9LHtrZXlDb2RlOnVkLkRFTEVURSxhY3Rpb246RHgoU0MsdCl9XSxuKSl9KX0sZVM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89dCxpPWUuZG9tLGE9ZS5zY2hlbWEuZ2V0TW92ZUNhcmV0QmVmb3JlT25FbnRlckVsZW1lbnRzKCk7aWYodCl7IS9eKExJfERUfEREKSQvLnRlc3QodC5ub2RlTmFtZSl8fChyPWZ1bmN0aW9uKGUpe2Zvcig7ZTspe2lmKDE9PT1lLm5vZGVUeXBlfHwzPT09ZS5ub2RlVHlwZSYmZS5kYXRhJiYvW1xyXG5cc10vLnRlc3QoZS5kYXRhKSlyZXR1cm4gZTtlPWUubmV4dFNpYmxpbmd9fSh0LmZpcnN0Q2hpbGQpKSYmL14oVUx8T0x8REwpJC8udGVzdChyLm5vZGVOYW1lKSYmdC5pbnNlcnRCZWZvcmUoaS5kb2MuY3JlYXRlVGV4dE5vZGUobG8pLHQuZmlyc3RDaGlsZCk7dmFyIHU9aS5jcmVhdGVSbmcoKTtpZih0Lm5vcm1hbGl6ZSgpLHQuaGFzQ2hpbGROb2RlcygpKXtmb3IodmFyIHM9bmV3IFhyKHQsdCk7bj1zLmN1cnJlbnQoKTspe2lmKEluKG4pKXt1LnNldFN0YXJ0KG4sMCksdS5zZXRFbmQobiwwKTticmVha31pZihhW24ubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pe3Uuc2V0U3RhcnRCZWZvcmUobiksdS5zZXRFbmRCZWZvcmUobik7YnJlYWt9bz1uLG49cy5uZXh0KCl9bnx8KHUuc2V0U3RhcnQobywwKSx1LnNldEVuZChvLDApKX1lbHNlIHpuKHQpP3QubmV4dFNpYmxpbmcmJmkuaXNCbG9jayh0Lm5leHRTaWJsaW5nKT8odS5zZXRTdGFydEJlZm9yZSh0KSx1LnNldEVuZEJlZm9yZSh0KSk6KHUuc2V0U3RhcnRBZnRlcih0KSx1LnNldEVuZEFmdGVyKHQpKToodS5zZXRTdGFydCh0LDApLHUuc2V0RW5kKHQsMCkpO2Uuc2VsZWN0aW9uLnNldFJuZyh1KSxYZChlLHUpfX0sdFM9ZnVuY3Rpb24oZSl7cmV0dXJuIFUuZnJvbShlLmRvbS5nZXRQYXJlbnQoZS5zZWxlY3Rpb24uZ2V0U3RhcnQoITApLGUuZG9tLmlzQmxvY2spKX0sblM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUubm9kZU5hbWU9PT10fSxyUz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmL14oT0x8VUx8TEkpJC8udGVzdChlLm5vZGVOYW1lKX0sb1M9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybi9eKExJfERUfEREKSQvLnRlc3QodC5ub2RlTmFtZSk/dDplfSxpUz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWVbbj8iZmlyc3RDaGlsZCI6Imxhc3RDaGlsZCJdO3ImJiFBbihyKTspcj1yW24/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIl07cmV0dXJuIHI9PT10fSxhUz1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdSxzLGMsbCxmPWUuZG9tLGQ9ZS5zZWxlY3Rpb24uZ2V0Um5nKCk7biE9PWUuZ2V0Qm9keSgpJiYoclMoaT1uKSYmclMoaS5wYXJlbnROb2RlKSYmKG89IkxJIiksYT1vP3Qobyk6Zi5jcmVhdGUoIkJSIiksaVMobixyLCEwKSYmaVMobixyLCExKT9uUyhuLCJMSSIpP2YuaW5zZXJ0QWZ0ZXIoYSxvUyhuKSk6Zi5yZXBsYWNlKGEsbik6aVMobixyLCEwKT9uUyhuLCJMSSIpPyhmLmluc2VydEFmdGVyKGEsb1MobikpLGEuYXBwZW5kQ2hpbGQoZi5kb2MuY3JlYXRlVGV4dE5vZGUoIiAiKSksYS5hcHBlbmRDaGlsZChuKSk6bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLG4pOmlTKG4sciwhMSk/Zi5pbnNlcnRBZnRlcihhLG9TKG4pKToobj1vUyhuKSwodT1kLmNsb25lUmFuZ2UoKSkuc2V0U3RhcnRBZnRlcihyKSx1LnNldEVuZEFmdGVyKG4pLHM9dS5leHRyYWN0Q29udGVudHMoKSwiTEkiPT09byYmKGw9IkxJIiwoYz1zKS5maXJzdENoaWxkJiZjLmZpcnN0Q2hpbGQubm9kZU5hbWU9PT1sKT8oYT1zLmZpcnN0Q2hpbGQsZi5pbnNlcnRBZnRlcihzLG4pKTooZi5pbnNlcnRBZnRlcihzLG4pLGYuaW5zZXJ0QWZ0ZXIoYSxuKSkpLGYucmVtb3ZlKHIpLGVTKGUsYSkpfSx1Uz1mdW5jdGlvbihlKXtlLmlubmVySFRNTD0nPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nfSxzUz1mdW5jdGlvbihlLHQpe3JldHVybiBlLm5vZGVOYW1lPT09dHx8ZS5wcmV2aW91c1NpYmxpbmcmJmUucHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lPT09dH0sY1M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmZS5pc0Jsb2NrKHQpJiYhL14oVER8VEh8Q0FQVElPTnxGT1JNKSQvLnRlc3QodC5ub2RlTmFtZSkmJiEvXihmaXhlZHxhYnNvbHV0ZSkvaS50ZXN0KHQuc3R5bGUucG9zaXRpb24pJiYidHJ1ZSIhPT1lLmdldENvbnRlbnRFZGl0YWJsZSh0KX0sbFM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiExPT09SW4odCk/bjplPzE9PT1uJiZ0LmRhdGEuY2hhckF0KG4tMSk9PT1mbz8wOm46bj09PXQuZGF0YS5sZW5ndGgtMSYmdC5kYXRhLmNoYXJBdChuKT09PWZvP3QuZGF0YS5sZW5ndGg6bn0sZlM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1lLmdldFJvb3QoKSxvPXQ7byE9PXImJiJmYWxzZSIhPT1lLmdldENvbnRlbnRFZGl0YWJsZShvKTspInRydWUiPT09ZS5nZXRDb250ZW50RWRpdGFibGUobykmJihuPW8pLG89by5wYXJlbnROb2RlO3JldHVybiBvIT09cj9uOnJ9LGRTPWZ1bmN0aW9uKGUsdCl7dmFyIG49dmMoZSk7biYmbi50b0xvd2VyQ2FzZSgpPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJmZ1bmN0aW9uKGUsbyx0KXt2YXIgaT1lLmRvbTtVLmZyb20odC5zdHlsZSkubWFwKGkucGFyc2VTdHlsZSkuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1ycihBdC5mcm9tRG9tKG8pKSxuPWtlKGtlKHt9LHQpLGUpO2kuc2V0U3R5bGVzKG8sbil9KTt2YXIgbj1VLmZyb20odFsiY2xhc3MiXSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KC9ccysvKX0pLHI9VS5mcm9tKG8uY2xhc3NOYW1lKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEgoZS5zcGxpdCgvXHMrLyksZnVuY3Rpb24oZSl7cmV0dXJuIiIhPT1lfSl9KTtkcyhuLHIsZnVuY3Rpb24odCxlKXt2YXIgbj1IKGUsZnVuY3Rpb24oZSl7cmV0dXJuIU0odCxlKX0pLHI9X2UodCxuKTtpLnNldEF0dHJpYihvLCJjbGFzcyIsci5qb2luKCIgIikpfSk7dmFyIGE9WyJzdHlsZSIsImNsYXNzIl0sdT1tZSh0LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIU0oYSx0KX0pO2kuc2V0QXR0cmlicyhvLHUpfShlLHQseWMoZSkpfSxtUz1mdW5jdGlvbihhLGUpe3ZhciB0LHUsaSxzLG4scixvLGMsbCxmPWEuZG9tLGQ9YS5zY2hlbWEsbT1kLmdldE5vbkVtcHR5RWxlbWVudHMoKSxwPWEuc2VsZWN0aW9uLmdldFJuZygpLGc9ZnVuY3Rpb24oZSl7dmFyIHQsbj11LHI9ZC5nZXRUZXh0SW5saW5lRWxlbWVudHMoKSxvPWV8fCJUQUJMRSI9PT1jfHwiSFIiPT09Yz9mLmNyZWF0ZShlfHxOKTpzLmNsb25lTm9kZSghMSksaT1vO2lmKCExPT09YS5nZXRQYXJhbSgia2VlcF9zdHlsZXMiLCEwKSlmLnNldEF0dHJpYihvLCJzdHlsZSIsbnVsbCksZi5zZXRBdHRyaWIobywiY2xhc3MiLG51bGwpO2Vsc2UgZG97aWYocltuLm5vZGVOYW1lXSl7aWYoamwobil8fEpsKG4pKWNvbnRpbnVlO3Q9bi5jbG9uZU5vZGUoITEpLGYuc2V0QXR0cmliKHQsImlkIiwiIiksby5oYXNDaGlsZE5vZGVzKCk/dC5hcHBlbmRDaGlsZChvLmZpcnN0Q2hpbGQpOmk9dCxvLmFwcGVuZENoaWxkKHQpfX13aGlsZSgobj1uLnBhcmVudE5vZGUpJiZuIT09RSk7cmV0dXJuIGRTKGEsbyksdVMoaSksb30saD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9bFMoZSx1LGkpO2lmKEluKHUpJiYoZT8wPHI6cjx1Lm5vZGVWYWx1ZS5sZW5ndGgpKXJldHVybiExO2lmKHUucGFyZW50Tm9kZT09PXMmJmwmJiFlKXJldHVybiEwO2lmKGUmJkFuKHUpJiZ1PT09cy5maXJzdENoaWxkKXJldHVybiEwO2lmKHNTKHUsIlRBQkxFIil8fHNTKHUsIkhSIikpcmV0dXJuIGwmJiFlfHwhbCYmZTt2YXIgbz1uZXcgWHIodSxzKTtmb3IoSW4odSkmJihlJiYwPT09cj9vLnByZXYoKTplfHxyIT09dS5ub2RlVmFsdWUubGVuZ3RofHxvLm5leHQoKSk7dD1vLmN1cnJlbnQoKTspe2lmKEFuKHQpKXtpZighdC5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikmJihuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxtW25dJiYiYnIiIT09bikpcmV0dXJuITF9ZWxzZSBpZihJbih0KSYmIVVvKHQubm9kZVZhbHVlKSlyZXR1cm4hMTtlP28ucHJldigpOm8ubmV4dCgpfXJldHVybiEwfSx2PWZ1bmN0aW9uKCl7bj0vXihIWzEtNl18UFJFfEZJR1VSRSkkLy50ZXN0KGMpJiYiSEdST1VQIiE9PUM/ZyhOKTpnKCksYS5nZXRQYXJhbSgiZW5kX2NvbnRhaW5lcl9vbl9lbXB0eV9ibG9jayIsITEpJiZjUyhmLG8pJiZmLmlzRW1wdHkocyk/bj1mLnNwbGl0KG8scyk6Zi5pbnNlcnRBZnRlcihuLHMpLGVTKGEsbil9O3lkKGYscCkuZWFjaChmdW5jdGlvbihlKXtwLnNldFN0YXJ0KGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCkscC5zZXRFbmQoZS5lbmRDb250YWluZXIsZS5lbmRPZmZzZXQpfSksdT1wLnN0YXJ0Q29udGFpbmVyLGk9cC5zdGFydE9mZnNldCxOPXZjKGEpO3ZhciB5PSEoIWV8fCFlLnNoaWZ0S2V5KSxiPSEoIWV8fCFlLmN0cmxLZXkpO0FuKHUpJiZ1Lmhhc0NoaWxkTm9kZXMoKSYmKGw9aT51LmNoaWxkTm9kZXMubGVuZ3RoLTEsdT11LmNoaWxkTm9kZXNbTWF0aC5taW4oaSx1LmNoaWxkTm9kZXMubGVuZ3RoLTEpXXx8dSxpPWwmJkluKHUpP3Uubm9kZVZhbHVlLmxlbmd0aDowKTt2YXIgQyx3LHgsUyxOLEU9ZlMoZix1KTtFJiYoKE4mJiF5fHwhTiYmeSkmJih1PWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1LHMsYyxsLGY9dHx8IlAiLGQ9ZS5kb20sbT1mUyhkLHIpLHA9ZC5nZXRQYXJlbnQocixkLmlzQmxvY2spO2lmKCFwfHwhY1MoZCxwKSl7aWYoYz0ocD1wfHxtKT09PWUuZ2V0Qm9keSgpfHwobD1wKSYmL14oVER8VEh8Q0FQVElPTikkLy50ZXN0KGwubm9kZU5hbWUpP3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKTpwLnBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwhcC5oYXNDaGlsZE5vZGVzKCkpcmV0dXJuIGk9ZC5jcmVhdGUoZiksZFMoZSxpKSxwLmFwcGVuZENoaWxkKGkpLG4uc2V0U3RhcnQoaSwwKSxuLnNldEVuZChpLDApLGk7Zm9yKHU9cjt1LnBhcmVudE5vZGUhPT1wOyl1PXUucGFyZW50Tm9kZTtmb3IoO3UmJiFkLmlzQmxvY2sodSk7KXU9KGE9dSkucHJldmlvdXNTaWJsaW5nO2lmKGEmJmUuc2NoZW1hLmlzVmFsaWRDaGlsZChjLGYudG9Mb3dlckNhc2UoKSkpe2ZvcihpPWQuY3JlYXRlKGYpLGRTKGUsaSksYS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpLGEpLHU9YTt1JiYhZC5pc0Jsb2NrKHUpOylzPXUubmV4dFNpYmxpbmcsaS5hcHBlbmRDaGlsZCh1KSx1PXM7bi5zZXRTdGFydChyLG8pLG4uc2V0RW5kKHIsbyl9fXJldHVybiByfShhLE4scCx1LGkpKSxzPWYuZ2V0UGFyZW50KHUsZi5pc0Jsb2NrKSxvPXM/Zi5nZXRQYXJlbnQocy5wYXJlbnROb2RlLGYuaXNCbG9jayk6bnVsbCxjPXM/cy5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpOiIiLCJMSSIhPT0oQz1vP28ubm9kZU5hbWUudG9VcHBlckNhc2UoKToiIil8fGJ8fChvPShzPW8pLnBhcmVudE5vZGUsYz1DKSwvXihMSXxEVHxERCkkLy50ZXN0KGMpJiZmLmlzRW1wdHkocyk/YVMoYSxnLG8scyxOKTpOJiZzPT09YS5nZXRCb2R5KCl8fChOPU58fCJQIix2byhzKT8obj1rbyhzKSxmLmlzRW1wdHkocykmJnVTKHMpLGRTKGEsbiksZVMoYSxuKSk6aCgpP3YoKTpoKCEwKT8obj1zLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGcoKSxzKSxlUyhhLHNTKHMsIkhSIik/bjpzKSk6KChTPSh4PXApLmNsb25lUmFuZ2UoKSkuc2V0U3RhcnQoeC5zdGFydENvbnRhaW5lcixsUyghMCx4LnN0YXJ0Q29udGFpbmVyLHguc3RhcnRPZmZzZXQpKSxTLnNldEVuZCh4LmVuZENvbnRhaW5lcixsUyghMSx4LmVuZENvbnRhaW5lcix4LmVuZE9mZnNldCkpLCh0PVMuY2xvbmVSYW5nZSgpKS5zZXRFbmRBZnRlcihzKSxyPXQuZXh0cmFjdENvbnRlbnRzKCksdz1yLFcoWXUoQXQuZnJvbURvbSh3KSxVdCksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb207dC5ub2RlVmFsdWU9cG8odC5ub2RlVmFsdWUpfSksZnVuY3Rpb24oZSl7Zm9yKDtJbihlKSYmKGUubm9kZVZhbHVlPWUubm9kZVZhbHVlLnJlcGxhY2UoL15bXHJcbl0rLywiIikpLGU9ZS5maXJzdENoaWxkOyk7fShyKSxuPXIuZmlyc3RDaGlsZCxmLmluc2VydEFmdGVyKHIscyksZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhPW4sdT1bXTtpZihhKXtmb3IoO2E9YS5maXJzdENoaWxkOyl7aWYoZS5pc0Jsb2NrKGEpKXJldHVybjtBbihhKSYmIXRbYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSYmdS5wdXNoKGEpfWZvcihyPXUubGVuZ3RoO3ItLTspIShhPXVbcl0pLmhhc0NoaWxkTm9kZXMoKXx8YS5maXJzdENoaWxkPT09YS5sYXN0Q2hpbGQmJiIiPT09YS5maXJzdENoaWxkLm5vZGVWYWx1ZT9lLnJlbW92ZShhKToobz1lLChpPWEpJiYiQSI9PT1pLm5vZGVOYW1lJiZvLmlzRW1wdHkoaSkmJmUucmVtb3ZlKGEpKX19KGYsbSxuKSxmdW5jdGlvbihlLHQpe3Qubm9ybWFsaXplKCk7dmFyIG49dC5sYXN0Q2hpbGQ7biYmIS9eKGxlZnR8cmlnaHQpJC9naS50ZXN0KGUuZ2V0U3R5bGUobiwiZmxvYXQiLCEwKSl8fGUuYWRkKHQsImJyIil9KGYscyksZi5pc0VtcHR5KHMpJiZ1UyhzKSxuLm5vcm1hbGl6ZSgpLGYuaXNFbXB0eShuKT8oZi5yZW1vdmUobiksdigpKTooZFMoYSxuKSxlUyhhLG4pKSksZi5zZXRBdHRyaWIobiwiaWQiLCIiKSxhLmZpcmUoIk5ld0Jsb2NrIix7bmV3QmxvY2s6bn0pKSl9LHBTPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmNyZWF0ZSgic3BhbiIse30sIiZuYnNwOyIpO24ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocixuKSx0LnNjcm9sbEludG9WaWV3KHIpLGUucmVtb3ZlKHIpfSxnUz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLmNyZWF0ZVJuZygpO3I/KG8uc2V0U3RhcnRCZWZvcmUobiksby5zZXRFbmRCZWZvcmUobikpOihvLnNldFN0YXJ0QWZ0ZXIobiksby5zZXRFbmRBZnRlcihuKSksdC5zZXRSbmcobyl9LGhTPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPWUuc2VsZWN0aW9uLGk9ZS5kb20sYT1vLmdldFJuZygpO3lkKGksYSkuZWFjaChmdW5jdGlvbihlKXthLnNldFN0YXJ0KGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCksYS5zZXRFbmQoZS5lbmRDb250YWluZXIsZS5lbmRPZmZzZXQpfSk7dmFyIHUscz1hLnN0YXJ0T2Zmc2V0LGM9YS5zdGFydENvbnRhaW5lcjsxPT09Yy5ub2RlVHlwZSYmYy5oYXNDaGlsZE5vZGVzKCkmJih1PXM+Yy5jaGlsZE5vZGVzLmxlbmd0aC0xLGM9Yy5jaGlsZE5vZGVzW01hdGgubWluKHMsYy5jaGlsZE5vZGVzLmxlbmd0aC0xKV18fGMscz11JiYzPT09Yy5ub2RlVHlwZT9jLm5vZGVWYWx1ZS5sZW5ndGg6MCk7dmFyIGw9aS5nZXRQYXJlbnQoYyxpLmlzQmxvY2spLGY9bD9pLmdldFBhcmVudChsLnBhcmVudE5vZGUsaS5pc0Jsb2NrKTpudWxsLGQ9Zj9mLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk6IiIsbT0hKCF0fHwhdC5jdHJsS2V5KTsiTEkiIT09ZHx8bXx8KGw9ZiksYyYmMz09PWMubm9kZVR5cGUmJnM+PWMubm9kZVZhbHVlLmxlbmd0aCYmIWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsbz1uZXcgWHIodCxuKSxpPWUuZ2V0Tm9uRW1wdHlFbGVtZW50cygpO3I9by5uZXh0KCk7KWlmKGlbci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8MDxyLmxlbmd0aClyZXR1cm4hMH0oZS5zY2hlbWEsYyxsKSYmKG49aS5jcmVhdGUoImJyIiksYS5pbnNlcnROb2RlKG4pLGEuc2V0U3RhcnRBZnRlcihuKSxhLnNldEVuZEFmdGVyKG4pLHI9ITApLG49aS5jcmVhdGUoImJyIiksS3MoaSxhLG4pLHBTKGksbyxuKSxnUyhpLG8sbixyKSxlLnVuZG9NYW5hZ2VyLmFkZCgpfSx2Uz1mdW5jdGlvbihlLHQpe3ZhciBuPUF0LmZyb21UYWcoImJyIik7c24oQXQuZnJvbURvbSh0KSxuKSxlLnVuZG9NYW5hZ2VyLmFkZCgpfSx5Uz1mdW5jdGlvbihlLHQpe2JTKGUuZ2V0Qm9keSgpLHQpfHxjbihBdC5mcm9tRG9tKHQpLEF0LmZyb21UYWcoImJyIikpO3ZhciBuPUF0LmZyb21UYWcoImJyIik7Y24oQXQuZnJvbURvbSh0KSxuKSxwUyhlLmRvbSxlLnNlbGVjdGlvbixuLmRvbSksZ1MoZS5kb20sZS5zZWxlY3Rpb24sbi5kb20sITEpLGUudW5kb01hbmFnZXIuYWRkKCl9LGJTPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49JHMuYWZ0ZXIodCksISF6bihuLmdldE5vZGUoKSl8fElsKGUsJHMuYWZ0ZXIodCkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gem4oZS5nZXROb2RlKCkpfSkuZ2V0T3IoITEpO3ZhciBufSxDUz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIkEiPT09ZS5ub2RlTmFtZSYmImhyZWYiaW4gZX0sd1M9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChDLENTLENTLEMpfSx4Uz1mdW5jdGlvbihlLHQpe3QuZm9sZChWLE4odlMsZSksTih5UyxlKSxWKX0sU1M9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saT0ocj1OKEliLG49ZSksbz0kcy5mcm9tUmFuZ2VTdGFydChuLnNlbGVjdGlvbi5nZXRSbmcoKSksV0MocixuLmdldEJvZHkoKSxvKS5maWx0ZXIod1MpKTtpLmlzU29tZSgpP2kuZWFjaChOKHhTLGUpKTpoUyhlLHQpfSxOUz1mdW5jdGlvbihlLHQpe3JldHVybiB0UyhlKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA8dC5sZW5ndGgmJlR0KEF0LmZyb21Eb20oZSksdCl9KS5pc1NvbWUoKX0sRVM9Q3IoW3ticjpbXX0se2Jsb2NrOltdfSx7bm9uZTpbXX1dKSxrUz1mdW5jdGlvbihlLHQpe3JldHVybiBOUyhuPWUsbi5nZXRQYXJhbSgibm9fbmV3bGluZV9zZWxlY3RvciIsIiIpKTt2YXIgbn0sX1M9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIiI9PT12YyhlKT09PW59fSxBUz1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gdFMoZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBpbyhBdC5mcm9tRG9tKGUpKX0pLmlzU29tZSgpPT09bn19LFJTPWZ1bmN0aW9uKG4scil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRTKGUpLmZvbGQoRSgiIiksZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUudG9VcHBlckNhc2UoKX0pPT09bi50b1VwcGVyQ2FzZSgpPT09cn19LFRTPWZ1bmN0aW9uKGUpe3JldHVybiBSUygicHJlIixlKX0sRFM9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0UGFyYW0oImJyX2luX3ByZSIsITApPT09bn19LE9TPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE5TKG49ZSxuLmdldFBhcmFtKCJicl9uZXdsaW5lX3NlbGVjdG9yIiwiLm1jZS10b2MgaDIsZmlnY2FwdGlvbixjYXB0aW9uIikpO3ZhciBufSxCUz1mdW5jdGlvbihlLHQpe3JldHVybiB0fSxQUz1mdW5jdGlvbihlKXt2YXIgdD12YyhlKSxuPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9ZS5nZXRSb290KCksbz10O28hPT1yJiYiZmFsc2UiIT09ZS5nZXRDb250ZW50RWRpdGFibGUobyk7KSJ0cnVlIj09PWUuZ2V0Q29udGVudEVkaXRhYmxlKG8pJiYobj1vKSxvPW8ucGFyZW50Tm9kZTtyZXR1cm4gbyE9PXI/bjpyfShlLmRvbSxlLnNlbGVjdGlvbi5nZXRTdGFydCgpKTtyZXR1cm4gbiYmZS5zY2hlbWEuaXNWYWxpZENoaWxkKG4ubm9kZU5hbWUsdHx8IlAiKX0sTFM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gWChlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQobixyKX0sITApP1Uuc29tZSh0KTpVLm5vbmUoKX19LElTPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIElDKFtMUyhba1NdLEVTLm5vbmUoKSksTFMoW1JTKCJzdW1tYXJ5IiwhMCldLEVTLmJyKCkpLExTKFtUUyghMCksRFMoITEpLEJTXSxFUy5icigpKSxMUyhbVFMoITApLERTKCExKV0sRVMuYmxvY2soKSksTFMoW1RTKCEwKSxEUyghMCksQlNdLEVTLmJsb2NrKCkpLExTKFtUUyghMCksRFMoITApXSxFUy5icigpKSxMUyhbQVMoITApLEJTXSxFUy5icigpKSxMUyhbQVMoITApXSxFUy5ibG9jaygpKSxMUyhbX1MoITApLEJTLFBTXSxFUy5ibG9jaygpKSxMUyhbX1MoITApXSxFUy5icigpKSxMUyhbT1NdLEVTLmJyKCkpLExTKFtfUyghMSksQlNdLEVTLmJyKCkpLExTKFtQU10sRVMuYmxvY2soKSldLFtlLCEoIXR8fCF0LnNoaWZ0S2V5KV0pLmdldE9yKEVTLm5vbmUoKSl9LE1TPWZ1bmN0aW9uKGUsdCl7SVMoZSx0KS5mb2xkKGZ1bmN0aW9uKCl7U1MoZSx0KX0sZnVuY3Rpb24oKXttUyhlLHQpfSxWKX0sRlM9ZnVuY3Rpb24obyl7by5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbixyO2Uua2V5Q29kZT09PXVkLkVOVEVSJiYodD1vLChuPWUpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwobi5wcmV2ZW50RGVmYXVsdCgpLChyPXQudW5kb01hbmFnZXIpLnR5cGluZyYmKHIudHlwaW5nPSExLHIuYWRkKCkpLHQudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXshMT09PXQuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJnQuZXhlY0NvbW1hbmQoIkRlbGV0ZSIpLE1TKHQsbil9KSkpfSl9LFVTPWZ1bmN0aW9uKHIpe3Iub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG47ITE9PT1lLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodD1yLG49ZSxPeChbe2tleUNvZGU6dWQuRU5ELGFjdGlvbjpEeCh4eCx0LCEwKX0se2tleUNvZGU6dWQuSE9NRSxhY3Rpb246RHgoeHgsdCwhMSl9LHtrZXlDb2RlOnVkLkVORCxhY3Rpb246RHgoTHgsdCwhMCl9LHtrZXlDb2RlOnVkLkhPTUUsYWN0aW9uOkR4KEx4LHQsITEpfV0sbikuZWFjaChmdW5jdGlvbihlKXtuLnByZXZlbnREZWZhdWx0KCl9KSl9KX0selM9ZHQoKS5icm93c2VyLGpTPWZ1bmN0aW9uKHQpe3ZhciBlLG47ZT10LG49enUoZnVuY3Rpb24oKXtlLmNvbXBvc2luZ3x8aWcoZSl9LDApLHpTLmlzSUUoKSYmKGUub24oImtleXByZXNzIixmdW5jdGlvbihlKXtuLnRocm90dGxlKCl9KSxlLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKGUpe24uY2FuY2VsKCl9KSksdC5vbigiaW5wdXQiLGZ1bmN0aW9uKGUpeyExPT09ZS5pc0NvbXBvc2luZyYmaWcodCl9KX0sSFM9ZnVuY3Rpb24obixyKXt2YXIgZT1yLmNvbnRhaW5lcigpLHQ9ci5vZmZzZXQoKTtyZXR1cm4gSW4oZSk/KGUuaW5zZXJ0RGF0YSh0LG4pLFUuc29tZShIcyhlLHQrbi5sZW5ndGgpKSk6bWwocikubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PUF0LmZyb21UZXh0KG4pO3JldHVybihyLmlzQXRFbmQoKT9jbjpzbikoZSx0KSxIcyh0LmRvbSxuLmxlbmd0aCl9KX0sVlM9TihIUyxsbykscVM9TihIUywiICIpLCRTPWZ1bmN0aW9uKHIsbyl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0PXIsKCFHcChuPWUpJiYoSnAodCxuKXx8WHAodCxuKXx8WXAodCxuKSk/VlM6cVMpKG8pO3ZhciB0LG59fSxXUz1mdW5jdGlvbihlKXt2YXIgdCxuLHI9JHMuZnJvbVJhbmdlU3RhcnQoZS5zZWxlY3Rpb24uZ2V0Um5nKCkpLG89QXQuZnJvbURvbShlLmdldEJvZHkoKSk7aWYoZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSl7dmFyIGk9TihJYixlKSxhPSRzLmZyb21SYW5nZVN0YXJ0KGUuc2VsZWN0aW9uLmdldFJuZygpKTtyZXR1cm4gV0MoaSxlLmdldEJvZHkoKSxhKS5iaW5kKChuPW8sZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChmdW5jdGlvbihlKXtyZXR1cm4gTWwobi5kb20sJHMuYmVmb3JlKGUpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIEZsKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gVWwoZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBJbChuLmRvbSwkcy5hZnRlcihlKSl9KX0pKS5iaW5kKCRTKG8scikpLmV4aXN0cygodD1lLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpLHQubm9kZUNoYW5nZWQoKSwhMH0pKX1yZXR1cm4hMX0sS1M9ZnVuY3Rpb24ocil7ci5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbjshMT09PWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJih0PXIsbj1lLE94KFt7a2V5Q29kZTp1ZC5TUEFDRUJBUixhY3Rpb246RHgoV1MsdCl9XSxuKS5lYWNoKGZ1bmN0aW9uKGUpe24ucHJldmVudERlZmF1bHQoKX0pKX0pfSxYUz1mdW5jdGlvbihlKXt2YXIgdCxuPWN3KGUpO3JldHVybih0PWUpLm9uKCJrZXl1cCBjb21wb3NpdGlvbnN0YXJ0IixOKEl3LHQpKSxReChlLG4pLFp4KGUsbiksRlMoZSksS1MoZSksalMoZSksVVMoZSksbn0sWVM9KEdTLnByb3RvdHlwZS5ub2RlQ2hhbmdlZD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbz10aGlzLmVkaXRvci5zZWxlY3Rpb247dGhpcy5lZGl0b3IuaW5pdGlhbGl6ZWQmJm8mJiF0aGlzLmVkaXRvci5nZXRQYXJhbSgiZGlzYWJsZV9ub2RlY2hhbmdlIikmJiF0aGlzLmVkaXRvci5tb2RlLmlzUmVhZE9ubHkoKSYmKHI9dGhpcy5lZGl0b3IuZ2V0Qm9keSgpLCh0PW8uZ2V0U3RhcnQoITApfHxyKS5vd25lckRvY3VtZW50PT09dGhpcy5lZGl0b3IuZ2V0RG9jKCkmJnRoaXMuZWRpdG9yLmRvbS5pc0NoaWxkT2YodCxyKXx8KHQ9ciksbj1bXSx0aGlzLmVkaXRvci5kb20uZ2V0UGFyZW50KHQsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1yfHx2b2lkIG4ucHVzaChlKX0pLChlPWV8fHt9KS5lbGVtZW50PXQsZS5wYXJlbnRzPW4sdGhpcy5lZGl0b3IuZmlyZSgiTm9kZUNoYW5nZSIsZSkpfSxHUy5wcm90b3R5cGUuaXNTYW1lRWxlbWVudFBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLmVkaXRvci4kKGUpLnBhcmVudHNVbnRpbCh0aGlzLmVkaXRvci5nZXRCb2R5KCkpLmFkZChlKTtpZihuLmxlbmd0aD09PXRoaXMubGFzdFBhdGgubGVuZ3RoKXtmb3IodD1uLmxlbmd0aDswPD10JiZuW3RdPT09dGhpcy5sYXN0UGF0aFt0XTt0LS0pO2lmKC0xPT09dClyZXR1cm4gdGhpcy5sYXN0UGF0aD1uLCEwfXJldHVybiB0aGlzLmxhc3RQYXRoPW4sITF9LEdTKTtmdW5jdGlvbiBHUyhyKXt2YXIgbzt0aGlzLmxhc3RQYXRoPVtdLHRoaXMuZWRpdG9yPXI7dmFyIHQ9dGhpczsib25zZWxlY3Rpb25jaGFuZ2UiaW4gci5nZXREb2MoKXx8ci5vbigiTm9kZUNoYW5nZSBjbGljayBtb3VzZXVwIGtleXVwIGZvY3VzIixmdW5jdGlvbihlKXt2YXIgdD1yLnNlbGVjdGlvbi5nZXRSbmcoKSxuPXtzdGFydENvbnRhaW5lcjp0LnN0YXJ0Q29udGFpbmVyLHN0YXJ0T2Zmc2V0OnQuc3RhcnRPZmZzZXQsZW5kQ29udGFpbmVyOnQuZW5kQ29udGFpbmVyLGVuZE9mZnNldDp0LmVuZE9mZnNldH07Im5vZGVjaGFuZ2UiIT09ZS50eXBlJiZkZChuLG8pfHxyLmZpcmUoIlNlbGVjdGlvbkNoYW5nZSIpLG89bn0pLHIub24oImNvbnRleHRtZW51IixmdW5jdGlvbigpe3IuZmlyZSgiU2VsZWN0aW9uQ2hhbmdlIil9KSxyLm9uKCJTZWxlY3Rpb25DaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIGU9ci5zZWxlY3Rpb24uZ2V0U3RhcnQoITApOyFlfHwhd3QucmFuZ2UmJnIuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCl8fFZmKHIpJiYhdC5pc1NhbWVFbGVtZW50UGF0aChlKSYmci5kb20uaXNDaGlsZE9mKGUsci5nZXRCb2R5KCkpJiZyLm5vZGVDaGFuZ2VkKHtzZWxlY3Rpb25DaGFuZ2U6ITB9KX0pLHIub24oIm1vdXNldXAiLGZ1bmN0aW9uKGUpeyFlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZWZihyKSYmKCJJTUciPT09ci5zZWxlY3Rpb24uZ2V0Tm9kZSgpLm5vZGVOYW1lP3FyLnNldEVkaXRvclRpbWVvdXQocixmdW5jdGlvbigpe3Iubm9kZUNoYW5nZWQoKX0pOnIubm9kZUNoYW5nZWQoKSl9KX12YXIgSlM9ZnVuY3Rpb24oZSl7dmFyIHQsbjsodD1lKS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe3QuZG9tLmdldFBhcmVudChlLnRhcmdldCwiZGV0YWlscyIpJiZlLnByZXZlbnREZWZhdWx0KCl9KSwobj1lKS5wYXJzZXIuYWRkTm9kZUZpbHRlcigiZGV0YWlscyIsZnVuY3Rpb24oZSl7VyhlLGZ1bmN0aW9uKGUpe2UuYXR0cigiZGF0YS1tY2Utb3BlbiIsZS5hdHRyKCJvcGVuIikpLGUuYXR0cigib3BlbiIsIm9wZW4iKX0pfSksbi5zZXJpYWxpemVyLmFkZE5vZGVGaWx0ZXIoImRldGFpbHMiLGZ1bmN0aW9uKGUpe1coZSxmdW5jdGlvbihlKXt2YXIgdD1lLmF0dHIoImRhdGEtbWNlLW9wZW4iKTtlLmF0dHIoIm9wZW4iLHEodCk/dDpudWxsKSxlLmF0dHIoImRhdGEtbWNlLW9wZW4iLG51bGwpfSl9KX0sUVM9ZnVuY3Rpb24oZSl7cmV0dXJuIEFuKGUpJiZybyhBdC5mcm9tRG9tKGUpKX0sWlM9ZnVuY3Rpb24oYSl7YS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGk7Mzw9ZS5kZXRhaWwmJihyPSh0PWEpLnNlbGVjdGlvbi5nZXRSbmcoKSxvPUhzLmZyb21SYW5nZVN0YXJ0KHIpLGk9SHMuZnJvbVJhbmdlRW5kKHIpLEhzLmlzRWxlbWVudFBvc2l0aW9uKG8pJiYobj1vLmNvbnRhaW5lcigpLFFTKG4pJiZGbChuKS5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiByLnNldFN0YXJ0KGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSl9KSksSHMuaXNFbGVtZW50UG9zaXRpb24oaSkmJihuPW8uY29udGFpbmVyKCksUVMobikmJlVsKG4pLmVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHIuc2V0RW5kKGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSl9KSksdC5zZWxlY3Rpb24uc2V0Um5nKFlnKHIpKSl9KX0sZU49ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPWUub3duZXJEb2N1bWVudCxyPW4uZG9jdW1lbnRFbGVtZW50LG89bi5kZWZhdWx0VmlldztyZXR1cm57dG9wOnQudG9wK28ucGFnZVlPZmZzZXQtci5jbGllbnRUb3AsbGVmdDp0LmxlZnQrby5wYWdlWE9mZnNldC1yLmNsaWVudExlZnR9fSx0Tj1mdW5jdGlvbihlLHQpe3JldHVybiBuPSh1PWUpLmlubGluZT9lTih1LmdldEJvZHkoKSk6e2xlZnQ6MCx0b3A6MH0sYT0oaT1lKS5nZXRCb2R5KCkscj1pLmlubGluZT97bGVmdDphLnNjcm9sbExlZnQsdG9wOmEuc2Nyb2xsVG9wfTp7bGVmdDowLHRvcDowfSx7cGFnZVg6KG89ZnVuY3Rpb24oZSx0KXtpZih0LnRhcmdldC5vd25lckRvY3VtZW50PT09ZS5nZXREb2MoKSlyZXR1cm57bGVmdDp0LnBhZ2VYLHRvcDp0LnBhZ2VZfTt2YXIgbixyLG8saSxhLHU9ZU4oZS5nZXRDb250ZW50QXJlYUNvbnRhaW5lcigpKSxzPShyPShuPWUpLmdldEJvZHkoKSxvPW4uZ2V0RG9jKCkuZG9jdW1lbnRFbGVtZW50LGk9e2xlZnQ6ci5zY3JvbGxMZWZ0LHRvcDpyLnNjcm9sbFRvcH0sYT17bGVmdDpyLnNjcm9sbExlZnR8fG8uc2Nyb2xsTGVmdCx0b3A6ci5zY3JvbGxUb3B8fG8uc2Nyb2xsVG9wfSxuLmlubGluZT9pOmEpO3JldHVybntsZWZ0OnQucGFnZVgtdS5sZWZ0K3MubGVmdCx0b3A6dC5wYWdlWS11LnRvcCtzLnRvcH19KGUsdCkpLmxlZnQtbi5sZWZ0K3IubGVmdCxwYWdlWTpvLnRvcC1uLnRvcCtyLnRvcH07dmFyIG4scixvLGksYSx1fSxuTj1WbixyTj1IbixvTj1mdW5jdGlvbihlKXtlJiZlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX0saU49ZnVuY3Rpb24odSxzKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhOzA9PT1lLmJ1dHRvbiYmKHQ9WShzLmRvbS5nZXRQYXJlbnRzKGUudGFyZ2V0KSxmdW5jdGlvbigpe2Zvcih2YXIgbj1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyluW2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XShlKSlyZXR1cm4hMDtyZXR1cm4hMX19KG5OLHJOKSkuZ2V0T3IobnVsbCksaT1zLmdldEJvZHkoKSxuTihhPXQpJiZhIT09aSYmKG49cy5kb20uZ2V0UG9zKHQpLHI9cy5nZXRCb2R5KCksbz1zLmdldERvYygpLmRvY3VtZW50RWxlbWVudCx1LnNldCh7ZWxlbWVudDp0LGRyYWdnaW5nOiExLHNjcmVlblg6ZS5zY3JlZW5YLHNjcmVlblk6ZS5zY3JlZW5ZLG1heFg6KHMuaW5saW5lP3Iuc2Nyb2xsV2lkdGg6by5vZmZzZXRXaWR0aCktMixtYXhZOihzLmlubGluZT9yLnNjcm9sbEhlaWdodDpvLm9mZnNldEhlaWdodCktMixyZWxYOmUucGFnZVgtbi54LHJlbFk6ZS5wYWdlWS1uLnksd2lkdGg6dC5vZmZzZXRXaWR0aCxoZWlnaHQ6dC5vZmZzZXRIZWlnaHQsZ2hvc3Q6ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZS5kb20saT10LmNsb25lTm9kZSghMCk7by5zZXRTdHlsZXMoaSx7d2lkdGg6bixoZWlnaHQ6cn0pLG8uc2V0QXR0cmliKGksImRhdGEtbWNlLXNlbGVjdGVkIixudWxsKTt2YXIgYT1vLmNyZWF0ZSgiZGl2Iix7ImNsYXNzIjoibWNlLWRyYWctY29udGFpbmVyIiwiZGF0YS1tY2UtYm9ndXMiOiJhbGwiLHVuc2VsZWN0YWJsZToib24iLGNvbnRlbnRlZGl0YWJsZToiZmFsc2UifSk7cmV0dXJuIG8uc2V0U3R5bGVzKGEse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsb3BhY2l0eTouNSxvdmVyZmxvdzoiaGlkZGVuIixib3JkZXI6MCxwYWRkaW5nOjAsbWFyZ2luOjAsd2lkdGg6bixoZWlnaHQ6cn0pLG8uc2V0U3R5bGVzKGkse21hcmdpbjowLGJveFNpemluZzoiYm9yZGVyLWJveCJ9KSxhLmFwcGVuZENoaWxkKGkpLGF9KHMsdCx0Lm9mZnNldFdpZHRoLHQub2Zmc2V0SGVpZ2h0KX0pKSl9fSxhTj1mdW5jdGlvbihlLGgpe3ZhciB2PXFyLnRocm90dGxlKGZ1bmN0aW9uKGUsdCl7aC5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSxoLnNlbGVjdGlvbi5wbGFjZUNhcmV0QXQoZSx0KX0sMCk7cmV0dXJuIGgub24oInJlbW92ZSIsdi5zdG9wKSxmdW5jdGlvbihnKXtyZXR1cm4gZS5vbihmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxwPU1hdGgubWF4KE1hdGguYWJzKGcuc2NyZWVuWC1lLnNjcmVlblgpLE1hdGguYWJzKGcuc2NyZWVuWS1lLnNjcmVlblkpKTtpZighZS5kcmFnZ2luZyYmMTA8cCl7aWYoaC5maXJlKCJkcmFnc3RhcnQiLHt0YXJnZXQ6ZS5lbGVtZW50fSkuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO2UuZHJhZ2dpbmc9ITAsaC5mb2N1cygpfWUuZHJhZ2dpbmcmJihkPWUsdD17cGFnZVg6KG09dE4oaCxnKSkucGFnZVgtZC5yZWxYLHBhZ2VZOm0ucGFnZVkrNX0sbD1lLmdob3N0LGY9aC5nZXRCb2R5KCksbC5wYXJlbnROb2RlIT09ZiYmZi5hcHBlbmRDaGlsZChsKSxuPWUuZ2hvc3Qscj10LG89ZS53aWR0aCxpPWUuaGVpZ2h0LGE9ZS5tYXhYLHU9ZS5tYXhZLGM9cz0wLG4uc3R5bGUubGVmdD1yLnBhZ2VYKyJweCIsbi5zdHlsZS50b3A9ci5wYWdlWSsicHgiLHIucGFnZVgrbz5hJiYocz1yLnBhZ2VYK28tYSksci5wYWdlWStpPnUmJihjPXIucGFnZVkraS11KSxuLnN0eWxlLndpZHRoPW8tcysicHgiLG4uc3R5bGUuaGVpZ2h0PWktYysicHgiLHYoZy5jbGllbnRYLGcuY2xpZW50WSkpfSl9fSx1Tj1mdW5jdGlvbihlLGwpe3JldHVybiBmdW5jdGlvbihjKXtlLm9uKGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHM7ZS5kcmFnZ2luZyYmKHU9KG89bCkuc2VsZWN0aW9uLHM9dS5nZXRTZWwoKS5nZXRSYW5nZUF0KDApLnN0YXJ0Q29udGFpbmVyLGk9Mz09PXMubm9kZVR5cGU/cy5wYXJlbnROb2RlOnMsYT1lLmVsZW1lbnQsaT09PWF8fG8uZG9tLmlzQ2hpbGRPZihpLGEpfHxuTihpKXx8KG49ZS5lbGVtZW50LChyPW4uY2xvbmVOb2RlKCEwKSkucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpLHQ9cixsLmZpcmUoImRyb3AiLHtjbGllbnRYOmMuY2xpZW50WCxjbGllbnRZOmMuY2xpZW50WX0pLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxsLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7b04oZS5lbGVtZW50KSxsLmluc2VydENvbnRlbnQobC5kb20uZ2V0T3V0ZXJIVE1MKHQpKSxsLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpfSkpKX0pLHNOKGUpfX0sc049ZnVuY3Rpb24oZSl7ZS5vbihmdW5jdGlvbihlKXtvTihlLmdob3N0KX0pLGUuY2xlYXIoKX0sY049ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89KHQ9T3UoVS5ub25lKCkpLHtjbGVhcjpmdW5jdGlvbigpe3JldHVybiB0LnNldChVLm5vbmUoKSl9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gdC5zZXQoVS5zb21lKGUpKX0saXNTZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXQoKS5pc1NvbWUoKX0sb246ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0KCkuZWFjaChlKX19KSxpPUV1LkRPTSxhPWRvY3VtZW50LHU9aU4obyxlKSxzPWFOKG8sZSksYz11TihvLGUpLGw9KG49byxmdW5jdGlvbigpe24ub24oZnVuY3Rpb24oZSl7ZS5kcmFnZ2luZyYmci5maXJlKCJkcmFnZW5kIil9KSxzTihuKX0pOyhyPWUpLm9uKCJtb3VzZWRvd24iLHUpLGUub24oIm1vdXNlbW92ZSIscyksZS5vbigibW91c2V1cCIsYyksaS5iaW5kKGEsIm1vdXNlbW92ZSIscyksaS5iaW5kKGEsIm1vdXNldXAiLGwpLGUub24oInJlbW92ZSIsZnVuY3Rpb24oKXtpLnVuYmluZChhLCJtb3VzZW1vdmUiLHMpLGkudW5iaW5kKGEsIm1vdXNldXAiLGwpfSl9LGxOPWZ1bmN0aW9uKGUpe3ZhciBuLGksYSx1LHQ7Y04oZSksKG49ZSkub24oImRyb3AiLGZ1bmN0aW9uKGUpe3ZhciB0PSJ1bmRlZmluZWQiIT10eXBlb2YgZS5jbGllbnRYP24uZ2V0RG9jKCkuZWxlbWVudEZyb21Qb2ludChlLmNsaWVudFgsZS5jbGllbnRZKTpudWxsOyFuTih0KSYmImZhbHNlIiE9PW4uZG9tLmdldENvbnRlbnRFZGl0YWJsZVBhcmVudCh0KXx8ZS5wcmV2ZW50RGVmYXVsdCgpfSksZS5nZXRQYXJhbSgiYmxvY2tfdW5zdXBwb3J0ZWRfZHJvcCIsITAsImJvb2xlYW4iKSYmKGE9ZnVuY3Rpb24oZSl7dmFyIHQ7ZS5kZWZhdWx0UHJldmVudGVkfHwodD1lLmRhdGFUcmFuc2ZlcikmJihNKHQudHlwZXMsIkZpbGVzIil8fDA8dC5maWxlcy5sZW5ndGgpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLCJkcm9wIj09PWUudHlwZSYmY2IoaSwiRHJvcHBlZCBmaWxlIHR5cGUgaXMgbm90IHN1cHBvcnRlZCIpKX0sdT1mdW5jdGlvbihlKXt2bShpLGUudGFyZ2V0KSYmYShlKX0sdD1mdW5jdGlvbigpe3ZhciB0PUV1LkRPTSxuPWkuZG9tLHI9ZG9jdW1lbnQsbz1pLmlubGluZT9pLmdldEJvZHkoKTppLmdldERvYygpLGU9WyJkcm9wIiwiZHJhZ292ZXIiXTtXKGUsZnVuY3Rpb24oZSl7dC5iaW5kKHIsZSx1KSxuLmJpbmQobyxlLGEpfSksaS5vbigicmVtb3ZlIixmdW5jdGlvbigpe1coZSxmdW5jdGlvbihlKXt0LnVuYmluZChyLGUsdSksbi51bmJpbmQobyxlLGEpfSl9KX0sKGk9ZSkub24oImluaXQiLGZ1bmN0aW9uKCl7cXIuc2V0RWRpdG9yVGltZW91dChpLHQsMCl9KSl9LGZOPUhuLGROPVZuLG1OPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGlkKGUuZ2V0Qm9keSgpLHQpfSxwTj1mdW5jdGlvbih1KXt2YXIgcyxjPXUuc2VsZWN0aW9uLGw9dS5kb20sZj1sLmlzQmxvY2ssZD11LmdldEJvZHkoKSxtPXFjKHUsZCxmLGZ1bmN0aW9uKCl7cmV0dXJuIEVtKHUpfSkscD0ic2VsLSIrbC51bmlxdWVJZCgpLGk9ImRhdGEtbWNlLXNlbGVjdGVkIixnPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09ZCYmKGROKGUpfHwkbihlKSkmJmwuaXNDaGlsZE9mKGUsZCl9LGg9ZnVuY3Rpb24oZSl7ZSYmYy5zZXRSbmcoZSl9LHI9Yy5nZXRSbmcsdj1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ITApLHUuZmlyZSgiU2hvd0NhcmV0Iix7dGFyZ2V0OnQsZGlyZWN0aW9uOmUsYmVmb3JlOm59KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKT9udWxsOihyJiZjLnNjcm9sbEludG9WaWV3KHQsLTE9PT1lKSxtLnNob3cobix0KSl9LHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGJvKGUpfHxObyhlKXx8RW8oZSl9LHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZS5zdGFydENvbnRhaW5lcil8fHQoZS5lbmRDb250YWluZXIpfSxiPWZ1bmN0aW9uKGUpe3ZhciB0PXUuc2NoZW1hLmdldFNob3J0RW5kZWRFbGVtZW50cygpLG49bC5jcmVhdGVSbmcoKSxyPWUuc3RhcnRDb250YWluZXIsbz1lLnN0YXJ0T2Zmc2V0LGk9ZS5lbmRDb250YWluZXIsYT1lLmVuZE9mZnNldDtyZXR1cm4gaGUodCxyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpPzA9PT1vP24uc2V0U3RhcnRCZWZvcmUocik6bi5zZXRTdGFydEFmdGVyKHIpOm4uc2V0U3RhcnQocixvKSxoZSh0LGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk/MD09PWE/bi5zZXRFbmRCZWZvcmUoaSk6bi5zZXRFbmRBZnRlcihpKTpuLnNldEVuZChpLGEpLG59LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jbG9uZU5vZGUoITApLG49dS5maXJlKCJPYmplY3RTZWxlY3RlZCIse3RhcmdldDplLHRhcmdldENsb25lOnR9KTtpZihuLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBudWxsO3ZhciByPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj11LiQsbz1EcihBdC5mcm9tRG9tKHUuZ2V0Qm9keSgpKSwiIyIrcCkuZm9sZChmdW5jdGlvbigpe3JldHVybiByKFtdKX0sZnVuY3Rpb24oZSl7cmV0dXJuIHIoW2UuZG9tXSl9KTswPT09by5sZW5ndGgmJihvPXIoJzxkaXYgZGF0YS1tY2UtYm9ndXM9ImFsbCIgY2xhc3M9Im1jZS1vZmZzY3JlZW4tc2VsZWN0aW9uIj48L2Rpdj4nKS5hdHRyKCJpZCIscCkpLmFwcGVuZFRvKHUuZ2V0Qm9keSgpKTt2YXIgaT1sLmNyZWF0ZVJuZygpO3Q9PT1uJiZ3dC5pZT8oby5lbXB0eSgpLmFwcGVuZCgnPHAgc3R5bGU9ImZvbnQtc2l6ZTogMCIgZGF0YS1tY2UtYm9ndXM9ImFsbCI+XHhhMDwvcD4nKS5hcHBlbmQodCksaS5zZXRTdGFydEFmdGVyKG9bMF0uZmlyc3RDaGlsZC5maXJzdENoaWxkKSxpLnNldEVuZEFmdGVyKHQpKTooby5lbXB0eSgpLmFwcGVuZChsbykuYXBwZW5kKHQpLmFwcGVuZChsbyksaS5zZXRTdGFydChvWzBdLmZpcnN0Q2hpbGQsMSksaS5zZXRFbmQob1swXS5sYXN0Q2hpbGQsMCkpLG8uY3NzKHt0b3A6bC5nZXRQb3MoZSx1LmdldEJvZHkoKSkueX0pLG9bMF0uZm9jdXMoKTt2YXIgYT1jLmdldFNlbCgpO3JldHVybiBhLnJlbW92ZUFsbFJhbmdlcygpLGEuYWRkUmFuZ2UoaSksaX0oZSxuLnRhcmdldENsb25lLHQpLG89QXQuZnJvbURvbShlKTtyZXR1cm4gVyhHdShBdC5mcm9tRG9tKHUuZ2V0Qm9keSgpKSwiKltkYXRhLW1jZS1zZWxlY3RlZF0iKSxmdW5jdGlvbihlKXtPdChvLGUpfHxRbihlLGkpfSksbC5nZXRBdHRyaWIoZSxpKXx8ZS5zZXRBdHRyaWJ1dGUoaSwiMSIpLHM9ZSxTKCkscn0sdz1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybiBudWxsO2lmKGUuY29sbGFwc2VkKXtpZigheShlKSl7dmFyIG49dD8xOi0xLHI9ZGwobixkLGUpLG89ci5nZXROb2RlKCF0KTtpZihLYyhvKSlyZXR1cm4gdihuLG8sISF0JiYhci5pc0F0RW5kKCksITEpO3ZhciBpPXIuZ2V0Tm9kZSh0KTtpZihLYyhpKSlyZXR1cm4gdihuLGksIXQmJiFyLmlzQXRFbmQoKSwhMSl9cmV0dXJuIG51bGx9dmFyIGE9ZS5zdGFydENvbnRhaW5lcix1PWUuc3RhcnRPZmZzZXQscz1lLmVuZE9mZnNldDtpZigzPT09YS5ub2RlVHlwZSYmMD09PXUmJmROKGEucGFyZW50Tm9kZSkmJihhPWEucGFyZW50Tm9kZSx1PWwubm9kZUluZGV4KGEpLGE9YS5wYXJlbnROb2RlKSwxIT09YS5ub2RlVHlwZSlyZXR1cm4gbnVsbDtpZihzPT09dSsxJiZhPT09ZS5lbmRDb250YWluZXIpe3ZhciBjPWEuY2hpbGROb2Rlc1t1XTtpZihnKGMpKXJldHVybiBDKGMpfXJldHVybiBudWxsfSx4PWZ1bmN0aW9uKCl7cyYmcy5yZW1vdmVBdHRyaWJ1dGUoaSksRHIoQXQuZnJvbURvbSh1LmdldEJvZHkoKSksIiMiK3ApLmVhY2gocG4pLHM9bnVsbH0sUz1mdW5jdGlvbigpe20uaGlkZSgpfTtyZXR1cm4gd3QuY2VGYWxzZSYmZnVuY3Rpb24oKXt1Lm9uKCJtb3VzZXVwIixmdW5jdGlvbihlKXt2YXIgdD1yKCk7dC5jb2xsYXBzZWQmJm5iKHUsZS5jbGllbnRYLGUuY2xpZW50WSkmJmxDKHUsdCwhMSkuZWFjaChoKX0pLHUub24oImNsaWNrIixmdW5jdGlvbihlKXt2YXIgdD1tTih1LGUudGFyZ2V0KTt0JiYoZE4odCkmJihlLnByZXZlbnREZWZhdWx0KCksdS5mb2N1cygpKSxmTih0KSYmbC5pc0NoaWxkT2YodCxjLmdldE5vZGUoKSkmJngoKSl9KSx1Lm9uKCJibHVyIE5ld0Jsb2NrIix4KSx1Lm9uKCJSZXNpemVXaW5kb3cgRnVsbHNjcmVlblN0YXRlQ2hhbmdlZCIsbS5yZXBvc2l0aW9uKTt2YXIgYT1mdW5jdGlvbihlKXt2YXIgdD1fbChlKTtpZighZS5maXJzdENoaWxkKXJldHVybiExO3ZhciBuLHI9JHMuYmVmb3JlKGUuZmlyc3RDaGlsZCksbz10Lm5leHQocik7cmV0dXJuIG8mJiEoTnAobj1vKXx8RXAobil8fENwKG4pfHx3cChuKSl9LGk9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89bC5nZXRQYXJlbnQoZSxmKSxpPWwuZ2V0UGFyZW50KHQsZik7cmV0dXJuISghb3x8ZT09PWl8fCFsLmlzQ2hpbGRPZihvLGkpfHwhMSE9PWROKG1OKHUsbykpKXx8byYmKG49byxyPWksIShsLmdldFBhcmVudChuLGYpPT09bC5nZXRQYXJlbnQocixmKSkpJiZhKG8pfTt1Lm9uKCJ0YXAiLGZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LG49bU4odSx0KTtkTihuKT8oZS5wcmV2ZW50RGVmYXVsdCgpLGNDKHUsbikuZWFjaCh3KSk6Zyh0KSYmY0ModSx0KS5lYWNoKHcpfSwhMCksdS5vbigibW91c2Vkb3duIixmdW5jdGlvbihlKXt2YXIgdCxuLHIsbz1lLnRhcmdldDtvIT09ZCYmIkhUTUwiIT09by5ub2RlTmFtZSYmIWwuaXNDaGlsZE9mKG8sZCl8fCExPT09bmIodSxlLmNsaWVudFgsZS5jbGllbnRZKXx8KCh0PW1OKHUsbykpP2ROKHQpPyhlLnByZXZlbnREZWZhdWx0KCksY0ModSx0KS5lYWNoKHcpKTooeCgpLGZOKHQpJiZlLnNoaWZ0S2V5fHxhZChlLmNsaWVudFgsZS5jbGllbnRZLGMuZ2V0Um5nKCkpfHwoUygpLGMucGxhY2VDYXJldEF0KGUuY2xpZW50WCxlLmNsaWVudFkpKSk6ZyhvKT9jQyh1LG8pLmVhY2godyk6ITE9PT1LYyhvKSYmKHgoKSxTKCksKG49Y3goZCxlLmNsaWVudFgsZS5jbGllbnRZKSkmJihpKG8sbi5ub2RlKXx8KGUucHJldmVudERlZmF1bHQoKSxyPXYoMSxuLm5vZGUsbi5iZWZvcmUsITEpLHUuZ2V0Qm9keSgpLmZvY3VzKCksaChyKSkpKSl9KSx1Lm9uKCJrZXlwcmVzcyIsZnVuY3Rpb24oZSl7dWQubW9kaWZpZXJQcmVzc2VkKGUpfHxkTihjLmdldE5vZGUoKSkmJmUucHJldmVudERlZmF1bHQoKX0pLHUub24oIkdldFNlbGVjdGlvblJhbmdlIixmdW5jdGlvbihlKXt2YXIgdD1lLnJhbmdlO2lmKHMpe2lmKCFzLnBhcmVudE5vZGUpcmV0dXJuIHZvaWQocz1udWxsKTsodD10LmNsb25lUmFuZ2UoKSkuc2VsZWN0Tm9kZShzKSxlLnJhbmdlPXR9fSksdS5vbigiU2V0U2VsZWN0aW9uUmFuZ2UiLGZ1bmN0aW9uKGUpe2UucmFuZ2U9YihlLnJhbmdlKTt2YXIgdD13KGUucmFuZ2UsZS5mb3J3YXJkKTt0JiYoZS5yYW5nZT10KX0pO3ZhciBuLGUsbzt1Lm9uKCJBZnRlclNldFNlbGVjdGlvblJhbmdlIixmdW5jdGlvbihlKXt2YXIgdCxuPWUucmFuZ2Uscj1uLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGU7eShuKXx8Im1jZXBhc3RlYmluIj09PXIuaWR8fFMoKSx0PXIsbC5oYXNDbGFzcyh0LCJtY2Utb2Zmc2NyZWVuLXNlbGVjdGlvbiIpfHx4KCl9KSx1Lm9uKCJjb3B5IixmdW5jdGlvbihlKXt2YXIgdCxuLHI9ZS5jbGlwYm9hcmREYXRhO2UuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFlLmNsaXBib2FyZERhdGF8fHd0LmllfHwodD0obj1sLmdldChwKSk/bi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpWzBdOm4pJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHIuY2xlYXJEYXRhKCksci5zZXREYXRhKCJ0ZXh0L2h0bWwiLHQub3V0ZXJIVE1MKSxyLnNldERhdGEoInRleHQvcGxhaW4iLHQub3V0ZXJUZXh0fHx0LmlubmVyVGV4dCkpfSksbE4odSksZT16dShmdW5jdGlvbigpe3ZhciBlLHQ7bi5yZW1vdmVkfHwhbi5nZXRCb2R5KCkuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCl8fChlPW4uc2VsZWN0aW9uLmdldFJuZygpKS5jb2xsYXBzZWQmJih0PWZDKG4sZSwhMSksbi5zZWxlY3Rpb24uc2V0Um5nKHQpKX0sMCksKG49dSkub24oImZvY3VzIixmdW5jdGlvbigpe2UudGhyb3R0bGUoKX0pLG4ub24oImJsdXIiLGZ1bmN0aW9uKCl7ZS5jYW5jZWwoKX0pLChvPXUpLm9uKCJpbml0IixmdW5jdGlvbigpe28ub24oImZvY3VzaW4iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lLnRhcmdldDskbihyKSYmKHQ9aWQoby5nZXRCb2R5KCksciksbj1Wbih0KT90OnIsby5zZWxlY3Rpb24uZ2V0Tm9kZSgpIT09biYmY0MobyxuKS5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBvLnNlbGVjdGlvbi5zZXRSbmcoZSl9KSl9KX0pfSgpLHtzaG93Q2FyZXQ6dixzaG93QmxvY2tDYXJldENvbnRhaW5lcjpmdW5jdGlvbihlKXtlLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKSYmKGtvKGUpLGgocigpKSxjLnNjcm9sbEludG9WaWV3KGUpKX0saGlkZUZha2VDYXJldDpTLGRlc3Ryb3k6ZnVuY3Rpb24oKXttLmRlc3Ryb3koKSxzPW51bGx9fX0sZ049ZnVuY3Rpb24odSl7dmFyIHMsbixyLG89a3QuZWFjaCxjPXVkLkJBQ0tTUEFDRSxsPXVkLkRFTEVURSxmPXUuZG9tLGQ9dS5zZWxlY3Rpb24sZT11LnBhcnNlcix0PXd0LmdlY2tvLGk9d3QuaWUsYT13dC53ZWJraXQsbT0iZGF0YTp0ZXh0L21jZS1pbnRlcm5hbCwiLHA9aT8iVGV4dCI6IlVSTCIsZz1mdW5jdGlvbihlLHQpe3RyeXt1LmdldERvYygpLmV4ZWNDb21tYW5kKGUsITEsdCl9Y2F0Y2gobil7fX0saD1mdW5jdGlvbihlKXtyZXR1cm4gZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKX0sdj1mdW5jdGlvbigpe3Uuc2hvcnRjdXRzLmFkZCgibWV0YSthIixudWxsLCJTZWxlY3RBbGwiKX0seT1mdW5jdGlvbigpe3Uub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe2lmKCFoKGUpJiZlLmtleUNvZGU9PT1jJiZkLmlzQ29sbGFwc2VkKCkmJjA9PT1kLmdldFJuZygpLnN0YXJ0T2Zmc2V0KXt2YXIgdD1kLmdldE5vZGUoKS5wcmV2aW91c1NpYmxpbmc7aWYodCYmdC5ub2RlTmFtZSYmInRhYmxlIj09PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLCExfX0pfSxiPWZ1bmN0aW9uKCl7dS5pbmxpbmV8fCh1LmNvbnRlbnRTdHlsZXMucHVzaCgiYm9keSB7bWluLWhlaWdodDogMTUwcHh9IiksdS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe3ZhciB0O2lmKCJIVE1MIj09PWUudGFyZ2V0Lm5vZGVOYW1lKXtpZigxMTx3dC5pZSlyZXR1cm4gdm9pZCB1LmdldEJvZHkoKS5mb2N1cygpO3Q9dS5zZWxlY3Rpb24uZ2V0Um5nKCksdS5nZXRCb2R5KCkuZm9jdXMoKSx1LnNlbGVjdGlvbi5zZXRSbmcodCksdS5zZWxlY3Rpb24ubm9ybWFsaXplKCksdS5ub2RlQ2hhbmdlZCgpfX0pKX07cmV0dXJuIHUub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0O2lmKCFoKGUpJiZlLmtleUNvZGU9PT11ZC5CQUNLU1BBQ0Upe3ZhciBuPSh0PWQuZ2V0Um5nKCkpLnN0YXJ0Q29udGFpbmVyLHI9dC5zdGFydE9mZnNldCxvPWYuZ2V0Um9vdCgpLGk9bjtpZih0LmNvbGxhcHNlZCYmMD09PXIpe2Zvcig7aSYmaS5wYXJlbnROb2RlJiZpLnBhcmVudE5vZGUuZmlyc3RDaGlsZD09PWkmJmkucGFyZW50Tm9kZSE9PW87KWk9aS5wYXJlbnROb2RlOyJCTE9DS1FVT1RFIj09PWkudGFnTmFtZSYmKHUuZm9ybWF0dGVyLnRvZ2dsZSgiYmxvY2txdW90ZSIsbnVsbCxpKSwodD1mLmNyZWF0ZVJuZygpKS5zZXRTdGFydChuLDApLHQuc2V0RW5kKG4sMCksZC5zZXRSbmcodCkpfX19KSxzPWZ1bmN0aW9uKGUpe3ZhciB0PWYuY3JlYXRlKCJib2R5Iiksbj1lLmNsb25lQ29udGVudHMoKTtyZXR1cm4gdC5hcHBlbmRDaGlsZChuKSxkLnNlcmlhbGl6ZXIuc2VyaWFsaXplKHQse2Zvcm1hdDoiaHRtbCJ9KX0sdS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhPWUua2V5Q29kZTtpZighaChlKSYmKGE9PT1sfHxhPT09Yykpe2lmKHQ9dS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSxuPXUuZ2V0Qm9keSgpLHQmJiFmLmlzRW1wdHkobikpcmV0dXJuO2lmKCF0JiYocj11LnNlbGVjdGlvbi5nZXRSbmcoKSxvPXMociksKGk9Zi5jcmVhdGVSbmcoKSkuc2VsZWN0Tm9kZSh1LmdldEJvZHkoKSksbyE9PXMoaSkpKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCksdS5zZXRDb250ZW50KCIiKSxuLmZpcnN0Q2hpbGQmJmYuaXNCbG9jayhuLmZpcnN0Q2hpbGQpP3Uuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKG4uZmlyc3RDaGlsZCwwKTp1LnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihuLDApLHUubm9kZUNoYW5nZWQoKX19KSx3dC53aW5kb3dzUGhvbmV8fHUub24oImtleXVwIGZvY3VzaW4gbW91c2V1cCIsZnVuY3Rpb24oZSl7dWQubW9kaWZpZXJQcmVzc2VkKGUpfHxkLm5vcm1hbGl6ZSgpfSwhMCksYSYmKHUuaW5saW5lfHxmLmJpbmQodS5nZXREb2MoKSwibW91c2Vkb3duIG1vdXNldXAiLGZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUudGFyZ2V0PT09dS5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQpaWYodD1kLmdldFJuZygpLHUuZ2V0Qm9keSgpLmZvY3VzKCksIm1vdXNlZG93biI9PT1lLnR5cGUpe2lmKGJvKHQuc3RhcnRDb250YWluZXIpKXJldHVybjtkLnBsYWNlQ2FyZXRBdChlLmNsaWVudFgsZS5jbGllbnRZKX1lbHNlIGQuc2V0Um5nKHQpfSksdS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0Oy9eKElNR3xIUikkLy50ZXN0KHQubm9kZU5hbWUpJiYiZmFsc2UiIT09Zi5nZXRDb250ZW50RWRpdGFibGVQYXJlbnQodCkmJihlLnByZXZlbnREZWZhdWx0KCksdS5zZWxlY3Rpb24uc2VsZWN0KHQpLHUubm9kZUNoYW5nZWQoKSksIkEiPT09dC5ub2RlTmFtZSYmZi5oYXNDbGFzcyh0LCJtY2UtaXRlbS1hbmNob3IiKSYmKGUucHJldmVudERlZmF1bHQoKSxkLnNlbGVjdCh0KSl9KSx2Yyh1KSYmdS5vbigiaW5pdCIsZnVuY3Rpb24oKXtnKCJEZWZhdWx0UGFyYWdyYXBoU2VwYXJhdG9yIix2Yyh1KSl9KSx1Lm9uKCJpbml0IixmdW5jdGlvbigpe3UuZG9tLmJpbmQodS5nZXRCb2R5KCksInN1Ym1pdCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSl9KSx5KCksZS5hZGROb2RlRmlsdGVyKCJiciIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoO3QtLTspIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmUiPT09ZVt0XS5hdHRyKCJjbGFzcyIpJiZlW3RdLnJlbW92ZSgpfSksd3QuaU9TPyh1LmlubGluZXx8dS5vbigia2V5ZG93biIsZnVuY3Rpb24oKXtkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZG9jdW1lbnQuYm9keSYmdS5nZXRXaW4oKS5mb2N1cygpfSksYigpLHUub24oImNsaWNrIixmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtkb3tpZigiQSI9PT10LnRhZ05hbWUpcmV0dXJuIHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpfXdoaWxlKHQ9dC5wYXJlbnROb2RlKX0pLHUuY29udGVudFN0eWxlcy5wdXNoKCIubWNlLWNvbnRlbnQtYm9keSB7LXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lfSIpKTp2KCkpLDExPD13dC5pZSYmKGIoKSx5KCkpLHd0LmllJiYodigpLGcoIkF1dG9VcmxEZXRlY3QiLCExKSx1Lm9uKCJkcmFnc3RhcnQiLGZ1bmN0aW9uKGUpe3ZhciB0LG4scjsodD1lKS5kYXRhVHJhbnNmZXImJih1LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiYiSU1HIj09PXQudGFyZ2V0LnRhZ05hbWUmJmQuc2VsZWN0KHQudGFyZ2V0KSwwPChuPXUuc2VsZWN0aW9uLmdldENvbnRlbnQoKSkubGVuZ3RoJiYocj1tK2VzY2FwZSh1LmlkKSsiLCIrZXNjYXBlKG4pLHQuZGF0YVRyYW5zZmVyLnNldERhdGEocCxyKSkpfSksdS5vbigiZHJvcCIsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhO2goZSl8fCh0PShpPWUpLmRhdGFUcmFuc2ZlciYmKGE9aS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShwKSkmJjA8PWEuaW5kZXhPZihtKT8oYT1hLnN1YnN0cihtLmxlbmd0aCkuc3BsaXQoIiwiKSx7aWQ6dW5lc2NhcGUoYVswXSksaHRtbDp1bmVzY2FwZShhWzFdKX0pOm51bGwpJiZ0LmlkIT09dS5pZCYmKGUucHJldmVudERlZmF1bHQoKSxuPWZkKGUueCxlLnksdS5nZXREb2MoKSksZC5zZXRSbmcobikscj10Lmh0bWwsbz0hMCx1LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgibWNlSW5zZXJ0Q2xpcGJvYXJkQ29udGVudCIpP3UuZXhlY0NvbW1hbmQoIm1jZUluc2VydENsaXBib2FyZENvbnRlbnQiLCExLHtjb250ZW50OnIsaW50ZXJuYWw6b30pOnUuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCExLHIpKX0pKSx0JiYodS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7aWYoIWgoZSkmJmUua2V5Q29kZT09PWMpe2lmKCF1LmdldEJvZHkoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaHIiKS5sZW5ndGgpcmV0dXJuO2lmKGQuaXNDb2xsYXBzZWQoKSYmMD09PWQuZ2V0Um5nKCkuc3RhcnRPZmZzZXQpe3ZhciB0PWQuZ2V0Tm9kZSgpLG49dC5wcmV2aW91c1NpYmxpbmc7aWYoIkhSIj09PXQubm9kZU5hbWUpcmV0dXJuIGYucmVtb3ZlKHQpLHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpO24mJm4ubm9kZU5hbWUmJiJociI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihmLnJlbW92ZShuKSxlLnByZXZlbnREZWZhdWx0KCkpfX19KSxSYW5nZS5wcm90b3R5cGUuZ2V0Q2xpZW50UmVjdHN8fHUub24oIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7dmFyIHQ7aChlKXx8IkhUTUwiIT09ZS50YXJnZXQubm9kZU5hbWV8fCgodD11LmdldEJvZHkoKSkuYmx1cigpLHFyLnNldEVkaXRvclRpbWVvdXQodSxmdW5jdGlvbigpe3QuZm9jdXMoKX0pKX0pLG49ZnVuY3Rpb24oKXt2YXIgZT1mLmdldEF0dHJpYnMoZC5nZXRTdGFydCgpLmNsb25lTm9kZSghMSkpO3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWQuZ2V0U3RhcnQoKTt0IT09dS5nZXRCb2R5KCkmJihmLnNldEF0dHJpYih0LCJzdHlsZSIsbnVsbCksbyhlLGZ1bmN0aW9uKGUpe3Quc2V0QXR0cmlidXRlTm9kZShlLmNsb25lTm9kZSghMCkpfSkpfX0scj1mdW5jdGlvbigpe3JldHVybiFkLmlzQ29sbGFwc2VkKCkmJmYuZ2V0UGFyZW50KGQuZ2V0U3RhcnQoKSxmLmlzQmxvY2spIT09Zi5nZXRQYXJlbnQoZC5nZXRFbmQoKSxmLmlzQmxvY2spfSx1Lm9uKCJrZXlwcmVzcyIsZnVuY3Rpb24oZSl7dmFyIHQ7aWYoIWgoZSkmJig4PT09ZS5rZXlDb2RlfHw0Nj09PWUua2V5Q29kZSkmJnIoKSlyZXR1cm4gdD1uKCksdS5nZXREb2MoKS5leGVjQ29tbWFuZCgiZGVsZXRlIiwhMSxudWxsKSx0KCksZS5wcmV2ZW50RGVmYXVsdCgpLCExfSksZi5iaW5kKHUuZ2V0RG9jKCksImN1dCIsZnVuY3Rpb24oZSl7dmFyIHQ7IWgoZSkmJnIoKSYmKHQ9bigpLHFyLnNldEVkaXRvclRpbWVvdXQodSxmdW5jdGlvbigpe3QoKX0pKX0pLHUuZ2V0UGFyYW0oInJlYWRvbmx5Iil8fHUub24oIkJlZm9yZUV4ZWNDb21tYW5kIG1vdXNlZG93biIsZnVuY3Rpb24oKXtnKCJTdHlsZVdpdGhDU1MiLCExKSxnKCJlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmciLCExKSxOYyh1KXx8ZygiZW5hYmxlT2JqZWN0UmVzaXppbmciLCExKX0pLHUub24oIlNldENvbnRlbnQgRXhlY0NvbW1hbmQiLGZ1bmN0aW9uKGUpeyJzZXRjb250ZW50IiE9PWUudHlwZSYmIm1jZUluc2VydExpbmsiIT09ZS5jb21tYW5kfHxvKGYuc2VsZWN0KCJhIiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlLG49Zi5nZXRSb290KCk7aWYodC5sYXN0Q2hpbGQ9PT1lKXtmb3IoO3QmJiFmLmlzQmxvY2sodCk7KXtpZih0LnBhcmVudE5vZGUubGFzdENoaWxkIT09dHx8dD09PW4pcmV0dXJuO3Q9dC5wYXJlbnROb2RlfWYuYWRkKHQsImJyIix7ImRhdGEtbWNlLWJvZ3VzIjoxfSl9fSl9KSx1LmNvbnRlbnRTdHlsZXMucHVzaCgiaW1nOi1tb3otYnJva2VuIHstbW96LWZvcmNlLWJyb2tlbi1pbWFnZS1pY29uOjE7bWluLXdpZHRoOjI0cHg7bWluLWhlaWdodDoyNHB4fSIpLHd0Lm1hYyYmdS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7IXVkLm1ldGFLZXlQcmVzc2VkKGUpfHxlLnNoaWZ0S2V5fHwzNyE9PWUua2V5Q29kZSYmMzkhPT1lLmtleUNvZGV8fChlLnByZXZlbnREZWZhdWx0KCksdS5zZWxlY3Rpb24uZ2V0U2VsKCkubW9kaWZ5KCJtb3ZlIiwzNz09PWUua2V5Q29kZT8iYmFja3dhcmQiOiJmb3J3YXJkIiwibGluZWJvdW5kYXJ5IikpfSkseSgpKSx7cmVmcmVzaENvbnRlbnRFZGl0YWJsZTpmdW5jdGlvbigpe30saXNIaWRkZW46ZnVuY3Rpb24oKXtpZighdHx8dS5yZW1vdmVkKXJldHVybiExO3ZhciBlPXUuc2VsZWN0aW9uLmdldFNlbCgpO3JldHVybiFlfHwhZS5yYW5nZUNvdW50fHwwPT09ZS5yYW5nZUNvdW50fX19LGhOPUV1LkRPTSx2Tj1mdW5jdGlvbihlKXtyZXR1cm4gbWUoZSxmdW5jdGlvbihlKXtyZXR1cm4hMT09PVIoZSl9KX0seU49ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnNldHRpbmdzLHI9ZS5lZGl0b3JVcGxvYWQuYmxvYkNhY2hlO3JldHVybiB2Tih7YWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHM6bi5hbGxvd19jb25kaXRpb25hbF9jb21tZW50cyxhbGxvd19odG1sX2RhdGFfdXJsczpuLmFsbG93X2h0bWxfZGF0YV91cmxzLGFsbG93X3N2Z19kYXRhX3VybHM6bi5hbGxvd19zdmdfZGF0YV91cmxzLGFsbG93X2h0bWxfaW5fbmFtZWRfYW5jaG9yOm4uYWxsb3dfaHRtbF9pbl9uYW1lZF9hbmNob3IsYWxsb3dfc2NyaXB0X3VybHM6bi5hbGxvd19zY3JpcHRfdXJscyxhbGxvd191bnNhZmVfbGlua190YXJnZXQ6bi5hbGxvd191bnNhZmVfbGlua190YXJnZXQsY29udmVydF9mb250c190b19zcGFuczpuLmNvbnZlcnRfZm9udHNfdG9fc3BhbnMsZml4X2xpc3RfZWxlbWVudHM6bi5maXhfbGlzdF9lbGVtZW50cyxmb250X3NpemVfbGVnYWN5X3ZhbHVlczpuLmZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzLGZvcmNlZF9yb290X2Jsb2NrOm4uZm9yY2VkX3Jvb3RfYmxvY2ssZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnM6bi5mb3JjZWRfcm9vdF9ibG9ja19hdHRycyxwYWRkX2VtcHR5X3dpdGhfYnI6bi5wYWRkX2VtcHR5X3dpdGhfYnIscHJlc2VydmVfY2RhdGE6bi5wcmVzZXJ2ZV9jZGF0YSxyZW1vdmVfdHJhaWxpbmdfYnJzOm4ucmVtb3ZlX3RyYWlsaW5nX2JycyxpbmxpbmVfc3R5bGVzOm4uaW5saW5lX3N0eWxlcyxyb290X25hbWU6KHQ9ZSkuaW5saW5lP3QuZ2V0RWxlbWVudCgpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6dW5kZWZpbmVkLHZhbGlkYXRlOiEwLGJsb2JfY2FjaGU6cixpbWFnZXNfZGF0YWltZ19maWx0ZXI6bi5pbWFnZXNfZGF0YWltZ19maWx0ZXJ9KX0sYk49ZnVuY3Rpb24odSl7dmFyIGU9dS5kb20uZ2V0Um9vdCgpO3UuaW5saW5lfHxWZih1KSYmdS5zZWxlY3Rpb24uZ2V0U3RhcnQoITApIT09ZXx8RmwoZSkuZWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpPWUuZ2V0Tm9kZSgpLGE9Qm4oaSk/RmwoaSkuZ2V0T3IoZSk6ZTt3dC5icm93c2VyLmlzSUUoKT8odD11LG49YS50b1JhbmdlKCkscj1BdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSxvPSh1bSh0KT9VLmZyb20obik6VS5ub25lKCkpLm1hcChzbSkuZmlsdGVyKGFtKHIpKSx0LmJvb2ttYXJrPW8uaXNTb21lKCk/bzp0LmJvb2ttYXJrKTp1LnNlbGVjdGlvbi5zZXRSbmcoYS50b1JhbmdlKCkpfSl9LENOPWZ1bmN0aW9uKGUpe3ZhciB0O2UuYmluZFBlbmRpbmdFdmVudERlbGVnYXRlcygpLGUuaW5pdGlhbGl6ZWQ9ITAsZS5maXJlKCJJbml0IiksZS5mb2N1cyghMCksYk4oZSksZS5ub2RlQ2hhbmdlZCh7aW5pdGlhbDohMH0pLGUuZXhlY0NhbGxiYWNrKCJpbml0X2luc3RhbmNlX2NhbGxiYWNrIixlKSwodD1lKS5zZXR0aW5ncy5hdXRvX2ZvY3VzJiZxci5zZXRFZGl0b3JUaW1lb3V0KHQsZnVuY3Rpb24oKXt2YXIgZT0hMD09PXQuc2V0dGluZ3MuYXV0b19mb2N1cz90OnQuZWRpdG9yTWFuYWdlci5nZXQodC5zZXR0aW5ncy5hdXRvX2ZvY3VzKTtlLmRlc3Ryb3llZHx8ZS5mb2N1cygpfSwxMDApfSx3Tj1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc2V0dGluZ3Mscj10LmdldERvYygpLG89dC5nZXRCb2R5KCk7bi5icm93c2VyX3NwZWxsY2hlY2t8fG4uZ2Vja29fc3BlbGxjaGVja3x8KHIuYm9keS5zcGVsbGNoZWNrPSExLGhOLnNldEF0dHJpYihvLCJzcGVsbGNoZWNrIiwiZmFsc2UiKSksdC5xdWlya3M9Z04odCksdC5maXJlKCJQb3N0UmVuZGVyIik7dmFyIGksYSx1LHMsYyxsLGYsZCxtLHAsZyxoPXQuZ2V0UGFyYW0oImRpcmVjdGlvbmFsaXR5IixJdS5pc1J0bCgpPyJydGwiOnVuZGVmaW5lZCk7aCE9PXVuZGVmaW5lZCYmKG8uZGlyPWgpLG4ucHJvdGVjdCYmdC5vbigiQmVmb3JlU2V0Q29udGVudCIsZnVuY3Rpb24odCl7a3QuZWFjaChuLnByb3RlY3QsZnVuY3Rpb24oZSl7dC5jb250ZW50PXQuY29udGVudC5yZXBsYWNlKGUsZnVuY3Rpb24oZSl7cmV0dXJuIlx4M2MhLS1tY2U6cHJvdGVjdGVkICIrZXNjYXBlKGUpKyItLVx4M2UifSl9KX0pLHQub24oIlNldENvbnRlbnQiLGZ1bmN0aW9uKCl7dC5hZGRWaXN1YWwodC5nZXRCb2R5KCkpfSksITE9PT1lJiZ0LmxvYWQoe2luaXRpYWw6ITAsZm9ybWF0OiJodG1sIn0pLHQuc3RhcnRDb250ZW50PXQuZ2V0Q29udGVudCh7Zm9ybWF0OiJyYXcifSksdC5vbigiY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24oZSl7dC5jb21wb3Npbmc9ImNvbXBvc2l0aW9uc3RhcnQiPT09ZS50eXBlfSksMDx0LmNvbnRlbnRTdHlsZXMubGVuZ3RoJiYoaT0iIixrdC5lYWNoKHQuY29udGVudFN0eWxlcyxmdW5jdGlvbihlKXtpKz1lKyJcclxuIn0pLHQuZG9tLmFkZFN0eWxlKGkpKSx1PShhPXQpLmNvbnRlbnRDU1MsYz0ocz1hKS5pbmxpbmU/cy51aS5zdHlsZVNoZWV0TG9hZGVyOnMuZG9tLnN0eWxlU2hlZXRMb2FkZXIsbD1mdW5jdGlvbigpe2Eub24oInJlbW92ZSIsZnVuY3Rpb24oKXtyZXR1cm4gYy51bmxvYWRBbGwodSl9KSxDTihhKX0sYy5sb2FkQWxsKHUsbCxsKSxuLmNvbnRlbnRfc3R5bGUmJihmPXQsZD1uLmNvbnRlbnRfc3R5bGUsbT1BdC5mcm9tRG9tKGYuZ2V0Qm9keSgpKSxwPW9uKHJuKG0pKSxnPUF0LmZyb21UYWcoInN0eWxlIiksWG4oZywidHlwZSIsInRleHQvY3NzIiksZm4oZyxBdC5mcm9tVGV4dChkKSksZm4ocCxnKSxmLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7cG4oZyl9KSl9LHhOPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zZXR0aW5ncyxyPXQuZ2V0RWxlbWVudCgpLG89dC5nZXREb2MoKTtuLmlubGluZXx8KHQuZ2V0RWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHk9dC5vcmdWaXNpYmlsaXR5KSxlfHx0LmlubGluZXx8KG8ub3BlbigpLG8ud3JpdGUodC5pZnJhbWVIVE1MKSxvLmNsb3NlKCkpLHQuaW5saW5lJiYoaE4uYWRkQ2xhc3MociwibWNlLWNvbnRlbnQtYm9keSIpLHQuY29udGVudERvY3VtZW50PW89ZG9jdW1lbnQsdC5jb250ZW50V2luZG93PXdpbmRvdyx0LmJvZHlFbGVtZW50PXIsdC5jb250ZW50QXJlYUNvbnRhaW5lcj1yKTt2YXIgdSxpLGEscyxjPXQuZ2V0Qm9keSgpO2MuZGlzYWJsZWQ9ITAsdC5yZWFkb25seT0hIW4ucmVhZG9ubHksdC5yZWFkb25seXx8KHQuaW5saW5lJiYic3RhdGljIj09PWhOLmdldFN0eWxlKGMsInBvc2l0aW9uIiwhMCkmJihjLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLGMuY29udGVudEVkaXRhYmxlPXQuZ2V0UGFyYW0oImNvbnRlbnRfZWRpdGFibGVfc3RhdGUiLCEwKSksYy5kaXNhYmxlZD0hMSx0LmVkaXRvclVwbG9hZD15Yih0KSx0LnNjaGVtYT1DaShuKSx0LmRvbT1FdShvLHtrZWVwX3ZhbHVlczohMCx1cmxfY29udmVydGVyOnQuY29udmVydFVSTCx1cmxfY29udmVydGVyX3Njb3BlOnQsaGV4X2NvbG9yczpuLmZvcmNlX2hleF9zdHlsZV9jb2xvcnMsdXBkYXRlX3N0eWxlczohMCxyb290X2VsZW1lbnQ6dC5pbmxpbmU/dC5nZXRCb2R5KCk6bnVsbCxjb2xsZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaW5saW5lfSxzY2hlbWE6dC5zY2hlbWEsY29udGVudENzc0NvcnM6dC5nZXRQYXJhbSgiY29udGVudF9jc3NfY29ycyIsITEsImJvb2xlYW4iKSxyZWZlcnJlclBvbGljeTp3Yyh0KSxvblNldEF0dHJpYjpmdW5jdGlvbihlKXt0LmZpcmUoIlNldEF0dHJpYiIsZSl9fSksdC5wYXJzZXI9KChpPWJ5KHlOKHU9dCksdS5zY2hlbWEpKS5hZGRBdHRyaWJ1dGVGaWx0ZXIoInNyYyxocmVmLHN0eWxlLHRhYmluZGV4IixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLG89ZS5sZW5ndGgsaT11LmRvbSxhPSJkYXRhLW1jZS0iK3Q7by0tOylpZigocj0obj1lW29dKS5hdHRyKHQpKSYmIW4uYXR0cihhKSl7aWYoMD09PXIuaW5kZXhPZigiZGF0YToiKXx8MD09PXIuaW5kZXhPZigiYmxvYjoiKSljb250aW51ZTsic3R5bGUiPT09dD8oKHI9aS5zZXJpYWxpemVTdHlsZShpLnBhcnNlU3R5bGUociksbi5uYW1lKSkubGVuZ3RofHwocj1udWxsKSxuLmF0dHIoYSxyKSxuLmF0dHIodCxyKSk6InRhYmluZGV4Ij09PXQ/KG4uYXR0cihhLHIpLG4uYXR0cih0LG51bGwpKTpuLmF0dHIoYSx1LmNvbnZlcnRVUkwocix0LG4ubmFtZSkpfX0pLGkuYWRkTm9kZUZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dC0tOyl7dmFyIG49ZVt0XSxyPW4uYXR0cigidHlwZSIpfHwibm8vdHlwZSI7MCE9PXIuaW5kZXhPZigibWNlLSIpJiZuLmF0dHIoInR5cGUiLCJtY2UtIityKX19KSx1LnNldHRpbmdzLnByZXNlcnZlX2NkYXRhJiZpLmFkZE5vZGVGaWx0ZXIoIiNjZGF0YSIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoO3QtLTspe3ZhciBuPWVbdF07bi50eXBlPTgsbi5uYW1lPSIjY29tbWVudCIsbi52YWx1ZT0iW0NEQVRBWyIrdS5kb20uZW5jb2RlKG4udmFsdWUpKyJdXSJ9fSksaS5hZGROb2RlRmlsdGVyKCJwLGgxLGgyLGgzLGg0LGg1LGg2LGRpdiIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLG49dS5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpO3QtLTspe3ZhciByPWVbdF07ci5pc0VtcHR5KG4pJiYwPT09ci5nZXRBbGwoImJyIikubGVuZ3RoJiYoci5hcHBlbmQobmV3IEttKCJiciIsMSkpLnNob3J0RW5kZWQ9ITApfX0pLGkpLHQuc2VyaWFsaXplcj1OeSgocz0oYT10KS5zZXR0aW5ncyxrZShrZSh7fSx5TihhKSksdk4oe3VybF9jb252ZXJ0ZXI6cy51cmxfY29udmVydGVyLHVybF9jb252ZXJ0ZXJfc2NvcGU6cy51cmxfY29udmVydGVyX3Njb3BlLGVsZW1lbnRfZm9ybWF0OnMuZWxlbWVudF9mb3JtYXQsZW50aXRpZXM6cy5lbnRpdGllcyxlbnRpdHlfZW5jb2Rpbmc6cy5lbnRpdHlfZW5jb2RpbmcsaW5kZW50OnMuaW5kZW50LGluZGVudF9hZnRlcjpzLmluZGVudF9hZnRlcixpbmRlbnRfYmVmb3JlOnMuaW5kZW50X2JlZm9yZSxibG9ja19lbGVtZW50czpzLmJsb2NrX2VsZW1lbnRzLGJvb2xlYW5fYXR0cmlidXRlczpzLmJvb2xlYW5fYXR0cmlidXRlcyxjdXN0b21fZWxlbWVudHM6cy5jdXN0b21fZWxlbWVudHMsZXh0ZW5kZWRfdmFsaWRfZWxlbWVudHM6cy5leHRlbmRlZF92YWxpZF9lbGVtZW50cyxpbnZhbGlkX2VsZW1lbnRzOnMuaW52YWxpZF9lbGVtZW50cyxpbnZhbGlkX3N0eWxlczpzLmludmFsaWRfc3R5bGVzLG1vdmVfY2FyZXRfYmVmb3JlX29uX2VudGVyX2VsZW1lbnRzOnMubW92ZV9jYXJldF9iZWZvcmVfb25fZW50ZXJfZWxlbWVudHMsbm9uX2VtcHR5X2VsZW1lbnRzOnMubm9uX2VtcHR5X2VsZW1lbnRzLHNjaGVtYTpzLnNjaGVtYSxzZWxmX2Nsb3NpbmdfZWxlbWVudHM6cy5zZWxmX2Nsb3NpbmdfZWxlbWVudHMsc2hvcnRfZW5kZWRfZWxlbWVudHM6cy5zaG9ydF9lbmRlZF9lbGVtZW50cyxzcGVjaWFsOnMuc3BlY2lhbCx0ZXh0X2Jsb2NrX2VsZW1lbnRzOnMudGV4dF9ibG9ja19lbGVtZW50cyx0ZXh0X2lubGluZV9lbGVtZW50czpzLnRleHRfaW5saW5lX2VsZW1lbnRzLHZhbGlkX2NoaWxkcmVuOnMudmFsaWRfY2hpbGRyZW4sdmFsaWRfY2xhc3NlczpzLnZhbGlkX2NsYXNzZXMsdmFsaWRfZWxlbWVudHM6cy52YWxpZF9lbGVtZW50cyx2YWxpZF9zdHlsZXM6cy52YWxpZF9zdHlsZXMsdmVyaWZ5X2h0bWw6cy52ZXJpZnlfaHRtbCx3aGl0ZXNwYWNlX2VsZW1lbnRzOnMud2hpdGVzcGFjZV9lbGVtZW50c30pKSksdCksdC5zZWxlY3Rpb249UXYodC5kb20sdC5nZXRXaW4oKSx0LnNlcmlhbGl6ZXIsdCksdC5hbm5vdGF0b3I9dGQodCksdC5mb3JtYXR0ZXI9X2IodCksdC51bmRvTWFuYWdlcj1SYih0KSx0Ll9ub2RlQ2hhbmdlRGlzcGF0Y2hlcj1uZXcgWVModCksdC5fc2VsZWN0aW9uT3ZlcnJpZGVzPXBOKHQpLE93KHQpLEpTKHQpLEh2KHQpfHxaUyh0KTt2YXIgbCxmLGQsbSxwPUh2KGw9dCk/T3UobnVsbCk6WFMobCk7VHcodCxwKSx2YyhmPXQpJiZmLm9uKCJOb2RlQ2hhbmdlIixOKFB3LGYpKSxQYih0KSx0LmZpcmUoIlByZUluaXQiKSxnZSgobT1kPXQpLnBsdWdpbnMsInJ0YyIpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gbS5ydGNJbnN0YW5jZT16dihkKSxVLm5vbmUoKX0sZnVuY3Rpb24oZSl7cmV0dXJuIFUuc29tZShlLnNldHVwKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbS5ydGNJbnN0YW5jZT1qdihkLGUpLGUuaXNSZW1vdGV9KSl9KS5mb2xkKGZ1bmN0aW9uKCl7d04odCwhMSl9LGZ1bmN0aW9uKGUpe3Quc2V0UHJvZ3Jlc3NTdGF0ZSghMCksZS50aGVuKGZ1bmN0aW9uKGUpe3Quc2V0UHJvZ3Jlc3NTdGF0ZSghMSksd04odCxlKX0pfSl9LFNOPUV1LkRPTSxOTj1mdW5jdGlvbihlKXt2YXIgdD1lLmdldFBhcmFtKCJkb2N0eXBlIiwiPCFET0NUWVBFIGh0bWw+IikrIjxodG1sPjxoZWFkPiI7ZS5nZXRQYXJhbSgiZG9jdW1lbnRfYmFzZV91cmwiLCIiKSE9PWUuZG9jdW1lbnRCYXNlVXJsJiYodCs9JzxiYXNlIGhyZWY9IicrZS5kb2N1bWVudEJhc2VVUkkuZ2V0VVJJKCkrJyIgLz4nKSx0Kz0nPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLTgiIC8+Jzt2YXIgbj1nYyhlLCJib2R5X2lkIiwidGlueW1jZSIpLHI9Z2MoZSwiYm9keV9jbGFzcyIsIiIpO3JldHVybiBoYyhlKSYmKHQrPSc8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVNlY3VyaXR5LVBvbGljeSIgY29udGVudD0iJytoYyhlKSsnIiAvPicpLHQrPSc8L2hlYWQ+PGJvZHkgaWQ9IicrbisnIiBjbGFzcz0ibWNlLWNvbnRlbnQtYm9keSAnK3IrJyIgZGF0YS1pZD0iJytlLmlkKyciPjxicj48L2JvZHk+PC9odG1sPid9LEVOPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYT1lLmVkaXRvck1hbmFnZXIudHJhbnNsYXRlKCJSaWNoIFRleHQgQXJlYS4gUHJlc3MgQUxULTAgZm9yIGhlbHAuIiksdT0obj1lLmlkLHI9YSx0LmhlaWdodCxvPWUuZ2V0UGFyYW0oImlmcmFtZV9hdHRycyIse30pLGk9QXQuZnJvbVRhZygiaWZyYW1lIiksWW4oaSxvKSxZbihpLHtpZDpuKyJfaWZyIixmcmFtZUJvcmRlcjoiMCIsYWxsb3dUcmFuc3BhcmVuY3k6InRydWUiLHRpdGxlOnJ9KSxXdShpLCJ0b3gtZWRpdC1hcmVhX19pZnJhbWUiKSxpLmRvbSk7dS5vbmxvYWQ9ZnVuY3Rpb24oKXt1Lm9ubG9hZD1udWxsLGUuZmlyZSgibG9hZCIpfTt2YXIgcz1mdW5jdGlvbihlLHQpe2lmKGRvY3VtZW50LmRvbWFpbiE9PXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSYmd3QuYnJvd3Nlci5pc0lFKCkpe3ZhciBuPXZiKCJtY2UiKTtlW25dPWZ1bmN0aW9uKCl7eE4oZSl9O3ZhciByPSdqYXZhc2NyaXB0OihmdW5jdGlvbigpe2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49IicrZG9jdW1lbnQuZG9tYWluKyciO3ZhciBlZCA9IHdpbmRvdy5wYXJlbnQudGlueW1jZS5nZXQoIicrZS5pZCsnIik7ZG9jdW1lbnQud3JpdGUoZWQuaWZyYW1lSFRNTCk7ZG9jdW1lbnQuY2xvc2UoKTtlZC4nK24rIih0cnVlKTt9KSgpIjtyZXR1cm4gU04uc2V0QXR0cmliKHQsInNyYyIsciksITB9cmV0dXJuITF9KGUsdSk7cmV0dXJuIGUuY29udGVudEFyZWFDb250YWluZXI9dC5pZnJhbWVDb250YWluZXIsZS5pZnJhbWVFbGVtZW50PXUsZS5pZnJhbWVIVE1MPU5OKGUpLFNOLmFkZCh0LmlmcmFtZUNvbnRhaW5lcix1KSxzfSxrTj1FdS5ET00sX049ZnVuY3Rpb24odCxuLGUpe3ZhciByPWliLmdldChlKSxvPWliLnVybHNbZV18fHQuZG9jdW1lbnRCYXNlVXJsLnJlcGxhY2UoL1wvJC8sIiIpO2lmKGU9a3QudHJpbShlKSxyJiYtMT09PWt0LmluQXJyYXkobixlKSl7aWYoa3QuZWFjaChpYi5kZXBlbmRlbmNpZXMoZSksZnVuY3Rpb24oZSl7X04odCxuLGUpfSksdC5wbHVnaW5zW2VdKXJldHVybjt0cnl7dmFyIGk9bmV3IHIodCxvLHQuJCk7KHQucGx1Z2luc1tlXT1pKS5pbml0JiYoaS5pbml0KHQsbyksbi5wdXNoKGUpKX1jYXRjaChPayl7IWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1JdS50cmFuc2xhdGUoWyJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBwbHVnaW46IHswfSIsdF0pO21iKHIsbiksY2IoZSxyKX0odCxlLE9rKX19fSxBTj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eXC0vLCIiKX0sUk49ZnVuY3Rpb24oZSl7cmV0dXJue2VkaXRvckNvbnRhaW5lcjplLGlmcmFtZUNvbnRhaW5lcjplLGFwaTp7fX19LFROPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lLmdldEVsZW1lbnQoKTtyZXR1cm4gZS5pbmxpbmU/Uk4obnVsbCk6KHQ9cixuPWtOLmNyZWF0ZSgiZGl2Iiksa04uaW5zZXJ0QWZ0ZXIobix0KSxSTihuKSl9LEROPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWUuZ2V0RWxlbWVudCgpO3JldHVybiBlLm9yZ0Rpc3BsYXk9by5zdHlsZS5kaXNwbGF5LHEoa2MoZSkpP2UudGhlbWUucmVuZGVyVUkoKTpUKGtjKGUpKT8obj0odD1lKS5nZXRFbGVtZW50KCksKHI9a2ModCkodCxuKSkuZWRpdG9yQ29udGFpbmVyLm5vZGVUeXBlJiYoci5lZGl0b3JDb250YWluZXIuaWQ9ci5lZGl0b3JDb250YWluZXIuaWR8fHQuaWQrIl9wYXJlbnQiKSxyLmlmcmFtZUNvbnRhaW5lciYmci5pZnJhbWVDb250YWluZXIubm9kZVR5cGUmJihyLmlmcmFtZUNvbnRhaW5lci5pZD1yLmlmcmFtZUNvbnRhaW5lci5pZHx8dC5pZCsiX2lmcmFtZWNvbnRhaW5lciIpLHIuaGVpZ2h0PXIuaWZyYW1lSGVpZ2h0P3IuaWZyYW1lSGVpZ2h0Om4ub2Zmc2V0SGVpZ2h0LHIpOlROKGUpfSxPTj1mdW5jdGlvbihlKXt2YXIgbix0LHIsbyxpLGEsdSxzLGM7ZS5maXJlKCJTY3JpcHRzTG9hZGVkIiksbj1lLHQ9a3QudHJpbShDYyhuKSkscj1uLnVpLnJlZ2lzdHJ5LmdldEFsbCgpLmljb25zLG89a2Uoa2Uoe30sWXkuZ2V0KCJkZWZhdWx0IikuaWNvbnMpLFl5LmdldCh0KS5pY29ucyksdWUobyxmdW5jdGlvbihlLHQpe2hlKHIsdCl8fG4udWkucmVnaXN0cnkuYWRkSWNvbih0LGUpfSksdT1rYyhpPWUpLHEodSk/KGkuc2V0dGluZ3MudGhlbWU9QU4odSksYT1hYi5nZXQodSksaS50aGVtZT1uZXcgYShpLGFiLnVybHNbdV0pLGkudGhlbWUuaW5pdCYmaS50aGVtZS5pbml0KGksYWIudXJsc1t1XXx8aS5kb2N1bWVudEJhc2VVcmwucmVwbGFjZSgvXC8kLywiIiksaS4kKSk6aS50aGVtZT17fSxzPWUsYz1bXSxrdC5lYWNoKEFjKHMpLnNwbGl0KC9bICxdLyksZnVuY3Rpb24oZSl7X04ocyxjLEFOKGUpKX0pO3ZhciBsLGYsZCxtPUROKGUpO2w9ZSxmPVUuZnJvbShtLmFwaSkuZ2V0T3Ioe30pLGQ9e3Nob3c6VS5mcm9tKGYuc2hvdykuZ2V0T3IoViksaGlkZTpVLmZyb20oZi5oaWRlKS5nZXRPcihWKSxkaXNhYmxlOlUuZnJvbShmLmRpc2FibGUpLmdldE9yKFYpLGlzRGlzYWJsZWQ6VS5mcm9tKGYuaXNEaXNhYmxlZCkuZ2V0T3IoQyksZW5hYmxlOmZ1bmN0aW9uKCl7bC5tb2RlLmlzUmVhZE9ubHkoKXx8VS5mcm9tKGYuZW5hYmxlKS5tYXAoYil9fSxsLnVpPWtlKGtlKHt9LGwudWkpLGQpO3ZhciBwLGcsaCx2LHk9e2VkaXRvckNvbnRhaW5lcjptLmVkaXRvckNvbnRhaW5lcixpZnJhbWVDb250YWluZXI6bS5pZnJhbWVDb250YWluZXJ9O3JldHVybiBlLmVkaXRvckNvbnRhaW5lcj15LmVkaXRvckNvbnRhaW5lcj95LmVkaXRvckNvbnRhaW5lcjpudWxsLChwPWUpLmNvbnRlbnRDU1M9cC5jb250ZW50Q1NTLmNvbmNhdChwYihwKSksZS5pbmxpbmU/eE4oZSk6KHY9RU4oZz1lLGg9eSksaC5lZGl0b3JDb250YWluZXImJihTTi5nZXQoaC5lZGl0b3JDb250YWluZXIpLnN0eWxlLmRpc3BsYXk9Zy5vcmdEaXNwbGF5LGcuaGlkZGVuPVNOLmlzSGlkZGVuKGguZWRpdG9yQ29udGFpbmVyKSksZy5nZXRFbGVtZW50KCkuc3R5bGUuZGlzcGxheT0ibm9uZSIsU04uc2V0QXR0cmliKGcuaWQsImFyaWEtaGlkZGVuIiwidHJ1ZSIpLHZvaWQodnx8eE4oZykpKX0sQk49RXUuRE9NLFBOPWZ1bmN0aW9uKGUpe3JldHVybiItIj09PWUuY2hhckF0KDApfSxMTj1mdW5jdGlvbihlLHQpe3ZhciBuLHI9eGModCksbz10LmdldFBhcmFtKCJsYW5ndWFnZV91cmwiLCIiLCJzdHJpbmciKTshMT09PUl1Lmhhc0NvZGUocikmJiJlbiIhPT1yJiYobj0iIiE9PW8/bzp0LmVkaXRvck1hbmFnZXIuYmFzZVVSTCsiL2xhbmdzLyIrcisiLmpzIixlLmFkZChuLFYsdW5kZWZpbmVkLGZ1bmN0aW9uKCl7bGIodCwiTGFuZ3VhZ2VMb2FkRXJyb3IiLGZiKCJsYW5ndWFnZSIsbixyKSl9KSl9LElOPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gVS5mcm9tKGUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aCYmIVl5LmhhcyhlKX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dXJsOnQuZWRpdG9yTWFuYWdlci5iYXNlVVJMKyIvaWNvbnMvIitlKyIvaWNvbnMiK24rIi5qcyIsbmFtZTpVLnNvbWUoZSl9fSl9LE1OPWZ1bmN0aW9uKGUsbyx0KXt2YXIgbixyPUlOKG8sImRlZmF1bHQiLHQpLGk9KG49byxVLmZyb20obi5nZXRQYXJhbSgiaWNvbnNfdXJsIiwiIiwic3RyaW5nIikpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aH0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dXJsOmUsbmFtZTpVLm5vbmUoKX19KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIElOKG8sQ2MobyksIiIpfSkpO1coZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49ZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSxyPTA7cjxlLmxlbmd0aDtyKyspZVtyXS5lYWNoKG4pO3JldHVybiB0fShbcixpXSksZnVuY3Rpb24ocil7ZS5hZGQoci51cmwsVix1bmRlZmluZWQsZnVuY3Rpb24oKXt2YXIgZSx0LG47ZT1vLHQ9ci51cmwsbj1yLm5hbWUuZ2V0T3JVbmRlZmluZWQoKSxsYihlLCJJY29uc0xvYWRFcnJvciIsZmIoImljb25zIix0LG4pKX0pfSl9LEZOPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1LHM9UnUuU2NyaXB0TG9hZGVyO249cyxvPXQsaT1mdW5jdGlvbigpe3ZhciByLG87TE4ocyxlKSxNTihzLGUsdCkscj1lLG89dCxrdC5lYWNoKHIuZ2V0UGFyYW0oImV4dGVybmFsX3BsdWdpbnMiKSxmdW5jdGlvbihlLHQpe2liLmxvYWQodCxlLFYsdW5kZWZpbmVkLGZ1bmN0aW9uKCl7ZGIocixlLHQpfSksci5zZXR0aW5ncy5wbHVnaW5zKz0iICIrdH0pLGt0LmVhY2goQWMocikuc3BsaXQoL1sgLF0vKSxmdW5jdGlvbihlKXt2YXIgdCxuOyhlPWt0LnRyaW0oZSkpJiYhaWIudXJsc1tlXSYmKFBOKGUpPyhlPWUuc3Vic3RyKDEsZS5sZW5ndGgpLHQ9aWIuZGVwZW5kZW5jaWVzKGUpLGt0LmVhY2godCxmdW5jdGlvbihlKXt2YXIgdD17cHJlZml4OiJwbHVnaW5zLyIscmVzb3VyY2U6ZSxzdWZmaXg6Ii9wbHVnaW4iK28rIi5qcyJ9LG49aWIuY3JlYXRlVXJsKHQsZSk7aWIubG9hZChuLnJlc291cmNlLG4sVix1bmRlZmluZWQsZnVuY3Rpb24oKXtkYihyLG4ucHJlZml4K24ucmVzb3VyY2Urbi5zdWZmaXgsbi5yZXNvdXJjZSl9KX0pKToobj17cHJlZml4OiJwbHVnaW5zLyIscmVzb3VyY2U6ZSxzdWZmaXg6Ii9wbHVnaW4iK28rIi5qcyJ9LGliLmxvYWQoZSxuLFYsdW5kZWZpbmVkLGZ1bmN0aW9uKCl7ZGIocixuLnByZWZpeCtuLnJlc291cmNlK24uc3VmZml4LGUpfSkpKX0pLHMubG9hZFF1ZXVlKGZ1bmN0aW9uKCl7ZS5yZW1vdmVkfHxPTihlKX0sZSxmdW5jdGlvbigpe2UucmVtb3ZlZHx8T04oZSl9KX0sdT1rYyhyPWUpLHEodSk/KFBOKHUpfHxhYi51cmxzLmhhc093blByb3BlcnR5KHUpfHwoKGE9ci5nZXRQYXJhbSgidGhlbWVfdXJsIikpP2FiLmxvYWQodSxyLmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKGEpKTphYi5sb2FkKHUsInRoZW1lcy8iK3UrIi90aGVtZSIrbysiLmpzIikpLG4ubG9hZFF1ZXVlKGZ1bmN0aW9uKCl7YWIud2FpdEZvcih1LGkpfSkpOmkoKX0sVU49ZnVuY3Rpb24odCl7dmFyIGU9dC5pZDtJdS5zZXRDb2RlKHhjKHQpKTt2YXIgbixyLG8saSxhLHU9ZnVuY3Rpb24oKXtCTi51bmJpbmQod2luZG93LCJyZWFkeSIsdSksdC5yZW5kZXIoKX07VGkuRXZlbnQuZG9tTG9hZGVkP3QuZ2V0RWxlbWVudCgpJiZ3dC5jb250ZW50RWRpdGFibGUmJihuPUF0LmZyb21Eb20odC5nZXRFbGVtZW50KCkpLHI9WChuLmRvbS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdC5uYW1lXT10LnZhbHVlLGV9LHt9KSx0Lm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7aihuLmRvbS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUpe3JldHVybiBRbihuLGUubmFtZSksMH0pLFluKG4scil9KSx0LnVpLnN0eWxlU2hlZXRMb2FkZXI9KG89bixpPXQsS3IuZm9yRWxlbWVudChvLHtjb250ZW50Q3NzQ29yczppLmdldFBhcmFtKCJjb250ZW50X2Nzc19jb3JzIikscmVmZXJyZXJQb2xpY3k6d2MoaSl9KSksdC5nZXRQYXJhbSgiaW5saW5lIik/dC5pbmxpbmU9ITA6KHQub3JnVmlzaWJpbGl0eT10LmdldEVsZW1lbnQoKS5zdHlsZS52aXNpYmlsaXR5LHQuZ2V0RWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpLChhPXQuZ2V0RWxlbWVudCgpLmZvcm18fEJOLmdldFBhcmVudChlLCJmb3JtIikpJiYodC5mb3JtRWxlbWVudD1hLHQuZ2V0UGFyYW0oImhpZGRlbl9pbnB1dCIpJiYhTG4odC5nZXRFbGVtZW50KCkpJiYoQk4uaW5zZXJ0QWZ0ZXIoQk4uY3JlYXRlKCJpbnB1dCIse3R5cGU6ImhpZGRlbiIsbmFtZTplfSksZSksdC5oYXNIaWRkZW5JbnB1dD0hMCksdC5mb3JtRXZlbnREZWxlZ2F0ZT1mdW5jdGlvbihlKXt0LmZpcmUoZS50eXBlLGUpfSxCTi5iaW5kKGEsInN1Ym1pdCByZXNldCIsdC5mb3JtRXZlbnREZWxlZ2F0ZSksdC5vbigicmVzZXQiLGZ1bmN0aW9uKCl7dC5yZXNldENvbnRlbnQoKX0pLCF0LmdldFBhcmFtKCJzdWJtaXRfcGF0Y2giKXx8YS5zdWJtaXQubm9kZVR5cGV8fGEuc3VibWl0Lmxlbmd0aHx8YS5fbWNlT2xkU3VibWl0fHwoYS5fbWNlT2xkU3VibWl0PWEuc3VibWl0LGEuc3VibWl0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuZWRpdG9yTWFuYWdlci50cmlnZ2VyU2F2ZSgpLHQuc2V0RGlydHkoITEpLGEuX21jZU9sZFN1Ym1pdChhKX0pKSx0LndpbmRvd01hbmFnZXI9dWIodCksdC5ub3RpZmljYXRpb25NYW5hZ2VyPW9iKHQpLCJ4bWwiPT09dC5nZXRQYXJhbSgiZW5jb2RpbmciKSYmdC5vbigiR2V0Q29udGVudCIsZnVuY3Rpb24oZSl7ZS5zYXZlJiYoZS5jb250ZW50PUJOLmVuY29kZShlLmNvbnRlbnQpKX0pLHQuZ2V0UGFyYW0oImFkZF9mb3JtX3N1Ym1pdF90cmlnZ2VyIikmJnQub24oInN1Ym1pdCIsZnVuY3Rpb24oKXt0LmluaXRpYWxpemVkJiZ0LnNhdmUoKX0pLHQuZ2V0UGFyYW0oImFkZF91bmxvYWRfdHJpZ2dlciIpJiYodC5fYmVmb3JlVW5sb2FkPWZ1bmN0aW9uKCl7IXQuaW5pdGlhbGl6ZWR8fHQuZGVzdHJveWVkfHx0LmlzSGlkZGVuKCl8fHQuc2F2ZSh7Zm9ybWF0OiJyYXciLG5vX2V2ZW50czohMCxzZXRfZGlydHk6ITF9KX0sdC5lZGl0b3JNYW5hZ2VyLm9uKCJCZWZvcmVVbmxvYWQiLHQuX2JlZm9yZVVubG9hZCkpLHQuZWRpdG9yTWFuYWdlci5hZGQodCksRk4odCx0LnN1ZmZpeCkpOkJOLmJpbmQod2luZG93LCJyZWFkeSIsdSl9LHpOPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49dCxxdihlKS5lZGl0b3IuYWRkVmlzdWFsKG4pO3ZhciBufSxqTj17ImZvbnQtc2l6ZSI6InNpemUiLCJmb250LWZhbWlseSI6ImZhY2UifSxITj1mdW5jdGlvbihuLHQsZSl7cmV0dXJuIFBtKEF0LmZyb21Eb20oZSksZnVuY3Rpb24oZSl7cmV0dXJuIG5yKHQ9ZSxuKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuImZvbnQiPT09THQodCk/Z2Uoak4sbikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gSm4odCxlKX0pOlUubm9uZSgpfSk7dmFyIHR9LGZ1bmN0aW9uKGUpe3JldHVybiBPdChBdC5mcm9tRG9tKHQpLGUpfSl9LFZOPWZ1bmN0aW9uKG8pe3JldHVybiBmdW5jdGlvbihyLGUpe3JldHVybiBVLmZyb20oZSkubWFwKEF0LmZyb21Eb20pLmZpbHRlcihGdCkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gSE4obyxyLGUuZG9tKS5vcigodD1vLG49ZS5kb20sVS5mcm9tKEV1LkRPTS5nZXRTdHlsZShuLHQsITApKSkpO3ZhciB0LG59KS5nZXRPcigiIil9fSxxTj1WTigiZm9udC1zaXplIiksJE49YShmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9bXCdcIlxcXS9nLCIiKS5yZXBsYWNlKC8sXHMrL2csIiwiKX0sVk4oImZvbnQtZmFtaWx5IikpLFdOPWZ1bmN0aW9uKGUpe3JldHVybiBGbChlLmdldEJvZHkoKSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY29udGFpbmVyKCk7cmV0dXJuIEluKHQpP3QucGFyZW50Tm9kZTp0fSl9LEtOPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49ZSxVLmZyb20obi5zZWxlY3Rpb24uZ2V0Um5nKCkpLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRCb2R5KCk7cmV0dXJuIGUuc3RhcnRDb250YWluZXI9PT10JiYwPT09ZS5zdGFydE9mZnNldD9VLm5vbmUoKTpVLmZyb20obi5zZWxlY3Rpb24uZ2V0U3RhcnQoITApKX0pLm9yVGh1bmsoTihXTixlKSkubWFwKEF0LmZyb21Eb20pLmZpbHRlcihGdCkubWFwKHQpO3ZhciBufSxYTj1mdW5jdGlvbihlLHQpe2lmKC9eWzAtOS5dKyQvLnRlc3QodCkpe3ZhciBuPXBhcnNlSW50KHQsMTApO2lmKDE8PW4mJm48PTcpe3ZhciByPShhPWUsa3QuZXhwbG9kZShhLmdldFBhcmFtKCJmb250X3NpemVfc3R5bGVfdmFsdWVzIiwieHgtc21hbGwseC1zbWFsbCxzbWFsbCxtZWRpdW0sbGFyZ2UseC1sYXJnZSx4eC1sYXJnZSIpKSksbz0oaT1lLGt0LmV4cGxvZGUoaS5nZXRQYXJhbSgiZm9udF9zaXplX2NsYXNzZXMiLCIiKSkpO3JldHVybiBvP29bbi0xXXx8dDpyW24tMV18fHR9cmV0dXJuIHR9cmV0dXJuIHQ7dmFyIGksYX0sWU49ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVhOKGUsdCk7ZS5mb3JtYXR0ZXIudG9nZ2xlKCJmb250bmFtZSIse3ZhbHVlOihuPXIuc3BsaXQoL1xzKixccyovKSx6KG4sZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lLmluZGV4T2YoIiAiKXx8VmUoZSwnIicpfHxWZShlLCInIik/ZToiJyIrZSsiJyJ9KS5qb2luKCIsIikpfSksZS5ub2RlQ2hhbmdlZCgpfSxHTj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGE9InN0cmluZyIhPXR5cGVvZihuPXQpPyhyPWt0LmV4dGVuZCh7cGFzdGU6bi5wYXN0ZSxkYXRhOntwYXN0ZTpuLnBhc3RlfX0sbikse2NvbnRlbnQ6bi5jb250ZW50LGRldGFpbHM6cn0pOntjb250ZW50Om4sZGV0YWlsczp7fX07bz1hLmNvbnRlbnQsaT1hLmRldGFpbHMsVnYoZSkuZWRpdG9yLmluc2VydENvbnRlbnQobyxpKX0sSk49a3QuZWFjaCxRTj1rdC5tYXAsWk49a3QuaW5BcnJheSxlRT0odEUucHJvdG90eXBlLmV4ZWNDb21tYW5kPWZ1bmN0aW9uKHQsbixyLGUpe3ZhciBvLGksYT0hMSx1PXRoaXM7aWYoIXUuZWRpdG9yLnJlbW92ZWQpe2lmKC9eKG1jZUFkZFVuZG9MZXZlbHxtY2VFbmRVbmRvTGV2ZWx8bWNlQmVnaW5VbmRvTGV2ZWx8bWNlUmVwYWludCkkLy50ZXN0KHQpfHxlJiZlLnNraXBfZm9jdXM/KGk9dS5lZGl0b3IsZG0oaSkuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gaS5zZWxlY3Rpb24uc2V0Um5nKGUpfSkpOnUuZWRpdG9yLmZvY3VzKCksKGU9dS5lZGl0b3IuZmlyZSgiQmVmb3JlRXhlY0NvbW1hbmQiLHtjb21tYW5kOnQsdWk6bix2YWx1ZTpyfSkpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiExO3ZhciBzPXQudG9Mb3dlckNhc2UoKTtpZihvPXUuY29tbWFuZHMuZXhlY1tzXSlyZXR1cm4gbyhzLG4sciksdS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLHtjb21tYW5kOnQsdWk6bix2YWx1ZTpyfSksITA7aWYoSk4odGhpcy5lZGl0b3IucGx1Z2lucyxmdW5jdGlvbihlKXtpZihlLmV4ZWNDb21tYW5kJiZlLmV4ZWNDb21tYW5kKHQsbixyKSlyZXR1cm4gdS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLHtjb21tYW5kOnQsdWk6bix2YWx1ZTpyfSksIShhPSEwKX0pLGEpcmV0dXJuIGE7aWYodS5lZGl0b3IudGhlbWUmJnUuZWRpdG9yLnRoZW1lLmV4ZWNDb21tYW5kJiZ1LmVkaXRvci50aGVtZS5leGVjQ29tbWFuZCh0LG4scikpcmV0dXJuIHUuZWRpdG9yLmZpcmUoIkV4ZWNDb21tYW5kIix7Y29tbWFuZDp0LHVpOm4sdmFsdWU6cn0pLCEwO3RyeXthPXUuZWRpdG9yLmdldERvYygpLmV4ZWNDb21tYW5kKHQsbixyKX1jYXRjaChjKXt9cmV0dXJuISFhJiYodS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLHtjb21tYW5kOnQsdWk6bix2YWx1ZTpyfSksITApfX0sdEUucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN0YXRlPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCF0aGlzLmVkaXRvci5xdWlya3MuaXNIaWRkZW4oKSYmIXRoaXMuZWRpdG9yLnJlbW92ZWQpe2lmKGU9ZS50b0xvd2VyQ2FzZSgpLHQ9dGhpcy5jb21tYW5kcy5zdGF0ZVtlXSlyZXR1cm4gdChlKTt0cnl7cmV0dXJuIHRoaXMuZWRpdG9yLmdldERvYygpLnF1ZXJ5Q29tbWFuZFN0YXRlKGUpfWNhdGNoKG4pe31yZXR1cm4hMX19LHRFLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdDtpZighdGhpcy5lZGl0b3IucXVpcmtzLmlzSGlkZGVuKCkmJiF0aGlzLmVkaXRvci5yZW1vdmVkKXtpZihlPWUudG9Mb3dlckNhc2UoKSx0PXRoaXMuY29tbWFuZHMudmFsdWVbZV0pcmV0dXJuIHQoZSk7dHJ5e3JldHVybiB0aGlzLmVkaXRvci5nZXREb2MoKS5xdWVyeUNvbW1hbmRWYWx1ZShlKX1jYXRjaChuKXt9fX0sdEUucHJvdG90eXBlLmFkZENvbW1hbmRzPWZ1bmN0aW9uKGUsbil7dm9pZCAwPT09biYmKG49ImV4ZWMiKTt2YXIgcj10aGlzO0pOKGUsZnVuY3Rpb24odCxlKXtKTihlLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXtyLmNvbW1hbmRzW25dW2VdPXR9KX0pfSx0RS5wcm90b3R5cGUuYWRkQ29tbWFuZD1mdW5jdGlvbihlLG8saSl7dmFyIGE9dGhpcztlPWUudG9Mb3dlckNhc2UoKSx0aGlzLmNvbW1hbmRzLmV4ZWNbZV09ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG8uY2FsbChpfHxhLmVkaXRvcix0LG4scil9fSx0RS5wcm90b3R5cGUucXVlcnlDb21tYW5kU3VwcG9ydGVkPWZ1bmN0aW9uKGUpe2lmKGU9ZS50b0xvd2VyQ2FzZSgpLHRoaXMuY29tbWFuZHMuZXhlY1tlXSlyZXR1cm4hMDt0cnl7cmV0dXJuIHRoaXMuZWRpdG9yLmdldERvYygpLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChlKX1jYXRjaCh0KXt9cmV0dXJuITF9LHRFLnByb3RvdHlwZS5hZGRRdWVyeVN0YXRlSGFuZGxlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcztlPWUudG9Mb3dlckNhc2UoKSx0aGlzLmNvbW1hbmRzLnN0YXRlW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FsbChufHxyLmVkaXRvcil9fSx0RS5wcm90b3R5cGUuYWRkUXVlcnlWYWx1ZUhhbmRsZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7ZT1lLnRvTG93ZXJDYXNlKCksdGhpcy5jb21tYW5kcy52YWx1ZVtlXT1mdW5jdGlvbigpe3JldHVybiB0LmNhbGwobnx8ci5lZGl0b3IpfX0sdEUucHJvdG90eXBlLmhhc0N1c3RvbUNvbW1hbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLCEhdGhpcy5jb21tYW5kcy5leGVjW2VdfSx0RS5wcm90b3R5cGUuZXhlY05hdGl2ZUNvbW1hbmQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PT09dW5kZWZpbmVkJiYodD0hMSksbj09PXVuZGVmaW5lZCYmKG49bnVsbCksdGhpcy5lZGl0b3IuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoZSx0LG4pfSx0RS5wcm90b3R5cGUuaXNGb3JtYXRNYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3IuZm9ybWF0dGVyLm1hdGNoKGUpfSx0RS5wcm90b3R5cGUudG9nZ2xlRm9ybWF0PWZ1bmN0aW9uKGUsdCl7dGhpcy5lZGl0b3IuZm9ybWF0dGVyLnRvZ2dsZShlLHQ/e3ZhbHVlOnR9OnVuZGVmaW5lZCksdGhpcy5lZGl0b3Iubm9kZUNoYW5nZWQoKX0sdEUucHJvdG90eXBlLnN0b3JlU2VsZWN0aW9uPWZ1bmN0aW9uKGUpe3RoaXMuc2VsZWN0aW9uQm9va21hcms9dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmdldEJvb2ttYXJrKGUpfSx0RS5wcm90b3R5cGUucmVzdG9yZVNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMuZWRpdG9yLnNlbGVjdGlvbi5tb3ZlVG9Cb29rbWFyayh0aGlzLnNlbGVjdGlvbkJvb2ttYXJrKX0sdEUucHJvdG90eXBlLnNldHVwQ29tbWFuZHM9ZnVuY3Rpb24oaSl7dmFyIGE9dGhpczt0aGlzLmFkZENvbW1hbmRzKHsibWNlUmVzZXREZXNpZ25Nb2RlLG1jZUJlZ2luVW5kb0xldmVsIjpmdW5jdGlvbigpe30sIm1jZUVuZFVuZG9MZXZlbCxtY2VBZGRVbmRvTGV2ZWwiOmZ1bmN0aW9uKCl7aS51bmRvTWFuYWdlci5hZGQoKX0sIkN1dCxDb3B5LFBhc3RlIjpmdW5jdGlvbihlKXt2YXIgdCxuLHI9aS5nZXREb2MoKTt0cnl7YS5leGVjTmF0aXZlQ29tbWFuZChlKX1jYXRjaChvKXt0PSEwfSJwYXN0ZSIhPT1lfHxyLnF1ZXJ5Q29tbWFuZEVuYWJsZWQoZSl8fCh0PSEwKSwhdCYmci5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoZSl8fChuPWkudHJhbnNsYXRlKCJZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGRpcmVjdCBhY2Nlc3MgdG8gdGhlIGNsaXBib2FyZC4gUGxlYXNlIHVzZSB0aGUgQ3RybCtYL0MvViBrZXlib2FyZCBzaG9ydGN1dHMgaW5zdGVhZC4iKSx3dC5tYWMmJihuPW4ucmVwbGFjZSgvQ3RybFwrL2csIlx1MjMxOCsiKSksaS5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oe3RleHQ6bix0eXBlOiJlcnJvciJ9KSl9LHVubGluazpmdW5jdGlvbigpe3ZhciBlO2kuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCk/KGU9aS5kb20uZ2V0UGFyZW50KGkuc2VsZWN0aW9uLmdldFN0YXJ0KCksImEiKSkmJmkuZG9tLnJlbW92ZShlLCEwKTppLmZvcm1hdHRlci5yZW1vdmUoImxpbmsiKX0sIkp1c3RpZnlMZWZ0LEp1c3RpZnlDZW50ZXIsSnVzdGlmeVJpZ2h0LEp1c3RpZnlGdWxsLEp1c3RpZnlOb25lIjpmdW5jdGlvbihlKXt2YXIgdD1lLnN1YnN0cmluZyg3KTsiZnVsbCI9PT10JiYodD0ianVzdGlmeSIpLEpOKCJsZWZ0LGNlbnRlcixyaWdodCxqdXN0aWZ5Ii5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe3QhPT1lJiZpLmZvcm1hdHRlci5yZW1vdmUoImFsaWduIitlKX0pLCJub25lIiE9PXQmJmEudG9nZ2xlRm9ybWF0KCJhbGlnbiIrdCl9LCJJbnNlcnRVbm9yZGVyZWRMaXN0LEluc2VydE9yZGVyZWRMaXN0IjpmdW5jdGlvbihlKXt2YXIgdDthLmV4ZWNOYXRpdmVDb21tYW5kKGUpO3ZhciBuPWkuZG9tLmdldFBhcmVudChpLnNlbGVjdGlvbi5nZXROb2RlKCksIm9sLHVsIik7biYmKHQ9bi5wYXJlbnROb2RlLC9eKEhbMS02XXxQfEFERFJFU1N8UFJFKSQvLnRlc3QodC5ub2RlTmFtZSkmJihhLnN0b3JlU2VsZWN0aW9uKCksaS5kb20uc3BsaXQodCxuKSxhLnJlc3RvcmVTZWxlY3Rpb24oKSkpfSwiQm9sZCxJdGFsaWMsVW5kZXJsaW5lLFN0cmlrZXRocm91Z2gsU3VwZXJzY3JpcHQsU3Vic2NyaXB0IjpmdW5jdGlvbihlKXthLnRvZ2dsZUZvcm1hdChlKX0sIkZvcmVDb2xvcixIaWxpdGVDb2xvciI6ZnVuY3Rpb24oZSx0LG4pe2EudG9nZ2xlRm9ybWF0KGUsbil9LEZvbnROYW1lOmZ1bmN0aW9uKGUsdCxuKXtZTihpLG4pfSxGb250U2l6ZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsbztvPW4sKHI9aSkuZm9ybWF0dGVyLnRvZ2dsZSgiZm9udHNpemUiLHt2YWx1ZTpYTihyLG8pfSksci5ub2RlQ2hhbmdlZCgpfSxMaW5lSGVpZ2h0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvO289biwocj1pKS51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbigpe3IuZm9ybWF0dGVyLnRvZ2dsZSgibGluZWhlaWdodCIse3ZhbHVlOlN0cmluZyhvKX0pLHIubm9kZUNoYW5nZWQoKX0pfSxSZW1vdmVGb3JtYXQ6ZnVuY3Rpb24oZSl7aS5mb3JtYXR0ZXIucmVtb3ZlKGUpfSxtY2VCbG9ja1F1b3RlOmZ1bmN0aW9uKCl7YS50b2dnbGVGb3JtYXQoImJsb2NrcXVvdGUiKX0sRm9ybWF0QmxvY2s6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhLnRvZ2dsZUZvcm1hdChufHwicCIpfSxtY2VDbGVhbnVwOmZ1bmN0aW9uKCl7dmFyIGU9aS5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoKTtpLnNldENvbnRlbnQoaS5nZXRDb250ZW50KCkpLGkuc2VsZWN0aW9uLm1vdmVUb0Jvb2ttYXJrKGUpfSxtY2VSZW1vdmVOb2RlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1ufHxpLnNlbGVjdGlvbi5nZXROb2RlKCk7ciE9PWkuZ2V0Qm9keSgpJiYoYS5zdG9yZVNlbGVjdGlvbigpLGkuZG9tLnJlbW92ZShyLCEwKSxhLnJlc3RvcmVTZWxlY3Rpb24oKSl9LG1jZVNlbGVjdE5vZGVEZXB0aDpmdW5jdGlvbihlLHQsbil7dmFyIHI9MDtpLmRvbS5nZXRQYXJlbnQoaS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLGZ1bmN0aW9uKGUpe2lmKDE9PT1lLm5vZGVUeXBlJiZyKys9PT1uKXJldHVybiBpLnNlbGVjdGlvbi5zZWxlY3QoZSksITF9LGkuZ2V0Qm9keSgpKX0sbWNlU2VsZWN0Tm9kZTpmdW5jdGlvbihlLHQsbil7aS5zZWxlY3Rpb24uc2VsZWN0KG4pfSxtY2VJbnNlcnRDb250ZW50OmZ1bmN0aW9uKGUsdCxuKXtHTihpLG4pfSxtY2VJbnNlcnRSYXdIVE1MOmZ1bmN0aW9uKGUsdCxuKXtpLnNlbGVjdGlvbi5zZXRDb250ZW50KCJ0aW55X21jZV9tYXJrZXIiKTt2YXIgcj1pLmdldENvbnRlbnQoKTtpLnNldENvbnRlbnQoci5yZXBsYWNlKC90aW55X21jZV9tYXJrZXIvZyxmdW5jdGlvbigpe3JldHVybiBufSkpfSxtY2VJbnNlcnROZXdMaW5lOmZ1bmN0aW9uKGUsdCxuKXtNUyhpLG4pfSxtY2VUb2dnbGVGb3JtYXQ6ZnVuY3Rpb24oZSx0LG4pe2EudG9nZ2xlRm9ybWF0KG4pfSxtY2VTZXRDb250ZW50OmZ1bmN0aW9uKGUsdCxuKXtpLnNldENvbnRlbnQobil9LCJJbmRlbnQsT3V0ZGVudCI6ZnVuY3Rpb24oZSl7X3coaSxlKX0sbWNlUmVwYWludDpmdW5jdGlvbigpe30sSW5zZXJ0SG9yaXpvbnRhbFJ1bGU6ZnVuY3Rpb24oKXtpLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwhMSwiPGhyIC8+Iil9LG1jZVRvZ2dsZVZpc3VhbEFpZDpmdW5jdGlvbigpe2kuaGFzVmlzdWFsPSFpLmhhc1Zpc3VhbCxpLmFkZFZpc3VhbCgpfSxtY2VSZXBsYWNlQ29udGVudDpmdW5jdGlvbihlLHQsbil7aS5leGVjQ29tbWFuZCgibWNlSW5zZXJ0Q29udGVudCIsITEsbi5yZXBsYWNlKC9ce1wkc2VsZWN0aW9uXH0vZyxpLnNlbGVjdGlvbi5nZXRDb250ZW50KHtmb3JtYXQ6InRleHQifSkpKX0sbWNlSW5zZXJ0TGluazpmdW5jdGlvbihlLHQsbil7InN0cmluZyI9PXR5cGVvZiBuJiYobj17aHJlZjpufSk7dmFyIHI9aS5kb20uZ2V0UGFyZW50KGkuc2VsZWN0aW9uLmdldE5vZGUoKSwiYSIpO24uaHJlZj1uLmhyZWYucmVwbGFjZSgvIC9nLCIlMjAiKSxyJiZuLmhyZWZ8fGkuZm9ybWF0dGVyLnJlbW92ZSgibGluayIpLG4uaHJlZiYmaS5mb3JtYXR0ZXIuYXBwbHkoImxpbmsiLG4scil9LHNlbGVjdEFsbDpmdW5jdGlvbigpe3ZhciBlLHQ9aS5kb20uZ2V0UGFyZW50KGkuc2VsZWN0aW9uLmdldFN0YXJ0KCksSG4pO3QmJigoZT1pLmRvbS5jcmVhdGVSbmcoKSkuc2VsZWN0Tm9kZUNvbnRlbnRzKHQpLGkuc2VsZWN0aW9uLnNldFJuZyhlKSl9LG1jZU5ld0RvY3VtZW50OmZ1bmN0aW9uKCl7aS5zZXRDb250ZW50KCIiKX0sSW5zZXJ0TGluZUJyZWFrOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gU1MoaSxuKSwhMH19KTt2YXIgZT1mdW5jdGlvbihyKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1pLnNlbGVjdGlvbix0PWUuaXNDb2xsYXBzZWQoKT9baS5kb20uZ2V0UGFyZW50KGUuZ2V0Tm9kZSgpLGkuZG9tLmlzQmxvY2spXTplLmdldFNlbGVjdGVkQmxvY2tzKCksbj1RTih0LGZ1bmN0aW9uKGUpe3JldHVybiEhaS5mb3JtYXR0ZXIubWF0Y2hOb2RlKGUscil9KTtyZXR1cm4tMSE9PVpOKG4sITApfX07YS5hZGRDb21tYW5kcyh7SnVzdGlmeUxlZnQ6ZSgiYWxpZ25sZWZ0IiksSnVzdGlmeUNlbnRlcjplKCJhbGlnbmNlbnRlciIpLEp1c3RpZnlSaWdodDplKCJhbGlnbnJpZ2h0IiksSnVzdGlmeUZ1bGw6ZSgiYWxpZ25qdXN0aWZ5IiksIkJvbGQsSXRhbGljLFVuZGVybGluZSxTdHJpa2V0aHJvdWdoLFN1cGVyc2NyaXB0LFN1YnNjcmlwdCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGEuaXNGb3JtYXRNYXRjaChlKX0sbWNlQmxvY2tRdW90ZTpmdW5jdGlvbigpe3JldHVybiBhLmlzRm9ybWF0TWF0Y2goImJsb2NrcXVvdGUiKX0sT3V0ZGVudDpmdW5jdGlvbigpe3JldHVybiBOdyhpKX0sIkluc2VydFVub3JkZXJlZExpc3QsSW5zZXJ0T3JkZXJlZExpc3QiOmZ1bmN0aW9uKGUpe3ZhciB0PWkuZG9tLmdldFBhcmVudChpLnNlbGVjdGlvbi5nZXROb2RlKCksInVsLG9sIik7cmV0dXJuIHQmJigiaW5zZXJ0dW5vcmRlcmVkbGlzdCI9PT1lJiYiVUwiPT09dC50YWdOYW1lfHwiaW5zZXJ0b3JkZXJlZGxpc3QiPT09ZSYmIk9MIj09PXQudGFnTmFtZSl9fSwic3RhdGUiKSxhLmFkZENvbW1hbmRzKHtVbmRvOmZ1bmN0aW9uKCl7aS51bmRvTWFuYWdlci51bmRvKCl9LFJlZG86ZnVuY3Rpb24oKXtpLnVuZG9NYW5hZ2VyLnJlZG8oKX19KSxhLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyKCJGb250TmFtZSIsZnVuY3Rpb24oKXtyZXR1cm4gS04odD1pLGZ1bmN0aW9uKGUpe3JldHVybiAkTih0LmdldEJvZHkoKSxlLmRvbSl9KS5nZXRPcigiIik7dmFyIHR9LHRoaXMpLGEuYWRkUXVlcnlWYWx1ZUhhbmRsZXIoIkZvbnRTaXplIixmdW5jdGlvbigpe3JldHVybiBLTih0PWksZnVuY3Rpb24oZSl7cmV0dXJuIHFOKHQuZ2V0Qm9keSgpLGUuZG9tKX0pLmdldE9yKCIiKTt2YXIgdH0sdGhpcyksYS5hZGRRdWVyeVZhbHVlSGFuZGxlcigiTGluZUhlaWdodCIsZnVuY3Rpb24oKXtyZXR1cm4gS04odD1pLGZ1bmN0aW9uKG4pe3ZhciBlPUF0LmZyb21Eb20odC5nZXRCb2R5KCkpO3JldHVybiBQbShuLGZ1bmN0aW9uKGUpe3JldHVybiBucihlLCJsaW5lLWhlaWdodCIpfSxOKE90LGUpKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7dmFyIGU9cGFyc2VGbG9hdChlcihuLCJsaW5lLWhlaWdodCIpKSx0PXBhcnNlRmxvYXQoZXIobiwiZm9udC1zaXplIikpO3JldHVybiBTdHJpbmcoZS90KX0pfSkuZ2V0T3IoIiIpO3ZhciB0fSx0aGlzKX0sdEUpO2Z1bmN0aW9uIHRFKGUpe3RoaXMuY29tbWFuZHM9e3N0YXRlOnt9LGV4ZWM6e30sdmFsdWU6e319LHRoaXMuZWRpdG9yPWUsdGhpcy5zZXR1cENvbW1hbmRzKGUpfXZhciBuRT0iZGF0YS1tY2UtY29udGVudGVkaXRhYmxlIixyRT1mdW5jdGlvbihlLHQsbil7dmFyIHIsbztYdShlLHQpJiYhMT09PW4/KG89dCxWdShyPWUpP3IuZG9tLmNsYXNzTGlzdC5yZW1vdmUobyk6JHUocixvKSxLdShyKSk6biYmV3UoZSx0KX0sb0U9ZnVuY3Rpb24oZSx0LG4pe3RyeXtlLmdldERvYygpLmV4ZWNDb21tYW5kKHQsITEsU3RyaW5nKG4pKX1jYXRjaChyKXt9fSxpRT1mdW5jdGlvbihlLHQpe2UuZG9tLmNvbnRlbnRFZGl0YWJsZT10PyJ0cnVlIjoiZmFsc2UifSxhRT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPUF0LmZyb21Eb20oZS5nZXRCb2R5KCkpO3JFKGksIm1jZS1jb250ZW50LXJlYWRvbmx5Iix0KSx0PyhlLnNlbGVjdGlvbi5jb250cm9sU2VsZWN0aW9uLmhpZGVSZXNpemVSZWN0KCksZS5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSxvPWUsVS5mcm9tKG8uc2VsZWN0aW9uLmdldE5vZGUoKSkuZWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiKX0pLGUucmVhZG9ubHk9ITAsaUUoaSwhMSksVyhHdShpLCcqW2NvbnRlbnRlZGl0YWJsZT0idHJ1ZSJdJyksZnVuY3Rpb24oZSl7WG4oZSxuRSwidHJ1ZSIpLGlFKGUsITEpfSkpOihlLnJlYWRvbmx5PSExLGlFKGksITApLFcoR3UoaSwiKlsiK25FKyc9InRydWUiXScpLGZ1bmN0aW9uKGUpe1FuKGUsbkUpLGlFKGUsITApfSksb0UoZSwiU3R5bGVXaXRoQ1NTIiwhMSksb0UoZSwiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nIiwhMSksb0UoZSwiZW5hYmxlT2JqZWN0UmVzaXppbmciLCExKSwoRW0ocj1lKXx8Tm0ocikpJiZlLmZvY3VzKCksKG49ZSkuc2VsZWN0aW9uLnNldFJuZyhuLnNlbGVjdGlvbi5nZXRSbmcoKSksZS5ub2RlQ2hhbmdlZCgpKX0sdUU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVhZG9ubHl9LHNFPWZ1bmN0aW9uKHQpe3QucGFyc2VyLmFkZEF0dHJpYnV0ZUZpbHRlcigiY29udGVudGVkaXRhYmxlIixmdW5jdGlvbihlKXt1RSh0KSYmVyhlLGZ1bmN0aW9uKGUpe2UuYXR0cihuRSxlLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpKSxlLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsImZhbHNlIil9KX0pLHQuc2VyaWFsaXplci5hZGRBdHRyaWJ1dGVGaWx0ZXIobkUsZnVuY3Rpb24oZSl7dUUodCkmJlcoZSxmdW5jdGlvbihlKXtlLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsZS5hdHRyKG5FKSl9KX0pLHQuc2VyaWFsaXplci5hZGRUZW1wQXR0cihuRSl9LGNFPWZ1bmN0aW9uKGEsdSl7dmFyIGUsdDsiY2xpY2siIT09dS50eXBlfHx1ZC5tZXRhS2V5UHJlc3NlZCh1KXx8KGU9QXQuZnJvbURvbSh1LnRhcmdldCksdD1hLE9yKGUsImEiLGZ1bmN0aW9uKGUpe3JldHVybiBPdChlLEF0LmZyb21Eb20odC5nZXRCb2R5KCkpKX0pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIEpuKGUsImhyZWYiKX0pLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saTt1LnByZXZlbnREZWZhdWx0KCksL14jLy50ZXN0KGUpPyh0PWEuZG9tLnNlbGVjdChlKycsW25hbWU9IicrKFZlKG49ZSxyPSIjIik/KG89bixpPXIubGVuZ3RoLG8uc3Vic3RyaW5nKGkpKTpuKSsnIl0nKSkubGVuZ3RoJiZhLnNlbGVjdGlvbi5zY3JvbGxJbnRvVmlldyh0WzBdLCEwKTp3aW5kb3cub3BlbihlLCJfYmxhbmsiLCJyZWw9bm9vcGVuZXIgbm9yZWZlcnJlcixtZW51YmFyPXllcyx0b29sYmFyPXllcyxsb2NhdGlvbj15ZXMsc3RhdHVzPXllcyxyZXNpemFibGU9eWVzLHNjcm9sbGJhcnM9eWVzIil9KSl9LGxFPWt0Lm1ha2VNYXAoImZvY3VzIGJsdXIgZm9jdXNpbiBmb2N1c291dCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIGJlZm9yZXBhc3RlIHBhc3RlIGN1dCBjb3B5IHNlbGVjdGlvbmNoYW5nZSBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgd2hlZWwga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBpbnB1dCBiZWZvcmVpbnB1dCBjb250ZXh0bWVudSBkcmFnc3RhcnQgZHJhZ2VuZCBkcmFnb3ZlciBkcmFnZ2VzdHVyZSBkcmFnZHJvcCBkcm9wIGRyYWcgc3VibWl0IGNvbXBvc2l0aW9uc3RhcnQgY29tcG9zaXRpb25lbmQgY29tcG9zaXRpb251cGRhdGUgdG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwiLCIgIiksZkU9KGRFLmlzTmF0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiEhbEVbZS50b0xvd2VyQ2FzZSgpXX0sZEUucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnRvTG93ZXJDYXNlKCkscj10fHx7fTtyLnR5cGU9bixyLnRhcmdldHx8KHIudGFyZ2V0PXRoaXMuc2NvcGUpLHIucHJldmVudERlZmF1bHR8fChyLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7ci5pc0RlZmF1bHRQcmV2ZW50ZWQ9a30sci5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtyLmlzUHJvcGFnYXRpb25TdG9wcGVkPWt9LHIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7ci5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1rfSxyLmlzRGVmYXVsdFByZXZlbnRlZD1DLHIuaXNQcm9wYWdhdGlvblN0b3BwZWQ9QyxyLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPUMpLHRoaXMuc2V0dGluZ3MuYmVmb3JlRmlyZSYmdGhpcy5zZXR0aW5ncy5iZWZvcmVGaXJlKHIpO3ZhciBvPXRoaXMuYmluZGluZ3Nbbl07aWYobylmb3IodmFyIGk9MCxhPW8ubGVuZ3RoO2k8YTtpKyspe3ZhciB1PW9baV07aWYodS5vbmNlJiZ0aGlzLm9mZihuLHUuZnVuYyksci5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKXJldHVybiByLnN0b3BQcm9wYWdhdGlvbigpLHI7aWYoITE9PT11LmZ1bmMuY2FsbCh0aGlzLnNjb3BlLHIpKXJldHVybiByLnByZXZlbnREZWZhdWx0KCkscn1yZXR1cm4gcn0sZEUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCExPT09dCYmKHQ9QyksdCl7dmFyIG89e2Z1bmM6dH07ciYma3QuZXh0ZW5kKG8scik7Zm9yKHZhciBpPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpLGE9aS5sZW5ndGg7YS0tOyl7dmFyIHU9aVthXSxzPXRoaXMuYmluZGluZ3NbdV07c3x8KHM9dGhpcy5iaW5kaW5nc1t1XT1bXSx0aGlzLnRvZ2dsZUV2ZW50KHUsITApKSxuP3MudW5zaGlmdChvKTpzLnB1c2gobyl9fXJldHVybiB0aGlzfSxkRS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZihlKWZvcih2YXIgcj1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKSxvPXIubGVuZ3RoO28tLTspe3ZhciBpPXJbb10sYT10aGlzLmJpbmRpbmdzW2ldO2lmKCFpKXJldHVybiB1ZSh0aGlzLmJpbmRpbmdzLGZ1bmN0aW9uKGUsdCl7bi50b2dnbGVFdmVudCh0LCExKSxkZWxldGUgbi5iaW5kaW5nc1t0XX0pLHRoaXM7aWYoYSl7aWYodClmb3IodmFyIHU9YS5sZW5ndGg7dS0tOylhW3VdLmZ1bmM9PT10JiYoYT1hLnNsaWNlKDAsdSkuY29uY2F0KGEuc2xpY2UodSsxKSksdGhpcy5iaW5kaW5nc1tpXT1hKTtlbHNlIGEubGVuZ3RoPTA7YS5sZW5ndGh8fCh0aGlzLnRvZ2dsZUV2ZW50KGUsITEpLGRlbGV0ZSB0aGlzLmJpbmRpbmdzW2ldKX19ZWxzZSB1ZSh0aGlzLmJpbmRpbmdzLGZ1bmN0aW9uKGUsdCl7bi50b2dnbGVFdmVudCh0LCExKX0pLHRoaXMuYmluZGluZ3M9e307cmV0dXJuIHRoaXN9LGRFLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLHQsbix7b25jZTohMH0pfSxkRS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSwhKCF0aGlzLmJpbmRpbmdzW2VdfHwwPT09dGhpcy5iaW5kaW5nc1tlXS5sZW5ndGgpfSxkRSk7ZnVuY3Rpb24gZEUoZSl7dGhpcy5iaW5kaW5ncz17fSx0aGlzLnNldHRpbmdzPWV8fHt9LHRoaXMuc2NvcGU9dGhpcy5zZXR0aW5ncy5zY29wZXx8dGhpcyx0aGlzLnRvZ2dsZUV2ZW50PXRoaXMuc2V0dGluZ3MudG9nZ2xlRXZlbnR8fEN9dmFyIG1FLHBFPWZ1bmN0aW9uKG4pe3JldHVybiBuLl9ldmVudERpc3BhdGNoZXJ8fChuLl9ldmVudERpc3BhdGNoZXI9bmV3IGZFKHtzY29wZTpuLHRvZ2dsZUV2ZW50OmZ1bmN0aW9uKGUsdCl7ZkUuaXNOYXRpdmUoZSkmJm4udG9nZ2xlTmF0aXZlRXZlbnQmJm4udG9nZ2xlTmF0aXZlRXZlbnQoZSx0KX19KSksbi5fZXZlbnREaXNwYXRjaGVyfSxnRT17ZmlyZTpmdW5jdGlvbihlLHQsbil7aWYodGhpcy5yZW1vdmVkJiYicmVtb3ZlIiE9PWUmJiJkZXRhY2giIT09ZSlyZXR1cm4gdDt2YXIgcj1wRSh0aGlzKS5maXJlKGUsdCk7aWYoITEhPT1uJiZ0aGlzLnBhcmVudClmb3IodmFyIG89dGhpcy5wYXJlbnQoKTtvJiYhci5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylvLmZpcmUoZSxyLCExKSxvPW8ucGFyZW50KCk7cmV0dXJuIHJ9LG9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcEUodGhpcykub24oZSx0LG4pfSxvZmY6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcEUodGhpcykub2ZmKGUsdCl9LG9uY2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcEUodGhpcykub25jZShlLHQpfSxoYXNFdmVudExpc3RlbmVyczpmdW5jdGlvbihlKXtyZXR1cm4gcEUodGhpcykuaGFzKGUpfX0saEU9RXUuRE9NLHZFPWZ1bmN0aW9uKGUsdCl7aWYoInNlbGVjdGlvbmNoYW5nZSI9PT10KXJldHVybiBlLmdldERvYygpO2lmKCFlLmlubGluZSYmL15tb3VzZXx0b3VjaHxjbGlja3xjb250ZXh0bWVudXxkcm9wfGRyYWdvdmVyfGRyYWdlbmQvLnRlc3QodCkpcmV0dXJuIGUuZ2V0RG9jKCkuZG9jdW1lbnRFbGVtZW50O3ZhciBuPUVjKGUpO3JldHVybiBuPyhlLmV2ZW50Um9vdHx8KGUuZXZlbnRSb290PWhFLnNlbGVjdChuKVswXSksZS5ldmVudFJvb3QpOmUuZ2V0Qm9keSgpfSx5RT1mdW5jdGlvbihlLHQsbil7dmFyIHI7KHI9ZSkuaGlkZGVufHx1RShyKT91RShlKSYmY0UoZSxuKTplLmZpcmUodCxuKX0sYkU9ZnVuY3Rpb24oaSxhKXt2YXIgZTtpZihpLmRlbGVnYXRlc3x8KGkuZGVsZWdhdGVzPXt9KSwhaS5kZWxlZ2F0ZXNbYV0mJiFpLnJlbW92ZWQpe3ZhciB0PXZFKGksYSk7aWYoRWMoaSkpe2lmKG1FfHwobUU9e30saS5lZGl0b3JNYW5hZ2VyLm9uKCJyZW1vdmVFZGl0b3IiLGZ1bmN0aW9uKCl7aS5lZGl0b3JNYW5hZ2VyLmFjdGl2ZUVkaXRvcnx8bUUmJih1ZShtRSxmdW5jdGlvbihlLHQpe2kuZG9tLnVuYmluZCh2RShpLHQpKX0pLG1FPW51bGwpfSkpLG1FW2FdKXJldHVybjtlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnRhcmdldCxuPWkuZWRpdG9yTWFuYWdlci5nZXQoKSxyPW4ubGVuZ3RoO3ItLTspe3ZhciBvPW5bcl0uZ2V0Qm9keSgpO28hPT10JiYhaEUuaXNDaGlsZE9mKHQsbyl8fHlFKG5bcl0sYSxlKX19LG1FW2FdPWUsaEUuYmluZCh0LGEsZSl9ZWxzZSBlPWZ1bmN0aW9uKGUpe3lFKGksYSxlKX0saEUuYmluZCh0LGEsZSksaS5kZWxlZ2F0ZXNbYV09ZX19LENFPWtlKGtlKHt9LGdFKSx7YmluZFBlbmRpbmdFdmVudERlbGVnYXRlczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7a3QuZWFjaCh0Ll9wZW5kaW5nTmF0aXZlRXZlbnRzLGZ1bmN0aW9uKGUpe2JFKHQsZSl9KX0sdG9nZ2xlTmF0aXZlRXZlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzOyJmb2N1cyIhPT1lJiYiYmx1ciIhPT1lJiYodD9uLmluaXRpYWxpemVkP2JFKG4sZSk6bi5fcGVuZGluZ05hdGl2ZUV2ZW50cz9uLl9wZW5kaW5nTmF0aXZlRXZlbnRzLnB1c2goZSk6bi5fcGVuZGluZ05hdGl2ZUV2ZW50cz1bZV06bi5pbml0aWFsaXplZCYmKG4uZG9tLnVuYmluZCh2RShuLGUpLGUsbi5kZWxlZ2F0ZXNbZV0pLGRlbGV0ZSBuLmRlbGVnYXRlc1tlXSkpfSx1bmJpbmRBbGxOYXRpdmVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLGU9bi5nZXRCb2R5KCksdD1uLmRvbTtuLmRlbGVnYXRlcyYmKHVlKG4uZGVsZWdhdGVzLGZ1bmN0aW9uKGUsdCl7bi5kb20udW5iaW5kKHZFKG4sdCksdCxlKX0pLGRlbGV0ZSBuLmRlbGVnYXRlcyksIW4uaW5saW5lJiZlJiZ0JiYoZS5vbmxvYWQ9bnVsbCx0LnVuYmluZChuLmdldFdpbigpKSx0LnVuYmluZChuLmdldERvYygpKSksdCYmKHQudW5iaW5kKGUpLHQudW5iaW5kKG4uZ2V0Q29udGFpbmVyKCkpKX19KSx3RT1bImRlc2lnbiIsInJlYWRvbmx5Il0seEU9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saT1uW3QuZ2V0KCldLGE9bltyXTt0cnl7YS5hY3RpdmF0ZSgpfWNhdGNoKE9rKXtyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJwcm9ibGVtIHdoaWxlIGFjdGl2YXRpbmcgZWRpdG9yIG1vZGUgIityKyI6IixPayl9aS5kZWFjdGl2YXRlKCksaS5lZGl0b3JSZWFkT25seSE9PWEuZWRpdG9yUmVhZE9ubHkmJmFFKGUsYS5lZGl0b3JSZWFkT25seSksdC5zZXQociksbz1yLGUuZmlyZSgiU3dpdGNoTW9kZSIse21vZGU6b30pfSxTRT1mdW5jdGlvbih0KXt2YXIgZSxuLHI9T3UoImRlc2lnbiIpLG89T3Uoe2Rlc2lnbjp7YWN0aXZhdGU6VixkZWFjdGl2YXRlOlYsZWRpdG9yUmVhZE9ubHk6ITF9LHJlYWRvbmx5OnthY3RpdmF0ZTpWLGRlYWN0aXZhdGU6VixlZGl0b3JSZWFkT25seTohMH19KTtyZXR1cm4oZT10KS5zZXJpYWxpemVyP3NFKGUpOmUub24oIlByZUluaXQiLGZ1bmN0aW9uKCl7c0UoZSl9KSwobj10KS5vbigiU2hvd0NhcmV0IixmdW5jdGlvbihlKXt1RShuKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSksbi5vbigiT2JqZWN0U2VsZWN0ZWQiLGZ1bmN0aW9uKGUpe3VFKG4pJiZlLnByZXZlbnREZWZhdWx0KCl9KSx7aXNSZWFkT25seTpmdW5jdGlvbigpe3JldHVybiB1RSh0KX0sc2V0OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQsbixyKXtpZihyIT09bi5nZXQoKSl7aWYoIWhlKHQscikpdGhyb3cgbmV3IEVycm9yKCJFZGl0b3IgbW9kZSAnIityKyInIGlzIGludmFsaWQiKTtlLmluaXRpYWxpemVkP3hFKGUsbix0LHIpOmUub24oImluaXQiLGZ1bmN0aW9uKCl7cmV0dXJuIHhFKGUsbix0LHIpfSl9fSh0LG8uZ2V0KCkscixlKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZ2V0KCl9LHJlZ2lzdGVyOmZ1bmN0aW9uKGUsdCl7by5zZXQoZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKE0od0UsdCkpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgb3ZlcnJpZGUgZGVmYXVsdCBtb2RlICIrdCk7cmV0dXJuIGtlKGtlKHt9LGUpLCgocj17fSlbdF09a2Uoa2Uoe30sbikse2RlYWN0aXZhdGU6ZnVuY3Rpb24oKXt0cnl7bi5kZWFjdGl2YXRlKCl9Y2F0Y2goT2spe2NvbnNvbGUuZXJyb3IoInByb2JsZW0gd2hpbGUgZGVhY3RpdmF0aW5nIGVkaXRvciBtb2RlICIrdCsiOiIsT2spfX19KSxyKSl9KG8uZ2V0KCksZSx0KSl9fX0sTkU9a3QuZWFjaCxFRT1rdC5leHBsb2RlLGtFPXtmMToxMTIsZjI6MTEzLGYzOjExNCxmNDoxMTUsZjU6MTE2LGY2OjExNyxmNzoxMTgsZjg6MTE5LGY5OjEyMCxmMTA6MTIxLGYxMToxMjIsZjEyOjEyM30sX0U9a3QubWFrZU1hcCgiYWx0LGN0cmwsc2hpZnQsbWV0YSxhY2Nlc3MiKSxBRT0oUkUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLG4sdCxyKXt2YXIgbz10aGlzLGk9by5ub3JtYWxpemVDb21tYW5kRnVuYyh0KTtyZXR1cm4gTkUoRUUoa3QudHJpbShlKSksZnVuY3Rpb24oZSl7dmFyIHQ9by5jcmVhdGVTaG9ydGN1dChlLG4saSxyKTtvLnNob3J0Y3V0c1t0LmlkXT10fSksITB9LFJFLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jcmVhdGVTaG9ydGN1dChlKTtyZXR1cm4hIXRoaXMuc2hvcnRjdXRzW3QuaWRdJiYoZGVsZXRlIHRoaXMuc2hvcnRjdXRzW3QuaWRdLCEwKX0sUkUucHJvdG90eXBlLm5vcm1hbGl6ZUNvbW1hbmRGdW5jPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1lO3JldHVybiJzdHJpbmciPT10eXBlb2Ygbj9mdW5jdGlvbigpe3QuZWRpdG9yLmV4ZWNDb21tYW5kKG4sITEsbnVsbCl9Omt0LmlzQXJyYXkobik/ZnVuY3Rpb24oKXt0LmVkaXRvci5leGVjQ29tbWFuZChuWzBdLG5bMV0sblsyXSl9Om59LFJFLnByb3RvdHlwZS5wYXJzZVNob3J0Y3V0PWZ1bmN0aW9uKGUpe3ZhciB0LG49e307TkUoRUUoZS50b0xvd2VyQ2FzZSgpLCIrIiksZnVuY3Rpb24oZSl7ZSBpbiBfRT9uW2VdPSEwOi9eWzAtOV17Mix9JC8udGVzdChlKT9uLmtleUNvZGU9cGFyc2VJbnQoZSwxMCk6KG4uY2hhckNvZGU9ZS5jaGFyQ29kZUF0KDApLG4ua2V5Q29kZT1rRVtlXXx8ZS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCkpfSk7dmFyIHI9W24ua2V5Q29kZV07Zm9yKHQgaW4gX0Upblt0XT9yLnB1c2godCk6blt0XT0hMTtyZXR1cm4gbi5pZD1yLmpvaW4oIiwiKSxuLmFjY2VzcyYmKG4uYWx0PSEwLHd0Lm1hYz9uLmN0cmw9ITA6bi5zaGlmdD0hMCksbi5tZXRhJiYod3QubWFjP24ubWV0YT0hMDoobi5jdHJsPSEwLG4ubWV0YT0hMSkpLG59LFJFLnByb3RvdHlwZS5jcmVhdGVTaG9ydGN1dD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1rdC5tYXAoRUUoZSwiPiIpLHRoaXMucGFyc2VTaG9ydGN1dCk7cmV0dXJuIG9bby5sZW5ndGgtMV09a3QuZXh0ZW5kKG9bby5sZW5ndGgtMV0se2Z1bmM6bixzY29wZTpyfHx0aGlzLmVkaXRvcn0pLGt0LmV4dGVuZChvWzBdLHtkZXNjOnRoaXMuZWRpdG9yLnRyYW5zbGF0ZSh0KSxzdWJwYXR0ZXJuczpvLnNsaWNlKDEpfSl9LFJFLnByb3RvdHlwZS5oYXNNb2RpZmllcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5hbHRLZXl8fGUuY3RybEtleXx8ZS5tZXRhS2V5fSxSRS5wcm90b3R5cGUuaXNGdW5jdGlvbktleT1mdW5jdGlvbihlKXtyZXR1cm4ia2V5ZG93biI9PT1lLnR5cGUmJjExMjw9ZS5rZXlDb2RlJiZlLmtleUNvZGU8PTEyM30sUkUucHJvdG90eXBlLm1hdGNoU2hvcnRjdXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIXQmJnQuY3RybD09PWUuY3RybEtleSYmdC5tZXRhPT09ZS5tZXRhS2V5JiZ0LmFsdD09PWUuYWx0S2V5JiZ0LnNoaWZ0PT09ZS5zaGlmdEtleSYmISEoZS5rZXlDb2RlPT09dC5rZXlDb2RlfHxlLmNoYXJDb2RlJiZlLmNoYXJDb2RlPT09dC5jaGFyQ29kZSkmJihlLnByZXZlbnREZWZhdWx0KCksITApfSxSRS5wcm90b3R5cGUuZXhlY3V0ZVNob3J0Y3V0QWN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZ1bmM/ZS5mdW5jLmNhbGwoZS5zY29wZSk6bnVsbH0sUkUpO2Z1bmN0aW9uIFJFKGUpe3RoaXMuc2hvcnRjdXRzPXt9LHRoaXMucGVuZGluZ1BhdHRlcm5zPVtdLHRoaXMuZWRpdG9yPWU7dmFyIG49dGhpcztlLm9uKCJrZXl1cCBrZXlwcmVzcyBrZXlkb3duIixmdW5jdGlvbih0KXshbi5oYXNNb2RpZmllcih0KSYmIW4uaXNGdW5jdGlvbktleSh0KXx8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KE5FKG4uc2hvcnRjdXRzLGZ1bmN0aW9uKGUpe2lmKG4ubWF0Y2hTaG9ydGN1dCh0LGUpKXJldHVybiBuLnBlbmRpbmdQYXR0ZXJucz1lLnN1YnBhdHRlcm5zLnNsaWNlKDApLCJrZXlkb3duIj09PXQudHlwZSYmbi5leGVjdXRlU2hvcnRjdXRBY3Rpb24oZSksITB9KSxuLm1hdGNoU2hvcnRjdXQodCxuLnBlbmRpbmdQYXR0ZXJuc1swXSkmJigxPT09bi5wZW5kaW5nUGF0dGVybnMubGVuZ3RoJiYia2V5ZG93biI9PT10LnR5cGUmJm4uZXhlY3V0ZVNob3J0Y3V0QWN0aW9uKG4ucGVuZGluZ1BhdHRlcm5zWzBdKSxuLnBlbmRpbmdQYXR0ZXJucy5zaGlmdCgpKSl9KX12YXIgVEU9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixvLGksYSx1LHM9KHQ9e30sbj17fSxyPXt9LG89e30saT17fSxhPXt9LHthZGRCdXR0b246KHU9ZnVuY3Rpb24obixyKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbltlLnRvTG93ZXJDYXNlKCldPWtlKGtlKHt9LHQpLHt0eXBlOnJ9KX19KShlPXt9LCJidXR0b24iKSxhZGRHcm91cFRvb2xiYXJCdXR0b246dShlLCJncm91cHRvb2xiYXJidXR0b24iKSxhZGRUb2dnbGVCdXR0b246dShlLCJ0b2dnbGVidXR0b24iKSxhZGRNZW51QnV0dG9uOnUoZSwibWVudWJ1dHRvbiIpLGFkZFNwbGl0QnV0dG9uOnUoZSwic3BsaXRidXR0b24iKSxhZGRNZW51SXRlbTp1KHQsIm1lbnVpdGVtIiksYWRkTmVzdGVkTWVudUl0ZW06dSh0LCJuZXN0ZWRtZW51aXRlbSIpLGFkZFRvZ2dsZU1lbnVJdGVtOnUodCwidG9nZ2xlbWVudWl0ZW0iKSxhZGRBdXRvY29tcGxldGVyOnUobiwiYXV0b2NvbXBsZXRlciIpLGFkZENvbnRleHRNZW51OnUobywiY29udGV4dG1lbnUiKSxhZGRDb250ZXh0VG9vbGJhcjp1KGksImNvbnRleHR0b29sYmFyIiksYWRkQ29udGV4dEZvcm06dShpLCJjb250ZXh0Zm9ybSIpLGFkZFNpZGViYXI6dShhLCJzaWRlYmFyIiksYWRkSWNvbjpmdW5jdGlvbihlLHQpe3JldHVybiByW2UudG9Mb3dlckNhc2UoKV09dH0sZ2V0QWxsOmZ1bmN0aW9uKCl7cmV0dXJue2J1dHRvbnM6ZSxtZW51SXRlbXM6dCxpY29uczpyLHBvcHVwczpuLGNvbnRleHRNZW51czpvLGNvbnRleHRUb29sYmFyczppLHNpZGViYXJzOmF9fX0pO3JldHVybnthZGRBdXRvY29tcGxldGVyOnMuYWRkQXV0b2NvbXBsZXRlcixhZGRCdXR0b246cy5hZGRCdXR0b24sYWRkQ29udGV4dEZvcm06cy5hZGRDb250ZXh0Rm9ybSxhZGRDb250ZXh0TWVudTpzLmFkZENvbnRleHRNZW51LGFkZENvbnRleHRUb29sYmFyOnMuYWRkQ29udGV4dFRvb2xiYXIsYWRkSWNvbjpzLmFkZEljb24sYWRkTWVudUJ1dHRvbjpzLmFkZE1lbnVCdXR0b24sYWRkTWVudUl0ZW06cy5hZGRNZW51SXRlbSxhZGROZXN0ZWRNZW51SXRlbTpzLmFkZE5lc3RlZE1lbnVJdGVtLGFkZFNpZGViYXI6cy5hZGRTaWRlYmFyLGFkZFNwbGl0QnV0dG9uOnMuYWRkU3BsaXRCdXR0b24sYWRkVG9nZ2xlQnV0dG9uOnMuYWRkVG9nZ2xlQnV0dG9uLGFkZEdyb3VwVG9vbGJhckJ1dHRvbjpzLmFkZEdyb3VwVG9vbGJhckJ1dHRvbixhZGRUb2dnbGVNZW51SXRlbTpzLmFkZFRvZ2dsZU1lbnVJdGVtLGdldEFsbDpzLmdldEFsbH19LERFPWt0LmVhY2gsT0U9a3QudHJpbSxCRT0ic291cmNlIHByb3RvY29sIGF1dGhvcml0eSB1c2VySW5mbyB1c2VyIHBhc3N3b3JkIGhvc3QgcG9ydCByZWxhdGl2ZSBwYXRoIGRpcmVjdG9yeSBmaWxlIHF1ZXJ5IGFuY2hvciIuc3BsaXQoIiAiKSxQRT17ZnRwOjIxLGh0dHA6ODAsaHR0cHM6NDQzLG1haWx0bzoyNX0sTEU9KElFLnBhcnNlRGF0YVVyaT1mdW5jdGlvbihlKXt2YXIgdCxuPWRlY29kZVVSSUNvbXBvbmVudChlKS5zcGxpdCgiLCIpLHI9L2RhdGE6KFteO10rKS8uZXhlYyhuWzBdKTtyZXR1cm4gciYmKHQ9clsxXSkse3R5cGU6dCxkYXRhOm5bMV19fSxJRS5nZXREb2N1bWVudEJhc2VVcmw9ZnVuY3Rpb24oZSl7dmFyIHQ9MCE9PWUucHJvdG9jb2wuaW5kZXhPZigiaHR0cCIpJiYiZmlsZToiIT09ZS5wcm90b2NvbD9lLmhyZWY6ZS5wcm90b2NvbCsiLy8iK2UuaG9zdCtlLnBhdGhuYW1lO3JldHVybi9eW146XSs6XC9cL1wvP1teXC9dK1wvLy50ZXN0KHQpJiYodD10LnJlcGxhY2UoL1tcPyNdLiokLywiIikucmVwbGFjZSgvW1wvXFxdW15cL10rJC8sIiIpLC9bXC9cXF0kLy50ZXN0KHQpfHwodCs9Ii8iKSksdH0sSUUucHJvdG90eXBlLnNldFBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9L14oLio/KVwvPyhcdyspPyQvLmV4ZWMoZSk7dGhpcy5wYXRoPXRbMF0sdGhpcy5kaXJlY3Rvcnk9dFsxXSx0aGlzLmZpbGU9dFsyXSx0aGlzLnNvdXJjZT0iIix0aGlzLmdldFVSSSgpfSxJRS5wcm90b3R5cGUudG9SZWxhdGl2ZT1mdW5jdGlvbihlKXt2YXIgdDtpZigiLi8iPT09ZSlyZXR1cm4gZTt2YXIgbj1uZXcgSUUoZSx7YmFzZV91cmk6dGhpc30pO2lmKCJtY2VfaG9zdCIhPT1uLmhvc3QmJnRoaXMuaG9zdCE9PW4uaG9zdCYmbi5ob3N0fHx0aGlzLnBvcnQhPT1uLnBvcnR8fHRoaXMucHJvdG9jb2whPT1uLnByb3RvY29sJiYiIiE9PW4ucHJvdG9jb2wpcmV0dXJuIG4uZ2V0VVJJKCk7dmFyIHI9dGhpcy5nZXRVUkkoKSxvPW4uZ2V0VVJJKCk7cmV0dXJuIHI9PT1vfHwiLyI9PT1yLmNoYXJBdChyLmxlbmd0aC0xKSYmci5zdWJzdHIoMCxyLmxlbmd0aC0xKT09PW8/cjoodD10aGlzLnRvUmVsUGF0aCh0aGlzLnBhdGgsbi5wYXRoKSxuLnF1ZXJ5JiYodCs9Ij8iK24ucXVlcnkpLG4uYW5jaG9yJiYodCs9IiMiK24uYW5jaG9yKSx0KX0sSUUucHJvdG90eXBlLnRvQWJzb2x1dGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgSUUoZSx7YmFzZV91cmk6dGhpc30pO3JldHVybiBuLmdldFVSSSh0JiZ0aGlzLmlzU2FtZU9yaWdpbihuKSl9LElFLnByb3RvdHlwZS5pc1NhbWVPcmlnaW49ZnVuY3Rpb24oZSl7aWYodGhpcy5ob3N0PT1lLmhvc3QmJnRoaXMucHJvdG9jb2w9PWUucHJvdG9jb2wpe2lmKHRoaXMucG9ydD09ZS5wb3J0KXJldHVybiEwO3ZhciB0PVBFW3RoaXMucHJvdG9jb2xdO2lmKHQmJih0aGlzLnBvcnR8fHQpPT0oZS5wb3J0fHx0KSlyZXR1cm4hMH1yZXR1cm4hMX0sSUUucHJvdG90eXBlLnRvUmVsUGF0aD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz0wLGk9IiIsYT1lLnN1YnN0cmluZygwLGUubGFzdEluZGV4T2YoIi8iKSkuc3BsaXQoIi8iKSx1PXQuc3BsaXQoIi8iKTtpZihhLmxlbmd0aD49dS5sZW5ndGgpZm9yKG49MCxyPWEubGVuZ3RoO248cjtuKyspaWYobj49dS5sZW5ndGh8fGFbbl0hPT11W25dKXtvPW4rMTticmVha31pZihhLmxlbmd0aDx1Lmxlbmd0aClmb3Iobj0wLHI9dS5sZW5ndGg7bjxyO24rKylpZihuPj1hLmxlbmd0aHx8YVtuXSE9PXVbbl0pe289bisxO2JyZWFrfWlmKDE9PT1vKXJldHVybiB0O2ZvcihuPTAscj1hLmxlbmd0aC0oby0xKTtuPHI7bisrKWkrPSIuLi8iO2ZvcihuPW8tMSxyPXUubGVuZ3RoO248cjtuKyspaSs9biE9PW8tMT8iLyIrdVtuXTp1W25dO3JldHVybiBpfSxJRS5wcm90b3R5cGUudG9BYnNQYXRoPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPTAsaT1bXSxhPS9cLyQvLnRlc3QodCk/Ii8iOiIiLHU9ZS5zcGxpdCgiLyIpLHM9dC5zcGxpdCgiLyIpO2ZvcihERSh1LGZ1bmN0aW9uKGUpe2UmJmkucHVzaChlKX0pLHU9aSxuPXMubGVuZ3RoLTEsaT1bXTswPD1uO24tLSkwIT09c1tuXS5sZW5ndGgmJiIuIiE9PXNbbl0mJigiLi4iIT09c1tuXT8wPG8/by0tOmkucHVzaChzW25dKTpvKyspO3JldHVybiAwIT09KHI9KG49dS5sZW5ndGgtbyk8PTA/WihpKS5qb2luKCIvIik6dS5zbGljZSgwLG4pLmpvaW4oIi8iKSsiLyIrWihpKS5qb2luKCIvIikpLmluZGV4T2YoIi8iKSYmKHI9Ii8iK3IpLGEmJnIubGFzdEluZGV4T2YoIi8iKSE9PXIubGVuZ3RoLTEmJihyKz1hKSxyfSxJRS5wcm90b3R5cGUuZ2V0VVJJPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy5zb3VyY2UmJiFlfHwodD0iIixlfHwodGhpcy5wcm90b2NvbD90Kz10aGlzLnByb3RvY29sKyI6Ly8iOnQrPSIvLyIsdGhpcy51c2VySW5mbyYmKHQrPXRoaXMudXNlckluZm8rIkAiKSx0aGlzLmhvc3QmJih0Kz10aGlzLmhvc3QpLHRoaXMucG9ydCYmKHQrPSI6Iit0aGlzLnBvcnQpKSx0aGlzLnBhdGgmJih0Kz10aGlzLnBhdGgpLHRoaXMucXVlcnkmJih0Kz0iPyIrdGhpcy5xdWVyeSksdGhpcy5hbmNob3ImJih0Kz0iIyIrdGhpcy5hbmNob3IpLHRoaXMuc291cmNlPXQpLHRoaXMuc291cmNlfSxJRSk7ZnVuY3Rpb24gSUUoZSx0KXtlPU9FKGUpLHRoaXMuc2V0dGluZ3M9dHx8e307dmFyIG4scixvLGksYT10aGlzLnNldHRpbmdzLmJhc2VfdXJpLHU9dGhpczsvXihbXHdcLV0rKTooW15cL117Mn0pL2kudGVzdChlKXx8L15ccyojLy50ZXN0KGUpP3Uuc291cmNlPWU6KG49MD09PWUuaW5kZXhPZigiLy8iKSwwIT09ZS5pbmRleE9mKCIvIil8fG58fChlPShhJiZhLnByb3RvY29sfHwiaHR0cCIpKyI6Ly9tY2VfaG9zdCIrZSksL15bXHdcLV0qOj9cL1wvLy50ZXN0KGUpfHwocj10aGlzLnNldHRpbmdzLmJhc2VfdXJpP3RoaXMuc2V0dGluZ3MuYmFzZV91cmkucGF0aDpuZXcgSUUoZG9jdW1lbnQubG9jYXRpb24uaHJlZikuZGlyZWN0b3J5LGU9dGhpcy5zZXR0aW5ncy5iYXNlX3VyaSYmIiI9PXRoaXMuc2V0dGluZ3MuYmFzZV91cmkucHJvdG9jb2w/Ii8vbWNlX2hvc3QiK3UudG9BYnNQYXRoKHIsZSk6KG89LyhbXiM/XSopKFsjP10/LiopLy5leGVjKGUpLChhJiZhLnByb3RvY29sfHwiaHR0cCIpKyI6Ly9tY2VfaG9zdCIrdS50b0Fic1BhdGgocixvWzFdKStvWzJdKSksZT1lLnJlcGxhY2UoL0BAL2csIihtY2VfYXQpIiksaT0vXig/Oig/IVteOkBdKzpbXjpAXC9dKkApKFteOlwvPyMuXSspOik/KD86XC9cLyk/KCg/OigoW146QFwvXSopOj8oW146QFwvXSopKT9AKT8oW146XC8/I10qKSg/OjooXGQqKSk/KSgoKFwvKD86W14/I10oPyFbXj8jXC9dKlwuW14/I1wvLl0rKD86Wz8jXXwkKSkpKlwvPyk/KFtePyNcL10qKSkoPzpcPyhbXiNdKikpPyg/OiMoLiopKT8pLy5leGVjKGUpLERFKEJFLGZ1bmN0aW9uKGUsdCl7dmFyIG49KG49aVt0XSkmJm4ucmVwbGFjZSgvXChtY2VfYXRcKS9nLCJAQCIpO3VbZV09bn0pLGEmJih1LnByb3RvY29sfHwodS5wcm90b2NvbD1hLnByb3RvY29sKSx1LnVzZXJJbmZvfHwodS51c2VySW5mbz1hLnVzZXJJbmZvKSx1LnBvcnR8fCJtY2VfaG9zdCIhPT11Lmhvc3R8fCh1LnBvcnQ9YS5wb3J0KSx1Lmhvc3QmJiJtY2VfaG9zdCIhPT11Lmhvc3R8fCh1Lmhvc3Q9YS5ob3N0KSx1LnNvdXJjZT0iIiksbiYmKHUucHJvdG9jb2w9IiIpKX12YXIgTUU9RXUuRE9NLEZFPWt0LmV4dGVuZCxVRT1rdC5lYWNoLHpFPWt0LnJlc29sdmUsakU9d3QuaWUsSEU9KFZFLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtVTih0aGlzKX0sVkUucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKGUpe3ZhciB0LG47bj1lLCh0PXRoaXMpLnJlbW92ZWR8fChuP19tOmttKSh0KX0sVkUucHJvdG90eXBlLmhhc0ZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIEVtKHRoaXMpfSxWRS5wcm90b3R5cGUuZXhlY0NhbGxiYWNrPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3ZhciByLG89dGhpcy5zZXR0aW5nc1tlXTtpZihvKXJldHVybiB0aGlzLmNhbGxiYWNrTG9va3VwJiYocj10aGlzLmNhbGxiYWNrTG9va3VwW2VdKSYmKG89ci5mdW5jLHI9ci5zY29wZSksInN0cmluZyI9PXR5cGVvZiBvJiYocj0ocj1vLnJlcGxhY2UoL1wuXHcrJC8sIiIpKT96RShyKTowLG89ekUobyksdGhpcy5jYWxsYmFja0xvb2t1cD10aGlzLmNhbGxiYWNrTG9va3VwfHx7fSx0aGlzLmNhbGxiYWNrTG9va3VwW2VdPXtmdW5jOm8sc2NvcGU6cn0pLG8uYXBwbHkocnx8dGhpcyx0KX0sVkUucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gSXUudHJhbnNsYXRlKGUpfSxWRS5wcm90b3R5cGUuZ2V0UGFyYW09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBYeSh0aGlzLGUsdCxuKX0sVkUucHJvdG90eXBlLmhhc1BsdWdpbj1mdW5jdGlvbihlLHQpe3JldHVybiEoIU0oQWModGhpcykuc3BsaXQoL1sgLF0vKSxlKXx8dCYmaWIuZ2V0KGUpPT09dW5kZWZpbmVkKX0sVkUucHJvdG90eXBlLm5vZGVDaGFuZ2VkPWZ1bmN0aW9uKGUpe3RoaXMuX25vZGVDaGFuZ2VEaXNwYXRjaGVyLm5vZGVDaGFuZ2VkKGUpfSxWRS5wcm90b3R5cGUuYWRkQ29tbWFuZD1mdW5jdGlvbihlLHQsbil7dGhpcy5lZGl0b3JDb21tYW5kcy5hZGRDb21tYW5kKGUsdCxuKX0sVkUucHJvdG90eXBlLmFkZFF1ZXJ5U3RhdGVIYW5kbGVyPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmVkaXRvckNvbW1hbmRzLmFkZFF1ZXJ5U3RhdGVIYW5kbGVyKGUsdCxuKX0sVkUucHJvdG90eXBlLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmVkaXRvckNvbW1hbmRzLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyKGUsdCxuKX0sVkUucHJvdG90eXBlLmFkZFNob3J0Y3V0PWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMuc2hvcnRjdXRzLmFkZChlLHQsbixyKX0sVkUucHJvdG90eXBlLmV4ZWNDb21tYW5kPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmVkaXRvckNvbW1hbmRzLmV4ZWNDb21tYW5kKGUsdCxuLHIpfSxWRS5wcm90b3R5cGUucXVlcnlDb21tYW5kU3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMucXVlcnlDb21tYW5kU3RhdGUoZSl9LFZFLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5xdWVyeUNvbW1hbmRWYWx1ZShlKX0sVkUucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoZSl9LFZFLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5oaWRkZW4mJih0aGlzLmhpZGRlbj0hMSx0aGlzLmlubGluZT90aGlzLmdldEJvZHkoKS5jb250ZW50RWRpdGFibGU9InRydWUiOihNRS5zaG93KHRoaXMuZ2V0Q29udGFpbmVyKCkpLE1FLmhpZGUodGhpcy5pZCkpLHRoaXMubG9hZCgpLHRoaXMuZmlyZSgic2hvdyIpKX0sVkUucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5nZXREb2MoKTtlLmhpZGRlbnx8KGpFJiZ0JiYhZS5pbmxpbmUmJnQuZXhlY0NvbW1hbmQoIlNlbGVjdEFsbCIpLGUuc2F2ZSgpLGUuaW5saW5lPyhlLmdldEJvZHkoKS5jb250ZW50RWRpdGFibGU9ImZhbHNlIixlPT09ZS5lZGl0b3JNYW5hZ2VyLmZvY3VzZWRFZGl0b3ImJihlLmVkaXRvck1hbmFnZXIuZm9jdXNlZEVkaXRvcj1udWxsKSk6KE1FLmhpZGUoZS5nZXRDb250YWluZXIoKSksTUUuc2V0U3R5bGUoZS5pZCwiZGlzcGxheSIsZS5vcmdEaXNwbGF5KSksZS5oaWRkZW49ITAsZS5maXJlKCJoaWRlIikpfSxWRS5wcm90b3R5cGUuaXNIaWRkZW49ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuaGlkZGVufSxWRS5wcm90b3R5cGUuc2V0UHJvZ3Jlc3NTdGF0ZT1mdW5jdGlvbihlLHQpe3RoaXMuZmlyZSgiUHJvZ3Jlc3NTdGF0ZSIse3N0YXRlOmUsdGltZTp0fSl9LFZFLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0RWxlbWVudCgpO2lmKHRoaXMucmVtb3ZlZClyZXR1cm4iIjtpZih0KXsoZT1lfHx7fSkubG9hZD0hMDt2YXIgbj1Mbih0KT90LnZhbHVlOnQuaW5uZXJIVE1MLHI9dGhpcy5zZXRDb250ZW50KG4sZSk7cmV0dXJuIGUuZWxlbWVudD10LGUubm9fZXZlbnRzfHx0aGlzLmZpcmUoIkxvYWRDb250ZW50IixlKSxlLmVsZW1lbnQ9dD1udWxsLHJ9fSxWRS5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcyxvPXIuZ2V0RWxlbWVudCgpO2lmKG8mJnIuaW5pdGlhbGl6ZWQmJiFyLnJlbW92ZWQpcmV0dXJuKGU9ZXx8e30pLnNhdmU9ITAsZS5lbGVtZW50PW8sZS5jb250ZW50PXIuZ2V0Q29udGVudChlKSxlLm5vX2V2ZW50c3x8ci5maXJlKCJTYXZlQ29udGVudCIsZSksInJhdyI9PT1lLmZvcm1hdCYmci5maXJlKCJSYXdTYXZlQ29udGVudCIsZSksdD1lLmNvbnRlbnQsTG4obyk/by52YWx1ZT10OighZS5pc19yZW1vdmluZyYmci5pbmxpbmV8fChvLmlubmVySFRNTD10KSwobj1NRS5nZXRQYXJlbnQoci5pZCwiZm9ybSIpKSYmVUUobi5lbGVtZW50cyxmdW5jdGlvbihlKXtpZihlLm5hbWU9PT1yLmlkKXJldHVybiBlLnZhbHVlPXQsITF9KSksZS5lbGVtZW50PW89bnVsbCwhMSE9PWUuc2V0X2RpcnR5JiZyLnNldERpcnR5KCExKSx0fSxWRS5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbihlLHQpe3JldHVybiBreSh0aGlzLGUsdCl9LFZFLnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKGUpe3JldHVybiBFeSh0aGlzLGUpfSxWRS5wcm90b3R5cGUuaW5zZXJ0Q29udGVudD1mdW5jdGlvbihlLHQpe3QmJihlPUZFKHtjb250ZW50OmV9LHQpKSx0aGlzLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwhMSxlKX0sVkUucHJvdG90eXBlLnJlc2V0Q29udGVudD1mdW5jdGlvbihlKXtlPT09dW5kZWZpbmVkP2t5KHRoaXMsdGhpcy5zdGFydENvbnRlbnQse2Zvcm1hdDoicmF3In0pOmt5KHRoaXMsZSksdGhpcy51bmRvTWFuYWdlci5yZXNldCgpLHRoaXMuc2V0RGlydHkoITEpLHRoaXMubm9kZUNoYW5nZWQoKX0sVkUucHJvdG90eXBlLmlzRGlydHk9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc05vdERpcnR5fSxWRS5wcm90b3R5cGUuc2V0RGlydHk9ZnVuY3Rpb24oZSl7dmFyIHQ9IXRoaXMuaXNOb3REaXJ0eTt0aGlzLmlzTm90RGlydHk9IWUsZSYmZSE9PXQmJnRoaXMuZmlyZSgiZGlydHkiKX0sVkUucHJvdG90eXBlLmdldENvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lcnx8KHRoaXMuY29udGFpbmVyPU1FLmdldCh0aGlzLmVkaXRvckNvbnRhaW5lcnx8dGhpcy5pZCsiX3BhcmVudCIpKSx0aGlzLmNvbnRhaW5lcn0sVkUucHJvdG90eXBlLmdldENvbnRlbnRBcmVhQ29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudEFyZWFDb250YWluZXJ9LFZFLnByb3RvdHlwZS5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0RWxtfHwodGhpcy50YXJnZXRFbG09TUUuZ2V0KHRoaXMuaWQpKSx0aGlzLnRhcmdldEVsbX0sVkUucHJvdG90eXBlLmdldFdpbj1mdW5jdGlvbigpe3ZhciBlO3JldHVybiB0aGlzLmNvbnRlbnRXaW5kb3d8fChlPXRoaXMuaWZyYW1lRWxlbWVudCkmJih0aGlzLmNvbnRlbnRXaW5kb3c9ZS5jb250ZW50V2luZG93KSx0aGlzLmNvbnRlbnRXaW5kb3d9LFZFLnByb3RvdHlwZS5nZXREb2M9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdGhpcy5jb250ZW50RG9jdW1lbnR8fChlPXRoaXMuZ2V0V2luKCkpJiYodGhpcy5jb250ZW50RG9jdW1lbnQ9ZS5kb2N1bWVudCksdGhpcy5jb250ZW50RG9jdW1lbnR9LFZFLnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXREb2MoKTtyZXR1cm4gdGhpcy5ib2R5RWxlbWVudHx8KGU/ZS5ib2R5Om51bGwpfSxWRS5wcm90b3R5cGUuY29udmVydFVSTD1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5zZXR0aW5ncztyZXR1cm4gci51cmxjb252ZXJ0ZXJfY2FsbGJhY2s/dGhpcy5leGVjQ2FsbGJhY2soInVybGNvbnZlcnRlcl9jYWxsYmFjayIsZSxuLCEwLHQpOiFyLmNvbnZlcnRfdXJsc3x8biYmIkxJTksiPT09bi5ub2RlTmFtZXx8MD09PWUuaW5kZXhPZigiZmlsZToiKXx8MD09PWUubGVuZ3RoP2U6ci5yZWxhdGl2ZV91cmxzP3RoaXMuZG9jdW1lbnRCYXNlVVJJLnRvUmVsYXRpdmUoZSk6ZT10aGlzLmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKGUsci5yZW1vdmVfc2NyaXB0X2hvc3QpfSxWRS5wcm90b3R5cGUuYWRkVmlzdWFsPWZ1bmN0aW9uKGUpe3pOKHRoaXMsZSl9LFZFLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtSeSh0aGlzKX0sVkUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7VHkodGhpcyxlKX0sVkUucHJvdG90eXBlLnVwbG9hZEltYWdlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3JVcGxvYWQudXBsb2FkSW1hZ2VzKGUpfSxWRS5wcm90b3R5cGUuX3NjYW5Gb3JJbWFnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3JVcGxvYWQuc2NhbkZvckltYWdlcygpfSxWRS5wcm90b3R5cGUuYWRkQnV0dG9uPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJlZGl0b3IuYWRkQnV0dG9uIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGlueW1jZSA1eCwgdXNlIGVkaXRvci51aS5yZWdpc3RyeS5hZGRCdXR0b24gb3IgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZFRvZ2dsZUJ1dHRvbiBvciBlZGl0b3IudWkucmVnaXN0cnkuYWRkU3BsaXRCdXR0b24gaW5zdGVhZCIpfSxWRS5wcm90b3R5cGUuYWRkU2lkZWJhcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiZWRpdG9yLmFkZFNpZGViYXIgaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aW55bWNlIDV4LCB1c2UgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZFNpZGViYXIgaW5zdGVhZCIpfSxWRS5wcm90b3R5cGUuYWRkTWVudUl0ZW09ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImVkaXRvci5hZGRNZW51SXRlbSBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkTWVudUl0ZW0gaW5zdGVhZCIpfSxWRS5wcm90b3R5cGUuYWRkQ29udGV4dFRvb2xiYXI9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImVkaXRvci5hZGRDb250ZXh0VG9vbGJhciBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkQ29udGV4dFRvb2xiYXIgaW5zdGVhZCIpfSxWRSk7ZnVuY3Rpb24gVkUoZSx0LG4pe3ZhciByPXRoaXM7dGhpcy5wbHVnaW5zPXt9LHRoaXMuY29udGVudENTUz1bXSx0aGlzLmNvbnRlbnRTdHlsZXM9W10sdGhpcy5sb2FkZWRDU1M9e30sdGhpcy5pc05vdERpcnR5PSExLHRoaXMuZWRpdG9yTWFuYWdlcj1uLHRoaXMuZG9jdW1lbnRCYXNlVXJsPW4uZG9jdW1lbnRCYXNlVVJMLEZFKHRoaXMsQ0UpLHRoaXMuc2V0dGluZ3M9V3kodGhpcyxlLHRoaXMuZG9jdW1lbnRCYXNlVXJsLG4uZGVmYXVsdFNldHRpbmdzLHQpLHRoaXMuc2V0dGluZ3Muc3VmZml4JiYobi5zdWZmaXg9dGhpcy5zZXR0aW5ncy5zdWZmaXgpLHRoaXMuc3VmZml4PW4uc3VmZml4LHRoaXMuc2V0dGluZ3MuYmFzZV91cmwmJm4uX3NldEJhc2VVcmwodGhpcy5zZXR0aW5ncy5iYXNlX3VybCksdGhpcy5iYXNlVXJpPW4uYmFzZVVSSSx0aGlzLnNldHRpbmdzLnJlZmVycmVyX3BvbGljeSYmKFJ1LlNjcmlwdExvYWRlci5fc2V0UmVmZXJyZXJQb2xpY3kodGhpcy5zZXR0aW5ncy5yZWZlcnJlcl9wb2xpY3kpLEV1LkRPTS5zdHlsZVNoZWV0TG9hZGVyLl9zZXRSZWZlcnJlclBvbGljeSh0aGlzLnNldHRpbmdzLnJlZmVycmVyX3BvbGljeSkpLFV1Lmxhbmd1YWdlTG9hZD10aGlzLnNldHRpbmdzLmxhbmd1YWdlX2xvYWQsVXUuYmFzZVVSTD1uLmJhc2VVUkwsdGhpcy5pZD1lLHRoaXMuc2V0RGlydHkoITEpLHRoaXMuZG9jdW1lbnRCYXNlVVJJPW5ldyBMRSh0aGlzLnNldHRpbmdzLmRvY3VtZW50X2Jhc2VfdXJsLHtiYXNlX3VyaTp0aGlzLmJhc2VVcml9KSx0aGlzLmJhc2VVUkk9dGhpcy5iYXNlVXJpLHRoaXMuaW5saW5lPSEhdGhpcy5zZXR0aW5ncy5pbmxpbmUsdGhpcy5zaG9ydGN1dHM9bmV3IEFFKHRoaXMpLHRoaXMuZWRpdG9yQ29tbWFuZHM9bmV3IGVFKHRoaXMpLHRoaXMuc2V0dGluZ3MuY2FjaGVfc3VmZml4JiYod3QuY2FjaGVTdWZmaXg9dGhpcy5zZXR0aW5ncy5jYWNoZV9zdWZmaXgucmVwbGFjZSgvXltcP1wmXSsvLCIiKSksdGhpcy51aT17cmVnaXN0cnk6VEUoKSxzdHlsZVNoZWV0TG9hZGVyOnVuZGVmaW5lZCxzaG93OlYsaGlkZTpWLGVuYWJsZTpWLGRpc2FibGU6Vixpc0Rpc2FibGVkOkN9O3ZhciBvPVNFKHRoaXMpO3RoaXMubW9kZT1vLHRoaXMuc2V0TW9kZT1vLnNldCxuLmZpcmUoIlNldHVwRWRpdG9yIix7ZWRpdG9yOnRoaXN9KSx0aGlzLmV4ZWNDYWxsYmFjaygic2V0dXAiLHRoaXMpLHRoaXMuJD1odS5vdmVycmlkZURlZmF1bHRzKGZ1bmN0aW9uKCl7cmV0dXJue2NvbnRleHQ6ci5pbmxpbmU/ci5nZXRCb2R5KCk6ci5nZXREb2MoKSxlbGVtZW50OnIuZ2V0Qm9keSgpfX0pfXZhciBxRSwkRT1FdS5ET00sV0U9a3QuZXhwbG9kZSxLRT1rdC5lYWNoLFhFPWt0LmV4dGVuZCxZRT0wLEdFPSExLEpFPVtdLFFFPVtdLFpFPWZ1bmN0aW9uKHQpe3ZhciBuPXQudHlwZTtLRShyay5nZXQoKSxmdW5jdGlvbihlKXtzd2l0Y2gobil7Y2FzZSJzY3JvbGwiOmUuZmlyZSgiU2Nyb2xsV2luZG93Iix0KTticmVhaztjYXNlInJlc2l6ZSI6ZS5maXJlKCJSZXNpemVXaW5kb3ciLHQpfX0pfSxlaz1mdW5jdGlvbihlKXtlIT09R0UmJihlP2h1KHdpbmRvdykub24oInJlc2l6ZSBzY3JvbGwiLFpFKTpodSh3aW5kb3cpLm9mZigicmVzaXplIHNjcm9sbCIsWkUpLEdFPWUpfSx0az1mdW5jdGlvbih0KXt2YXIgZT1RRTtkZWxldGUgSkVbdC5pZF07Zm9yKHZhciBuPTA7bjxKRS5sZW5ndGg7bisrKWlmKEpFW25dPT09dCl7SkUuc3BsaWNlKG4sMSk7YnJlYWt9cmV0dXJuIFFFPUgoUUUsZnVuY3Rpb24oZSl7cmV0dXJuIHQhPT1lfSkscmsuYWN0aXZlRWRpdG9yPT09dCYmKHJrLmFjdGl2ZUVkaXRvcj0wPFFFLmxlbmd0aD9RRVswXTpudWxsKSxyay5mb2N1c2VkRWRpdG9yPT09dCYmKHJrLmZvY3VzZWRFZGl0b3I9bnVsbCksZS5sZW5ndGghPT1RRS5sZW5ndGh9LG5rPSJDU1MxQ29tcGF0IiE9PWRvY3VtZW50LmNvbXBhdE1vZGUscms9a2Uoa2Uoe30sZ0UpLHtiYXNlVVJJOm51bGwsYmFzZVVSTDpudWxsLGRlZmF1bHRTZXR0aW5nczp7fSxkb2N1bWVudEJhc2VVUkw6bnVsbCxzdWZmaXg6bnVsbCwkOmh1LG1ham9yVmVyc2lvbjoiNSIsbWlub3JWZXJzaW9uOiI2LjIiLHJlbGVhc2VEYXRlOiIyMDIwLTEyLTA4IixlZGl0b3JzOkpFLGkxOG46SXUsYWN0aXZlRWRpdG9yOm51bGwsZm9jdXNlZEVkaXRvcjpudWxsLHNldHRpbmdzOnt9LHNldHVwOmZ1bmN0aW9uKCl7dmFyIGUsdD0iIixuPUxFLmdldERvY3VtZW50QmFzZVVybChkb2N1bWVudC5sb2NhdGlvbik7L15bXjpdKzpcL1wvXC8/W15cL10rXC8vLnRlc3QobikmJihuPW4ucmVwbGFjZSgvW1w/I10uKiQvLCIiKS5yZXBsYWNlKC9bXC9cXF1bXlwvXSskLywiIiksL1tcL1xcXSQvLnRlc3Qobil8fChuKz0iLyIpKTt2YXIgcixvPXdpbmRvdy50aW55bWNlfHx3aW5kb3cudGlueU1DRVByZUluaXQ7aWYobyllPW8uYmFzZXx8by5iYXNlVVJMLHQ9by5zdWZmaXg7ZWxzZXtmb3IodmFyIGksYT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksdT0wO3U8YS5sZW5ndGg7dSsrKXtpZigiIiE9PShpPWFbdV0uc3JjfHwiIikpe3ZhciBzPWkuc3Vic3RyaW5nKGkubGFzdEluZGV4T2YoIi8iKSk7aWYoL3RpbnltY2UoXC5mdWxsfFwuanF1ZXJ5fCkoXC5taW58XC5kZXZ8KVwuanMvLnRlc3QoaSkpey0xIT09cy5pbmRleE9mKCIubWluIikmJih0PSIubWluIiksZT1pLnN1YnN0cmluZygwLGkubGFzdEluZGV4T2YoIi8iKSk7YnJlYWt9fX0hZSYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKC0xIT09KGk9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLmluZGV4T2YoIi5taW4iKSYmKHQ9Ii5taW4iKSxlPWkuc3Vic3RyaW5nKDAsaS5sYXN0SW5kZXhPZigiLyIpKSl9dGhpcy5iYXNlVVJMPW5ldyBMRShuKS50b0Fic29sdXRlKGUpLHRoaXMuZG9jdW1lbnRCYXNlVVJMPW4sdGhpcy5iYXNlVVJJPW5ldyBMRSh0aGlzLmJhc2VVUkwpLHRoaXMuc3VmZml4PXQsKHI9dGhpcykub24oIkFkZEVkaXRvciIsTih5bSxyKSksci5vbigiUmVtb3ZlRWRpdG9yIixOKGJtLHIpKX0sb3ZlcnJpZGVEZWZhdWx0czpmdW5jdGlvbihlKXt2YXIgdD1lLmJhc2VfdXJsO3QmJnRoaXMuX3NldEJhc2VVcmwodCk7dmFyIG49ZS5zdWZmaXg7ZS5zdWZmaXgmJih0aGlzLnN1ZmZpeD1uKTt2YXIgcj0odGhpcy5kZWZhdWx0U2V0dGluZ3M9ZSkucGx1Z2luX2Jhc2VfdXJscztyIT09dW5kZWZpbmVkJiZ1ZShyLGZ1bmN0aW9uKGUsdCl7VXUuUGx1Z2luTWFuYWdlci51cmxzW3RdPWV9KX0saW5pdDpmdW5jdGlvbihyKXt2YXIgbix1PXRoaXMscz1rdC5tYWtlTWFwKCJhcmVhIGJhc2UgYmFzZWZvbnQgYnIgY29sIGZyYW1lIGhyIGltZyBpbnB1dCBpc2luZGV4IGxpbmsgbWV0YSBwYXJhbSBlbWJlZCBzb3VyY2Ugd2JyIHRyYWNrIGNvbGdyb3VwIG9wdGlvbiB0YWJsZSB0Ym9keSB0Zm9vdCB0aGVhZCB0ciB0aCB0ZCBzY3JpcHQgbm9zY3JpcHQgc3R5bGUgdGV4dGFyZWEgdmlkZW8gYXVkaW8gaWZyYW1lIG9iamVjdCBtZW51IiwiICIpLGM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pZDtyZXR1cm4gdHx8KHQ9Z2UoZSwibmFtZSIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hJEUuZ2V0KGUpfSkuZ2V0T3JUaHVuaygkRS51bmlxdWVJZCksZS5zZXRBdHRyaWJ1dGUoImlkIix0KSksdH0sbD1mdW5jdGlvbihlLHQpe3JldHVybiB0LmNvbnN0cnVjdG9yPT09UmVnRXhwP3QudGVzdChlLmNsYXNzTmFtZSk6JEUuaGFzQ2xhc3MoZSx0KX0sZj1mdW5jdGlvbihlKXtuPWV9LGU9ZnVuY3Rpb24oKXt2YXIgbyxpPTAsYT1bXSxuPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uZXcgSEUoZSx0LHUpO2EucHVzaChyKSxyLm9uKCJpbml0IixmdW5jdGlvbigpeysraT09PW8ubGVuZ3RoJiZmKGEpfSksci50YXJnZXRFbG09ci50YXJnZXRFbG18fG4sci5yZW5kZXIoKX07JEUudW5iaW5kKHdpbmRvdywicmVhZHkiLGUpLGZ1bmN0aW9uKGUpe3ZhciB0PXJbZV07aWYodCl0LmFwcGx5KHUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0oIm9ucGFnZWxvYWQiKSxvPWh1LnVuaXF1ZShmdW5jdGlvbih0KXt2YXIgbj1bXTtpZih3dC5icm93c2VyLmlzSUUoKSYmd3QuYnJvd3Nlci52ZXJzaW9uLm1ham9yPDExKXJldHVybiBtYigiVGlueU1DRSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBicm93c2VyIHlvdSBhcmUgdXNpbmcuIEZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIGJyb3dzZXJzIHBsZWFzZSBzZWU6IGh0dHBzOi8vd3d3LnRpbnltY2UuY29tL2RvY3MvZ2V0LXN0YXJ0ZWQvc3lzdGVtLXJlcXVpcmVtZW50cy8iKSxbXTtpZihuaylyZXR1cm4gbWIoIkZhaWxlZCB0byBpbml0aWFsaXplIHRoZSBlZGl0b3IgYXMgdGhlIGRvY3VtZW50IGlzIG5vdCBpbiBzdGFuZGFyZHMgbW9kZS4gVGlueU1DRSByZXF1aXJlcyBzdGFuZGFyZHMgbW9kZS4iKSxbXTtpZih0LnR5cGVzKXJldHVybiBLRSh0LnR5cGVzLGZ1bmN0aW9uKGUpe249bi5jb25jYXQoJEUuc2VsZWN0KGUuc2VsZWN0b3IpKX0pLG47aWYodC5zZWxlY3RvcilyZXR1cm4gJEUuc2VsZWN0KHQuc2VsZWN0b3IpO2lmKHQudGFyZ2V0KXJldHVyblt0LnRhcmdldF07c3dpdGNoKHQubW9kZSl7Y2FzZSJleGFjdCI6dmFyIGU9dC5lbGVtZW50c3x8IiI7MDxlLmxlbmd0aCYmS0UoV0UoZSksZnVuY3Rpb24odCl7dmFyIGU9JEUuZ2V0KHQpO2U/bi5wdXNoKGUpOktFKGRvY3VtZW50LmZvcm1zLGZ1bmN0aW9uKGUpe0tFKGUuZWxlbWVudHMsZnVuY3Rpb24oZSl7ZS5uYW1lPT09dCYmKHQ9Im1jZV9lZGl0b3JfIitZRSsrLCRFLnNldEF0dHJpYihlLCJpZCIsdCksbi5wdXNoKGUpKX0pfSl9KTticmVhaztjYXNlInRleHRhcmVhcyI6Y2FzZSJzcGVjaWZpY190ZXh0YXJlYXMiOktFKCRFLnNlbGVjdCgidGV4dGFyZWEiKSxmdW5jdGlvbihlKXt0LmVkaXRvcl9kZXNlbGVjdG9yJiZsKGUsdC5lZGl0b3JfZGVzZWxlY3Rvcil8fHQuZWRpdG9yX3NlbGVjdG9yJiYhbChlLHQuZWRpdG9yX3NlbGVjdG9yKXx8bi5wdXNoKGUpfSl9cmV0dXJuIG59KHIpKSxyLnR5cGVzP0tFKHIudHlwZXMsZnVuY3Rpb24odCl7a3QuZWFjaChvLGZ1bmN0aW9uKGUpe3JldHVybiEkRS5pcyhlLHQuc2VsZWN0b3IpfHwobihjKGUpLFhFKHt9LHIsdCksZSksITEpfSl9KTooa3QuZWFjaChvLGZ1bmN0aW9uKGUpe3ZhciB0Oyh0PXUuZ2V0KGUuaWQpKSYmdC5pbml0aWFsaXplZCYmISh0LmdldENvbnRhaW5lcigpfHx0LmdldEJvZHkoKSkucGFyZW50Tm9kZSYmKHRrKHQpLHQudW5iaW5kQWxsTmF0aXZlRXZlbnRzKCksdC5kZXN0cm95KCEwKSx0LnJlbW92ZWQ9ITAsdD1udWxsKX0pLDA9PT0obz1rdC5ncmVwKG8sZnVuY3Rpb24oZSl7cmV0dXJuIXUuZ2V0KGUuaWQpfSkpLmxlbmd0aD9mKFtdKTpLRShvLGZ1bmN0aW9uKGUpe3ZhciB0O3Q9ZSxyLmlubGluZSYmdC50YWdOYW1lLnRvTG93ZXJDYXNlKClpbiBzP21iKCJDb3VsZCBub3QgaW5pdGlhbGl6ZSBpbmxpbmUgZWRpdG9yIG9uIGludmFsaWQgaW5saW5lIHRhcmdldCBlbGVtZW50IixlKTpuKGMoZSkscixlKX0pKX07cmV0dXJuIHUuc2V0dGluZ3M9ciwkRS5iaW5kKHdpbmRvdywicmVhZHkiLGUpLG5ldyBCcihmdW5jdGlvbih0KXtuP3Qobik6Zj1mdW5jdGlvbihlKXt0KGUpfX0pfSxnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP1FFLnNsaWNlKDApOnEodCk/WShRRSxmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PXR9KS5nZXRPcihudWxsKTpPKHQpJiZRRVt0XT9RRVt0XTpudWxsfSxhZGQ6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztyZXR1cm4gSkVbZS5pZF09PT1lfHwobnVsbD09PW4uZ2V0KGUuaWQpJiYoImxlbmd0aCIhPT1lLmlkJiYoSkVbZS5pZF09ZSksSkUucHVzaChlKSxRRS5wdXNoKGUpKSxlayghMCksbi5hY3RpdmVFZGl0b3I9ZSxuLmZpcmUoIkFkZEVkaXRvciIse2VkaXRvcjplfSkscUV8fChxRT1mdW5jdGlvbihlKXt2YXIgdD1uLmZpcmUoIkJlZm9yZVVubG9hZCIpO2lmKHQucmV0dXJuVmFsdWUpcmV0dXJuIGUucHJldmVudERlZmF1bHQoKSxlLnJldHVyblZhbHVlPXQucmV0dXJuVmFsdWUsdC5yZXR1cm5WYWx1ZX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImJlZm9yZXVubG9hZCIscUUpKSksZX0sY3JlYXRlRWRpdG9yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYWRkKG5ldyBIRShlLHQsdGhpcykpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXM7aWYoZSl7aWYoIXEoZSkpcmV0dXJuIG49ZSx4KHIuZ2V0KG4uaWQpKT9udWxsOih0ayhuKSYmci5maXJlKCJSZW1vdmVFZGl0b3IiLHtlZGl0b3I6bn0pLDA9PT1RRS5sZW5ndGgmJndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJiZWZvcmV1bmxvYWQiLHFFKSxuLnJlbW92ZSgpLGVrKDA8UUUubGVuZ3RoKSxuKTtLRSgkRS5zZWxlY3QoZSksZnVuY3Rpb24oZSl7KG49ci5nZXQoZS5pZCkpJiZyLnJlbW92ZShuKX0pfWVsc2UgZm9yKHQ9UUUubGVuZ3RoLTE7MDw9dDt0LS0pci5yZW1vdmUoUUVbdF0pfSxleGVjQ29tbWFuZDpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5nZXQobik7c3dpdGNoKGUpe2Nhc2UibWNlQWRkRWRpdG9yIjpyZXR1cm4gdGhpcy5nZXQobil8fG5ldyBIRShuLHRoaXMuc2V0dGluZ3MsdGhpcykucmVuZGVyKCksITA7Y2FzZSJtY2VSZW1vdmVFZGl0b3IiOnJldHVybiByJiZyLnJlbW92ZSgpLCEwO2Nhc2UibWNlVG9nZ2xlRWRpdG9yIjpyZXR1cm4gcj8oci5pc0hpZGRlbigpP3Iuc2hvdygpOnIuaGlkZSgpLCEwKToodGhpcy5leGVjQ29tbWFuZCgibWNlQWRkRWRpdG9yIiwwLG4pLCEwKX1yZXR1cm4hIXRoaXMuYWN0aXZlRWRpdG9yJiZ0aGlzLmFjdGl2ZUVkaXRvci5leGVjQ29tbWFuZChlLHQsbil9LHRyaWdnZXJTYXZlOmZ1bmN0aW9uKCl7S0UoUUUsZnVuY3Rpb24oZSl7ZS5zYXZlKCl9KX0sYWRkSTE4bjpmdW5jdGlvbihlLHQpe0l1LmFkZChlLHQpfSx0cmFuc2xhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIEl1LnRyYW5zbGF0ZShlKX0sc2V0QWN0aXZlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYWN0aXZlRWRpdG9yO3RoaXMuYWN0aXZlRWRpdG9yIT09ZSYmKHQmJnQuZmlyZSgiZGVhY3RpdmF0ZSIse3JlbGF0ZWRUYXJnZXQ6ZX0pLGUuZmlyZSgiYWN0aXZhdGUiLHtyZWxhdGVkVGFyZ2V0OnR9KSksdGhpcy5hY3RpdmVFZGl0b3I9ZX0sX3NldEJhc2VVcmw6ZnVuY3Rpb24oZSl7dGhpcy5iYXNlVVJMPW5ldyBMRSh0aGlzLmRvY3VtZW50QmFzZVVSTCkudG9BYnNvbHV0ZShlLnJlcGxhY2UoL1wvKyQvLCIiKSksdGhpcy5iYXNlVVJJPW5ldyBMRSh0aGlzLmJhc2VVUkwpfX0pO3JrLnNldHVwKCk7dmFyIG9rLGlrLGFrLHVrLHNrPU1hdGgubWluLGNrPU1hdGgubWF4LGxrPU1hdGgucm91bmQsZms9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQueCxvPXQueSxpPWUudyxhPWUuaCx1PXQudyxzPXQuaCxjPShufHwiIikuc3BsaXQoIiIpO3JldHVybiJiIj09PWNbMF0mJihvKz1zKSwiciI9PT1jWzFdJiYocis9dSksImMiPT09Y1swXSYmKG8rPWxrKHMvMikpLCJjIj09PWNbMV0mJihyKz1sayh1LzIpKSwiYiI9PT1jWzNdJiYoby09YSksInIiPT09Y1s0XSYmKHItPWkpLCJjIj09PWNbM10mJihvLT1sayhhLzIpKSwiYyI9PT1jWzRdJiYoci09bGsoaS8yKSksZGsocixvLGksYSl9LGRrPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybnt4OmUseTp0LHc6bixoOnJ9fSxtaz17aW5mbGF0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGRrKGUueC10LGUueS1uLGUudysyKnQsZS5oKzIqbil9LHJlbGF0aXZlUG9zaXRpb246ZmssZmluZEJlc3RSZWxhdGl2ZVBvc2l0aW9uOmZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbyxpPTA7aTxyLmxlbmd0aDtpKyspaWYoKG89ZmsoZSx0LHJbaV0pKS54Pj1uLngmJm8ueCtvLnc8PW4udytuLngmJm8ueT49bi55JiZvLnkrby5oPD1uLmgrbi55KXJldHVybiByW2ldO3JldHVybiBudWxsfSxpbnRlcnNlY3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbj1jayhlLngsdC54KSxyPWNrKGUueSx0LnkpLG89c2soZS54K2Uudyx0LngrdC53KSxpPXNrKGUueStlLmgsdC55K3QuaCk7cmV0dXJuIG8tbjwwfHxpLXI8MD9udWxsOmRrKG4scixvLW4saS1yKX0sY2xhbXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUueCxvPWUueSxpPWUueCtlLncsYT1lLnkrZS5oLHU9dC54K3QudyxzPXQueSt0LmgsYz1jaygwLHQueC1yKSxsPWNrKDAsdC55LW8pLGY9Y2soMCxpLXUpLGQ9Y2soMCxhLXMpO3JldHVybiByKz1jLG8rPWwsbiYmKGkrPWMsYSs9bCxyLT1mLG8tPWQpLGRrKHIsbywoaS09ZiktciwoYS09ZCktbyl9LGNyZWF0ZTpkayxmcm9tQ2xpZW50UmVjdDpmdW5jdGlvbihlKXtyZXR1cm4gZGsoZS5sZWZ0LGUudG9wLGUud2lkdGgsZS5oZWlnaHQpfX0scGs9KG9rPXt9LGlrPXt9LHtsb2FkOmZ1bmN0aW9uKHIsbyl7dmFyIGk9J1NjcmlwdCBhdCBVUkwgIicrbysnIiBmYWlsZWQgdG8gbG9hZCcsYT0nU2NyaXB0IGF0IFVSTCAiJytvKyJcIiBkaWQgbm90IGNhbGwgYHRpbnltY2UuUmVzb3VyY2UuYWRkKCciK3IrIicsIGRhdGEpYCB3aXRoaW4gMSBzZWNvbmQiO2lmKG9rW3JdIT09dW5kZWZpbmVkKXJldHVybiBva1tyXTt2YXIgZT1uZXcgQnIoZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09biYmKG49MWUzKTt2YXIgcj0hMSxvPW51bGwsaT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cnx8KHI9ITAsbnVsbCE9PW8mJihjbGVhclRpbWVvdXQobyksbz1udWxsKSxuLmFwcGx5KG51bGwsZSkpfX0sYT1pKGUpLHU9aSh0KTtyZXR1cm57c3RhcnQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cnx8bnVsbCE9PW98fChvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdS5hcHBseShudWxsLGUpfSxuKSl9LHJlc29sdmU6YSxyZWplY3Q6dX19KGUsdCk7aWtbcl09bi5yZXNvbHZlLFJ1LlNjcmlwdExvYWRlci5sb2FkU2NyaXB0KG8sZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFydChhKX0sZnVuY3Rpb24oKXtyZXR1cm4gbi5yZWplY3QoaSl9KX0pO3JldHVybiBva1tyXT1lfSxhZGQ6ZnVuY3Rpb24oZSx0KXtpa1tlXSE9PXVuZGVmaW5lZCYmKGlrW2VdKHQpLGRlbGV0ZSBpa1tlXSksb2tbZV09QnIucmVzb2x2ZSh0KX19KSxnaz1rdC5lYWNoLGhrPWt0LmV4dGVuZCx2az1mdW5jdGlvbigpe307dmsuZXh0ZW5kPWFrPWZ1bmN0aW9uKG4pe3ZhciBvPXRoaXMucHJvdG90eXBlLHI9ZnVuY3Rpb24oKXt2YXIgZSx0LG47aWYoIXVrJiYodGhpcy5pbml0JiZ0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQ9dGhpcy5NaXhpbnMpKWZvcihlPXQubGVuZ3RoO2UtLTspKG49dFtlXSkuaW5pdCYmbi5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt1az0hMDt2YXIgaT1uZXcgdGhpcztyZXR1cm4gdWs9ITEsbi5NaXhpbnMmJihnayhuLk1peGlucyxmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSkiaW5pdCIhPT10JiYoblt0XT1lW3RdKX0pLG8uTWl4aW5zJiYobi5NaXhpbnM9by5NaXhpbnMuY29uY2F0KG4uTWl4aW5zKSkpLG4uTWV0aG9kcyYmZ2sobi5NZXRob2RzLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7bltlXT10fSksbi5Qcm9wZXJ0aWVzJiZnayhuLlByb3BlcnRpZXMuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD0iXyIrZTtuW2VdPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09dW5kZWZpbmVkPyh0aGlzW3RdPWUsdGhpcyk6dGhpc1t0XX19KSxuLlN0YXRpY3MmJmdrKG4uU3RhdGljcyxmdW5jdGlvbihlLHQpe3JbdF09ZX0pLG4uRGVmYXVsdHMmJm8uRGVmYXVsdHMmJihuLkRlZmF1bHRzPWhrKHt9LG8uRGVmYXVsdHMsbi5EZWZhdWx0cykpLHVlKG4sZnVuY3Rpb24oZSx0KXt2YXIgbixyOyJmdW5jdGlvbiI9PXR5cGVvZiBlJiZvW3RdP2lbdF09KG49dCxyPWUsZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zdXBlcjt0aGlzLl9zdXBlcj1vW25dO3ZhciB0PXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLl9zdXBlcj1lLHR9KTppW3RdPWV9KSxyLnByb3RvdHlwZT1pLChyLmNvbnN0cnVjdG9yPXIpLmV4dGVuZD1hayxyfTt2YXIgeWs9TWF0aC5taW4sYms9TWF0aC5tYXgsQ2s9TWF0aC5yb3VuZCx3az17c2VyaWFsaXplOmZ1bmN0aW9uKGUpe3ZhciB0PUpTT04uc3RyaW5naWZ5KGUpO3JldHVybiBxKHQpP3QucmVwbGFjZSgvW1x1MDA4MC1cdUZGRkZdL2csZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KTtyZXR1cm4iXFx1IisiMDAwMCIuc3Vic3RyaW5nKHQubGVuZ3RoKSt0fSk6dH0scGFyc2U6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKHQpe319fSx4az17Y2FsbGJhY2tzOnt9LGNvdW50OjAsc2VuZDpmdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9RXUuRE9NLG89dC5jb3VudCE9PXVuZGVmaW5lZD90LmNvdW50Om4uY291bnQsaT0idGlueW1jZV9qc29ucF8iK287bi5jYWxsYmFja3Nbb109ZnVuY3Rpb24oZSl7ci5yZW1vdmUoaSksZGVsZXRlIG4uY2FsbGJhY2tzW29dLHQuY2FsbGJhY2soZSl9LHIuYWRkKHIuZG9jLmJvZHksInNjcmlwdCIse2lkOmksc3JjOnQudXJsLHR5cGU6InRleHQvamF2YXNjcmlwdCJ9KSxuLmNvdW50Kyt9fSxTaz1rZShrZSh7fSxnRSkse3NlbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbj0wLHI9ZnVuY3Rpb24oKXshZS5hc3luY3x8ND09PXQucmVhZHlTdGF0ZXx8MWU0PG4rKz8oZS5zdWNjZXNzJiZuPDFlNCYmMjAwPT09dC5zdGF0dXM/ZS5zdWNjZXNzLmNhbGwoZS5zdWNjZXNzX3Njb3BlLCIiK3QucmVzcG9uc2VUZXh0LHQsZSk6ZS5lcnJvciYmZS5lcnJvci5jYWxsKGUuZXJyb3Jfc2NvcGUsMWU0PG4/IlRJTUVEX09VVCI6IkdFTkVSQUwiLHQsZSksdD1udWxsKTpxci5zZXRUaW1lb3V0KHIsMTApfTtpZihlLnNjb3BlPWUuc2NvcGV8fHRoaXMsZS5zdWNjZXNzX3Njb3BlPWUuc3VjY2Vzc19zY29wZXx8ZS5zY29wZSxlLmVycm9yX3Njb3BlPWUuZXJyb3Jfc2NvcGV8fGUuc2NvcGUsZS5hc3luYz0hMSE9PWUuYXN5bmMsZS5kYXRhPWUuZGF0YXx8IiIsU2suZmlyZSgiYmVmb3JlSW5pdGlhbGl6ZSIse3NldHRpbmdzOmV9KSwodD1uZXcgWE1MSHR0cFJlcXVlc3QpLm92ZXJyaWRlTWltZVR5cGUmJnQub3ZlcnJpZGVNaW1lVHlwZShlLmNvbnRlbnRfdHlwZSksdC5vcGVuKGUudHlwZXx8KGUuZGF0YT8iUE9TVCI6IkdFVCIpLGUudXJsLGUuYXN5bmMpLGUuY3Jvc3NEb21haW4mJih0LndpdGhDcmVkZW50aWFscz0hMCksZS5jb250ZW50X3R5cGUmJnQuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixlLmNvbnRlbnRfdHlwZSksZS5yZXF1ZXN0aGVhZGVycyYma3QuZWFjaChlLnJlcXVlc3RoZWFkZXJzLGZ1bmN0aW9uKGUpe3Quc2V0UmVxdWVzdEhlYWRlcihlLmtleSxlLnZhbHVlKX0pLHQuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsIlhNTEh0dHBSZXF1ZXN0IiksKHQ9U2suZmlyZSgiYmVmb3JlU2VuZCIse3hocjp0LHNldHRpbmdzOmV9KS54aHIpLnNlbmQoZS5kYXRhKSwhZS5hc3luYylyZXR1cm4gcigpO3FyLnNldFRpbWVvdXQociwxMCl9fSksTms9a3QuZXh0ZW5kLEVrPShray5zZW5kUlBDPWZ1bmN0aW9uKGUpe3JldHVybihuZXcga2spLnNlbmQoZSl9LGtrLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3ZhciBuPWUuZXJyb3Iscj1lLnN1Y2Nlc3Msbz1Oayh0aGlzLnNldHRpbmdzLGUpO28uc3VjY2Vzcz1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PShlPXdrLnBhcnNlKGUpKSYmKGU9e2Vycm9yOiJKU09OIFBhcnNlIGVycm9yLiJ9KSxlLmVycm9yP24uY2FsbChvLmVycm9yX3Njb3BlfHxvLnNjb3BlLGUuZXJyb3IsdCk6ci5jYWxsKG8uc3VjY2Vzc19zY29wZXx8by5zY29wZSxlLnJlc3VsdCl9LG8uZXJyb3I9ZnVuY3Rpb24oZSx0KXtuJiZuLmNhbGwoby5lcnJvcl9zY29wZXx8by5zY29wZSxlLHQpfSxvLmRhdGE9d2suc2VyaWFsaXplKHtpZDplLmlkfHwiYyIrdGhpcy5jb3VudCsrLG1ldGhvZDplLm1ldGhvZCxwYXJhbXM6ZS5wYXJhbXN9KSxvLmNvbnRlbnRfdHlwZT0iYXBwbGljYXRpb24vanNvbiIsU2suc2VuZChvKX0sa2spO2Z1bmN0aW9uIGtrKGUpe3RoaXMuc2V0dGluZ3M9Tmsoe30sZSksdGhpcy5jb3VudD0wfXRyeXt2YXIgX2ssQWs9Il9fc3RvcmFnZV90ZXN0X18iOyhfaz13aW5kb3cubG9jYWxTdG9yYWdlKS5zZXRJdGVtKEFrLEFrKSxfay5yZW1vdmVJdGVtKEFrKX1jYXRjaChPayl7X2s9ZnVuY3Rpb24oKXtyZXR1cm4gbj17fSxyPVtdLGU9e2dldEl0ZW06ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtyZXR1cm4gdHx8bnVsbH0sc2V0SXRlbTpmdW5jdGlvbihlLHQpe3IucHVzaChlKSxuW2VdPVN0cmluZyh0KX0sa2V5OmZ1bmN0aW9uKGUpe3JldHVybiByW2VdfSxyZW1vdmVJdGVtOmZ1bmN0aW9uKHQpe3I9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSksZGVsZXRlIG5bdF19LGNsZWFyOmZ1bmN0aW9uKCl7cj1bXSxuPXt9fSxsZW5ndGg6MH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiByLmxlbmd0aH0sY29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITF9KSxlO3ZhciBuLHIsZX0oKX12YXIgUmssVGs9e2dlb206e1JlY3Q6bWt9LHV0aWw6e1Byb21pc2U6QnIsRGVsYXk6cXIsVG9vbHM6a3QsVks6dWQsVVJJOkxFLENsYXNzOnZrLEV2ZW50RGlzcGF0Y2hlcjpmRSxPYnNlcnZhYmxlOmdFLEkxOG46SXUsWEhSOlNrLEpTT046d2ssSlNPTlJlcXVlc3Q6RWssSlNPTlA6eGssTG9jYWxTdG9yYWdlOl9rLENvbG9yOmZ1bmN0aW9uKGUpe3ZhciBuPXt9LHU9MCxzPTAsYz0wLHQ9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlPyJyImluIGU/KHU9ZS5yLHM9ZS5nLGM9ZS5iKToidiJpbiBlJiZmdW5jdGlvbihlLHQsbil7aWYoZT0ocGFyc2VJbnQoZSwxMCl8fDApJTM2MCx0PXBhcnNlSW50KHQsMTApLzEwMCxuPXBhcnNlSW50KG4sMTApLzEwMCx0PWJrKDAseWsodCwxKSksbj1iaygwLHlrKG4sMSkpLDAhPT10KXt2YXIgcj1lLzYwLG89bip0LGk9byooMS1NYXRoLmFicyhyJTItMSkpLGE9bi1vO3N3aXRjaChNYXRoLmZsb29yKHIpKXtjYXNlIDA6dT1vLHM9aSxjPTA7YnJlYWs7Y2FzZSAxOnU9aSxzPW8sYz0wO2JyZWFrO2Nhc2UgMjp1PTAscz1vLGM9aTticmVhaztjYXNlIDM6dT0wLHM9aSxjPW87YnJlYWs7Y2FzZSA0OnU9aSxzPTAsYz1vO2JyZWFrO2Nhc2UgNTp1PW8scz0wLGM9aTticmVhaztkZWZhdWx0OnU9cz1jPTB9dT1DaygyNTUqKHUrYSkpLHM9Q2soMjU1KihzK2EpKSxjPUNrKDI1NSooYythKSl9ZWxzZSB1PXM9Yz1DaygyNTUqbil9KGUuaCxlLnMsZS52KToodD0vcmdiXHMqXChccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVteXCldKlwpL2dpLmV4ZWMoZSkpPyh1PXBhcnNlSW50KHRbMV0sMTApLHM9cGFyc2VJbnQodFsyXSwxMCksYz1wYXJzZUludCh0WzNdLDEwKSk6KHQ9LyMoWzAtRl17Mn0pKFswLUZdezJ9KShbMC1GXXsyfSkvZ2kuZXhlYyhlKSk/KHU9cGFyc2VJbnQodFsxXSwxNikscz1wYXJzZUludCh0WzJdLDE2KSxjPXBhcnNlSW50KHRbM10sMTYpKToodD0vIyhbMC1GXSkoWzAtRl0pKFswLUZdKS9naS5leGVjKGUpKSYmKHU9cGFyc2VJbnQodFsxXSt0WzFdLDE2KSxzPXBhcnNlSW50KHRbMl0rdFsyXSwxNiksYz1wYXJzZUludCh0WzNdK3RbM10sMTYpKSx1PXU8MD8wOjI1NTx1PzI1NTp1LHM9czwwPzA6MjU1PHM/MjU1OnMsYz1jPDA/MDoyNTU8Yz8yNTU6YyxufTtyZXR1cm4gZSYmdChlKSxuLnRvUmdiPWZ1bmN0aW9uKCl7cmV0dXJue3I6dSxnOnMsYjpjfX0sbi50b0hzdj1mdW5jdGlvbigpe3JldHVybiBlPXUsdD1zLG49YyxvPTAsaT15ayhlLz0yNTUseWsodC89MjU1LG4vPTI1NSkpLGE9YmsoZSxiayh0LG4pKSxpPT09YT97aDowLHM6MCx2OjEwMCoobz1pKX06KHI9KGEtaSkvYSx7aDpDayg2MCooKGU9PT1pPzM6bj09PWk/MTo1KS0oZT09PWk/dC1uOm49PT1pP2UtdDpuLWUpLygobz1hKS1pKSkpLHM6Q2soMTAwKnIpLHY6Q2soMTAwKm8pfSk7dmFyIGUsdCxuLHIsbyxpLGF9LG4udG9IZXg9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlKXtyZXR1cm4gMTwoZT1wYXJzZUludChlLDEwKS50b1N0cmluZygxNikpLmxlbmd0aD9lOiIwIitlfTtyZXR1cm4iIyIrZSh1KStlKHMpK2UoYyl9LG4ucGFyc2U9dCxufX0sZG9tOntFdmVudFV0aWxzOlRpLFNpenpsZTpUYSxEb21RdWVyeTpodSxUcmVlV2Fsa2VyOlhyLFRleHRTZWVrZXI6ZnMsRE9NVXRpbHM6RXUsU2NyaXB0TG9hZGVyOlJ1LFJhbmdlVXRpbHM6eGQsU2VyaWFsaXplcjpOeSxTdHlsZVNoZWV0TG9hZGVyOiRyLENvbnRyb2xTZWxlY3Rpb246Y2QsQm9va21hcmtNYW5hZ2VyOm9kLFNlbGVjdGlvbjpRdixFdmVudDpUaS5FdmVudH0saHRtbDp7U3R5bGVzOnhpLEVudGl0aWVzOmNpLE5vZGU6S20sU2NoZW1hOkNpLFNheFBhcnNlcjppcCxEb21QYXJzZXI6YnksV3JpdGVyOkdtLFNlcmlhbGl6ZXI6Sm19LEVudjp3dCxBZGRPbk1hbmFnZXI6VXUsQW5ub3RhdG9yOnRkLEZvcm1hdHRlcjpfYixVbmRvTWFuYWdlcjpSYixFZGl0b3JDb21tYW5kczplRSxXaW5kb3dNYW5hZ2VyOnViLE5vdGlmaWNhdGlvbk1hbmFnZXI6b2IsRWRpdG9yT2JzZXJ2YWJsZTpDRSxTaG9ydGN1dHM6QUUsRWRpdG9yOkhFLEZvY3VzTWFuYWdlcjptbSxFZGl0b3JNYW5hZ2VyOnJrLERPTTpFdS5ET00sU2NyaXB0TG9hZGVyOlJ1LlNjcmlwdExvYWRlcixQbHVnaW5NYW5hZ2VyOmliLFRoZW1lTWFuYWdlcjphYixJY29uTWFuYWdlcjpZeSxSZXNvdXJjZTpwayx0cmltOmt0LnRyaW0saXNBcnJheTprdC5pc0FycmF5LGlzOmt0LmlzLHRvQXJyYXk6a3QudG9BcnJheSxtYWtlTWFwOmt0Lm1ha2VNYXAsZWFjaDprdC5lYWNoLG1hcDprdC5tYXAsZ3JlcDprdC5ncmVwLGluQXJyYXk6a3QuaW5BcnJheSxleHRlbmQ6a3QuZXh0ZW5kLGNyZWF0ZTprdC5jcmVhdGUsd2FsazprdC53YWxrLGNyZWF0ZU5TOmt0LmNyZWF0ZU5TLHJlc29sdmU6a3QucmVzb2x2ZSxleHBsb2RlOmt0LmV4cGxvZGUsX2FkZENhY2hlU3VmZml4Omt0Ll9hZGRDYWNoZVN1ZmZpeCxpc09wZXJhOnd0Lm9wZXJhLGlzV2ViS2l0Ond0LndlYmtpdCxpc0lFOnd0LmllLGlzR2Vja286d3QuZ2Vja28saXNNYWM6d3QubWFjfSxEaz1rdC5leHRlbmQocmssVGspO1JrPURrLHdpbmRvdy50aW55bWNlPVJrLHdpbmRvdy50aW55TUNFPVJrLGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgbW9kdWxlKXRyeXttb2R1bGUuZXhwb3J0cz1lfWNhdGNoKHQpe319KERrKX0oKTsNCg==","CacheKey":"e5qfBCIDss7g5FtUHZU0GeyAgc4"}