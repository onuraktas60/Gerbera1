{"Headers":{"Last-Modified":"Wed, 24 Nov 2021 09:34:44 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohIGpRdWVyeSBWYWxpZGF0aW9uIFBsdWdpbiAtIHYxLjE5LjMgLSAxLzkvMjAyMQogKiBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnLwogKiBDb3B5cmlnaHQgKGMpIDIwMjEgSsO2cm4gWmFlZmZlcmVyOyBMaWNlbnNlZCBNSVQgKi8KZnVuY3Rpb24gT3BlbldpbmRvdyhuLHQsaSxyKXt2YXIgdT0oc2NyZWVuLndpZHRoLXQpLzIsZj0oc2NyZWVuLmhlaWdodC1pKS8yLGU7d2lucHJvcHM9InJlc2l6YWJsZT0wLCBoZWlnaHQ9IitpKyIsd2lkdGg9Iit0KyIsdG9wPSIrZisiLGxlZnQ9Iit1KyJ3IjtyJiYod2lucHJvcHMrPSIsc2Nyb2xsYmFycz0xIik7ZT13aW5kb3cub3BlbihuLCJfYmxhbmsiLHdpbnByb3BzKX1mdW5jdGlvbiBzZXRMb2NhdGlvbihuKXt3aW5kb3cubG9jYXRpb24uaHJlZj1ufWZ1bmN0aW9uIGRpc3BsYXlBamF4TG9hZGluZyhuKXtuPyQoIi5hamF4LWxvYWRpbmctYmxvY2std2luZG93Iikuc2hvdygpOiQoIi5hamF4LWxvYWRpbmctYmxvY2std2luZG93IikuaGlkZSgic2xvdyIpfWZ1bmN0aW9uIGRpc3BsYXlQb3B1cE5vdGlmaWNhdGlvbihuLHQsaSl7dmFyIGYscix1LGU7aWYoZj10PT0ic3VjY2VzcyI/JCgiI2RpYWxvZy1ub3RpZmljYXRpb25zLXN1Y2Nlc3MiKTp0PT0iZXJyb3IiPyQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1lcnJvciIpOnQ9PSJ3YXJuaW5nIj8kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtd2FybmluZyIpOiQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIikscj0iIix0eXBlb2Ygbj09InN0cmluZyIpcj0iPHA+IituKyI8XC9wPiI7ZWxzZSBmb3IodT0wO3U8bi5sZW5ndGg7dSsrKXI9cisiPHA+IituW3VdKyI8XC9wPiI7Zi5odG1sKHIpO2U9aT8hMDohMTtmLmRpYWxvZyh7bW9kYWw6ZSx3aWR0aDozNTB9KX1mdW5jdGlvbiBkaXNwbGF5Sm9pbmVkUG9wdXBOb3RpZmljYXRpb25zKG4pe3ZhciB1LGYsaSxlLHIsdDtpZihPYmplY3Qua2V5cyhuKS5sZW5ndGghPT0wKXt1PSQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIik7Zj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmb3IoaSBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkoaSkpZm9yKGU9bltpXSxyPTA7cjxlLmxlbmd0aDsrK3IpdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0LmlubmVySFRNTD1lW3JdLHQuY2xhc3NMaXN0LmFkZCgicG9wdXAtbm90aWZpY2F0aW9uIiksdC5jbGFzc0xpc3QuYWRkKGkpLGYuYXBwZW5kKHQpO3UuaHRtbChmKTt1LmRpYWxvZyh7d2lkdGg6MzUwLG1vZGFsOiEwfSl9fWZ1bmN0aW9uIGRpc3BsYXlQb3B1cENvbnRlbnRGcm9tVXJsKG4sdCxpLHIpe3ZhciB1PWk/ITA6ITEsZj1yP3I6NTUwLGU9JCh3aW5kb3cpLmhlaWdodCgpLTIwOyQoIjxkaXY+PFwvZGl2PiIpLmxvYWQobikuZGlhbG9nKHttb2RhbDp1LHdpZHRoOmYsbWF4SGVpZ2h0OmUsdGl0bGU6dCxjbG9zZTpmdW5jdGlvbigpeyQodGhpcykuZGlhbG9nKCJkZXN0cm95IikucmVtb3ZlKCl9fSl9ZnVuY3Rpb24gZGlzcGxheUJhck5vdGlmaWNhdGlvbihuLHQsaSl7dmFyIGMsbz10eXBlb2Ygbj09InN0cmluZyI/W25dOm4scyxyLHUsZixlLGg7aWYoby5sZW5ndGghPT0wKXtmb3Iocz1bInN1Y2Nlc3MiLCJlcnJvciIsIndhcm5pbmciXS5pbmRleE9mKHQpIT09LTE/dDoic3VjY2VzcyIsJCgiI2Jhci1ub3RpZmljYXRpb24iKS5jaGlsZHJlbigiLmdlbmVyYWxub3RlLW1haW4iKS5zaG93KCksJCgiI2Jhci1ub3RpZmljYXRpb24iKS5yZW1vdmVDbGFzcygic3VjY2VzcyIpLnJlbW92ZUNsYXNzKCJlcnJvciIpLnJlbW92ZUNsYXNzKCJ3YXJuaW5nIiksJCgiLmJhci1ub3RpZmljYXRpb24iKS5yZW1vdmUoKSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHIuY2xhc3NMaXN0LmFkZCgiYmFyLW5vdGlmaWNhdGlvbiIscyksci5jbGFzc0xpc3QuYWRkKHMpLHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpLHUuY2xhc3NMaXN0LmFkZCgiY2xvc2UiKSx1LnNldEF0dHJpYnV0ZSgidGl0bGUiLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiYXItbm90aWZpY2F0aW9uIikuZGF0YXNldC5jbG9zZSksZj0wO2Y8by5sZW5ndGg7ZisrKWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpLGUuY2xhc3NMaXN0LmFkZCgiY29udGVudCIpLGUuaW5uZXJIVE1MPW9bZl0sci5hcHBlbmRDaGlsZChlKTtyLmFwcGVuZENoaWxkKHUpOyQoIi5nZW5lcmFsbm90ZS1tYWluIikuYXBwZW5kKHIpOyQocikuZmFkZUluKCJzbG93Iikub24oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGMpfSk7aD1mdW5jdGlvbigpeyQocikucmVtb3ZlKCl9OyQodSkub24oImNsaWNrIixmdW5jdGlvbigpeyQoIiNiYXItbm90aWZpY2F0aW9uIikuY2hpbGRyZW4oIi5nZW5lcmFsbm90ZS1tYWluIikuaGlkZSgpOyQocikuZmFkZU91dCgic2xvdyIsaCl9KTtpPjAmJihjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXskKCIjYmFyLW5vdGlmaWNhdGlvbiIpLmNoaWxkcmVuKCIuZ2VuZXJhbG5vdGUtbWFpbiIpLmhpZGUoKTskKHIpLmZhZGVPdXQoInNsb3ciLGgpfSxpKSl9fWZ1bmN0aW9uIGh0bWxFbmNvZGUobil7cmV0dXJuICQoIjxkaXYvPiIpLnRleHQobikuaHRtbCgpfWZ1bmN0aW9uIGh0bWxEZWNvZGUobil7cmV0dXJuICQoIjxkaXYvPiIpLmh0bWwobikudGV4dCgpfWZ1bmN0aW9uIGFkZEFudGlGb3JnZXJ5VG9rZW4obil7bnx8KG49e30pO3ZhciB0PSQoImlucHV0W25hbWU9X19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW5dIik7cmV0dXJuIHQubGVuZ3RoJiYobi5fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbj10LnZhbCgpKSxufWZ1bmN0aW9uIE9wZW5XaW5kb3cobix0LGkscil7dmFyIHU9KHNjcmVlbi53aWR0aC10KS8yLGY9KHNjcmVlbi5oZWlnaHQtaSkvMixlO3dpbnByb3BzPSJyZXNpemFibGU9MCwgaGVpZ2h0PSIraSsiLHdpZHRoPSIrdCsiLHRvcD0iK2YrIixsZWZ0PSIrdSsidyI7ciYmKHdpbnByb3BzKz0iLHNjcm9sbGJhcnM9MSIpO2U9d2luZG93Lm9wZW4obiwiX2JsYW5rIix3aW5wcm9wcyl9ZnVuY3Rpb24gc2V0TG9jYXRpb24obil7d2luZG93LmxvY2F0aW9uLmhyZWY9bn1mdW5jdGlvbiBkaXNwbGF5QWpheExvYWRpbmcobil7bj8kKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLnNob3coKTokKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLmhpZGUoInNsb3ciKX1mdW5jdGlvbiBkaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obix0LGkpe3ZhciBmLHIsdSxlO2lmKGY9dD09InN1Y2Nlc3MiPyQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIik6dD09ImVycm9yIj8kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtZXJyb3IiKTp0PT0id2FybmluZyI/JCgiI2RpYWxvZy1ub3RpZmljYXRpb25zLXdhcm5pbmciKTokKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtc3VjY2VzcyIpLHI9IiIsdHlwZW9mIG49PSJzdHJpbmciKXI9IjxwPiIrbisiPFwvcD4iO2Vsc2UgZm9yKHU9MDt1PG4ubGVuZ3RoO3UrKylyPXIrIjxwPiIrblt1XSsiPFwvcD4iO2YuaHRtbChyKTtlPWk/ITA6ITE7Zi5kaWFsb2coe21vZGFsOmUsd2lkdGg6MzUwfSl9ZnVuY3Rpb24gZGlzcGxheUpvaW5lZFBvcHVwTm90aWZpY2F0aW9ucyhuKXt2YXIgdSxmLGksZSxyLHQ7aWYoT2JqZWN0LmtleXMobikubGVuZ3RoIT09MCl7dT0kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtc3VjY2VzcyIpO2Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGkgaW4gbilpZihuLmhhc093blByb3BlcnR5KGkpKWZvcihlPW5baV0scj0wO3I8ZS5sZW5ndGg7KytyKXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdC5pbm5lckhUTUw9ZVtyXSx0LmNsYXNzTGlzdC5hZGQoInBvcHVwLW5vdGlmaWNhdGlvbiIpLHQuY2xhc3NMaXN0LmFkZChpKSxmLmFwcGVuZCh0KTt1Lmh0bWwoZik7dS5kaWFsb2coe3dpZHRoOjM1MCxtb2RhbDohMH0pfX1mdW5jdGlvbiBkaXNwbGF5UG9wdXBDb250ZW50RnJvbVVybChuLHQsaSxyKXt2YXIgdT1pPyEwOiExLGY9cj9yOjU1MCxlPSQod2luZG93KS5oZWlnaHQoKS0yMDskKCI8ZGl2PjxcL2Rpdj4iKS5sb2FkKG4pLmRpYWxvZyh7bW9kYWw6dSx3aWR0aDpmLG1heEhlaWdodDplLHRpdGxlOnQsY2xvc2U6ZnVuY3Rpb24oKXskKHRoaXMpLmRpYWxvZygiZGVzdHJveSIpLnJlbW92ZSgpfX0pfWZ1bmN0aW9uIGRpc3BsYXlCYXJOb3RpZmljYXRpb24obix0LGkpe3ZhciBjLG89dHlwZW9mIG49PSJzdHJpbmciP1tuXTpuLHMscix1LGYsZSxoO2lmKG8ubGVuZ3RoIT09MCl7Zm9yKHM9WyJzdWNjZXNzIiwiZXJyb3IiLCJ3YXJuaW5nIl0uaW5kZXhPZih0KSE9PS0xP3Q6InN1Y2Nlc3MiLCQoIiNiYXItbm90aWZpY2F0aW9uIikucmVtb3ZlQ2xhc3MoInN1Y2Nlc3MiKS5yZW1vdmVDbGFzcygiZXJyb3IiKS5yZW1vdmVDbGFzcygid2FybmluZyIpLCQoIi5iYXItbm90aWZpY2F0aW9uIikucmVtb3ZlKCkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyLmNsYXNzTGlzdC5hZGQoImJhci1ub3RpZmljYXRpb24iLHMpLHIuY2xhc3NMaXN0LmFkZChzKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSx1LmNsYXNzTGlzdC5hZGQoImNsb3NlIiksdS5zZXRBdHRyaWJ1dGUoInRpdGxlIixkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFyLW5vdGlmaWNhdGlvbiIpLmRhdGFzZXQuY2xvc2UpLGY9MDtmPG8ubGVuZ3RoO2YrKyllPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSxlLmNsYXNzTGlzdC5hZGQoImNvbnRlbnQiKSxlLmlubmVySFRNTD1vW2ZdLHIuYXBwZW5kQ2hpbGQoZSk7ci5hcHBlbmRDaGlsZCh1KTskKCIjYmFyLW5vdGlmaWNhdGlvbiIpLmFwcGVuZChyKTskKHIpLmZhZGVJbigic2xvdyIpLm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChjKX0pO2g9ZnVuY3Rpb24oKXskKHIpLnJlbW92ZSgpfTskKHUpLm9uKCJjbGljayIsZnVuY3Rpb24oKXskKHIpLmZhZGVPdXQoInNsb3ciLGgpfSk7aT4wJiYoYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChyKS5mYWRlT3V0KCJzbG93IixoKX0saSkpfX1mdW5jdGlvbiBodG1sRW5jb2RlKG4pe3JldHVybiAkKCI8ZGl2Lz4iKS50ZXh0KG4pLmh0bWwoKX1mdW5jdGlvbiBodG1sRGVjb2RlKG4pe3JldHVybiAkKCI8ZGl2Lz4iKS5odG1sKG4pLnRleHQoKX1mdW5jdGlvbiBhZGRBbnRpRm9yZ2VyeVRva2VuKG4pe258fChuPXt9KTt2YXIgdD0kKCJpbnB1dFtuYW1lPV9fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuXSIpO3JldHVybiB0Lmxlbmd0aCYmKG4uX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49dC52YWwoKSksbn0hZnVuY3Rpb24obil7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxuKToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bihyZXF1aXJlKCJqcXVlcnkiKSk6bihqUXVlcnkpfShmdW5jdGlvbihuKXt2YXIgaSxyLHQ7cmV0dXJuIG4uZXh0ZW5kKG4uZm4se3ZhbGlkYXRlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdm9pZCh0JiZ0LmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS53YXJuKCJOb3RoaW5nIHNlbGVjdGVkLCBjYW4ndCB2YWxpZGF0ZSwgcmV0dXJuaW5nIG5vdGhpbmcuIikpO3ZhciBpPW4uZGF0YSh0aGlzWzBdLCJ2YWxpZGF0b3IiKTtyZXR1cm4gaT9pOih0aGlzLmF0dHIoIm5vdmFsaWRhdGUiLCJub3ZhbGlkYXRlIiksaT1uZXcgbi52YWxpZGF0b3IodCx0aGlzWzBdKSxuLmRhdGEodGhpc1swXSwidmFsaWRhdG9yIixpKSxpLnNldHRpbmdzLm9uc3VibWl0JiYodGhpcy5vbigiY2xpY2sudmFsaWRhdGUiLCI6c3VibWl0IixmdW5jdGlvbih0KXtpLnN1Ym1pdEJ1dHRvbj10LmN1cnJlbnRUYXJnZXQ7bih0aGlzKS5oYXNDbGFzcygiY2FuY2VsIikmJihpLmNhbmNlbFN1Ym1pdD0hMCk7dm9pZCAwIT09bih0aGlzKS5hdHRyKCJmb3Jtbm92YWxpZGF0ZSIpJiYoaS5jYW5jZWxTdWJtaXQ9ITApfSksdGhpcy5vbigic3VibWl0LnZhbGlkYXRlIixmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIHIsdTtyZXR1cm4gaS5zdWJtaXRCdXR0b24mJihpLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXJ8fGkuZm9ybVN1Ym1pdHRlZCkmJihyPW4oIjxpbnB1dCB0eXBlPSdoaWRkZW4nLz4iKS5hdHRyKCJuYW1lIixpLnN1Ym1pdEJ1dHRvbi5uYW1lKS52YWwobihpLnN1Ym1pdEJ1dHRvbikudmFsKCkpLmFwcGVuZFRvKGkuY3VycmVudEZvcm0pKSwhKGkuc2V0dGluZ3Muc3VibWl0SGFuZGxlciYmIWkuc2V0dGluZ3MuZGVidWcpfHwodT1pLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXIuY2FsbChpLGkuY3VycmVudEZvcm0sdCksciYmci5yZW1vdmUoKSx2b2lkIDAhPT11JiZ1KX1yZXR1cm4gaS5zZXR0aW5ncy5kZWJ1ZyYmdC5wcmV2ZW50RGVmYXVsdCgpLGkuY2FuY2VsU3VibWl0PyhpLmNhbmNlbFN1Ym1pdD0hMSxyKCkpOmkuZm9ybSgpP2kucGVuZGluZ1JlcXVlc3Q/KGkuZm9ybVN1Ym1pdHRlZD0hMCwhMSk6cigpOihpLmZvY3VzSW52YWxpZCgpLCExKX0pKSxpKX0sdmFsaWQ6ZnVuY3Rpb24oKXt2YXIgdCxpLHI7cmV0dXJuIG4odGhpc1swXSkuaXMoImZvcm0iKT90PXRoaXMudmFsaWRhdGUoKS5mb3JtKCk6KHI9W10sdD0hMCxpPW4odGhpc1swXS5mb3JtKS52YWxpZGF0ZSgpLHRoaXMuZWFjaChmdW5jdGlvbigpe3Q9aS5lbGVtZW50KHRoaXMpJiZ0O3R8fChyPXIuY29uY2F0KGkuZXJyb3JMaXN0KSl9KSxpLmVycm9yTGlzdD1yKSx0fSxydWxlczpmdW5jdGlvbih0LGkpe3ZhciBlLHMsZix1LG8saCxyPXRoaXNbMF0sYz0idW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT10aGlzLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO2lmKG51bGwhPXImJighci5mb3JtJiZjJiYoci5mb3JtPXRoaXMuY2xvc2VzdCgiZm9ybSIpWzBdLHIubmFtZT10aGlzLmF0dHIoIm5hbWUiKSksbnVsbCE9ci5mb3JtKSl7aWYodClzd2l0Y2goZT1uLmRhdGEoci5mb3JtLCJ2YWxpZGF0b3IiKS5zZXR0aW5ncyxzPWUucnVsZXMsZj1uLnZhbGlkYXRvci5zdGF0aWNSdWxlcyhyKSx0KXtjYXNlImFkZCI6bi5leHRlbmQoZixuLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKGkpKTtkZWxldGUgZi5tZXNzYWdlcztzW3IubmFtZV09ZjtpLm1lc3NhZ2VzJiYoZS5tZXNzYWdlc1tyLm5hbWVdPW4uZXh0ZW5kKGUubWVzc2FnZXNbci5uYW1lXSxpLm1lc3NhZ2VzKSk7YnJlYWs7Y2FzZSJyZW1vdmUiOnJldHVybiBpPyhoPXt9LG4uZWFjaChpLnNwbGl0KC9ccy8pLGZ1bmN0aW9uKG4sdCl7aFt0XT1mW3RdO2RlbGV0ZSBmW3RdfSksaCk6KGRlbGV0ZSBzW3IubmFtZV0sZil9cmV0dXJuIHU9bi52YWxpZGF0b3Iubm9ybWFsaXplUnVsZXMobi5leHRlbmQoe30sbi52YWxpZGF0b3IuY2xhc3NSdWxlcyhyKSxuLnZhbGlkYXRvci5hdHRyaWJ1dGVSdWxlcyhyKSxuLnZhbGlkYXRvci5kYXRhUnVsZXMociksbi52YWxpZGF0b3Iuc3RhdGljUnVsZXMocikpLHIpLHUucmVxdWlyZWQmJihvPXUucmVxdWlyZWQsZGVsZXRlIHUucmVxdWlyZWQsdT1uLmV4dGVuZCh7cmVxdWlyZWQ6b30sdSkpLHUucmVtb3RlJiYobz11LnJlbW90ZSxkZWxldGUgdS5yZW1vdGUsdT1uLmV4dGVuZCh1LHtyZW1vdGU6b30pKSx1fX19KSxpPWZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX0sbi5leHRlbmQobi5leHByLnBzZXVkb3N8fG4uZXhwclsiOiJdLHtibGFuazpmdW5jdGlvbih0KXtyZXR1cm4haSgiIituKHQpLnZhbCgpKX0sZmlsbGVkOmZ1bmN0aW9uKHQpe3ZhciByPW4odCkudmFsKCk7cmV0dXJuIG51bGwhPT1yJiYhIWkoIiIrcil9LHVuY2hlY2tlZDpmdW5jdGlvbih0KXtyZXR1cm4hbih0KS5wcm9wKCJjaGVja2VkIil9fSksbi52YWxpZGF0b3I9ZnVuY3Rpb24odCxpKXt0aGlzLnNldHRpbmdzPW4uZXh0ZW5kKCEwLHt9LG4udmFsaWRhdG9yLmRlZmF1bHRzLHQpO3RoaXMuY3VycmVudEZvcm09aTt0aGlzLmluaXQoKX0sbi52YWxpZGF0b3IuZm9ybWF0PWZ1bmN0aW9uKHQsaSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP2Z1bmN0aW9uKCl7dmFyIGk9bi5tYWtlQXJyYXkoYXJndW1lbnRzKTtyZXR1cm4gaS51bnNoaWZ0KHQpLG4udmFsaWRhdG9yLmZvcm1hdC5hcHBseSh0aGlzLGkpfTp2b2lkIDA9PT1pP3Q6KGFyZ3VtZW50cy5sZW5ndGg+MiYmaS5jb25zdHJ1Y3RvciE9PUFycmF5JiYoaT1uLm1ha2VBcnJheShhcmd1bWVudHMpLnNsaWNlKDEpKSxpLmNvbnN0cnVjdG9yIT09QXJyYXkmJihpPVtpXSksbi5lYWNoKGksZnVuY3Rpb24obixpKXt0PXQucmVwbGFjZShuZXcgUmVnRXhwKCJcXHsiK24rIlxcfSIsImciKSxmdW5jdGlvbigpe3JldHVybiBpfSl9KSx0KX0sbi5leHRlbmQobi52YWxpZGF0b3Ise2RlZmF1bHRzOnttZXNzYWdlczp7fSxncm91cHM6e30scnVsZXM6e30sZXJyb3JDbGFzczoiZXJyb3IiLHBlbmRpbmdDbGFzczoicGVuZGluZyIsdmFsaWRDbGFzczoidmFsaWQiLGVycm9yRWxlbWVudDoibGFiZWwiLGZvY3VzQ2xlYW51cDohMSxmb2N1c0ludmFsaWQ6ITAsZXJyb3JDb250YWluZXI6bihbXSksZXJyb3JMYWJlbENvbnRhaW5lcjpuKFtdKSxvbnN1Ym1pdDohMCxpZ25vcmU6IjpoaWRkZW4iLGlnbm9yZVRpdGxlOiExLG9uZm9jdXNpbjpmdW5jdGlvbihuKXt0aGlzLmxhc3RBY3RpdmU9bjt0aGlzLnNldHRpbmdzLmZvY3VzQ2xlYW51cCYmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLG4sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5oaWRlVGhlc2UodGhpcy5lcnJvcnNGb3IobikpKX0sb25mb2N1c291dDpmdW5jdGlvbihuKXshdGhpcy5jaGVja2FibGUobikmJihuLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWR8fCF0aGlzLm9wdGlvbmFsKG4pKSYmdGhpcy5lbGVtZW50KG4pfSxvbmtleXVwOmZ1bmN0aW9uKHQsaSl7OT09PWkud2hpY2gmJiIiPT09dGhpcy5lbGVtZW50VmFsdWUodCl8fG4uaW5BcnJheShpLmtleUNvZGUsWzE2LDE3LDE4LDIwLDM1LDM2LDM3LDM4LDM5LDQwLDQ1LDE0NCwyMjVdKSE9PS0xfHwodC5uYW1lIGluIHRoaXMuc3VibWl0dGVkfHx0Lm5hbWUgaW4gdGhpcy5pbnZhbGlkKSYmdGhpcy5lbGVtZW50KHQpfSxvbmNsaWNrOmZ1bmN0aW9uKG4pe24ubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZD90aGlzLmVsZW1lbnQobik6bi5wYXJlbnROb2RlLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQmJnRoaXMuZWxlbWVudChuLnBhcmVudE5vZGUpfSxoaWdobGlnaHQ6ZnVuY3Rpb24odCxpLHIpeyJyYWRpbyI9PT10LnR5cGU/dGhpcy5maW5kQnlOYW1lKHQubmFtZSkuYWRkQ2xhc3MoaSkucmVtb3ZlQ2xhc3Mocik6bih0KS5hZGRDbGFzcyhpKS5yZW1vdmVDbGFzcyhyKX0sdW5oaWdobGlnaHQ6ZnVuY3Rpb24odCxpLHIpeyJyYWRpbyI9PT10LnR5cGU/dGhpcy5maW5kQnlOYW1lKHQubmFtZSkucmVtb3ZlQ2xhc3MoaSkuYWRkQ2xhc3Mocik6bih0KS5yZW1vdmVDbGFzcyhpKS5hZGRDbGFzcyhyKX19LHNldERlZmF1bHRzOmZ1bmN0aW9uKHQpe24uZXh0ZW5kKG4udmFsaWRhdG9yLmRlZmF1bHRzLHQpfSxtZXNzYWdlczp7cmVxdWlyZWQ6IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIixyZW1vdGU6IlBsZWFzZSBmaXggdGhpcyBmaWVsZC4iLGVtYWlsOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLiIsdXJsOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBVUkwuIixkYXRlOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBkYXRlLiIsZGF0ZUlTTzoiUGxlYXNlIGVudGVyIGEgdmFsaWQgZGF0ZSAoSVNPKS4iLG51bWJlcjoiUGxlYXNlIGVudGVyIGEgdmFsaWQgbnVtYmVyLiIsZGlnaXRzOiJQbGVhc2UgZW50ZXIgb25seSBkaWdpdHMuIixlcXVhbFRvOiJQbGVhc2UgZW50ZXIgdGhlIHNhbWUgdmFsdWUgYWdhaW4uIixtYXhsZW5ndGg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgbm8gbW9yZSB0aGFuIHswfSBjaGFyYWN0ZXJzLiIpLG1pbmxlbmd0aDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhdCBsZWFzdCB7MH0gY2hhcmFjdGVycy4iKSxyYW5nZWxlbmd0aDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gezB9IGFuZCB7MX0gY2hhcmFjdGVycyBsb25nLiIpLHJhbmdlOm4udmFsaWRhdG9yLmZvcm1hdCgiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiB7MH0gYW5kIHsxfS4iKSxtYXg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gezB9LiIpLG1pbjpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB7MH0uIiksc3RlcDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIG11bHRpcGxlIG9mIHswfS4iKX0sYXV0b0NyZWF0ZVJhbmdlczohMSxwcm90b3R5cGU6e2luaXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKHQpe3ZhciBlPSJ1bmRlZmluZWQiIT10eXBlb2Ygbih0aGlzKS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PW4odGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIik7aWYoIXRoaXMuZm9ybSYmZSYmKHRoaXMuZm9ybT1uKHRoaXMpLmNsb3Nlc3QoImZvcm0iKVswXSx0aGlzLm5hbWU9bih0aGlzKS5hdHRyKCJuYW1lIikpLHI9PT10aGlzLmZvcm0pe3ZhciB1PW4uZGF0YSh0aGlzLmZvcm0sInZhbGlkYXRvciIpLGY9Im9uIit0LnR5cGUucmVwbGFjZSgvXnZhbGlkYXRlLywiIiksaT11LnNldHRpbmdzO2lbZl0mJiFuKHRoaXMpLmlzKGkuaWdub3JlKSYmaVtmXS5jYWxsKHUsdGhpcyx0KX19dGhpcy5sYWJlbENvbnRhaW5lcj1uKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lcik7dGhpcy5lcnJvckNvbnRleHQ9dGhpcy5sYWJlbENvbnRhaW5lci5sZW5ndGgmJnRoaXMubGFiZWxDb250YWluZXJ8fG4odGhpcy5jdXJyZW50Rm9ybSk7dGhpcy5jb250YWluZXJzPW4odGhpcy5zZXR0aW5ncy5lcnJvckNvbnRhaW5lcikuYWRkKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lcik7dGhpcy5zdWJtaXR0ZWQ9e307dGhpcy52YWx1ZUNhY2hlPXt9O3RoaXMucGVuZGluZ1JlcXVlc3Q9MDt0aGlzLnBlbmRpbmc9e307dGhpcy5pbnZhbGlkPXt9O3RoaXMucmVzZXQoKTt2YXIgdCxyPXRoaXMuY3VycmVudEZvcm0sdT10aGlzLmdyb3Vwcz17fTtuLmVhY2godGhpcy5zZXR0aW5ncy5ncm91cHMsZnVuY3Rpb24odCxpKXsic3RyaW5nIj09dHlwZW9mIGkmJihpPWkuc3BsaXQoL1xzLykpO24uZWFjaChpLGZ1bmN0aW9uKG4saSl7dVtpXT10fSl9KTt0PXRoaXMuc2V0dGluZ3MucnVsZXM7bi5lYWNoKHQsZnVuY3Rpb24oaSxyKXt0W2ldPW4udmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUocil9KTtuKHRoaXMuY3VycmVudEZvcm0pLm9uKCJmb2N1c2luLnZhbGlkYXRlIGZvY3Vzb3V0LnZhbGlkYXRlIGtleXVwLnZhbGlkYXRlIiwiOnRleHQsIFt0eXBlPSdwYXNzd29yZCddLCBbdHlwZT0nZmlsZSddLCBzZWxlY3QsIHRleHRhcmVhLCBbdHlwZT0nbnVtYmVyJ10sIFt0eXBlPSdzZWFyY2gnXSwgW3R5cGU9J3RlbCddLCBbdHlwZT0ndXJsJ10sIFt0eXBlPSdlbWFpbCddLCBbdHlwZT0nZGF0ZXRpbWUnXSwgW3R5cGU9J2RhdGUnXSwgW3R5cGU9J21vbnRoJ10sIFt0eXBlPSd3ZWVrJ10sIFt0eXBlPSd0aW1lJ10sIFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBbdHlwZT0ncmFuZ2UnXSwgW3R5cGU9J2NvbG9yJ10sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSwgW2NvbnRlbnRlZGl0YWJsZV0sIFt0eXBlPSdidXR0b24nXSIsaSkub24oImNsaWNrLnZhbGlkYXRlIiwic2VsZWN0LCBvcHRpb24sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSIsaSk7dGhpcy5zZXR0aW5ncy5pbnZhbGlkSGFuZGxlciYmbih0aGlzLmN1cnJlbnRGb3JtKS5vbigiaW52YWxpZC1mb3JtLnZhbGlkYXRlIix0aGlzLnNldHRpbmdzLmludmFsaWRIYW5kbGVyKX0sZm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrRm9ybSgpLG4uZXh0ZW5kKHRoaXMuc3VibWl0dGVkLHRoaXMuZXJyb3JNYXApLHRoaXMuaW52YWxpZD1uLmV4dGVuZCh7fSx0aGlzLmVycm9yTWFwKSx0aGlzLnZhbGlkKCl8fG4odGhpcy5jdXJyZW50Rm9ybSkudHJpZ2dlckhhbmRsZXIoImludmFsaWQtZm9ybSIsW3RoaXNdKSx0aGlzLnNob3dFcnJvcnMoKSx0aGlzLnZhbGlkKCl9LGNoZWNrRm9ybTpmdW5jdGlvbigpe3RoaXMucHJlcGFyZUZvcm0oKTtmb3IodmFyIG49MCx0PXRoaXMuY3VycmVudEVsZW1lbnRzPXRoaXMuZWxlbWVudHMoKTt0W25dO24rKyl0aGlzLmNoZWNrKHRbbl0pO3JldHVybiB0aGlzLnZhbGlkKCl9LGVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGUsbyxpPXRoaXMuY2xlYW4odCkscj10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IoaSksdT10aGlzLGY9ITA7cmV0dXJuIHZvaWQgMD09PXI/ZGVsZXRlIHRoaXMuaW52YWxpZFtpLm5hbWVdOih0aGlzLnByZXBhcmVFbGVtZW50KHIpLHRoaXMuY3VycmVudEVsZW1lbnRzPW4ociksbz10aGlzLmdyb3Vwc1tyLm5hbWVdLG8mJm4uZWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbihuLHQpe3Q9PT1vJiZuIT09ci5uYW1lJiYoaT11LnZhbGlkYXRpb25UYXJnZXRGb3IodS5jbGVhbih1LmZpbmRCeU5hbWUobikpKSxpJiZpLm5hbWUgaW4gdS5pbnZhbGlkJiYodS5jdXJyZW50RWxlbWVudHMucHVzaChpKSxmPXUuY2hlY2soaSkmJmYpKX0pLGU9dGhpcy5jaGVjayhyKSE9PSExLGY9ZiYmZSx0aGlzLmludmFsaWRbci5uYW1lXT1lPyExOiEwLHRoaXMubnVtYmVyT2ZJbnZhbGlkcygpfHwodGhpcy50b0hpZGU9dGhpcy50b0hpZGUuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2hvd0Vycm9ycygpLG4odCkuYXR0cigiYXJpYS1pbnZhbGlkIiwhZSkpLGZ9LHNob3dFcnJvcnM6ZnVuY3Rpb24odCl7aWYodCl7dmFyIGk9dGhpcztuLmV4dGVuZCh0aGlzLmVycm9yTWFwLHQpO3RoaXMuZXJyb3JMaXN0PW4ubWFwKHRoaXMuZXJyb3JNYXAsZnVuY3Rpb24obix0KXtyZXR1cm57bWVzc2FnZTpuLGVsZW1lbnQ6aS5maW5kQnlOYW1lKHQpWzBdfX0pO3RoaXMuc3VjY2Vzc0xpc3Q9bi5ncmVwKHRoaXMuc3VjY2Vzc0xpc3QsZnVuY3Rpb24obil7cmV0dXJuIShuLm5hbWUgaW4gdCl9KX10aGlzLnNldHRpbmdzLnNob3dFcnJvcnM/dGhpcy5zZXR0aW5ncy5zaG93RXJyb3JzLmNhbGwodGhpcyx0aGlzLmVycm9yTWFwLHRoaXMuZXJyb3JMaXN0KTp0aGlzLmRlZmF1bHRTaG93RXJyb3JzKCl9LHJlc2V0Rm9ybTpmdW5jdGlvbigpe24uZm4ucmVzZXRGb3JtJiZuKHRoaXMuY3VycmVudEZvcm0pLnJlc2V0Rm9ybSgpO3RoaXMuaW52YWxpZD17fTt0aGlzLnN1Ym1pdHRlZD17fTt0aGlzLnByZXBhcmVGb3JtKCk7dGhpcy5oaWRlRXJyb3JzKCk7dmFyIHQ9dGhpcy5lbGVtZW50cygpLnJlbW92ZURhdGEoInByZXZpb3VzVmFsdWUiKS5yZW1vdmVBdHRyKCJhcmlhLWludmFsaWQiKTt0aGlzLnJlc2V0RWxlbWVudHModCl9LHJlc2V0RWxlbWVudHM6ZnVuY3Rpb24obil7dmFyIHQ7aWYodGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodClmb3IodD0wO25bdF07dCsrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLG5bdF0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLCIiKSx0aGlzLmZpbmRCeU5hbWUoblt0XS5uYW1lKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpO2Vsc2Ugbi5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyl9LG51bWJlck9mSW52YWxpZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmplY3RMZW5ndGgodGhpcy5pbnZhbGlkKX0sb2JqZWN0TGVuZ3RoOmZ1bmN0aW9uKG4pe3ZhciB0LGk9MDtmb3IodCBpbiBuKXZvaWQgMCE9PW5bdF0mJm51bGwhPT1uW3RdJiZuW3RdIT09ITEmJmkrKztyZXR1cm4gaX0saGlkZUVycm9yczpmdW5jdGlvbigpe3RoaXMuaGlkZVRoZXNlKHRoaXMudG9IaWRlKX0saGlkZVRoZXNlOmZ1bmN0aW9uKG4pe24ubm90KHRoaXMuY29udGFpbmVycykudGV4dCgiIik7dGhpcy5hZGRXcmFwcGVyKG4pLmhpZGUoKX0sdmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc2l6ZSgpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3JMaXN0Lmxlbmd0aH0sZm9jdXNJbnZhbGlkOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5mb2N1c0ludmFsaWQpdHJ5e24odGhpcy5maW5kTGFzdEFjdGl2ZSgpfHx0aGlzLmVycm9yTGlzdC5sZW5ndGgmJnRoaXMuZXJyb3JMaXN0WzBdLmVsZW1lbnR8fFtdKS5maWx0ZXIoIjp2aXNpYmxlIikudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKCJmb2N1c2luIil9Y2F0Y2godCl7fX0sZmluZExhc3RBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxhc3RBY3RpdmU7cmV0dXJuIHQmJjE9PT1uLmdyZXAodGhpcy5lcnJvckxpc3QsZnVuY3Rpb24obil7cmV0dXJuIG4uZWxlbWVudC5uYW1lPT09dC5uYW1lfSkubGVuZ3RoJiZ0fSxlbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT17fTtyZXR1cm4gbih0aGlzLmN1cnJlbnRGb3JtKS5maW5kKCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgW2NvbnRlbnRlZGl0YWJsZV0iKS5ub3QoIjpzdWJtaXQsIDpyZXNldCwgOmltYWdlLCA6ZGlzYWJsZWQiKS5ub3QodGhpcy5zZXR0aW5ncy5pZ25vcmUpLmZpbHRlcihmdW5jdGlvbigpe3ZhciByPXRoaXMubmFtZXx8bih0aGlzKS5hdHRyKCJuYW1lIiksdT0idW5kZWZpbmVkIiE9dHlwZW9mIG4odGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT1uKHRoaXMpLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO3JldHVybiFyJiZ0LnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5lcnJvcigiJW8gaGFzIG5vIG5hbWUgYXNzaWduZWQiLHRoaXMpLHUmJih0aGlzLmZvcm09bih0aGlzKS5jbG9zZXN0KCJmb3JtIilbMF0sdGhpcy5uYW1lPXIpLHRoaXMuZm9ybT09PXQuY3VycmVudEZvcm0mJiEociBpbiBpfHwhdC5vYmplY3RMZW5ndGgobih0aGlzKS5ydWxlcygpKSkmJihpW3JdPSEwLCEwKX0pfSxjbGVhbjpmdW5jdGlvbih0KXtyZXR1cm4gbih0KVswXX0sZXJyb3JzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLnNwbGl0KCIgIikuam9pbigiLiIpO3JldHVybiBuKHRoaXMuc2V0dGluZ3MuZXJyb3JFbGVtZW50KyIuIit0LHRoaXMuZXJyb3JDb250ZXh0KX0scmVzZXRJbnRlcm5hbHM6ZnVuY3Rpb24oKXt0aGlzLnN1Y2Nlc3NMaXN0PVtdO3RoaXMuZXJyb3JMaXN0PVtdO3RoaXMuZXJyb3JNYXA9e307dGhpcy50b1Nob3c9bihbXSk7dGhpcy50b0hpZGU9bihbXSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZXNldEludGVybmFscygpO3RoaXMuY3VycmVudEVsZW1lbnRzPW4oW10pfSxwcmVwYXJlRm9ybTpmdW5jdGlvbigpe3RoaXMucmVzZXQoKTt0aGlzLnRvSGlkZT10aGlzLmVycm9ycygpLmFkZCh0aGlzLmNvbnRhaW5lcnMpfSxwcmVwYXJlRWxlbWVudDpmdW5jdGlvbihuKXt0aGlzLnJlc2V0KCk7dGhpcy50b0hpZGU9dGhpcy5lcnJvcnNGb3Iobil9LGVsZW1lbnRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgaSxyLHU9bih0KSxmPXQudHlwZSxlPSJ1bmRlZmluZWQiIT10eXBlb2YgdS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PXUuYXR0cigiY29udGVudGVkaXRhYmxlIik7cmV0dXJuInJhZGlvIj09PWZ8fCJjaGVja2JveCI9PT1mP3RoaXMuZmluZEJ5TmFtZSh0Lm5hbWUpLmZpbHRlcigiOmNoZWNrZWQiKS52YWwoKToibnVtYmVyIj09PWYmJiJ1bmRlZmluZWQiIT10eXBlb2YgdC52YWxpZGl0eT90LnZhbGlkaXR5LmJhZElucHV0PyJOYU4iOnUudmFsKCk6KGk9ZT91LnRleHQoKTp1LnZhbCgpLCJmaWxlIj09PWY/IkM6XFxmYWtlcGF0aFxcIj09PWkuc3Vic3RyKDAsMTIpP2kuc3Vic3RyKDEyKToocj1pLmxhc3RJbmRleE9mKCIvIikscj49MD9pLnN1YnN0cihyKzEpOihyPWkubGFzdEluZGV4T2YoIlxcIikscj49MD9pLnN1YnN0cihyKzEpOmkpKToic3RyaW5nIj09dHlwZW9mIGk/aS5yZXBsYWNlKC9cci9nLCIiKTppKX0sY2hlY2s6ZnVuY3Rpb24odCl7dD10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IodGhpcy5jbGVhbih0KSk7dmFyIHUsZixyLGUsaT1uKHQpLnJ1bGVzKCksYz1uLm1hcChpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHR9KS5sZW5ndGgscz0hMSxoPXRoaXMuZWxlbWVudFZhbHVlKHQpOyJmdW5jdGlvbiI9PXR5cGVvZiBpLm5vcm1hbGl6ZXI/ZT1pLm5vcm1hbGl6ZXI6ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuc2V0dGluZ3Mubm9ybWFsaXplciYmKGU9dGhpcy5zZXR0aW5ncy5ub3JtYWxpemVyKTtlJiYoaD1lLmNhbGwodCxoKSxkZWxldGUgaS5ub3JtYWxpemVyKTtmb3IoZiBpbiBpKXtyPXttZXRob2Q6ZixwYXJhbWV0ZXJzOmlbZl19O3RyeXtpZih1PW4udmFsaWRhdG9yLm1ldGhvZHNbZl0uY2FsbCh0aGlzLGgsdCxyLnBhcmFtZXRlcnMpLCJkZXBlbmRlbmN5LW1pc21hdGNoIj09PXUmJjE9PT1jKXtzPSEwO2NvbnRpbnVlfWlmKHM9ITEsInBlbmRpbmciPT09dSlyZXR1cm4gdm9pZCh0aGlzLnRvSGlkZT10aGlzLnRvSGlkZS5ub3QodGhpcy5lcnJvcnNGb3IodCkpKTtpZighdSlyZXR1cm4gdGhpcy5mb3JtYXRBbmRBZGQodCxyKSwhMX1jYXRjaChvKXt0aHJvdyB0aGlzLnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coIkV4Y2VwdGlvbiBvY2N1cnJlZCB3aGVuIGNoZWNraW5nIGVsZW1lbnQgIit0LmlkKyIsIGNoZWNrIHRoZSAnIityLm1ldGhvZCsiJyBtZXRob2QuIixvKSxvIGluc3RhbmNlb2YgVHlwZUVycm9yJiYoby5tZXNzYWdlKz0iLiAgRXhjZXB0aW9uIG9jY3VycmVkIHdoZW4gY2hlY2tpbmcgZWxlbWVudCAiK3QuaWQrIiwgY2hlY2sgdGhlICciK3IubWV0aG9kKyInIG1ldGhvZC4iKSxvO319aWYoIXMpcmV0dXJuIHRoaXMub2JqZWN0TGVuZ3RoKGkpJiZ0aGlzLnN1Y2Nlc3NMaXN0LnB1c2godCksITB9LGN1c3RvbURhdGFNZXNzYWdlOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4odCkuZGF0YSgibXNnIitpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2kuc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkpfHxuKHQpLmRhdGEoIm1zZyIpfSxjdXN0b21NZXNzYWdlOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tuXTtyZXR1cm4gaSYmKGkuY29uc3RydWN0b3I9PT1TdHJpbmc/aTppW3RdKX0sZmluZERlZmluZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWlmKHZvaWQgMCE9PWFyZ3VtZW50c1tuXSlyZXR1cm4gYXJndW1lbnRzW25dfSxkZWZhdWx0TWVzc2FnZTpmdW5jdGlvbih0LGkpeyJzdHJpbmciPT10eXBlb2YgaSYmKGk9e21ldGhvZDppfSk7dmFyIHI9dGhpcy5maW5kRGVmaW5lZCh0aGlzLmN1c3RvbU1lc3NhZ2UodC5uYW1lLGkubWV0aG9kKSx0aGlzLmN1c3RvbURhdGFNZXNzYWdlKHQsaS5tZXRob2QpLCF0aGlzLnNldHRpbmdzLmlnbm9yZVRpdGxlJiZ0LnRpdGxlfHx2b2lkIDAsbi52YWxpZGF0b3IubWVzc2FnZXNbaS5tZXRob2RdLCI8c3Ryb25nPldhcm5pbmc6IE5vIG1lc3NhZ2UgZGVmaW5lZCBmb3IgIit0Lm5hbWUrIjxcL3N0cm9uZz4iKSx1PS9cJD9ceyhcZCspXH0vZztyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygcj9yPXIuY2FsbCh0aGlzLGkucGFyYW1ldGVycyx0KTp1LnRlc3QocikmJihyPW4udmFsaWRhdG9yLmZvcm1hdChyLnJlcGxhY2UodSwieyQxfSIpLGkucGFyYW1ldGVycykpLHJ9LGZvcm1hdEFuZEFkZDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuZGVmYXVsdE1lc3NhZ2Uobix0KTt0aGlzLmVycm9yTGlzdC5wdXNoKHttZXNzYWdlOmksZWxlbWVudDpuLG1ldGhvZDp0Lm1ldGhvZH0pO3RoaXMuZXJyb3JNYXBbbi5uYW1lXT1pO3RoaXMuc3VibWl0dGVkW24ubmFtZV09aX0sYWRkV3JhcHBlcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYobj1uLmFkZChuLnBhcmVudCh0aGlzLnNldHRpbmdzLndyYXBwZXIpKSksbn0sZGVmYXVsdFNob3dFcnJvcnM6ZnVuY3Rpb24oKXtmb3IodmFyIGksdCxuPTA7dGhpcy5lcnJvckxpc3Rbbl07bisrKXQ9dGhpcy5lcnJvckxpc3Rbbl0sdGhpcy5zZXR0aW5ncy5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0LmNhbGwodGhpcyx0LmVsZW1lbnQsdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5zaG93TGFiZWwodC5lbGVtZW50LHQubWVzc2FnZSk7aWYodGhpcy5lcnJvckxpc3QubGVuZ3RoJiYodGhpcy50b1Nob3c9dGhpcy50b1Nob3cuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2V0dGluZ3Muc3VjY2Vzcylmb3Iobj0wO3RoaXMuc3VjY2Vzc0xpc3Rbbl07bisrKXRoaXMuc2hvd0xhYmVsKHRoaXMuc3VjY2Vzc0xpc3Rbbl0pO2lmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQpZm9yKG49MCxpPXRoaXMudmFsaWRFbGVtZW50cygpO2lbbl07bisrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLGlbbl0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyk7dGhpcy50b0hpZGU9dGhpcy50b0hpZGUubm90KHRoaXMudG9TaG93KTt0aGlzLmhpZGVFcnJvcnMoKTt0aGlzLmFkZFdyYXBwZXIodGhpcy50b1Nob3cpLnNob3coKX0sdmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRFbGVtZW50cy5ub3QodGhpcy5pbnZhbGlkRWxlbWVudHMoKSl9LGludmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBuKHRoaXMuZXJyb3JMaXN0KS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSl9LHNob3dMYWJlbDpmdW5jdGlvbih0LGkpe3ZhciB1LHMsZSxvLHI9dGhpcy5lcnJvcnNGb3IodCksaD10aGlzLmlkT3JOYW1lKHQpLGY9bih0KS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iik7ci5sZW5ndGg/KHIucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLHIuaHRtbChpKSk6KHI9bigiPCIrdGhpcy5zZXR0aW5ncy5lcnJvckVsZW1lbnQrIj4iKS5hdHRyKCJpZCIsaCsiLWVycm9yIikuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5odG1sKGl8fCIiKSx1PXIsdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYodT1yLmhpZGUoKS5zaG93KCkud3JhcCgiPCIrdGhpcy5zZXR0aW5ncy53cmFwcGVyKyIvPiIpLnBhcmVudCgpKSx0aGlzLmxhYmVsQ29udGFpbmVyLmxlbmd0aD90aGlzLmxhYmVsQ29udGFpbmVyLmFwcGVuZCh1KTp0aGlzLnNldHRpbmdzLmVycm9yUGxhY2VtZW50P3RoaXMuc2V0dGluZ3MuZXJyb3JQbGFjZW1lbnQuY2FsbCh0aGlzLHUsbih0KSk6dS5pbnNlcnRBZnRlcih0KSxyLmlzKCJsYWJlbCIpP3IuYXR0cigiZm9yIixoKTowPT09ci5wYXJlbnRzKCJsYWJlbFtmb3I9JyIrdGhpcy5lc2NhcGVDc3NNZXRhKGgpKyInXSIpLmxlbmd0aCYmKGU9ci5hdHRyKCJpZCIpLGY/Zi5tYXRjaChuZXcgUmVnRXhwKCJcXGIiK3RoaXMuZXNjYXBlQ3NzTWV0YShlKSsiXFxiIikpfHwoZis9IiAiK2UpOmY9ZSxuKHQpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLGYpLHM9dGhpcy5ncm91cHNbdC5uYW1lXSxzJiYobz10aGlzLG4uZWFjaChvLmdyb3VwcyxmdW5jdGlvbih0LGkpe2k9PT1zJiZuKCJbbmFtZT0nIitvLmVzY2FwZUNzc01ldGEodCkrIiddIixvLmN1cnJlbnRGb3JtKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixyLmF0dHIoImlkIikpfSkpKSk7IWkmJnRoaXMuc2V0dGluZ3Muc3VjY2VzcyYmKHIudGV4dCgiIiksInN0cmluZyI9PXR5cGVvZiB0aGlzLnNldHRpbmdzLnN1Y2Nlc3M/ci5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnN1Y2Nlc3MpOnRoaXMuc2V0dGluZ3Muc3VjY2VzcyhyLHQpKTt0aGlzLnRvU2hvdz10aGlzLnRvU2hvdy5hZGQocil9LGVycm9yc0ZvcjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLmVzY2FwZUNzc01ldGEodGhpcy5pZE9yTmFtZSh0KSksdT1uKHQpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKSxpPSJsYWJlbFtmb3I9JyIrcisiJ10sIGxhYmVsW2Zvcj0nIityKyInXSAqIjtyZXR1cm4gdSYmKGk9aSsiLCAjIit0aGlzLmVzY2FwZUNzc01ldGEodSkucmVwbGFjZSgvXHMrL2csIiwgIyIpKSx0aGlzLmVycm9ycygpLmZpbHRlcihpKX0sZXNjYXBlQ3NzTWV0YTpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC8oW1xcISIjJCUmJygpKissLlwvOjs8PT4/QFxbXF1eYHt8fX5dKS9nLCJcXCQxIil9LGlkT3JOYW1lOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmdyb3Vwc1tuLm5hbWVdfHwodGhpcy5jaGVja2FibGUobik/bi5uYW1lOm4uaWR8fG4ubmFtZSl9LHZhbGlkYXRpb25UYXJnZXRGb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2thYmxlKHQpJiYodD10aGlzLmZpbmRCeU5hbWUodC5uYW1lKSksbih0KS5ub3QodGhpcy5zZXR0aW5ncy5pZ25vcmUpWzBdfSxjaGVja2FibGU6ZnVuY3Rpb24obil7cmV0dXJuL3JhZGlvfGNoZWNrYm94L2kudGVzdChuLnR5cGUpfSxmaW5kQnlOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMuY3VycmVudEZvcm0pLmZpbmQoIltuYW1lPSciK3RoaXMuZXNjYXBlQ3NzTWV0YSh0KSsiJ10iKX0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKHQsaSl7c3dpdGNoKGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZSJzZWxlY3QiOnJldHVybiBuKCJvcHRpb246c2VsZWN0ZWQiLGkpLmxlbmd0aDtjYXNlImlucHV0IjppZih0aGlzLmNoZWNrYWJsZShpKSlyZXR1cm4gdGhpcy5maW5kQnlOYW1lKGkubmFtZSkuZmlsdGVyKCI6Y2hlY2tlZCIpLmxlbmd0aH1yZXR1cm4gdC5sZW5ndGh9LGRlcGVuZDpmdW5jdGlvbihuLHQpe3JldHVybiF0aGlzLmRlcGVuZFR5cGVzW3R5cGVvZiBuXXx8dGhpcy5kZXBlbmRUeXBlc1t0eXBlb2Ygbl0obix0KX0sZGVwZW5kVHlwZXM6e2Jvb2xlYW46ZnVuY3Rpb24obil7cmV0dXJuIG59LHN0cmluZzpmdW5jdGlvbih0LGkpe3JldHVybiEhbih0LGkuZm9ybSkubGVuZ3RofSwiZnVuY3Rpb24iOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4odCl9fSxvcHRpb25hbDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmVsZW1lbnRWYWx1ZSh0KTtyZXR1cm4hbi52YWxpZGF0b3IubWV0aG9kcy5yZXF1aXJlZC5jYWxsKHRoaXMsaSx0KSYmImRlcGVuZGVuY3ktbWlzbWF0Y2gifSxzdGFydFJlcXVlc3Q6ZnVuY3Rpb24odCl7dGhpcy5wZW5kaW5nW3QubmFtZV18fCh0aGlzLnBlbmRpbmdSZXF1ZXN0Kyssbih0KS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnBlbmRpbmdDbGFzcyksdGhpcy5wZW5kaW5nW3QubmFtZV09ITApfSxzdG9wUmVxdWVzdDpmdW5jdGlvbih0LGkpe3RoaXMucGVuZGluZ1JlcXVlc3QtLTt0aGlzLnBlbmRpbmdSZXF1ZXN0PDAmJih0aGlzLnBlbmRpbmdSZXF1ZXN0PTApO2RlbGV0ZSB0aGlzLnBlbmRpbmdbdC5uYW1lXTtuKHQpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MucGVuZGluZ0NsYXNzKTtpJiYwPT09dGhpcy5wZW5kaW5nUmVxdWVzdCYmdGhpcy5mb3JtU3VibWl0dGVkJiZ0aGlzLmZvcm0oKT8obih0aGlzLmN1cnJlbnRGb3JtKS5zdWJtaXQoKSx0aGlzLnN1Ym1pdEJ1dHRvbiYmbigiaW5wdXQ6aGlkZGVuW25hbWU9JyIrdGhpcy5zdWJtaXRCdXR0b24ubmFtZSsiJ10iLHRoaXMuY3VycmVudEZvcm0pLnJlbW92ZSgpLHRoaXMuZm9ybVN1Ym1pdHRlZD0hMSk6IWkmJjA9PT10aGlzLnBlbmRpbmdSZXF1ZXN0JiZ0aGlzLmZvcm1TdWJtaXR0ZWQmJihuKHRoaXMuY3VycmVudEZvcm0pLnRyaWdnZXJIYW5kbGVyKCJpbnZhbGlkLWZvcm0iLFt0aGlzXSksdGhpcy5mb3JtU3VibWl0dGVkPSExKX0scHJldmlvdXNWYWx1ZTpmdW5jdGlvbih0LGkpe3JldHVybiBpPSJzdHJpbmciPT10eXBlb2YgaSYmaXx8InJlbW90ZSIsbi5kYXRhKHQsInByZXZpb3VzVmFsdWUiKXx8bi5kYXRhKHQsInByZXZpb3VzVmFsdWUiLHtvbGQ6bnVsbCx2YWxpZDohMCxtZXNzYWdlOnRoaXMuZGVmYXVsdE1lc3NhZ2UodCx7bWV0aG9kOml9KX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yZXNldEZvcm0oKTtuKHRoaXMuY3VycmVudEZvcm0pLm9mZigiLnZhbGlkYXRlIikucmVtb3ZlRGF0YSgidmFsaWRhdG9yIikuZmluZCgiLnZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLm9mZigiLnZhbGlkYXRlLWVxdWFsVG8iKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtZXF1YWxUby1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWxlc3NUaGFuLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1sZXNzVGhhbiIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0ZS1sZXNzVGhhbi1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWxlc3NUaGFuRXF1YWwtYmx1ciIpLm9mZigiLnZhbGlkYXRlLWxlc3NUaGFuRXF1YWwiKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtbGVzc1RoYW5FcXVhbC1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwtYmx1ciIpLm9mZigiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwiKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtZ3JlYXRlclRoYW5FcXVhbC1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbiIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0ZS1ncmVhdGVyVGhhbi1ibHVyIil9fSxjbGFzc1J1bGVTZXR0aW5nczp7cmVxdWlyZWQ6e3JlcXVpcmVkOiEwfSxlbWFpbDp7ZW1haWw6ITB9LHVybDp7dXJsOiEwfSxkYXRlOntkYXRlOiEwfSxkYXRlSVNPOntkYXRlSVNPOiEwfSxudW1iZXI6e251bWJlcjohMH0sZGlnaXRzOntkaWdpdHM6ITB9LGNyZWRpdGNhcmQ6e2NyZWRpdGNhcmQ6ITB9fSxhZGRDbGFzc1J1bGVzOmZ1bmN0aW9uKHQsaSl7dC5jb25zdHJ1Y3Rvcj09PVN0cmluZz90aGlzLmNsYXNzUnVsZVNldHRpbmdzW3RdPWk6bi5leHRlbmQodGhpcy5jbGFzc1J1bGVTZXR0aW5ncyx0KX0sY2xhc3NSdWxlczpmdW5jdGlvbih0KXt2YXIgaT17fSxyPW4odCkuYXR0cigiY2xhc3MiKTtyZXR1cm4gciYmbi5lYWNoKHIuc3BsaXQoIiAiKSxmdW5jdGlvbigpe3RoaXMgaW4gbi52YWxpZGF0b3IuY2xhc3NSdWxlU2V0dGluZ3MmJm4uZXh0ZW5kKGksbi52YWxpZGF0b3IuY2xhc3NSdWxlU2V0dGluZ3NbdGhpc10pfSksaX0sbm9ybWFsaXplQXR0cmlidXRlUnVsZTpmdW5jdGlvbihuLHQsaSxyKXsvbWlufG1heHxzdGVwLy50ZXN0KGkpJiYobnVsbD09PXR8fC9udW1iZXJ8cmFuZ2V8dGV4dC8udGVzdCh0KSkmJihyPU51bWJlcihyKSxpc05hTihyKSYmKHI9dm9pZCAwKSk7cnx8MD09PXI/bltpXT1yOnQ9PT1pJiYicmFuZ2UiIT09dCYmKG5baV09ITApfSxhdHRyaWJ1dGVSdWxlczpmdW5jdGlvbih0KXt2YXIgcixpLHU9e30sZj1uKHQpLGU9dC5nZXRBdHRyaWJ1dGUoInR5cGUiKTtmb3IociBpbiBuLnZhbGlkYXRvci5tZXRob2RzKSJyZXF1aXJlZCI9PT1yPyhpPXQuZ2V0QXR0cmlidXRlKHIpLCIiPT09aSYmKGk9ITApLGk9ISFpKTppPWYuYXR0cihyKSx0aGlzLm5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGUodSxlLHIsaSk7cmV0dXJuIHUubWF4bGVuZ3RoJiYvLTF8MjE0NzQ4MzY0N3w1MjQyODgvLnRlc3QodS5tYXhsZW5ndGgpJiZkZWxldGUgdS5tYXhsZW5ndGgsdX0sZGF0YVJ1bGVzOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT17fSxmPW4odCksZT10LmdldEF0dHJpYnV0ZSgidHlwZSIpO2ZvcihpIGluIG4udmFsaWRhdG9yLm1ldGhvZHMpcj1mLmRhdGEoInJ1bGUiK2kuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraS5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKSksIiI9PT1yJiYocj0hMCksdGhpcy5ub3JtYWxpemVBdHRyaWJ1dGVSdWxlKHUsZSxpLHIpO3JldHVybiB1fSxzdGF0aWNSdWxlczpmdW5jdGlvbih0KXt2YXIgaT17fSxyPW4uZGF0YSh0LmZvcm0sInZhbGlkYXRvciIpO3JldHVybiByLnNldHRpbmdzLnJ1bGVzJiYoaT1uLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKHIuc2V0dGluZ3MucnVsZXNbdC5uYW1lXSl8fHt9KSxpfSxub3JtYWxpemVSdWxlczpmdW5jdGlvbih0LGkpe3JldHVybiBuLmVhY2godCxmdW5jdGlvbihyLHUpe2lmKHU9PT0hMSlyZXR1cm4gdm9pZCBkZWxldGUgdFtyXTtpZih1LnBhcmFtfHx1LmRlcGVuZHMpe3ZhciBmPSEwO3N3aXRjaCh0eXBlb2YgdS5kZXBlbmRzKXtjYXNlInN0cmluZyI6Zj0hIW4odS5kZXBlbmRzLGkuZm9ybSkubGVuZ3RoO2JyZWFrO2Nhc2UiZnVuY3Rpb24iOmY9dS5kZXBlbmRzLmNhbGwoaSxpKX1mP3Rbcl09dm9pZCAwPT09dS5wYXJhbXx8dS5wYXJhbToobi5kYXRhKGkuZm9ybSwidmFsaWRhdG9yIikucmVzZXRFbGVtZW50cyhuKGkpKSxkZWxldGUgdFtyXSl9fSksbi5lYWNoKHQsZnVuY3Rpb24obixyKXt0W25dPSJmdW5jdGlvbiI9PXR5cGVvZiByJiYibm9ybWFsaXplciIhPT1uP3IoaSk6cn0pLG4uZWFjaChbIm1pbmxlbmd0aCIsIm1heGxlbmd0aCJdLGZ1bmN0aW9uKCl7dFt0aGlzXSYmKHRbdGhpc109TnVtYmVyKHRbdGhpc10pKX0pLG4uZWFjaChbInJhbmdlbGVuZ3RoIiwicmFuZ2UiXSxmdW5jdGlvbigpe3ZhciBuO3RbdGhpc10mJihBcnJheS5pc0FycmF5KHRbdGhpc10pP3RbdGhpc109W051bWJlcih0W3RoaXNdWzBdKSxOdW1iZXIodFt0aGlzXVsxXSldOiJzdHJpbmciPT10eXBlb2YgdFt0aGlzXSYmKG49dFt0aGlzXS5yZXBsYWNlKC9bXFtcXV0vZywiIikuc3BsaXQoL1tccyxdKy8pLHRbdGhpc109W051bWJlcihuWzBdKSxOdW1iZXIoblsxXSldKSl9KSxuLnZhbGlkYXRvci5hdXRvQ3JlYXRlUmFuZ2VzJiYobnVsbCE9dC5taW4mJm51bGwhPXQubWF4JiYodC5yYW5nZT1bdC5taW4sdC5tYXhdLGRlbGV0ZSB0Lm1pbixkZWxldGUgdC5tYXgpLG51bGwhPXQubWlubGVuZ3RoJiZudWxsIT10Lm1heGxlbmd0aCYmKHQucmFuZ2VsZW5ndGg9W3QubWlubGVuZ3RoLHQubWF4bGVuZ3RoXSxkZWxldGUgdC5taW5sZW5ndGgsZGVsZXRlIHQubWF4bGVuZ3RoKSksdH0sbm9ybWFsaXplUnVsZTpmdW5jdGlvbih0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBpPXt9O24uZWFjaCh0LnNwbGl0KC9ccy8pLGZ1bmN0aW9uKCl7aVt0aGlzXT0hMH0pO3Q9aX1yZXR1cm4gdH0sYWRkTWV0aG9kOmZ1bmN0aW9uKHQsaSxyKXtuLnZhbGlkYXRvci5tZXRob2RzW3RdPWk7bi52YWxpZGF0b3IubWVzc2FnZXNbdF09dm9pZCAwIT09cj9yOm4udmFsaWRhdG9yLm1lc3NhZ2VzW3RdO2kubGVuZ3RoPDMmJm4udmFsaWRhdG9yLmFkZENsYXNzUnVsZXModCxuLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKHQpKX0sbWV0aG9kczp7cmVxdWlyZWQ6ZnVuY3Rpb24odCxpLHIpe2lmKCF0aGlzLmRlcGVuZChyLGkpKXJldHVybiJkZXBlbmRlbmN5LW1pc21hdGNoIjtpZigic2VsZWN0Ij09PWkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIHU9bihpKS52YWwoKTtyZXR1cm4gdSYmdS5sZW5ndGg+MH1yZXR1cm4gdGhpcy5jaGVja2FibGUoaSk/dGhpcy5nZXRMZW5ndGgodCxpKT4wOnZvaWQgMCE9PXQmJm51bGwhPT10JiZ0Lmxlbmd0aD4wfSxlbWFpbDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXlthLXpBLVowLTkuISMkJSYnKitcLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC8udGVzdChuKX0sdXJsOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eKD86KD86KD86aHR0cHM/fGZ0cCk6KT9cL1wvKSg/OlxTKyg/OjpcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcLlxkezEsM30pezN9KSg/ISg/OjE2OVwuMjU0fDE5MlwuMTY4KSg/OlwuXGR7MSwzfSl7Mn0pKD8hMTcyXC4oPzoxWzYtOV18MlxkfDNbMC0xXSkoPzpcLlxkezEsM30pezJ9KSg/OlsxLTldXGQ/fDFcZFxkfDJbMDFdXGR8MjJbMC0zXSkoPzpcLig/OjE/XGR7MSwyfXwyWzAtNF1cZHwyNVswLTVdKSl7Mn0oPzpcLig/OlsxLTldXGQ/fDFcZFxkfDJbMC00XVxkfDI1WzAtNF0pKXwoPzooPzpbYS16MC05XHUwMGExLVx1ZmZmZl1bYS16MC05XHUwMGExLVx1ZmZmZl8tXXswLDYyfSk/W2EtejAtOVx1MDBhMS1cdWZmZmZdXC4pKyg/OlthLXpcdTAwYTEtXHVmZmZmXXsyLH1cLj8pKSg/OjpcZHsyLDV9KT8oPzpbXC8/I11cUyopPyQvaS50ZXN0KG4pfSxkYXRlOmZ1bmN0aW9uKCl7dmFyIG49ITE7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7cmV0dXJuIG58fChuPSEwLHRoaXMuc2V0dGluZ3MuZGVidWcmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4oIlRoZSBgZGF0ZWAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2ZXJzaW9uICcyLjAuMCcuXG5QbGVhc2UgZG9uJ3QgdXNlIGl0LCBzaW5jZSBpdCByZWxpZXMgb24gdGhlIERhdGUgY29uc3RydWN0b3IsIHdoaWNoXG5iZWhhdmVzIHZlcnkgZGlmZmVyZW50bHkgYWNyb3NzIGJyb3dzZXJzIGFuZCBsb2NhbGVzLiBVc2UgYGRhdGVJU09gXG5pbnN0ZWFkIG9yIG9uZSBvZiB0aGUgbG9jYWxlIHNwZWNpZmljIG1ldGhvZHMgaW4gYGxvY2FsaXphdGlvbnMvYFxuYW5kIGBhZGRpdGlvbmFsLW1ldGhvZHMuanNgLiIpKSx0aGlzLm9wdGlvbmFsKGkpfHwhL0ludmFsaWR8TmFOLy50ZXN0KG5ldyBEYXRlKHQpLnRvU3RyaW5nKCkpfX0oKSxkYXRlSVNPOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eXGR7NH1bXC9cLV0oMD9bMS05XXwxWzAxMl0pW1wvXC1dKDA/WzEtOV18WzEyXVswLTldfDNbMDFdKSQvLnRlc3Qobil9LG51bWJlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXig/Oi0/XGQrfC0/XGR7MSwzfSg/OixcZHszfSkrKT8oPzpcLlxkKyk/JC8udGVzdChuKX0sZGlnaXRzOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eXGQrJC8udGVzdChuKX0sbWlubGVuZ3RoOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1BcnJheS5pc0FycmF5KG4pP24ubGVuZ3RoOnRoaXMuZ2V0TGVuZ3RoKG4sdCk7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fHI+PWl9LG1heGxlbmd0aDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uLmxlbmd0aDp0aGlzLmdldExlbmd0aChuLHQpO3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxyPD1pfSxyYW5nZWxlbmd0aDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uLmxlbmd0aDp0aGlzLmdldExlbmd0aChuLHQpO3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxyPj1pWzBdJiZyPD1pWzFdfSxtaW46ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxuPj1pfSxtYXg6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxuPD1pfSxyYW5nZTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fG4+PWlbMF0mJm48PWlbMV19LHN0ZXA6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGY9bihpKS5hdHRyKCJ0eXBlIiksaD0iU3RlcCBhdHRyaWJ1dGUgb24gaW5wdXQgdHlwZSAiK2YrIiBpcyBub3Qgc3VwcG9ydGVkLiIsYz1uZXcgUmVnRXhwKCJcXGIiK2YrIlxcYiIpLGw9ZiYmIWMudGVzdCgidGV4dCxudW1iZXIscmFuZ2UiKSxlPWZ1bmN0aW9uKG4pe3ZhciB0PSgiIituKS5tYXRjaCgvKD86XC4oXGQrKSk/JC8pO3JldHVybiB0JiZ0WzFdP3RbMV0ubGVuZ3RoOjB9LG89ZnVuY3Rpb24obil7cmV0dXJuIE1hdGgucm91bmQobipNYXRoLnBvdygxMCx1KSl9LHM9ITA7aWYobCl0aHJvdyBuZXcgRXJyb3IoaCk7cmV0dXJuIHU9ZShyKSwoZSh0KT51fHxvKHQpJW8ocikhPTApJiYocz0hMSksdGhpcy5vcHRpb25hbChpKXx8c30sZXF1YWxUbzpmdW5jdGlvbih0LGkscil7dmFyIHU9bihyKTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5vbmZvY3Vzb3V0JiZ1Lm5vdCgiLnZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLmxlbmd0aCYmdS5hZGRDbGFzcygidmFsaWRhdGUtZXF1YWxUby1ibHVyIikub24oImJsdXIudmFsaWRhdGUtZXF1YWxUbyIsZnVuY3Rpb24oKXtuKGkpLnZhbGlkKCl9KSx0PT09dS52YWwoKX0scmVtb3RlOmZ1bmN0aW9uKHQsaSxyLHUpe2lmKHRoaXMub3B0aW9uYWwoaSkpcmV0dXJuImRlcGVuZGVuY3ktbWlzbWF0Y2giO3U9InN0cmluZyI9PXR5cGVvZiB1JiZ1fHwicmVtb3RlIjt2YXIgZixvLHMsZT10aGlzLnByZXZpb3VzVmFsdWUoaSx1KTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdfHwodGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdPXt9KSxlLm9yaWdpbmFsTWVzc2FnZT1lLm9yaWdpbmFsTWVzc2FnZXx8dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdW3VdLHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbaS5uYW1lXVt1XT1lLm1lc3NhZ2Uscj0ic3RyaW5nIj09dHlwZW9mIHImJnt1cmw6cn18fHIscz1uLnBhcmFtKG4uZXh0ZW5kKHtkYXRhOnR9LHIuZGF0YSkpLGUub2xkPT09cz9lLnZhbGlkOihlLm9sZD1zLGY9dGhpcyx0aGlzLnN0YXJ0UmVxdWVzdChpKSxvPXt9LG9baS5uYW1lXT10LG4uYWpheChuLmV4dGVuZCghMCx7bW9kZToiYWJvcnQiLHBvcnQ6InZhbGlkYXRlIitpLm5hbWUsZGF0YVR5cGU6Impzb24iLGRhdGE6byxjb250ZXh0OmYuY3VycmVudEZvcm0sc3VjY2VzczpmdW5jdGlvbihuKXt2YXIgcixzLGgsbz1uPT09ITB8fCJ0cnVlIj09PW47Zi5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdW3VdPWUub3JpZ2luYWxNZXNzYWdlO28/KGg9Zi5mb3JtU3VibWl0dGVkLGYucmVzZXRJbnRlcm5hbHMoKSxmLnRvSGlkZT1mLmVycm9yc0ZvcihpKSxmLmZvcm1TdWJtaXR0ZWQ9aCxmLnN1Y2Nlc3NMaXN0LnB1c2goaSksZi5pbnZhbGlkW2kubmFtZV09ITEsZi5zaG93RXJyb3JzKCkpOihyPXt9LHM9bnx8Zi5kZWZhdWx0TWVzc2FnZShpLHttZXRob2Q6dSxwYXJhbWV0ZXJzOnR9KSxyW2kubmFtZV09ZS5tZXNzYWdlPXMsZi5pbnZhbGlkW2kubmFtZV09ITAsZi5zaG93RXJyb3JzKHIpKTtlLnZhbGlkPW87Zi5zdG9wUmVxdWVzdChpLG8pfX0scikpLCJwZW5kaW5nIil9fX0pLHQ9e30sbi5hamF4UHJlZmlsdGVyP24uYWpheFByZWZpbHRlcihmdW5jdGlvbihuLGkscil7dmFyIHU9bi5wb3J0OyJhYm9ydCI9PT1uLm1vZGUmJih0W3VdJiZ0W3VdLmFib3J0KCksdFt1XT1yKX0pOihyPW4uYWpheCxuLmFqYXg9ZnVuY3Rpb24oaSl7dmFyIGY9KCJtb2RlImluIGk/aTpuLmFqYXhTZXR0aW5ncykubW9kZSx1PSgicG9ydCJpbiBpP2k6bi5hamF4U2V0dGluZ3MpLnBvcnQ7cmV0dXJuImFib3J0Ij09PWY/KHRbdV0mJnRbdV0uYWJvcnQoKSx0W3VdPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRbdV0pOnIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksbn0pOyFmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgianF1ZXJ5LnZhbGlkYXRlLnVub2J0cnVzaXZlIixbImpxdWVyeS12YWxpZGF0aW9uIl0sbik6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4ocmVxdWlyZSgianF1ZXJ5LXZhbGlkYXRpb24iKSk6alF1ZXJ5LnZhbGlkYXRvci51bm9idHJ1c2l2ZT1uKGpRdWVyeSl9KGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGkobix0LGkpe24ucnVsZXNbdF09aTtuLm1lc3NhZ2UmJihuLm1lc3NhZ2VzW3RdPW4ubWVzc2FnZSl9ZnVuY3Rpb24gaChuKXtyZXR1cm4gbi5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIikuc3BsaXQoL1xzKixccyovZyl9ZnVuY3Rpb24gZihuKXtyZXR1cm4gbi5yZXBsYWNlKC8oWyEiIyQlJicoKSorLC5cLzo7PD0+P0BcW1xcXF1eYHt8fX5dKS9nLCJcXCQxIil9ZnVuY3Rpb24gZShuKXtyZXR1cm4gbi5zdWJzdHIoMCxuLmxhc3RJbmRleE9mKCIuIikrMSl9ZnVuY3Rpb24gbyhuLHQpe3JldHVybiAwPT09bi5pbmRleE9mKCIqLiIpJiYobj1uLnJlcGxhY2UoIiouIix0KSksbn1mdW5jdGlvbiBjKHQsaSl7dmFyIHI9bih0aGlzKS5maW5kKCJbZGF0YS12YWxtc2ctZm9yPSciK2YoaVswXS5uYW1lKSsiJ10iKSx1PXIuYXR0cigiZGF0YS12YWxtc2ctcmVwbGFjZSIpLGU9dT9uLnBhcnNlSlNPTih1KSE9PSExOm51bGw7ci5yZW1vdmVDbGFzcygiZmllbGQtdmFsaWRhdGlvbi12YWxpZCIpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLWVycm9yIik7dC5kYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIscik7ZT8oci5lbXB0eSgpLHQucmVtb3ZlQ2xhc3MoImlucHV0LXZhbGlkYXRpb24tZXJyb3IiKS5hcHBlbmRUbyhyKSk6dC5oaWRlKCl9ZnVuY3Rpb24gbCh0LGkpe3ZhciB1PW4odGhpcykuZmluZCgiW2RhdGEtdmFsbXNnLXN1bW1hcnk9dHJ1ZV0iKSxyPXUuZmluZCgidWwiKTtyJiZyLmxlbmd0aCYmaS5lcnJvckxpc3QubGVuZ3RoJiYoci5lbXB0eSgpLHUuYWRkQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS1lcnJvcnMiKS5yZW1vdmVDbGFzcygidmFsaWRhdGlvbi1zdW1tYXJ5LXZhbGlkIiksbi5lYWNoKGkuZXJyb3JMaXN0LGZ1bmN0aW9uKCl7bigiPGxpIC8+IikuaHRtbCh0aGlzLm1lc3NhZ2UpLmFwcGVuZFRvKHIpfSkpfWZ1bmN0aW9uIGEodCl7dmFyIGk9dC5kYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpLHIsdTtpJiYocj1pLmF0dHIoImRhdGEtdmFsbXNnLXJlcGxhY2UiKSx1PXI/bi5wYXJzZUpTT04ocik6bnVsbCxpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkIikucmVtb3ZlQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKSx0LnJlbW92ZURhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIiksdSYmaS5lbXB0eSgpKX1mdW5jdGlvbiB2KCl7dmFyIHQ9bih0aGlzKSxpPSJfX2pxdWVyeV91bm9idHJ1c2l2ZV92YWxpZGF0aW9uX2Zvcm1fcmVzZXQiO2lmKCF0LmRhdGEoaSkpe3QuZGF0YShpLCEwKTt0cnl7dC5kYXRhKCJ2YWxpZGF0b3IiKS5yZXNldEZvcm0oKX1maW5hbGx5e3QucmVtb3ZlRGF0YShpKX10LmZpbmQoIi52YWxpZGF0aW9uLXN1bW1hcnktZXJyb3JzIikuYWRkQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS12YWxpZCIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0aW9uLXN1bW1hcnktZXJyb3JzIik7dC5maW5kKCIuZmllbGQtdmFsaWRhdGlvbi1lcnJvciIpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkIikucmVtb3ZlQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKS5yZW1vdmVEYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpLmZpbmQoIj4qIikucmVtb3ZlRGF0YSgidW5vYnRydXNpdmVDb250YWluZXIiKX19ZnVuY3Rpb24gcyh0KXt2YXIgaT1uKHQpLGY9aS5kYXRhKHUpLHM9bi5wcm94eSh2LHQpLGU9ci51bm9idHJ1c2l2ZS5vcHRpb25zfHx7fSxvPWZ1bmN0aW9uKGkscil7dmFyIHU9ZVtpXTt1JiZuLmlzRnVuY3Rpb24odSkmJnUuYXBwbHkodCxyKX07cmV0dXJuIGZ8fChmPXtvcHRpb25zOntlcnJvckNsYXNzOmUuZXJyb3JDbGFzc3x8ImlucHV0LXZhbGlkYXRpb24tZXJyb3IiLGVycm9yRWxlbWVudDplLmVycm9yRWxlbWVudHx8InNwYW4iLGVycm9yUGxhY2VtZW50OmZ1bmN0aW9uKCl7Yy5hcHBseSh0LGFyZ3VtZW50cyk7bygiZXJyb3JQbGFjZW1lbnQiLGFyZ3VtZW50cyl9LGludmFsaWRIYW5kbGVyOmZ1bmN0aW9uKCl7bC5hcHBseSh0LGFyZ3VtZW50cyk7bygiaW52YWxpZEhhbmRsZXIiLGFyZ3VtZW50cyl9LG1lc3NhZ2VzOnt9LHJ1bGVzOnt9LHN1Y2Nlc3M6ZnVuY3Rpb24oKXthLmFwcGx5KHQsYXJndW1lbnRzKTtvKCJzdWNjZXNzIixhcmd1bWVudHMpfX0sYXR0YWNoVmFsaWRhdGlvbjpmdW5jdGlvbigpe2kub2ZmKCJyZXNldC4iK3Uscykub24oInJlc2V0LiIrdSxzKS52YWxpZGF0ZSh0aGlzLm9wdGlvbnMpfSx2YWxpZGF0ZTpmdW5jdGlvbigpe3JldHVybiBpLnZhbGlkYXRlKCksaS52YWxpZCgpfX0saS5kYXRhKHUsZikpLGZ9dmFyIHQscj1uLnZhbGlkYXRvcix1PSJ1bm9idHJ1c2l2ZVZhbGlkYXRpb24iO3JldHVybiByLnVub2J0cnVzaXZlPXthZGFwdGVyczpbXSxwYXJzZUVsZW1lbnQ6ZnVuY3Rpb24odCxpKXt2YXIgcix1LG8sZj1uKHQpLGU9Zi5wYXJlbnRzKCJmb3JtIilbMF07ZSYmKHI9cyhlKSxyLm9wdGlvbnMucnVsZXNbdC5uYW1lXT11PXt9LHIub3B0aW9ucy5tZXNzYWdlc1t0Lm5hbWVdPW89e30sbi5lYWNoKHRoaXMuYWRhcHRlcnMsZnVuY3Rpb24oKXt2YXIgaT0iZGF0YS12YWwtIit0aGlzLm5hbWUscj1mLmF0dHIoaSkscz17fTt2b2lkIDAhPT1yJiYoaSs9Ii0iLG4uZWFjaCh0aGlzLnBhcmFtcyxmdW5jdGlvbigpe3NbdGhpc109Zi5hdHRyKGkrdGhpcyl9KSx0aGlzLmFkYXB0KHtlbGVtZW50OnQsZm9ybTplLG1lc3NhZ2U6cixwYXJhbXM6cyxydWxlczp1LG1lc3NhZ2VzOm99KSl9KSxuLmV4dGVuZCh1LHtfX2R1bW15X186ITB9KSxpfHxyLmF0dGFjaFZhbGlkYXRpb24oKSl9LHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciBpPW4odCksdT1pLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKCJmb3JtIikuYWRkKGkuZmluZCgiZm9ybSIpKS5oYXMoIltkYXRhLXZhbD10cnVlXSIpO2kuZmluZCgiW2RhdGEtdmFsPXRydWVdIikuZWFjaChmdW5jdGlvbigpe3IudW5vYnRydXNpdmUucGFyc2VFbGVtZW50KHRoaXMsITApfSk7dS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49cyh0aGlzKTtuJiZuLmF0dGFjaFZhbGlkYXRpb24oKX0pfX0sdD1yLnVub2J0cnVzaXZlLmFkYXB0ZXJzLHQuYWRkPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gaXx8KGk9dCx0PVtdKSx0aGlzLnB1c2goe25hbWU6bixwYXJhbXM6dCxhZGFwdDppfSksdGhpc30sdC5hZGRCb29sPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuYWRkKG4sZnVuY3Rpb24ocil7aShyLHR8fG4sITApfSl9LHQuYWRkTWluTWF4PWZ1bmN0aW9uKG4sdCxyLHUsZixlKXtyZXR1cm4gdGhpcy5hZGQobixbZnx8Im1pbiIsZXx8Im1heCJdLGZ1bmN0aW9uKG4pe3ZhciBmPW4ucGFyYW1zLm1pbixlPW4ucGFyYW1zLm1heDtmJiZlP2kobix1LFtmLGVdKTpmP2kobix0LGYpOmUmJmkobixyLGUpfSl9LHQuYWRkU2luZ2xlVmFsPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gdGhpcy5hZGQobixbdHx8InZhbCJdLGZ1bmN0aW9uKHUpe2kodSxyfHxuLHUucGFyYW1zW3RdKX0pfSxyLmFkZE1ldGhvZCgiX19kdW1teV9fIixmdW5jdGlvbigpe3JldHVybiEwfSksci5hZGRNZXRob2QoInJlZ2V4IixmdW5jdGlvbihuLHQsaSl7dmFyIHI7cmV0dXJuISF0aGlzLm9wdGlvbmFsKHQpfHwocj1uZXcgUmVnRXhwKGkpLmV4ZWMobiksciYmMD09PXIuaW5kZXgmJnJbMF0ubGVuZ3RoPT09bi5sZW5ndGgpfSksci5hZGRNZXRob2QoIm5vbmFscGhhbWluIixmdW5jdGlvbihuLHQsaSl7dmFyIHI7cmV0dXJuIGkmJihyPW4ubWF0Y2goL1xXL2cpLHI9ciYmci5sZW5ndGg+PWkpLHJ9KSxyLm1ldGhvZHMuZXh0ZW5zaW9uPyh0LmFkZFNpbmdsZVZhbCgiYWNjZXB0IiwibWltdHlwZSIpLHQuYWRkU2luZ2xlVmFsKCJleHRlbnNpb24iLCJleHRlbnNpb24iKSk6dC5hZGRTaW5nbGVWYWwoImV4dGVuc2lvbiIsImV4dGVuc2lvbiIsImFjY2VwdCIpLHQuYWRkU2luZ2xlVmFsKCJyZWdleCIsInBhdHRlcm4iKSx0LmFkZEJvb2woImNyZWRpdGNhcmQiKS5hZGRCb29sKCJkYXRlIikuYWRkQm9vbCgiZGlnaXRzIikuYWRkQm9vbCgiZW1haWwiKS5hZGRCb29sKCJudW1iZXIiKS5hZGRCb29sKCJ1cmwiKSx0LmFkZE1pbk1heCgibGVuZ3RoIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwicmFuZ2VsZW5ndGgiKS5hZGRNaW5NYXgoInJhbmdlIiwibWluIiwibWF4IiwicmFuZ2UiKSx0LmFkZE1pbk1heCgibWlubGVuZ3RoIiwibWlubGVuZ3RoIikuYWRkTWluTWF4KCJtYXhsZW5ndGgiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiKSx0LmFkZCgiZXF1YWx0byIsWyJvdGhlciJdLGZ1bmN0aW9uKHQpe3ZhciByPWUodC5lbGVtZW50Lm5hbWUpLHU9dC5wYXJhbXMub3RoZXIscz1vKHUsciksaD1uKHQuZm9ybSkuZmluZCgiOmlucHV0IikuZmlsdGVyKCJbbmFtZT0nIitmKHMpKyInXSIpWzBdO2kodCwiZXF1YWxUbyIsaCl9KSx0LmFkZCgicmVxdWlyZWQiLGZ1bmN0aW9uKG4peyJJTlBVVCI9PT1uLmVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpJiYiQ0hFQ0tCT1giPT09bi5lbGVtZW50LnR5cGUudG9VcHBlckNhc2UoKXx8aShuLCJyZXF1aXJlZCIsITApfSksdC5hZGQoInJlbW90ZSIsWyJ1cmwiLCJ0eXBlIiwiYWRkaXRpb25hbGZpZWxkcyJdLGZ1bmN0aW9uKHQpe3ZhciByPXt1cmw6dC5wYXJhbXMudXJsLHR5cGU6dC5wYXJhbXMudHlwZXx8IkdFVCIsZGF0YTp7fX0sdT1lKHQuZWxlbWVudC5uYW1lKTtuLmVhY2goaCh0LnBhcmFtcy5hZGRpdGlvbmFsZmllbGRzfHx0LmVsZW1lbnQubmFtZSksZnVuY3Rpb24oaSxlKXt2YXIgcz1vKGUsdSk7ci5kYXRhW3NdPWZ1bmN0aW9uKCl7dmFyIGk9bih0LmZvcm0pLmZpbmQoIjppbnB1dCIpLmZpbHRlcigiW25hbWU9JyIrZihzKSsiJ10iKTtyZXR1cm4gaS5pcygiOmNoZWNrYm94Iik/aS5maWx0ZXIoIjpjaGVja2VkIikudmFsKCl8fGkuZmlsdGVyKCI6aGlkZGVuIikudmFsKCl8fCIiOmkuaXMoIjpyYWRpbyIpP2kuZmlsdGVyKCI6Y2hlY2tlZCIpLnZhbCgpfHwiIjppLnZhbCgpfX0pO2kodCwicmVtb3RlIixyKX0pLHQuYWRkKCJwYXNzd29yZCIsWyJtaW4iLCJub25hbHBoYW1pbiIsInJlZ2V4Il0sZnVuY3Rpb24obil7bi5wYXJhbXMubWluJiZpKG4sIm1pbmxlbmd0aCIsbi5wYXJhbXMubWluKTtuLnBhcmFtcy5ub25hbHBoYW1pbiYmaShuLCJub25hbHBoYW1pbiIsbi5wYXJhbXMubm9uYWxwaGFtaW4pO24ucGFyYW1zLnJlZ2V4JiZpKG4sInJlZ2V4IixuLnBhcmFtcy5yZWdleCl9KSx0LmFkZCgiZmlsZWV4dGVuc2lvbnMiLFsiZXh0ZW5zaW9ucyJdLGZ1bmN0aW9uKG4pe2kobiwiZXh0ZW5zaW9uIixuLnBhcmFtcy5leHRlbnNpb25zKX0pLG4oZnVuY3Rpb24oKXtyLnVub2J0cnVzaXZlLnBhcnNlKGRvY3VtZW50KX0pLHIudW5vYnRydXNpdmV9KTsKLyohIGpRdWVyeSBVSSAtIHYxLjEyLjEgLSAyMDE2LTA5LTE0CiogaHR0cDovL2pxdWVyeXVpLmNvbQoqIEluY2x1ZGVzOiB3aWRnZXQuanMsIHBvc2l0aW9uLmpzLCBkYXRhLmpzLCBkaXNhYmxlLXNlbGVjdGlvbi5qcywgZWZmZWN0LmpzLCBlZmZlY3RzL2VmZmVjdC1ibGluZC5qcywgZWZmZWN0cy9lZmZlY3QtYm91bmNlLmpzLCBlZmZlY3RzL2VmZmVjdC1jbGlwLmpzLCBlZmZlY3RzL2VmZmVjdC1kcm9wLmpzLCBlZmZlY3RzL2VmZmVjdC1leHBsb2RlLmpzLCBlZmZlY3RzL2VmZmVjdC1mYWRlLmpzLCBlZmZlY3RzL2VmZmVjdC1mb2xkLmpzLCBlZmZlY3RzL2VmZmVjdC1oaWdobGlnaHQuanMsIGVmZmVjdHMvZWZmZWN0LXB1ZmYuanMsIGVmZmVjdHMvZWZmZWN0LXB1bHNhdGUuanMsIGVmZmVjdHMvZWZmZWN0LXNjYWxlLmpzLCBlZmZlY3RzL2VmZmVjdC1zaGFrZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2l6ZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2xpZGUuanMsIGVmZmVjdHMvZWZmZWN0LXRyYW5zZmVyLmpzLCBmb2N1c2FibGUuanMsIGZvcm0tcmVzZXQtbWl4aW4uanMsIGpxdWVyeS0xLTcuanMsIGtleWNvZGUuanMsIGxhYmVscy5qcywgc2Nyb2xsLXBhcmVudC5qcywgdGFiYmFibGUuanMsIHVuaXF1ZS1pZC5qcywgd2lkZ2V0cy9hY2NvcmRpb24uanMsIHdpZGdldHMvYXV0b2NvbXBsZXRlLmpzLCB3aWRnZXRzL2J1dHRvbi5qcywgd2lkZ2V0cy9jaGVja2JveHJhZGlvLmpzLCB3aWRnZXRzL2NvbnRyb2xncm91cC5qcywgd2lkZ2V0cy9kYXRlcGlja2VyLmpzLCB3aWRnZXRzL2RpYWxvZy5qcywgd2lkZ2V0cy9kcmFnZ2FibGUuanMsIHdpZGdldHMvZHJvcHBhYmxlLmpzLCB3aWRnZXRzL21lbnUuanMsIHdpZGdldHMvbW91c2UuanMsIHdpZGdldHMvcHJvZ3Jlc3NiYXIuanMsIHdpZGdldHMvcmVzaXphYmxlLmpzLCB3aWRnZXRzL3NlbGVjdGFibGUuanMsIHdpZGdldHMvc2VsZWN0bWVudS5qcywgd2lkZ2V0cy9zbGlkZXIuanMsIHdpZGdldHMvc29ydGFibGUuanMsIHdpZGdldHMvc3Bpbm5lci5qcywgd2lkZ2V0cy90YWJzLmpzLCB3aWRnZXRzL3Rvb2x0aXAuanMKKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovCihmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLG4pOm4oalF1ZXJ5KX0pKGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGIobil7Zm9yKHZhciB0PW4uY3NzKCJ2aXNpYmlsaXR5Iik7ImluaGVyaXQiPT09dDspbj1uLnBhcmVudCgpLHQ9bi5jc3MoInZpc2liaWxpdHkiKTtyZXR1cm4iaGlkZGVuIiE9PXR9ZnVuY3Rpb24gayhuKXtmb3IodmFyIHQsaTtuLmxlbmd0aCYmblswXSE9PWRvY3VtZW50Oyl7aWYodD1uLmNzcygicG9zaXRpb24iKSwoImFic29sdXRlIj09PXR8fCJyZWxhdGl2ZSI9PT10fHwiZml4ZWQiPT09dCkmJihpPXBhcnNlSW50KG4uY3NzKCJ6SW5kZXgiKSwxMCksIWlzTmFOKGkpJiYwIT09aSkpcmV0dXJuIGk7bj1uLnBhcmVudCgpfXJldHVybiAwfWZ1bmN0aW9uIGMoKXt0aGlzLl9jdXJJbnN0PW51bGw7dGhpcy5fa2V5RXZlbnQ9ITE7dGhpcy5fZGlzYWJsZWRJbnB1dHM9W107dGhpcy5fZGF0ZXBpY2tlclNob3dpbmc9ITE7dGhpcy5faW5EaWFsb2c9ITE7dGhpcy5fbWFpbkRpdklkPSJ1aS1kYXRlcGlja2VyLWRpdiI7dGhpcy5faW5saW5lQ2xhc3M9InVpLWRhdGVwaWNrZXItaW5saW5lIjt0aGlzLl9hcHBlbmRDbGFzcz0idWktZGF0ZXBpY2tlci1hcHBlbmQiO3RoaXMuX3RyaWdnZXJDbGFzcz0idWktZGF0ZXBpY2tlci10cmlnZ2VyIjt0aGlzLl9kaWFsb2dDbGFzcz0idWktZGF0ZXBpY2tlci1kaWFsb2ciO3RoaXMuX2Rpc2FibGVDbGFzcz0idWktZGF0ZXBpY2tlci1kaXNhYmxlZCI7dGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3M9InVpLWRhdGVwaWNrZXItdW5zZWxlY3RhYmxlIjt0aGlzLl9jdXJyZW50Q2xhc3M9InVpLWRhdGVwaWNrZXItY3VycmVudC1kYXkiO3RoaXMuX2RheU92ZXJDbGFzcz0idWktZGF0ZXBpY2tlci1kYXlzLWNlbGwtb3ZlciI7dGhpcy5yZWdpb25hbD1bXTt0aGlzLnJlZ2lvbmFsWyIiXT17Y2xvc2VUZXh0OiJEb25lIixwcmV2VGV4dDoiUHJldiIsbmV4dFRleHQ6Ik5leHQiLGN1cnJlbnRUZXh0OiJUb2RheSIsbW9udGhOYW1lczpbIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIl0sbW9udGhOYW1lc1Nob3J0OlsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl0sZGF5TmFtZXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLGRheU5hbWVzU2hvcnQ6WyJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiXSxkYXlOYW1lc01pbjpbIlN1IiwiTW8iLCJUdSIsIldlIiwiVGgiLCJGciIsIlNhIl0sd2Vla0hlYWRlcjoiV2siLGRhdGVGb3JtYXQ6Im1tL2RkL3l5IixmaXJzdERheTowLGlzUlRMOiExLHNob3dNb250aEFmdGVyWWVhcjohMSx5ZWFyU3VmZml4OiIifTt0aGlzLl9kZWZhdWx0cz17c2hvd09uOiJmb2N1cyIsc2hvd0FuaW06ImZhZGVJbiIsc2hvd09wdGlvbnM6e30sZGVmYXVsdERhdGU6bnVsbCxhcHBlbmRUZXh0OiIiLGJ1dHRvblRleHQ6Ii4uLiIsYnV0dG9uSW1hZ2U6IiIsYnV0dG9uSW1hZ2VPbmx5OiExLGhpZGVJZk5vUHJldk5leHQ6ITEsbmF2aWdhdGlvbkFzRGF0ZUZvcm1hdDohMSxnb3RvQ3VycmVudDohMSxjaGFuZ2VNb250aDohMSxjaGFuZ2VZZWFyOiExLHllYXJSYW5nZToiYy0xMDpjKzEwIixzaG93T3RoZXJNb250aHM6ITEsc2VsZWN0T3RoZXJNb250aHM6ITEsc2hvd1dlZWs6ITEsY2FsY3VsYXRlV2Vlazp0aGlzLmlzbzg2MDFXZWVrLHNob3J0WWVhckN1dG9mZjoiKzEwIixtaW5EYXRlOm51bGwsbWF4RGF0ZTpudWxsLGR1cmF0aW9uOiJmYXN0IixiZWZvcmVTaG93RGF5Om51bGwsYmVmb3JlU2hvdzpudWxsLG9uU2VsZWN0Om51bGwsb25DaGFuZ2VNb250aFllYXI6bnVsbCxvbkNsb3NlOm51bGwsbnVtYmVyT2ZNb250aHM6MSxzaG93Q3VycmVudEF0UG9zOjAsc3RlcE1vbnRoczoxLHN0ZXBCaWdNb250aHM6MTIsYWx0RmllbGQ6IiIsYWx0Rm9ybWF0OiIiLGNvbnN0cmFpbklucHV0OiEwLHNob3dCdXR0b25QYW5lbDohMSxhdXRvU2l6ZTohMSxkaXNhYmxlZDohMX07bi5leHRlbmQodGhpcy5fZGVmYXVsdHMsdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMucmVnaW9uYWwuZW49bi5leHRlbmQoITAse30sdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMucmVnaW9uYWxbImVuLVVTIl09bi5leHRlbmQoITAse30sdGhpcy5yZWdpb25hbC5lbik7dGhpcy5kcERpdj1sKG4oIjxkaXYgaWQ9JyIrdGhpcy5fbWFpbkRpdklkKyInIGNsYXNzPSd1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCc+PFwvZGl2PiIpKX1mdW5jdGlvbiBsKHQpe3ZhciBpPSJidXR0b24sIC51aS1kYXRlcGlja2VyLXByZXYsIC51aS1kYXRlcGlja2VyLW5leHQsIC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIHRkIGEiO3JldHVybiB0Lm9uKCJtb3VzZW91dCIsaSxmdW5jdGlvbigpe24odGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7LTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIik7LTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIil9KS5vbigibW91c2VvdmVyIixpLGEpfWZ1bmN0aW9uIGEoKXtuLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKGkuaW5saW5lP2kuZHBEaXYucGFyZW50KClbMF06aS5pbnB1dFswXSl8fChuKHRoaXMpLnBhcmVudHMoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIikuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLG4odGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmbih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmbih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIikpfWZ1bmN0aW9uIHUodCxpKXtuLmV4dGVuZCh0LGkpO2Zvcih2YXIgciBpbiBpKW51bGw9PWlbcl0mJih0W3JdPWlbcl0pO3JldHVybiB0fWZ1bmN0aW9uIHQobil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LnZhbCgpO24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3JlZnJlc2goKTt0IT09dGhpcy5lbGVtZW50LnZhbCgpJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKX19dmFyIHYsbyxwLHcsaSxyLGU7bi51aT1uLnVpfHx7fTtuLnVpLnZlcnNpb249IjEuMTIuMSI7dj0wO289QXJyYXkucHJvdG90eXBlLnNsaWNlO24uY2xlYW5EYXRhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpKXtmb3IodmFyIHIsdSxmPTA7bnVsbCE9KHU9aVtmXSk7ZisrKXRyeXtyPW4uX2RhdGEodSwiZXZlbnRzIik7ciYmci5yZW1vdmUmJm4odSkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGUpe310KGkpfX0obi5jbGVhbkRhdGEpO24ud2lkZ2V0PWZ1bmN0aW9uKHQsaSxyKXt2YXIgZix1LG8saD17fSxlPXQuc3BsaXQoIi4iKVswXSxzO3JldHVybiB0PXQuc3BsaXQoIi4iKVsxXSxzPWUrIi0iK3Qscnx8KHI9aSxpPW4uV2lkZ2V0KSxuLmlzQXJyYXkocikmJihyPW4uZXh0ZW5kLmFwcGx5KG51bGwsW3t9XS5jb25jYXQocikpKSxuLmV4cHJbIjoiXVtzLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKHQpe3JldHVybiEhbi5kYXRhKHQscyl9LG5bZV09bltlXXx8e30sZj1uW2VdW3RdLHU9bltlXVt0XT1mdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/KGFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChuLHQpLHZvaWQgMCk6bmV3IHUobix0KX0sbi5leHRlbmQodSxmLHt2ZXJzaW9uOnIudmVyc2lvbixfcHJvdG86bi5leHRlbmQoe30sciksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksbz1uZXcgaSxvLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LG8ub3B0aW9ucyksbi5lYWNoKHIsZnVuY3Rpb24odCxyKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKHIpPyhoW3RdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3JldHVybiBpLnByb3RvdHlwZVt0XS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gaS5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxuKX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuX3N1cGVyLGY9dGhpcy5fc3VwZXJBcHBseTtyZXR1cm4gdGhpcy5fc3VwZXI9bix0aGlzLl9zdXBlckFwcGx5PXUsdD1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1pLHRoaXMuX3N1cGVyQXBwbHk9Zix0fX0oKSx2b2lkIDApOihoW3RdPXIsdm9pZCAwKX0pLHUucHJvdG90eXBlPW4ud2lkZ2V0LmV4dGVuZChvLHt3aWRnZXRFdmVudFByZWZpeDpmP28ud2lkZ2V0RXZlbnRQcmVmaXh8fHQ6dH0saCx7Y29uc3RydWN0b3I6dSxuYW1lc3BhY2U6ZSx3aWRnZXROYW1lOnQsd2lkZ2V0RnVsbE5hbWU6c30pLGY/KG4uZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbih0LGkpe3ZhciByPWkucHJvdG90eXBlO24ud2lkZ2V0KHIubmFtZXNwYWNlKyIuIityLndpZGdldE5hbWUsdSxpLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmkuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2godSksbi53aWRnZXQuYnJpZGdlKHQsdSksdX07bi53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaSxyLGY9by5jYWxsKGFyZ3VtZW50cywxKSx1PTAsZT1mLmxlbmd0aDtlPnU7dSsrKWZvcihpIGluIGZbdV0pcj1mW3VdW2ldLGZbdV0uaGFzT3duUHJvcGVydHkoaSkmJnZvaWQgMCE9PXImJih0W2ldPW4uaXNQbGFpbk9iamVjdChyKT9uLmlzUGxhaW5PYmplY3QodFtpXSk/bi53aWRnZXQuZXh0ZW5kKHt9LHRbaV0scik6bi53aWRnZXQuZXh0ZW5kKHt9LHIpOnIpO3JldHVybiB0fTtuLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24odCxpKXt2YXIgcj1pLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8dDtuLmZuW3RdPWZ1bmN0aW9uKHUpe3ZhciBzPSJzdHJpbmciPT10eXBlb2YgdSxlPW8uY2FsbChhcmd1bWVudHMsMSksZj10aGlzO3JldHVybiBzP3RoaXMubGVuZ3RofHwiaW5zdGFuY2UiIT09dT90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaSxvPW4uZGF0YSh0aGlzLHIpO3JldHVybiJpbnN0YW5jZSI9PT11PyhmPW8sITEpOm8/bi5pc0Z1bmN0aW9uKG9bdV0pJiYiXyIhPT11LmNoYXJBdCgwKT8oaT1vW3VdLmFwcGx5KG8sZSksaSE9PW8mJnZvaWQgMCE9PWk/KGY9aSYmaS5qcXVlcnk/Zi5wdXNoU3RhY2soaS5nZXQoKSk6aSwhMSk6dm9pZCAwKTpuLmVycm9yKCJubyBzdWNoIG1ldGhvZCAnIit1KyInIGZvciAiK3QrIiB3aWRnZXQgaW5zdGFuY2UiKTpuLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrdCsiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrdSsiJyIpfSk6Zj12b2lkIDA6KGUubGVuZ3RoJiYodT1uLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbdV0uY29uY2F0KGUpKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bi5kYXRhKHRoaXMscik7dD8odC5vcHRpb24odXx8e30pLHQuX2luaXQmJnQuX2luaXQoKSk6bi5kYXRhKHRoaXMscixuZXcgaSh1LHRoaXMpKX0pKSxmfX07bi5XaWRnZXQ9ZnVuY3Rpb24oKXt9O24uV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXTtuLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntjbGFzc2VzOnt9LGRpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKHQsaSl7aT1uKGl8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdO3RoaXMuZWxlbWVudD1uKGkpO3RoaXMudXVpZD12Kys7dGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZDt0aGlzLmJpbmRpbmdzPW4oKTt0aGlzLmhvdmVyYWJsZT1uKCk7dGhpcy5mb2N1c2FibGU9bigpO3RoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXA9e307aSE9PXRoaXMmJihuLmRhdGEoaSx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKG4pe24udGFyZ2V0PT09aSYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1uKGkuc3R5bGU/aS5vd25lckRvY3VtZW50OmkuZG9jdW1lbnR8fGkpLHRoaXMud2luZG93PW4odGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKTt0aGlzLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksdCk7dGhpcy5fY3JlYXRlKCk7dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSk7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3JldHVybnt9fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOm4ubm9vcCxfY3JlYXRlOm4ubm9vcCxfaW5pdDpuLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fZGVzdHJveSgpO24uZWFjaCh0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwLGZ1bmN0aW9uKG4saSl7dC5fcmVtb3ZlQ2xhc3MoaSxuKX0pO3RoaXMuZWxlbWVudC5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKTt0aGlzLndpZGdldCgpLm9mZih0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIik7dGhpcy5iaW5kaW5ncy5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSl9LF9kZXN0cm95Om4ubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcix1LGYsZT10O2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIHQpaWYoZT17fSxyPXQuc3BsaXQoIi4iKSx0PXIuc2hpZnQoKSxyLmxlbmd0aCl7Zm9yKHU9ZVt0XT1uLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW3RdKSxmPTA7ci5sZW5ndGgtMT5mO2YrKyl1W3JbZl1dPXVbcltmXV18fHt9LHU9dVtyW2ZdXTtpZih0PXIucG9wKCksMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PXVbdF0/bnVsbDp1W3RdO3VbdF09aX1lbHNle2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10aGlzLm9wdGlvbnNbdF0/bnVsbDp0aGlzLm9wdGlvbnNbdF07ZVt0XT1pfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKGUpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuKXRoaXMuX3NldE9wdGlvbih0LG5bdF0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImNsYXNzZXMiPT09biYmdGhpcy5fc2V0T3B0aW9uQ2xhc3Nlcyh0KSx0aGlzLm9wdGlvbnNbbl09dCwiZGlzYWJsZWQiPT09biYmdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQodCksdGhpc30sX3NldE9wdGlvbkNsYXNzZXM6ZnVuY3Rpb24odCl7dmFyIGksdSxyO2ZvcihpIGluIHQpcj10aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwW2ldLHRbaV0hPT10aGlzLm9wdGlvbnMuY2xhc3Nlc1tpXSYmciYmci5sZW5ndGgmJih1PW4oci5nZXQoKSksdGhpcy5fcmVtb3ZlQ2xhc3MocixpKSx1LmFkZENsYXNzKHRoaXMuX2NsYXNzZXMoe2VsZW1lbnQ6dSxrZXlzOmksY2xhc3Nlczp0LGFkZDohMH0pKSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCIsbnVsbCwhIW4pO24mJih0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhvdmVyYWJsZSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuZm9jdXNhYmxlLG51bGwsInVpLXN0YXRlLWZvY3VzIikpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfY2xhc3NlczpmdW5jdGlvbih0KXtmdW5jdGlvbiByKHIsZil7Zm9yKHZhciBvLGU9MDtyLmxlbmd0aD5lO2UrKylvPXUuY2xhc3Nlc0VsZW1lbnRMb29rdXBbcltlXV18fG4oKSxvPXQuYWRkP24obi51bmlxdWUoby5nZXQoKS5jb25jYXQodC5lbGVtZW50LmdldCgpKSkpOm4oby5ub3QodC5lbGVtZW50KS5nZXQoKSksdS5jbGFzc2VzRWxlbWVudExvb2t1cFtyW2VdXT1vLGkucHVzaChyW2VdKSxmJiZ0LmNsYXNzZXNbcltlXV0mJmkucHVzaCh0LmNsYXNzZXNbcltlXV0pfXZhciBpPVtdLHU9dGhpcztyZXR1cm4gdD1uLmV4dGVuZCh7ZWxlbWVudDp0aGlzLmVsZW1lbnQsY2xhc3Nlczp0aGlzLm9wdGlvbnMuY2xhc3Nlc3x8e319LHQpLHRoaXMuX29uKHQuZWxlbWVudCx7cmVtb3ZlOiJfdW50cmFja0NsYXNzZXNFbGVtZW50In0pLHQua2V5cyYmcih0LmtleXMubWF0Y2goL1xTKy9nKXx8W10sITApLHQuZXh0cmEmJnIodC5leHRyYS5tYXRjaCgvXFMrL2cpfHxbXSksaS5qb2luKCIgIil9LF91bnRyYWNrQ2xhc3Nlc0VsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztuLmVhY2goaS5jbGFzc2VzRWxlbWVudExvb2t1cCxmdW5jdGlvbihyLHUpey0xIT09bi5pbkFycmF5KHQudGFyZ2V0LHUpJiYoaS5jbGFzc2VzRWxlbWVudExvb2t1cFtyXT1uKHUubm90KHQudGFyZ2V0KS5nZXQoKSkpfSl9LF9yZW1vdmVDbGFzczpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKG4sdCxpLCExKX0sX2FkZENsYXNzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3Mobix0LGksITApfSxfdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24obix0LGkscil7cj0iYm9vbGVhbiI9PXR5cGVvZiByP3I6aTt2YXIgdT0ic3RyaW5nIj09dHlwZW9mIG58fG51bGw9PT1uLGY9e2V4dHJhOnU/dDppLGtleXM6dT9uOnQsZWxlbWVudDp1P3RoaXMuZWxlbWVudDpuLGFkZDpyfTtyZXR1cm4gZi5lbGVtZW50LnRvZ2dsZUNsYXNzKHRoaXMuX2NsYXNzZXMoZiksciksdGhpc30sX29uOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZix1PXRoaXM7ImJvb2xlYW4iIT10eXBlb2YgdCYmKHI9aSxpPXQsdD0hMSk7cj8oaT1mPW4oaSksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmFkZChpKSk6KHI9aSxpPXRoaXMuZWxlbWVudCxmPXRoaXMud2lkZ2V0KCkpO24uZWFjaChyLGZ1bmN0aW9uKHIsZSl7ZnVuY3Rpb24gbygpe2lmKHR8fHUub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhbih0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSlyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBlP3VbZV06ZSkuYXBwbHkodSxhcmd1bWVudHMpfSJzdHJpbmciIT10eXBlb2YgZSYmKG8uZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxvLmd1aWR8fG4uZ3VpZCsrKTt2YXIgcz1yLm1hdGNoKC9eKFtcdzotXSopXHMqKC4qKSQvKSxoPXNbMV0rdS5ldmVudE5hbWVzcGFjZSxjPXNbMl07Yz9mLm9uKGgsYyxvKTppLm9uKGgsbyl9KX0sX29mZjpmdW5jdGlvbih0LGkpe2k9KGl8fCIiKS5zcGxpdCgiICIpLmpvaW4odGhpcy5ldmVudE5hbWVzcGFjZSsiICIpK3RoaXMuZXZlbnROYW1lc3BhY2U7dC5vZmYoaSkub2ZmKGkpO3RoaXMuYmluZGluZ3M9bih0aGlzLmJpbmRpbmdzLm5vdCh0KS5nZXQoKSk7dGhpcy5mb2N1c2FibGU9bih0aGlzLmZvY3VzYWJsZS5ub3QodCkuZ2V0KCkpO3RoaXMuaG92ZXJhYmxlPW4odGhpcy5ob3ZlcmFibGUubm90KHQpLmdldCgpKX0sX2RlbGF5OmZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gcigpe3JldHVybigic3RyaW5nIj09dHlwZW9mIG4/aVtuXTpuKS5hcHBseShpLGFyZ3VtZW50cyl9dmFyIGk9dGhpcztyZXR1cm4gc2V0VGltZW91dChyLHR8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZCh0KTt0aGlzLl9vbih0LHttb3VzZWVudGVyOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe3RoaXMuX3JlbW92ZUNsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZCh0KTt0aGlzLl9vbih0LHtmb2N1c2luOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1mb2N1cyIpfSxmb2N1c291dDpmdW5jdGlvbih0KXt0aGlzLl9yZW1vdmVDbGFzcyhuKHQuY3VycmVudFRhcmdldCksbnVsbCwidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGYsZT10aGlzLm9wdGlvbnNbdF07aWYocj1yfHx7fSxpPW4uRXZlbnQoaSksaS50eXBlPSh0PT09dGhpcy53aWRnZXRFdmVudFByZWZpeD90OnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrdCkudG9Mb3dlckNhc2UoKSxpLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1pLm9yaWdpbmFsRXZlbnQpZm9yKHUgaW4gZil1IGluIGl8fChpW3VdPWZbdV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihpLHIpLCEobi5pc0Z1bmN0aW9uKGUpJiZlLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbaV0uY29uY2F0KHIpKT09PSExfHxpLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19O24uZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24odCxpKXtuLldpZGdldC5wcm90b3R5cGVbIl8iK3RdPWZ1bmN0aW9uKHIsdSxmKXsic3RyaW5nIj09dHlwZW9mIHUmJih1PXtlZmZlY3Q6dX0pO3ZhciBvLGU9dT91PT09ITB8fCJudW1iZXIiPT10eXBlb2YgdT9pOnUuZWZmZWN0fHxpOnQ7dT11fHx7fTsibnVtYmVyIj09dHlwZW9mIHUmJih1PXtkdXJhdGlvbjp1fSk7bz0hbi5pc0VtcHR5T2JqZWN0KHUpO3UuY29tcGxldGU9Zjt1LmRlbGF5JiZyLmRlbGF5KHUuZGVsYXkpO28mJm4uZWZmZWN0cyYmbi5lZmZlY3RzLmVmZmVjdFtlXT9yW3RdKHUpOmUhPT10JiZyW2VdP3JbZV0odS5kdXJhdGlvbix1LmVhc2luZyxmKTpyLnF1ZXVlKGZ1bmN0aW9uKGkpe24odGhpcylbdF0oKTtmJiZmLmNhbGwoclswXSk7aSgpfSl9fSk7bi53aWRnZXQsZnVuY3Rpb24oKXtmdW5jdGlvbiBmKG4sdCxpKXtyZXR1cm5bcGFyc2VGbG9hdChuWzBdKSooYy50ZXN0KG5bMF0pP3QvMTAwOjEpLHBhcnNlRmxvYXQoblsxXSkqKGMudGVzdChuWzFdKT9pLzEwMDoxKV19ZnVuY3Rpb24gaSh0LGkpe3JldHVybiBwYXJzZUludChuLmNzcyh0LGkpLDEwKXx8MH1mdW5jdGlvbiBsKHQpe3ZhciBpPXRbMF07cmV0dXJuIDk9PT1pLm5vZGVUeXBlP3t3aWR0aDp0LndpZHRoKCksaGVpZ2h0OnQuaGVpZ2h0KCksb2Zmc2V0Ont0b3A6MCxsZWZ0OjB9fTpuLmlzV2luZG93KGkpP3t3aWR0aDp0LndpZHRoKCksaGVpZ2h0OnQuaGVpZ2h0KCksb2Zmc2V0Ont0b3A6dC5zY3JvbGxUb3AoKSxsZWZ0OnQuc2Nyb2xsTGVmdCgpfX06aS5wcmV2ZW50RGVmYXVsdD97d2lkdGg6MCxoZWlnaHQ6MCxvZmZzZXQ6e3RvcDppLnBhZ2VZLGxlZnQ6aS5wYWdlWH19Ont3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLG9mZnNldDp0Lm9mZnNldCgpfX12YXIgdSxyPU1hdGgubWF4LHQ9TWF0aC5hYnMsZT0vbGVmdHxjZW50ZXJ8cmlnaHQvLG89L3RvcHxjZW50ZXJ8Ym90dG9tLyxzPS9bXCtcLV1cZCsoXC5bXGRdKyk/JT8vLGg9L15cdysvLGM9LyUkLyxhPW4uZm4ucG9zaXRpb247bi5wb3NpdGlvbj17c2Nyb2xsYmFyV2lkdGg6ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT11KXJldHVybiB1O3ZhciByLGksdD1uKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3c6aGlkZGVuOyc+PGRpdiBzdHlsZT0naGVpZ2h0OjEwMHB4O3dpZHRoOmF1dG87Jz48XC9kaXY+PFwvZGl2PiIpLGY9dC5jaGlsZHJlbigpWzBdO3JldHVybiBuKCJib2R5IikuYXBwZW5kKHQpLHI9Zi5vZmZzZXRXaWR0aCx0LmNzcygib3ZlcmZsb3ciLCJzY3JvbGwiKSxpPWYub2Zmc2V0V2lkdGgscj09PWkmJihpPXRbMF0uY2xpZW50V2lkdGgpLHQucmVtb3ZlKCksdT1yLWl9LGdldFNjcm9sbEluZm86ZnVuY3Rpb24odCl7dmFyIGk9dC5pc1dpbmRvd3x8dC5pc0RvY3VtZW50PyIiOnQuZWxlbWVudC5jc3MoIm92ZXJmbG93LXgiKSxyPXQuaXNXaW5kb3d8fHQuaXNEb2N1bWVudD8iIjp0LmVsZW1lbnQuY3NzKCJvdmVyZmxvdy15IiksdT0ic2Nyb2xsIj09PWl8fCJhdXRvIj09PWkmJnQud2lkdGg8dC5lbGVtZW50WzBdLnNjcm9sbFdpZHRoLGY9InNjcm9sbCI9PT1yfHwiYXV0byI9PT1yJiZ0LmhlaWdodDx0LmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0O3JldHVybnt3aWR0aDpmP24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowLGhlaWdodDp1P24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowfX0sZ2V0V2l0aGluSW5mbzpmdW5jdGlvbih0KXt2YXIgaT1uKHR8fHdpbmRvdykscj1uLmlzV2luZG93KGlbMF0pLHU9ISFpWzBdJiY5PT09aVswXS5ub2RlVHlwZSxmPSFyJiYhdTtyZXR1cm57ZWxlbWVudDppLGlzV2luZG93OnIsaXNEb2N1bWVudDp1LG9mZnNldDpmP24odCkub2Zmc2V0KCk6e2xlZnQ6MCx0b3A6MH0sc2Nyb2xsTGVmdDppLnNjcm9sbExlZnQoKSxzY3JvbGxUb3A6aS5zY3JvbGxUb3AoKSx3aWR0aDppLm91dGVyV2lkdGgoKSxoZWlnaHQ6aS5vdXRlckhlaWdodCgpfX19O24uZm4ucG9zaXRpb249ZnVuY3Rpb24odSl7aWYoIXV8fCF1Lm9mKXJldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt1PW4uZXh0ZW5kKHt9LHUpO3ZhciB3LGMsdixwLHksayxkPW4odS5vZiksbnQ9bi5wb3NpdGlvbi5nZXRXaXRoaW5JbmZvKHUud2l0aGluKSx0dD1uLnBvc2l0aW9uLmdldFNjcm9sbEluZm8obnQpLGI9KHUuY29sbGlzaW9ufHwiZmxpcCIpLnNwbGl0KCIgIiksZz17fTtyZXR1cm4gaz1sKGQpLGRbMF0ucHJldmVudERlZmF1bHQmJih1LmF0PSJsZWZ0IHRvcCIpLGM9ay53aWR0aCx2PWsuaGVpZ2h0LHA9ay5vZmZzZXQseT1uLmV4dGVuZCh7fSxwKSxuLmVhY2goWyJteSIsImF0Il0sZnVuY3Rpb24oKXt2YXIgdCxpLG49KHVbdGhpc118fCIiKS5zcGxpdCgiICIpOzE9PT1uLmxlbmd0aCYmKG49ZS50ZXN0KG5bMF0pP24uY29uY2F0KFsiY2VudGVyIl0pOm8udGVzdChuWzBdKT9bImNlbnRlciJdLmNvbmNhdChuKTpbImNlbnRlciIsImNlbnRlciJdKTtuWzBdPWUudGVzdChuWzBdKT9uWzBdOiJjZW50ZXIiO25bMV09by50ZXN0KG5bMV0pP25bMV06ImNlbnRlciI7dD1zLmV4ZWMoblswXSk7aT1zLmV4ZWMoblsxXSk7Z1t0aGlzXT1bdD90WzBdOjAsaT9pWzBdOjBdO3VbdGhpc109W2guZXhlYyhuWzBdKVswXSxoLmV4ZWMoblsxXSlbMF1dfSksMT09PWIubGVuZ3RoJiYoYlsxXT1iWzBdKSwicmlnaHQiPT09dS5hdFswXT95LmxlZnQrPWM6ImNlbnRlciI9PT11LmF0WzBdJiYoeS5sZWZ0Kz1jLzIpLCJib3R0b20iPT09dS5hdFsxXT95LnRvcCs9djoiY2VudGVyIj09PXUuYXRbMV0mJih5LnRvcCs9di8yKSx3PWYoZy5hdCxjLHYpLHkubGVmdCs9d1swXSx5LnRvcCs9d1sxXSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYSxrLG89bih0aGlzKSxzPW8ub3V0ZXJXaWR0aCgpLGg9by5vdXRlckhlaWdodCgpLGl0PWkodGhpcywibWFyZ2luTGVmdCIpLHJ0PWkodGhpcywibWFyZ2luVG9wIiksdXQ9cytpdCtpKHRoaXMsIm1hcmdpblJpZ2h0IikrdHQud2lkdGgsZnQ9aCtydCtpKHRoaXMsIm1hcmdpbkJvdHRvbSIpK3R0LmhlaWdodCxlPW4uZXh0ZW5kKHt9LHkpLGw9ZihnLm15LG8ub3V0ZXJXaWR0aCgpLG8ub3V0ZXJIZWlnaHQoKSk7InJpZ2h0Ij09PXUubXlbMF0/ZS5sZWZ0LT1zOiJjZW50ZXIiPT09dS5teVswXSYmKGUubGVmdC09cy8yKTsiYm90dG9tIj09PXUubXlbMV0/ZS50b3AtPWg6ImNlbnRlciI9PT11Lm15WzFdJiYoZS50b3AtPWgvMik7ZS5sZWZ0Kz1sWzBdO2UudG9wKz1sWzFdO2E9e21hcmdpbkxlZnQ6aXQsbWFyZ2luVG9wOnJ0fTtuLmVhY2goWyJsZWZ0IiwidG9wIl0sZnVuY3Rpb24odCxpKXtuLnVpLnBvc2l0aW9uW2JbdF1dJiZuLnVpLnBvc2l0aW9uW2JbdF1dW2ldKGUse3RhcmdldFdpZHRoOmMsdGFyZ2V0SGVpZ2h0OnYsZWxlbVdpZHRoOnMsZWxlbUhlaWdodDpoLGNvbGxpc2lvblBvc2l0aW9uOmEsY29sbGlzaW9uV2lkdGg6dXQsY29sbGlzaW9uSGVpZ2h0OmZ0LG9mZnNldDpbd1swXStsWzBdLHdbMV0rbFsxXV0sbXk6dS5teSxhdDp1LmF0LHdpdGhpbjpudCxlbGVtOm99KX0pO3UudXNpbmcmJihrPWZ1bmN0aW9uKG4pe3ZhciBpPXAubGVmdC1lLmxlZnQsYT1pK2MtcyxmPXAudG9wLWUudG9wLHk9Zit2LWgsbD17dGFyZ2V0OntlbGVtZW50OmQsbGVmdDpwLmxlZnQsdG9wOnAudG9wLHdpZHRoOmMsaGVpZ2h0OnZ9LGVsZW1lbnQ6e2VsZW1lbnQ6byxsZWZ0OmUubGVmdCx0b3A6ZS50b3Asd2lkdGg6cyxoZWlnaHQ6aH0saG9yaXpvbnRhbDowPmE/ImxlZnQiOmk+MD8icmlnaHQiOiJjZW50ZXIiLHZlcnRpY2FsOjA+eT8idG9wIjpmPjA/ImJvdHRvbSI6Im1pZGRsZSJ9O3M+YyYmYz50KGkrYSkmJihsLmhvcml6b250YWw9ImNlbnRlciIpO2g+diYmdj50KGYreSkmJihsLnZlcnRpY2FsPSJtaWRkbGUiKTtsLmltcG9ydGFudD1yKHQoaSksdChhKSk+cih0KGYpLHQoeSkpPyJob3Jpem9udGFsIjoidmVydGljYWwiO3UudXNpbmcuY2FsbCh0aGlzLG4sbCl9KTtvLm9mZnNldChuLmV4dGVuZChlLHt1c2luZzprfSkpfSl9O24udWkucG9zaXRpb249e2ZpdDp7bGVmdDpmdW5jdGlvbihuLHQpe3ZhciBoLGU9dC53aXRoaW4sdT1lLmlzV2luZG93P2Uuc2Nyb2xsTGVmdDplLm9mZnNldC5sZWZ0LG89ZS53aWR0aCxzPW4ubGVmdC10LmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsaT11LXMsZj1zK3QuY29sbGlzaW9uV2lkdGgtby11O3QuY29sbGlzaW9uV2lkdGg+bz9pPjAmJjA+PWY/KGg9bi5sZWZ0K2krdC5jb2xsaXNpb25XaWR0aC1vLXUsbi5sZWZ0Kz1pLWgpOm4ubGVmdD1mPjAmJjA+PWk/dTppPmY/dStvLXQuY29sbGlzaW9uV2lkdGg6dTppPjA/bi5sZWZ0Kz1pOmY+MD9uLmxlZnQtPWY6bi5sZWZ0PXIobi5sZWZ0LXMsbi5sZWZ0KX0sdG9wOmZ1bmN0aW9uKG4sdCl7dmFyIGgsbz10LndpdGhpbix1PW8uaXNXaW5kb3c/by5zY3JvbGxUb3A6by5vZmZzZXQudG9wLGU9dC53aXRoaW4uaGVpZ2h0LHM9bi50b3AtdC5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AsaT11LXMsZj1zK3QuY29sbGlzaW9uSGVpZ2h0LWUtdTt0LmNvbGxpc2lvbkhlaWdodD5lP2k+MCYmMD49Zj8oaD1uLnRvcCtpK3QuY29sbGlzaW9uSGVpZ2h0LWUtdSxuLnRvcCs9aS1oKTpuLnRvcD1mPjAmJjA+PWk/dTppPmY/dStlLXQuY29sbGlzaW9uSGVpZ2h0OnU6aT4wP24udG9wKz1pOmY+MD9uLnRvcC09ZjpuLnRvcD1yKG4udG9wLXMsbi50b3ApfX0sZmxpcDp7bGVmdDpmdW5jdGlvbihuLGkpe3ZhciBvLHMscj1pLndpdGhpbix5PXIub2Zmc2V0LmxlZnQrci5zY3JvbGxMZWZ0LGM9ci53aWR0aCxoPXIuaXNXaW5kb3c/ci5zY3JvbGxMZWZ0OnIub2Zmc2V0LmxlZnQsbD1uLmxlZnQtaS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0LGE9bC1oLHY9bCtpLmNvbGxpc2lvbldpZHRoLWMtaCx1PSJsZWZ0Ij09PWkubXlbMF0/LWkuZWxlbVdpZHRoOiJyaWdodCI9PT1pLm15WzBdP2kuZWxlbVdpZHRoOjAsZj0ibGVmdCI9PT1pLmF0WzBdP2kudGFyZ2V0V2lkdGg6InJpZ2h0Ij09PWkuYXRbMF0/LWkudGFyZ2V0V2lkdGg6MCxlPS0yKmkub2Zmc2V0WzBdOzA+YT8obz1uLmxlZnQrdStmK2UraS5jb2xsaXNpb25XaWR0aC1jLXksKDA+b3x8dChhKT5vKSYmKG4ubGVmdCs9dStmK2UpKTp2PjAmJihzPW4ubGVmdC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQrdStmK2UtaCwocz4wfHx2PnQocykpJiYobi5sZWZ0Kz11K2YrZSkpfSx0b3A6ZnVuY3Rpb24obixpKXt2YXIgbyxzLHI9aS53aXRoaW4seT1yLm9mZnNldC50b3Arci5zY3JvbGxUb3AsYz1yLmhlaWdodCxoPXIuaXNXaW5kb3c/ci5zY3JvbGxUb3A6ci5vZmZzZXQudG9wLGw9bi50b3AtaS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AsYT1sLWgsdj1sK2kuY29sbGlzaW9uSGVpZ2h0LWMtaCxwPSJ0b3AiPT09aS5teVsxXSx1PXA/LWkuZWxlbUhlaWdodDoiYm90dG9tIj09PWkubXlbMV0/aS5lbGVtSGVpZ2h0OjAsZj0idG9wIj09PWkuYXRbMV0/aS50YXJnZXRIZWlnaHQ6ImJvdHRvbSI9PT1pLmF0WzFdPy1pLnRhcmdldEhlaWdodDowLGU9LTIqaS5vZmZzZXRbMV07MD5hPyhzPW4udG9wK3UrZitlK2kuY29sbGlzaW9uSGVpZ2h0LWMteSwoMD5zfHx0KGEpPnMpJiYobi50b3ArPXUrZitlKSk6dj4wJiYobz1uLnRvcC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCt1K2YrZS1oLChvPjB8fHY+dChvKSkmJihuLnRvcCs9dStmK2UpKX19LGZsaXBmaXQ6e2xlZnQ6ZnVuY3Rpb24oKXtuLnVpLnBvc2l0aW9uLmZsaXAubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bi51aS5wb3NpdGlvbi5maXQubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRvcDpmdW5jdGlvbigpe24udWkucG9zaXRpb24uZmxpcC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpO24udWkucG9zaXRpb24uZml0LnRvcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX19KCk7bi51aS5wb3NpdGlvbjtuLmV4dGVuZChuLmV4cHJbIjoiXSx7ZGF0YTpuLmV4cHIuY3JlYXRlUHNldWRvP24uZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiEhbi5kYXRhKGksdCl9fSk6ZnVuY3Rpb24odCxpLHIpe3JldHVybiEhbi5kYXRhKHQsclszXSl9fSk7bi5mbi5leHRlbmQoe2Rpc2FibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj0ib25zZWxlY3RzdGFydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKT8ic2VsZWN0c3RhcnQiOiJtb3VzZWRvd24iO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uKG4rIi51aS1kaXNhYmxlU2VsZWN0aW9uIixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9KX19KCksZW5hYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2ZmKCIudWktZGlzYWJsZVNlbGVjdGlvbiIpfX0pO3ZhciBmPSJ1aS1lZmZlY3RzLSIscz0idWktZWZmZWN0cy1zdHlsZSIsaD0idWktZWZmZWN0cy1hbmltYXRlZCIseT1uO24uZWZmZWN0cz17ZWZmZWN0Ont9fSxmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGYobix0LGkpe3ZhciByPWhbdC50eXBlXXx8e307cmV0dXJuIG51bGw9PW4/aXx8IXQuZGVmP251bGw6dC5kZWY6KG49ci5mbG9vcj9+fm46cGFyc2VGbG9hdChuKSxpc05hTihuKT90LmRlZjpyLm1vZD8obityLm1vZCklci5tb2Q6MD5uPzA6bj5yLm1heD9yLm1heDpuKX1mdW5jdGlvbiBzKGYpe3ZhciBvPWkoKSxzPW8uX3JnYmE9W107cmV0dXJuIGY9Zi50b0xvd2VyQ2FzZSgpLHIodixmdW5jdGlvbihuLGkpe3ZhciByLGg9aS5yZS5leGVjKGYpLGM9aCYmaS5wYXJzZShoKSxlPWkuc3BhY2V8fCJyZ2JhIjtyZXR1cm4gYz8ocj1vW2VdKGMpLG9bdVtlXS5jYWNoZV09clt1W2VdLmNhY2hlXSxzPW8uX3JnYmE9ci5fcmdiYSwhMSk6dH0pLHMubGVuZ3RoPygiMCwwLDAsMCI9PT1zLmpvaW4oKSYmbi5leHRlbmQocyxlLnRyYW5zcGFyZW50KSxvKTplW2ZdfWZ1bmN0aW9uIG8obix0LGkpe3JldHVybiBpPShpKzEpJTEsMT42Kmk/bis2Kih0LW4pKmk6MT4yKmk/dDoyPjMqaT9uKzYqKHQtbikqKDIvMy1pKTpufXZhciBlLGE9L14oW1wtK10pPVxzKihcZCtcLj9cZCopLyx2PVt7cmU6L3JnYmE/XChccyooXGR7MSwzfSlccyosXHMqKFxkezEsM30pXHMqLFxzKihcZHsxLDN9KVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bblsxXSxuWzJdLG5bM10sbls0XV19fSx7cmU6L3JnYmE/XChccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bMi41NSpuWzFdLDIuNTUqblsyXSwyLjU1Km5bM10sbls0XV19fSx7cmU6LyMoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkvLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltwYXJzZUludChuWzFdLDE2KSxwYXJzZUludChuWzJdLDE2KSxwYXJzZUludChuWzNdLDE2KV19fSx7cmU6LyMoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSkvLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltwYXJzZUludChuWzFdK25bMV0sMTYpLHBhcnNlSW50KG5bMl0rblsyXSwxNikscGFyc2VJbnQoblszXStuWzNdLDE2KV19fSx7cmU6L2hzbGE/XChccyooXGQrKD86XC5cZCspPylccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyooPzosXHMqKFxkPyg/OlwuXGQrKT8pXHMqKT9cKS8sc3BhY2U6ImhzbGEiLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltuWzFdLG5bMl0vMTAwLG5bM10vMTAwLG5bNF1dfX1dLGk9bi5Db2xvcj1mdW5jdGlvbih0LGkscix1KXtyZXR1cm4gbmV3IG4uQ29sb3IuZm4ucGFyc2UodCxpLHIsdSl9LHU9e3JnYmE6e3Byb3BzOntyZWQ6e2lkeDowLHR5cGU6ImJ5dGUifSxncmVlbjp7aWR4OjEsdHlwZToiYnl0ZSJ9LGJsdWU6e2lkeDoyLHR5cGU6ImJ5dGUifX19LGhzbGE6e3Byb3BzOntodWU6e2lkeDowLHR5cGU6ImRlZ3JlZXMifSxzYXR1cmF0aW9uOntpZHg6MSx0eXBlOiJwZXJjZW50In0sbGlnaHRuZXNzOntpZHg6Mix0eXBlOiJwZXJjZW50In19fX0saD17Ynl0ZTp7Zmxvb3I6ITAsbWF4OjI1NX0scGVyY2VudDp7bWF4OjF9LGRlZ3JlZXM6e21vZDozNjAsZmxvb3I6ITB9fSxjPWkuc3VwcG9ydD17fSxsPW4oIjxwPiIpWzBdLHI9bi5lYWNoO2wuc3R5bGUuY3NzVGV4dD0iYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KSI7Yy5yZ2JhPWwuc3R5bGUuYmFja2dyb3VuZENvbG9yLmluZGV4T2YoInJnYmEiKT4tMTtyKHUsZnVuY3Rpb24obix0KXt0LmNhY2hlPSJfIituO3QucHJvcHMuYWxwaGE9e2lkeDozLHR5cGU6InBlcmNlbnQiLGRlZjoxfX0pO2kuZm49bi5leHRlbmQoaS5wcm90b3R5cGUse3BhcnNlOmZ1bmN0aW9uKG8saCxjLGwpe2lmKG89PT10KXJldHVybiB0aGlzLl9yZ2JhPVtudWxsLG51bGwsbnVsbCxudWxsXSx0aGlzOyhvLmpxdWVyeXx8by5ub2RlVHlwZSkmJihvPW4obykuY3NzKGgpLGg9dCk7dmFyIGE9dGhpcyx2PW4udHlwZShvKSx5PXRoaXMuX3JnYmE9W107cmV0dXJuIGghPT10JiYobz1bbyxoLGMsbF0sdj0iYXJyYXkiKSwic3RyaW5nIj09PXY/dGhpcy5wYXJzZShzKG8pfHxlLl9kZWZhdWx0KToiYXJyYXkiPT09dj8ocih1LnJnYmEucHJvcHMsZnVuY3Rpb24obix0KXt5W3QuaWR4XT1mKG9bdC5pZHhdLHQpfSksdGhpcyk6Im9iamVjdCI9PT12PyhvIGluc3RhbmNlb2YgaT9yKHUsZnVuY3Rpb24obix0KXtvW3QuY2FjaGVdJiYoYVt0LmNhY2hlXT1vW3QuY2FjaGVdLnNsaWNlKCkpfSk6cih1LGZ1bmN0aW9uKHQsaSl7dmFyIHU9aS5jYWNoZTtyKGkucHJvcHMsZnVuY3Rpb24obix0KXtpZighYVt1XSYmaS50byl7aWYoImFscGhhIj09PW58fG51bGw9PW9bbl0pcmV0dXJuO2FbdV09aS50byhhLl9yZ2JhKX1hW3VdW3QuaWR4XT1mKG9bbl0sdCwhMCl9KTthW3VdJiYwPm4uaW5BcnJheShudWxsLGFbdV0uc2xpY2UoMCwzKSkmJihhW3VdWzNdPTEsaS5mcm9tJiYoYS5fcmdiYT1pLmZyb20oYVt1XSkpKX0pLHRoaXMpOnR9LGlzOmZ1bmN0aW9uKG4pe3ZhciBvPWkobiksZj0hMCxlPXRoaXM7cmV0dXJuIHIodSxmdW5jdGlvbihuLGkpe3ZhciBzLHU9b1tpLmNhY2hlXTtyZXR1cm4gdSYmKHM9ZVtpLmNhY2hlXXx8aS50byYmaS50byhlLl9yZ2JhKXx8W10scihpLnByb3BzLGZ1bmN0aW9uKG4saSl7cmV0dXJuIG51bGwhPXVbaS5pZHhdP2Y9dVtpLmlkeF09PT1zW2kuaWR4XTp0fSkpLGZ9KSxmfSxfc3BhY2U6ZnVuY3Rpb24oKXt2YXIgbj1bXSx0PXRoaXM7cmV0dXJuIHIodSxmdW5jdGlvbihpLHIpe3Rbci5jYWNoZV0mJm4ucHVzaChpKX0pLG4ucG9wKCl9LHRyYW5zaXRpb246ZnVuY3Rpb24obix0KXt2YXIgZT1pKG4pLGM9ZS5fc3BhY2UoKSxvPXVbY10sbD0wPT09dGhpcy5hbHBoYSgpP2koInRyYW5zcGFyZW50Iik6dGhpcyxhPWxbby5jYWNoZV18fG8udG8obC5fcmdiYSkscz1hLnNsaWNlKCk7cmV0dXJuIGU9ZVtvLmNhY2hlXSxyKG8ucHJvcHMsZnVuY3Rpb24obixpKXt2YXIgYz1pLmlkeCxyPWFbY10sdT1lW2NdLG89aFtpLnR5cGVdfHx7fTtudWxsIT09dSYmKG51bGw9PT1yP3NbY109dTooby5tb2QmJih1LXI+by5tb2QvMj9yKz1vLm1vZDpyLXU+by5tb2QvMiYmKHItPW8ubW9kKSksc1tjXT1mKCh1LXIpKnQrcixpKSkpfSksdGhpc1tjXShzKX0sYmxlbmQ6ZnVuY3Rpb24odCl7aWYoMT09PXRoaXMuX3JnYmFbM10pcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5fcmdiYS5zbGljZSgpLHU9ci5wb3AoKSxmPWkodCkuX3JnYmE7cmV0dXJuIGkobi5tYXAocixmdW5jdGlvbihuLHQpe3JldHVybigxLXUpKmZbdF0rdSpufSkpfSx0b1JnYmFTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgaT0icmdiYSgiLHQ9bi5tYXAodGhpcy5fcmdiYSxmdW5jdGlvbihuLHQpe3JldHVybiBudWxsPT1uP3Q+Mj8xOjA6bn0pO3JldHVybiAxPT09dFszXSYmKHQucG9wKCksaT0icmdiKCIpLGkrdC5qb2luKCkrIikifSx0b0hzbGFTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgaT0iaHNsYSgiLHQ9bi5tYXAodGhpcy5oc2xhKCksZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbD09biYmKG49dD4yPzE6MCksdCYmMz50JiYobj1NYXRoLnJvdW5kKDEwMCpuKSsiJSIpLG59KTtyZXR1cm4gMT09PXRbM10mJih0LnBvcCgpLGk9ImhzbCgiKSxpK3Quam9pbigpKyIpIn0sdG9IZXhTdHJpbmc6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fcmdiYS5zbGljZSgpLHI9aS5wb3AoKTtyZXR1cm4gdCYmaS5wdXNoKH5+KDI1NSpyKSksIiMiK24ubWFwKGksZnVuY3Rpb24obil7cmV0dXJuIG49KG58fDApLnRvU3RyaW5nKDE2KSwxPT09bi5sZW5ndGg/IjAiK246bn0pLmpvaW4oIiIpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fcmdiYVszXT8idHJhbnNwYXJlbnQiOnRoaXMudG9SZ2JhU3RyaW5nKCl9fSk7aS5mbi5wYXJzZS5wcm90b3R5cGU9aS5mbjt1LmhzbGEudG89ZnVuY3Rpb24obil7aWYobnVsbD09blswXXx8bnVsbD09blsxXXx8bnVsbD09blsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsblszXV07dmFyIHMsaCxpPW5bMF0vMjU1LHI9blsxXS8yNTUsZj1uWzJdLzI1NSxjPW5bM10sdT1NYXRoLm1heChpLHIsZiksZT1NYXRoLm1pbihpLHIsZiksdD11LWUsbz11K2UsbD0uNSpvO3JldHVybiBzPWU9PT11PzA6aT09PXU/NjAqKHItZikvdCszNjA6cj09PXU/NjAqKGYtaSkvdCsxMjA6NjAqKGktcikvdCsyNDAsaD0wPT09dD8wOi41Pj1sP3Qvbzp0LygyLW8pLFtNYXRoLnJvdW5kKHMpJTM2MCxoLGwsbnVsbD09Yz8xOmNdfTt1LmhzbGEuZnJvbT1mdW5jdGlvbihuKXtpZihudWxsPT1uWzBdfHxudWxsPT1uWzFdfHxudWxsPT1uWzJdKXJldHVybltudWxsLG51bGwsbnVsbCxuWzNdXTt2YXIgcj1uWzBdLzM2MCx1PW5bMV0sdD1uWzJdLGU9blszXSxpPS41Pj10P3QqKDErdSk6dCt1LXQqdSxmPTIqdC1pO3JldHVybltNYXRoLnJvdW5kKDI1NSpvKGYsaSxyKzEvMykpLE1hdGgucm91bmQoMjU1Km8oZixpLHIpKSxNYXRoLnJvdW5kKDI1NSpvKGYsaSxyLTEvMykpLGVdfTtyKHUsZnVuY3Rpb24odSxlKXt2YXIgcz1lLnByb3BzLG89ZS5jYWNoZSxoPWUudG8sYz1lLmZyb207aS5mblt1XT1mdW5jdGlvbih1KXtpZihoJiYhdGhpc1tvXSYmKHRoaXNbb109aCh0aGlzLl9yZ2JhKSksdT09PXQpcmV0dXJuIHRoaXNbb10uc2xpY2UoKTt2YXIgbCxhPW4udHlwZSh1KSx2PSJhcnJheSI9PT1hfHwib2JqZWN0Ij09PWE/dTphcmd1bWVudHMsZT10aGlzW29dLnNsaWNlKCk7cmV0dXJuIHIocyxmdW5jdGlvbihuLHQpe3ZhciBpPXZbIm9iamVjdCI9PT1hP246dC5pZHhdO251bGw9PWkmJihpPWVbdC5pZHhdKTtlW3QuaWR4XT1mKGksdCl9KSxjPyhsPWkoYyhlKSksbFtvXT1lLGwpOmkoZSl9O3IocyxmdW5jdGlvbih0LHIpe2kuZm5bdF18fChpLmZuW3RdPWZ1bmN0aW9uKGkpe3ZhciBmLGU9bi50eXBlKGkpLGg9ImFscGhhIj09PXQ/dGhpcy5faHNsYT8iaHNsYSI6InJnYmEiOnUsbz10aGlzW2hdKCkscz1vW3IuaWR4XTtyZXR1cm4idW5kZWZpbmVkIj09PWU/czooImZ1bmN0aW9uIj09PWUmJihpPWkuY2FsbCh0aGlzLHMpLGU9bi50eXBlKGkpKSxudWxsPT1pJiZyLmVtcHR5P3RoaXM6KCJzdHJpbmciPT09ZSYmKGY9YS5leGVjKGkpLGYmJihpPXMrcGFyc2VGbG9hdChmWzJdKSooIisiPT09ZlsxXT8xOi0xKSkpLG9bci5pZHhdPWksdGhpc1toXShvKSkpfSl9KX0pO2kuaG9vaz1mdW5jdGlvbih0KXt2YXIgdT10LnNwbGl0KCIgIik7cih1LGZ1bmN0aW9uKHQscil7bi5jc3NIb29rc1tyXT17c2V0OmZ1bmN0aW9uKHQsdSl7dmFyIG8sZixlPSIiO2lmKCJ0cmFuc3BhcmVudCIhPT11JiYoInN0cmluZyIhPT1uLnR5cGUodSl8fChvPXModSkpKSl7aWYodT1pKG98fHUpLCFjLnJnYmEmJjEhPT11Ll9yZ2JhWzNdKXtmb3IoZj0iYmFja2dyb3VuZENvbG9yIj09PXI/dC5wYXJlbnROb2RlOnQ7KCIiPT09ZXx8InRyYW5zcGFyZW50Ij09PWUpJiZmJiZmLnN0eWxlOyl0cnl7ZT1uLmNzcyhmLCJiYWNrZ3JvdW5kQ29sb3IiKTtmPWYucGFyZW50Tm9kZX1jYXRjaChoKXt9dT11LmJsZW5kKGUmJiJ0cmFuc3BhcmVudCIhPT1lP2U6Il9kZWZhdWx0Iil9dT11LnRvUmdiYVN0cmluZygpfXRyeXt0LnN0eWxlW3JdPXV9Y2F0Y2goaCl7fX19O24uZnguc3RlcFtyXT1mdW5jdGlvbih0KXt0LmNvbG9ySW5pdHx8KHQuc3RhcnQ9aSh0LmVsZW0sciksdC5lbmQ9aSh0LmVuZCksdC5jb2xvckluaXQ9ITApO24uY3NzSG9va3Nbcl0uc2V0KHQuZWxlbSx0LnN0YXJ0LnRyYW5zaXRpb24odC5lbmQsdC5wb3MpKX19KX07aS5ob29rKCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyTGVmdENvbG9yIGJvcmRlclJpZ2h0Q29sb3IgYm9yZGVyVG9wQ29sb3IgY29sb3IgY29sdW1uUnVsZUNvbG9yIG91dGxpbmVDb2xvciB0ZXh0RGVjb3JhdGlvbkNvbG9yIHRleHRFbXBoYXNpc0NvbG9yIik7bi5jc3NIb29rcy5ib3JkZXJDb2xvcj17ZXhwYW5kOmZ1bmN0aW9uKG4pe3ZhciB0PXt9O3JldHVybiByKFsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sZnVuY3Rpb24oaSxyKXt0WyJib3JkZXIiK3IrIkNvbG9yIl09bn0pLHR9fTtlPW4uQ29sb3IubmFtZXM9e2FxdWE6IiMwMGZmZmYiLGJsYWNrOiIjMDAwMDAwIixibHVlOiIjMDAwMGZmIixmdWNoc2lhOiIjZmYwMGZmIixncmF5OiIjODA4MDgwIixncmVlbjoiIzAwODAwMCIsbGltZToiIzAwZmYwMCIsbWFyb29uOiIjODAwMDAwIixuYXZ5OiIjMDAwMDgwIixvbGl2ZToiIzgwODAwMCIscHVycGxlOiIjODAwMDgwIixyZWQ6IiNmZjAwMDAiLHNpbHZlcjoiI2MwYzBjMCIsdGVhbDoiIzAwODA4MCIsd2hpdGU6IiNmZmZmZmYiLHllbGxvdzoiI2ZmZmYwMCIsdHJhbnNwYXJlbnQ6W251bGwsbnVsbCxudWxsLDBdLF9kZWZhdWx0OiIjZmZmZmZmIn19KHkpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgcix1LGk9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3P3Qub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCk6dC5jdXJyZW50U3R5bGUsZj17fTtpZihpJiZpLmxlbmd0aCYmaVswXSYmaVtpWzBdXSlmb3IodT1pLmxlbmd0aDt1LS07KXI9aVt1XSwic3RyaW5nIj09dHlwZW9mIGlbcl0mJihmW24uY2FtZWxDYXNlKHIpXT1pW3JdKTtlbHNlIGZvcihyIGluIGkpInN0cmluZyI9PXR5cGVvZiBpW3JdJiYoZltyXT1pW3JdKTtyZXR1cm4gZn1mdW5jdGlvbiBpKHQsaSl7dmFyIHIsZixlPXt9O2ZvcihyIGluIGkpZj1pW3JdLHRbcl0hPT1mJiYodVtyXXx8KG4uZnguc3RlcFtyXXx8IWlzTmFOKHBhcnNlRmxvYXQoZikpKSYmKGVbcl09ZikpO3JldHVybiBlfXZhciByPVsiYWRkIiwicmVtb3ZlIiwidG9nZ2xlIl0sdT17Ym9yZGVyOjEsYm9yZGVyQm90dG9tOjEsYm9yZGVyQ29sb3I6MSxib3JkZXJMZWZ0OjEsYm9yZGVyUmlnaHQ6MSxib3JkZXJUb3A6MSxib3JkZXJXaWR0aDoxLG1hcmdpbjoxLHBhZGRpbmc6MX07bi5lYWNoKFsiYm9yZGVyTGVmdFN0eWxlIiwiYm9yZGVyUmlnaHRTdHlsZSIsImJvcmRlckJvdHRvbVN0eWxlIiwiYm9yZGVyVG9wU3R5bGUiXSxmdW5jdGlvbih0LGkpe24uZnguc3RlcFtpXT1mdW5jdGlvbihuKXsoIm5vbmUiPT09bi5lbmR8fG4uc2V0QXR0cikmJigxIT09bi5wb3N8fG4uc2V0QXR0cil8fCh5LnN0eWxlKG4uZWxlbSxpLG4uZW5kKSxuLnNldEF0dHI9ITApfX0pO24uZm4uYWRkQmFja3x8KG4uZm4uYWRkQmFjaz1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09bj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9KTtuLmVmZmVjdHMuYW5pbWF0ZUNsYXNzPWZ1bmN0aW9uKHUsZixlLG8pe3ZhciBzPW4uc3BlZWQoZixlLG8pO3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIG8sZT1uKHRoaXMpLGg9ZS5hdHRyKCJjbGFzcyIpfHwiIixmPXMuY2hpbGRyZW4/ZS5maW5kKCIqIikuYWRkQmFjaygpOmU7Zj1mLm1hcChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyk7cmV0dXJue2VsOmksc3RhcnQ6dCh0aGlzKX19KTtvPWZ1bmN0aW9uKCl7bi5lYWNoKHIsZnVuY3Rpb24obix0KXt1W3RdJiZlW3QrIkNsYXNzIl0odVt0XSl9KX07bygpO2Y9Zi5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmQ9dCh0aGlzLmVsWzBdKSx0aGlzLmRpZmY9aSh0aGlzLnN0YXJ0LHRoaXMuZW5kKSx0aGlzfSk7ZS5hdHRyKCJjbGFzcyIsaCk7Zj1mLm1hcChmdW5jdGlvbigpe3ZhciBpPXRoaXMsdD1uLkRlZmVycmVkKCkscj1uLmV4dGVuZCh7fSxzLHtxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpe3QucmVzb2x2ZShpKX19KTtyZXR1cm4gdGhpcy5lbC5hbmltYXRlKHRoaXMuZGlmZixyKSx0LnByb21pc2UoKX0pO24ud2hlbi5hcHBseShuLGYuZ2V0KCkpLmRvbmUoZnVuY3Rpb24oKXtvKCk7bi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7bi5lYWNoKHRoaXMuZGlmZixmdW5jdGlvbihuKXt0LmNzcyhuLCIiKX0pfSk7cy5jb21wbGV0ZS5jYWxsKGVbMF0pfSl9KX07bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHIsdSxmKXtyZXR1cm4gcj9uLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOml9LHIsdSxmKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KG4uZm4uYWRkQ2xhc3MpLHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHIsdSxmKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xP24uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHtyZW1vdmU6aX0scix1LGYpOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0obi5mbi5yZW1vdmVDbGFzcyksdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkscix1LGYsZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2Ygcnx8dm9pZCAwPT09cj91P24uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHI/e2FkZDppfTp7cmVtb3ZlOml9LHUsZixlKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTpuLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7dG9nZ2xlOml9LHIsdSxmKX19KG4uZm4udG9nZ2xlQ2xhc3MpLHN3aXRjaENsYXNzOmZ1bmN0aW9uKHQsaSxyLHUsZil7cmV0dXJuIG4uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHthZGQ6aSxyZW1vdmU6dH0scix1LGYpfX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGkscix1KXtyZXR1cm4gbi5pc1BsYWluT2JqZWN0KHQpJiYoaT10LHQ9dC5lZmZlY3QpLHQ9e2VmZmVjdDp0fSxudWxsPT1pJiYoaT17fSksbi5pc0Z1bmN0aW9uKGkpJiYodT1pLHI9bnVsbCxpPXt9KSwoIm51bWJlciI9PXR5cGVvZiBpfHxuLmZ4LnNwZWVkc1tpXSkmJih1PXIscj1pLGk9e30pLG4uaXNGdW5jdGlvbihyKSYmKHU9cixyPW51bGwpLGkmJm4uZXh0ZW5kKHQsaSkscj1yfHxpLmR1cmF0aW9uLHQuZHVyYXRpb249bi5meC5vZmY/MDoibnVtYmVyIj09dHlwZW9mIHI/cjpyIGluIG4uZnguc3BlZWRzP24uZnguc3BlZWRzW3JdOm4uZnguc3BlZWRzLl9kZWZhdWx0LHQuY29tcGxldGU9dXx8aS5jb21wbGV0ZSx0fWZ1bmN0aW9uIGkodCl7cmV0dXJuIXR8fCJudW1iZXIiPT10eXBlb2YgdHx8bi5meC5zcGVlZHNbdF0/ITA6InN0cmluZyIhPXR5cGVvZiB0fHxuLmVmZmVjdHMuZWZmZWN0W3RdP24uaXNGdW5jdGlvbih0KT8hMDoib2JqZWN0IiE9dHlwZW9mIHR8fHQuZWZmZWN0PyExOiEwOiEwfWZ1bmN0aW9uIHIobix0KXt2YXIgcj10Lm91dGVyV2lkdGgoKSx1PXQub3V0ZXJIZWlnaHQoKSxpPS9ecmVjdFwoKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pLD9ccyooLT9cZCpcLj9cZCpweHwtP1xkKyV8YXV0byksP1xzKigtP1xkKlwuP1xkKnB4fC0/XGQrJXxhdXRvKSw/XHMqKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pXCkkLy5leGVjKG4pfHxbIiIsMCxyLHUsMF07cmV0dXJue3RvcDpwYXJzZUZsb2F0KGlbMV0pfHwwLHJpZ2h0OiJhdXRvIj09PWlbMl0/cjpwYXJzZUZsb2F0KGlbMl0pLGJvdHRvbToiYXV0byI9PT1pWzNdP3U6cGFyc2VGbG9hdChpWzNdKSxsZWZ0OnBhcnNlRmxvYXQoaVs0XSl8fDB9fW4uZXhwciYmbi5leHByLmZpbHRlcnMmJm4uZXhwci5maWx0ZXJzLmFuaW1hdGVkJiYobi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiEhbihpKS5kYXRhKGgpfHx0KGkpfX0obi5leHByLmZpbHRlcnMuYW5pbWF0ZWQpKTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLmV4dGVuZChuLmVmZmVjdHMse3NhdmU6ZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO3I+aTtpKyspbnVsbCE9PXRbaV0mJm4uZGF0YShmK3RbaV0sblswXS5zdHlsZVt0W2ldXSl9LHJlc3RvcmU6ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsaT0wLHU9dC5sZW5ndGg7dT5pO2krKyludWxsIT09dFtpXSYmKHI9bi5kYXRhKGYrdFtpXSksbi5jc3ModFtpXSxyKSl9LHNldE1vZGU6ZnVuY3Rpb24obix0KXtyZXR1cm4idG9nZ2xlIj09PXQmJih0PW4uaXMoIjpoaWRkZW4iKT8ic2hvdyI6ImhpZGUiKSx0fSxjcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKHQpe2lmKHQucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSlyZXR1cm4gdC5wYXJlbnQoKTt2YXIgaT17d2lkdGg6dC5vdXRlcldpZHRoKCEwKSxoZWlnaHQ6dC5vdXRlckhlaWdodCghMCksZmxvYXQ6dC5jc3MoImZsb2F0Iil9LHU9bigiPGRpdj48XC9kaXY+IikuYWRkQ2xhc3MoInVpLWVmZmVjdHMtd3JhcHBlciIpLmNzcyh7Zm9udFNpemU6IjEwMCUiLGJhY2tncm91bmQ6InRyYW5zcGFyZW50Iixib3JkZXI6Im5vbmUiLG1hcmdpbjowLHBhZGRpbmc6MH0pLGY9e3dpZHRoOnQud2lkdGgoKSxoZWlnaHQ6dC5oZWlnaHQoKX0scj1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3RyeXtyLmlkfWNhdGNoKGUpe3I9ZG9jdW1lbnQuYm9keX1yZXR1cm4gdC53cmFwKHUpLCh0WzBdPT09cnx8bi5jb250YWlucyh0WzBdLHIpKSYmbihyKS50cmlnZ2VyKCJmb2N1cyIpLHU9dC5wYXJlbnQoKSwic3RhdGljIj09PXQuY3NzKCJwb3NpdGlvbiIpPyh1LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pLHQuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSkpOihuLmV4dGVuZChpLHtwb3NpdGlvbjp0LmNzcygicG9zaXRpb24iKSx6SW5kZXg6dC5jc3MoInotaW5kZXgiKX0pLG4uZWFjaChbInRvcCIsImxlZnQiLCJib3R0b20iLCJyaWdodCJdLGZ1bmN0aW9uKG4scil7aVtyXT10LmNzcyhyKTtpc05hTihwYXJzZUludChpW3JdLDEwKSkmJihpW3JdPSJhdXRvIil9KSx0LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIix0b3A6MCxsZWZ0OjAscmlnaHQ6ImF1dG8iLGJvdHRvbToiYXV0byJ9KSksdC5jc3MoZiksdS5jc3MoaSkuc2hvdygpfSxyZW1vdmVXcmFwcGVyOmZ1bmN0aW9uKHQpe3ZhciBpPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7cmV0dXJuIHQucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSYmKHQucGFyZW50KCkucmVwbGFjZVdpdGgodCksKHRbMF09PT1pfHxuLmNvbnRhaW5zKHRbMF0saSkpJiZuKGkpLnRyaWdnZXIoImZvY3VzIikpLHR9fSk7bi5leHRlbmQobi5lZmZlY3RzLHt2ZXJzaW9uOiIxLjEyLjEiLGRlZmluZTpmdW5jdGlvbih0LGkscil7cmV0dXJuIHJ8fChyPWksaT0iZWZmZWN0Iiksbi5lZmZlY3RzLmVmZmVjdFt0XT1yLG4uZWZmZWN0cy5lZmZlY3RbdF0ubW9kZT1pLHJ9LHNjYWxlZERpbWVuc2lvbnM6ZnVuY3Rpb24obix0LGkpe2lmKDA9PT10KXJldHVybntoZWlnaHQ6MCx3aWR0aDowLG91dGVySGVpZ2h0OjAsb3V0ZXJXaWR0aDowfTt2YXIgcj0iaG9yaXpvbnRhbCIhPT1pPyh0fHwxMDApLzEwMDoxLHU9InZlcnRpY2FsIiE9PWk/KHR8fDEwMCkvMTAwOjE7cmV0dXJue2hlaWdodDpuLmhlaWdodCgpKnUsd2lkdGg6bi53aWR0aCgpKnIsb3V0ZXJIZWlnaHQ6bi5vdXRlckhlaWdodCgpKnUsb3V0ZXJXaWR0aDpuLm91dGVyV2lkdGgoKSpyfX0sY2xpcFRvQm94OmZ1bmN0aW9uKG4pe3JldHVybnt3aWR0aDpuLmNsaXAucmlnaHQtbi5jbGlwLmxlZnQsaGVpZ2h0Om4uY2xpcC5ib3R0b20tbi5jbGlwLnRvcCxsZWZ0Om4uY2xpcC5sZWZ0LHRvcDpuLmNsaXAudG9wfX0sdW5zaGlmdDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9bi5xdWV1ZSgpO3Q+MSYmci5zcGxpY2UuYXBwbHkocixbMSwwXS5jb25jYXQoci5zcGxpY2UodCxpKSkpO24uZGVxdWV1ZSgpfSxzYXZlU3R5bGU6ZnVuY3Rpb24obil7bi5kYXRhKHMsblswXS5zdHlsZS5jc3NUZXh0KX0scmVzdG9yZVN0eWxlOmZ1bmN0aW9uKG4pe25bMF0uc3R5bGUuY3NzVGV4dD1uLmRhdGEocyl8fCIiO24ucmVtb3ZlRGF0YShzKX0sbW9kZTpmdW5jdGlvbihuLHQpe3ZhciBpPW4uaXMoIjpoaWRkZW4iKTtyZXR1cm4idG9nZ2xlIj09PXQmJih0PWk/InNob3ciOiJoaWRlIiksKGk/ImhpZGUiPT09dDoic2hvdyI9PT10KSYmKHQ9Im5vbmUiKSx0fSxnZXRCYXNlbGluZTpmdW5jdGlvbihuLHQpe3ZhciBpLHI7c3dpdGNoKG5bMF0pe2Nhc2UidG9wIjppPTA7YnJlYWs7Y2FzZSJtaWRkbGUiOmk9LjU7YnJlYWs7Y2FzZSJib3R0b20iOmk9MTticmVhaztkZWZhdWx0Omk9blswXS90LmhlaWdodH1zd2l0Y2goblsxXSl7Y2FzZSJsZWZ0IjpyPTA7YnJlYWs7Y2FzZSJjZW50ZXIiOnI9LjU7YnJlYWs7Y2FzZSJyaWdodCI6cj0xO2JyZWFrO2RlZmF1bHQ6cj1uWzFdL3Qud2lkdGh9cmV0dXJue3g6cix5Oml9fSxjcmVhdGVQbGFjZWhvbGRlcjpmdW5jdGlvbih0KXt2YXIgaSxyPXQuY3NzKCJwb3NpdGlvbiIpLHU9dC5wb3NpdGlvbigpO3JldHVybiB0LmNzcyh7bWFyZ2luVG9wOnQuY3NzKCJtYXJnaW5Ub3AiKSxtYXJnaW5Cb3R0b206dC5jc3MoIm1hcmdpbkJvdHRvbSIpLG1hcmdpbkxlZnQ6dC5jc3MoIm1hcmdpbkxlZnQiKSxtYXJnaW5SaWdodDp0LmNzcygibWFyZ2luUmlnaHQiKX0pLm91dGVyV2lkdGgodC5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KHQub3V0ZXJIZWlnaHQoKSksL14oc3RhdGljfHJlbGF0aXZlKS8udGVzdChyKSYmKHI9ImFic29sdXRlIixpPW4oIjwiK3RbMF0ubm9kZU5hbWUrIj4iKS5pbnNlcnRBZnRlcih0KS5jc3Moe2Rpc3BsYXk6L14oaW5saW5lfHJ1YnkpLy50ZXN0KHQuY3NzKCJkaXNwbGF5IikpPyJpbmxpbmUtYmxvY2siOiJibG9jayIsdmlzaWJpbGl0eToiaGlkZGVuIixtYXJnaW5Ub3A6dC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpbkJvdHRvbTp0LmNzcygibWFyZ2luQm90dG9tIiksbWFyZ2luTGVmdDp0LmNzcygibWFyZ2luTGVmdCIpLG1hcmdpblJpZ2h0OnQuY3NzKCJtYXJnaW5SaWdodCIpLGZsb2F0OnQuY3NzKCJmbG9hdCIpfSkub3V0ZXJXaWR0aCh0Lm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQodC5vdXRlckhlaWdodCgpKS5hZGRDbGFzcygidWktZWZmZWN0cy1wbGFjZWhvbGRlciIpLHQuZGF0YShmKyJwbGFjZWhvbGRlciIsaSkpLHQuY3NzKHtwb3NpdGlvbjpyLGxlZnQ6dS5sZWZ0LHRvcDp1LnRvcH0pLGl9LHJlbW92ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKG4pe3ZhciB0PWYrInBsYWNlaG9sZGVyIixpPW4uZGF0YSh0KTtpJiYoaS5yZW1vdmUoKSxuLnJlbW92ZURhdGEodCkpfSxjbGVhblVwOmZ1bmN0aW9uKHQpe24uZWZmZWN0cy5yZXN0b3JlU3R5bGUodCk7bi5lZmZlY3RzLnJlbW92ZVBsYWNlaG9sZGVyKHQpfSxzZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKHQsaSxyLHUpe3JldHVybiB1PXV8fHt9LG4uZWFjaChpLGZ1bmN0aW9uKG4saSl7dmFyIGY9dC5jc3NVbml0KGkpO2ZbMF0+MCYmKHVbaV09ZlswXSpyK2ZbMV0pfSksdX19KTtuLmZuLmV4dGVuZCh7ZWZmZWN0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gbyh0KXtmdW5jdGlvbiBjKCl7by5yZW1vdmVEYXRhKGgpO24uZWZmZWN0cy5jbGVhblVwKG8pOyJoaWRlIj09PWkubW9kZSYmby5oaWRlKCk7cygpfWZ1bmN0aW9uIHMoKXtuLmlzRnVuY3Rpb24oZikmJmYuY2FsbChvWzBdKTtuLmlzRnVuY3Rpb24odCkmJnQoKX12YXIgbz1uKHRoaXMpO2kubW9kZT1sLnNoaWZ0KCk7bi51aUJhY2tDb21wYXQ9PT0hMXx8dT8ibm9uZSI9PT1pLm1vZGU/KG9bcl0oKSxzKCkpOmUuY2FsbChvWzBdLGksYyk6KG8uaXMoIjpoaWRkZW4iKT8iaGlkZSI9PT1yOiJzaG93Ij09PXIpPyhvW3JdKCkscygpKTplLmNhbGwob1swXSxpLHMpfXZhciBpPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9bi5lZmZlY3RzLmVmZmVjdFtpLmVmZmVjdF0sdT1lLm1vZGUscz1pLnF1ZXVlLGM9c3x8ImZ4IixmPWkuY29tcGxldGUscj1pLm1vZGUsbD1bXSxhPWZ1bmN0aW9uKHQpe3ZhciBmPW4odGhpcyksaT1uLmVmZmVjdHMubW9kZShmLHIpfHx1O2YuZGF0YShoLCEwKTtsLnB1c2goaSk7dSYmKCJzaG93Ij09PWl8fGk9PT11JiYiaGlkZSI9PT1pKSYmZi5zaG93KCk7dSYmIm5vbmUiPT09aXx8bi5lZmZlY3RzLnNhdmVTdHlsZShmKTtuLmlzRnVuY3Rpb24odCkmJnQoKX07cmV0dXJuIG4uZngub2ZmfHwhZT9yP3RoaXNbcl0oaS5kdXJhdGlvbixmKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtmJiZmLmNhbGwodGhpcyl9KTpzPT09ITE/dGhpcy5lYWNoKGEpLmVhY2gobyk6dGhpcy5xdWV1ZShjLGEpLnF1ZXVlKGMsbyl9LHNob3c6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkocikpcmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB1PXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1Lm1vZGU9InNob3ciLHRoaXMuZWZmZWN0LmNhbGwodGhpcyx1KX19KG4uZm4uc2hvdyksaGlkZTpmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYoaShyKSlyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHUubW9kZT0iaGlkZSIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLHUpfX0obi5mbi5oaWRlKSx0b2dnbGU6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkocil8fCJib29sZWFuIj09dHlwZW9mIHIpcmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB1PXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1Lm1vZGU9InRvZ2dsZSIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLHUpfX0obi5mbi50b2dnbGUpLGNzc1VuaXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jc3ModCkscj1bXTtyZXR1cm4gbi5lYWNoKFsiZW0iLCJweCIsIiUiLCJwdCJdLGZ1bmN0aW9uKG4sdCl7aS5pbmRleE9mKHQpPjAmJihyPVtwYXJzZUZsb2F0KGkpLHRdKX0pLHJ9LGNzc0NsaXA6ZnVuY3Rpb24obil7cmV0dXJuIG4/dGhpcy5jc3MoImNsaXAiLCJyZWN0KCIrbi50b3ArInB4ICIrbi5yaWdodCsicHggIituLmJvdHRvbSsicHggIituLmxlZnQrInB4KSIpOnIodGhpcy5jc3MoImNsaXAiKSx0aGlzKX0sdHJhbnNmZXI6ZnVuY3Rpb24odCxpKXt2YXIgdT1uKHRoaXMpLHI9bih0LnRvKSxmPSJmaXhlZCI9PT1yLmNzcygicG9zaXRpb24iKSxlPW4oImJvZHkiKSxvPWY/ZS5zY3JvbGxUb3AoKTowLHM9Zj9lLnNjcm9sbExlZnQoKTowLGg9ci5vZmZzZXQoKSxsPXt0b3A6aC50b3AtbyxsZWZ0OmgubGVmdC1zLGhlaWdodDpyLmlubmVySGVpZ2h0KCksd2lkdGg6ci5pbm5lcldpZHRoKCl9LGM9dS5vZmZzZXQoKSxhPW4oIjxkaXYgY2xhc3M9J3VpLWVmZmVjdHMtdHJhbnNmZXInPjxcL2Rpdj4iKS5hcHBlbmRUbygiYm9keSIpLmFkZENsYXNzKHQuY2xhc3NOYW1lKS5jc3Moe3RvcDpjLnRvcC1vLGxlZnQ6Yy5sZWZ0LXMsaGVpZ2h0OnUuaW5uZXJIZWlnaHQoKSx3aWR0aDp1LmlubmVyV2lkdGgoKSxwb3NpdGlvbjpmPyJmaXhlZCI6ImFic29sdXRlIn0pLmFuaW1hdGUobCx0LmR1cmF0aW9uLHQuZWFzaW5nLGZ1bmN0aW9uKCl7YS5yZW1vdmUoKTtuLmlzRnVuY3Rpb24oaSkmJmkoKX0pfX0pO24uZnguc3RlcC5jbGlwPWZ1bmN0aW9uKHQpe3QuY2xpcEluaXR8fCh0LnN0YXJ0PW4odC5lbGVtKS5jc3NDbGlwKCksInN0cmluZyI9PXR5cGVvZiB0LmVuZCYmKHQuZW5kPXIodC5lbmQsdC5lbGVtKSksdC5jbGlwSW5pdD0hMCk7bih0LmVsZW0pLmNzc0NsaXAoe3RvcDp0LnBvcyoodC5lbmQudG9wLXQuc3RhcnQudG9wKSt0LnN0YXJ0LnRvcCxyaWdodDp0LnBvcyoodC5lbmQucmlnaHQtdC5zdGFydC5yaWdodCkrdC5zdGFydC5yaWdodCxib3R0b206dC5wb3MqKHQuZW5kLmJvdHRvbS10LnN0YXJ0LmJvdHRvbSkrdC5zdGFydC5ib3R0b20sbGVmdDp0LnBvcyoodC5lbmQubGVmdC10LnN0YXJ0LmxlZnQpK3Quc3RhcnQubGVmdH0pfX0oKSxmdW5jdGlvbigpe3ZhciB0PXt9O24uZWFjaChbIlF1YWQiLCJDdWJpYyIsIlF1YXJ0IiwiUXVpbnQiLCJFeHBvIl0sZnVuY3Rpb24obixpKXt0W2ldPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LG4rMil9fSk7bi5leHRlbmQodCx7U2luZTpmdW5jdGlvbihuKXtyZXR1cm4gMS1NYXRoLmNvcyhuKk1hdGguUEkvMil9LENpcmM6ZnVuY3Rpb24obil7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtbipuKX0sRWxhc3RpYzpmdW5jdGlvbihuKXtyZXR1cm4gMD09PW58fDE9PT1uP246LU1hdGgucG93KDIsOCoobi0xKSkqTWF0aC5zaW4oKDgwKihuLTEpLTcuNSkqTWF0aC5QSS8xNSl9LEJhY2s6ZnVuY3Rpb24obil7cmV0dXJuIG4qbiooMypuLTIpfSxCb3VuY2U6ZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9NDsoKHQ9TWF0aC5wb3coMiwtLWkpKS0xKS8xMT5uOyk7cmV0dXJuIDEvTWF0aC5wb3coNCwzLWkpLTcuNTYyNSpNYXRoLnBvdygoMyp0LTIpLzIyLW4sMil9fSk7bi5lYWNoKHQsZnVuY3Rpb24odCxpKXtuLmVhc2luZ1siZWFzZUluIit0XT1pO24uZWFzaW5nWyJlYXNlT3V0Iit0XT1mdW5jdGlvbihuKXtyZXR1cm4gMS1pKDEtbil9O24uZWFzaW5nWyJlYXNlSW5PdXQiK3RdPWZ1bmN0aW9uKG4pe3JldHVybi41Pm4/aSgyKm4pLzI6MS1pKC0yKm4rMikvMn19KX0oKTtwPW4uZWZmZWN0cztuLmVmZmVjdHMuZGVmaW5lKCJibGluZCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIGU9e3VwOlsiYm90dG9tIiwidG9wIl0sdmVydGljYWw6WyJib3R0b20iLCJ0b3AiXSxkb3duOlsidG9wIiwiYm90dG9tIl0sbGVmdDpbInJpZ2h0IiwibGVmdCJdLGhvcml6b250YWw6WyJyaWdodCIsImxlZnQiXSxyaWdodDpbImxlZnQiLCJyaWdodCJdfSx1PW4odGhpcyksbz10LmRpcmVjdGlvbnx8InVwIixzPXUuY3NzQ2xpcCgpLHI9e2NsaXA6bi5leHRlbmQoe30scyl9LGY9bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpO3IuY2xpcFtlW29dWzBdXT1yLmNsaXBbZVtvXVsxXV07InNob3ciPT09dC5tb2RlJiYodS5jc3NDbGlwKHIuY2xpcCksZiYmZi5jc3Mobi5lZmZlY3RzLmNsaXBUb0JveChyKSksci5jbGlwPXMpO2YmJmYuYW5pbWF0ZShuLmVmZmVjdHMuY2xpcFRvQm94KHIpLHQuZHVyYXRpb24sdC5lYXNpbmcpO3UuYW5pbWF0ZShyLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJib3VuY2UiLGZ1bmN0aW9uKHQsaSl7dmFyIGUsbyxhLHU9bih0aGlzKSxwPXQubW9kZSxzPSJoaWRlIj09PXAsdz0ic2hvdyI9PT1wLGg9dC5kaXJlY3Rpb258fCJ1cCIscj10LmRpc3RhbmNlLHY9dC50aW1lc3x8NSxiPTIqdisod3x8cz8xOjApLGM9dC5kdXJhdGlvbi9iLGw9dC5lYXNpbmcsZj0idXAiPT09aHx8ImRvd24iPT09aD8idG9wIjoibGVmdCIseT0idXAiPT09aHx8ImxlZnQiPT09aCxrPTAsZD11LnF1ZXVlKCkubGVuZ3RoO2ZvcihuLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIodSksYT11LmNzcyhmKSxyfHwocj11WyJ0b3AiPT09Zj8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oKS8zKSx3JiYobz17b3BhY2l0eToxfSxvW2ZdPWEsdS5jc3MoIm9wYWNpdHkiLDApLmNzcyhmLHk/MiotcjoyKnIpLmFuaW1hdGUobyxjLGwpKSxzJiYoci89TWF0aC5wb3coMix2LTEpKSxvPXt9LG9bZl09YTt2Pms7aysrKWU9e30sZVtmXT0oeT8iLT0iOiIrPSIpK3IsdS5hbmltYXRlKGUsYyxsKS5hbmltYXRlKG8sYyxsKSxyPXM/MipyOnIvMjtzJiYoZT17b3BhY2l0eTowfSxlW2ZdPSh5PyItPSI6Iis9Iikrcix1LmFuaW1hdGUoZSxjLGwpKTt1LnF1ZXVlKGkpO24uZWZmZWN0cy51bnNoaWZ0KHUsZCxiKzEpfSk7bi5lZmZlY3RzLmRlZmluZSgiY2xpcCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIHIsdT17fSxmPW4odGhpcyksZT10LmRpcmVjdGlvbnx8InZlcnRpY2FsIixvPSJib3RoIj09PWUscz1vfHwiaG9yaXpvbnRhbCI9PT1lLGg9b3x8InZlcnRpY2FsIj09PWU7cj1mLmNzc0NsaXAoKTt1LmNsaXA9e3RvcDpoPyhyLmJvdHRvbS1yLnRvcCkvMjpyLnRvcCxyaWdodDpzPyhyLnJpZ2h0LXIubGVmdCkvMjpyLnJpZ2h0LGJvdHRvbTpoPyhyLmJvdHRvbS1yLnRvcCkvMjpyLmJvdHRvbSxsZWZ0OnM/KHIucmlnaHQtci5sZWZ0KS8yOnIubGVmdH07bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKGYpOyJzaG93Ij09PXQubW9kZSYmKGYuY3NzQ2xpcCh1LmNsaXApLHUuY2xpcD1yKTtmLmFuaW1hdGUodSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZHJvcCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIGUsdT1uKHRoaXMpLGg9dC5tb2RlLGM9InNob3ciPT09aCxmPXQuZGlyZWN0aW9ufHwibGVmdCIsbz0idXAiPT09Znx8ImRvd24iPT09Zj8idG9wIjoibGVmdCIscz0idXAiPT09Znx8ImxlZnQiPT09Zj8iLT0iOiIrPSIsbD0iKz0iPT09cz8iLT0iOiIrPSIscj17b3BhY2l0eTowfTtuLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIodSk7ZT10LmRpc3RhbmNlfHx1WyJ0b3AiPT09bz8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLzI7cltvXT1zK2U7YyYmKHUuY3NzKHIpLHJbb109bCtlLHIub3BhY2l0eT0xKTt1LmFuaW1hdGUocix7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZXhwbG9kZSIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gYigpe3AucHVzaCh0aGlzKTtwLmxlbmd0aD09PWUqYyYmaygpfWZ1bmN0aW9uIGsoKXtvLmNzcyh7dmlzaWJpbGl0eToidmlzaWJsZSJ9KTtuKHApLnJlbW92ZSgpO2koKX1mb3IodmFyIHUsbCxhLHYseSxlPXQucGllY2VzP01hdGgucm91bmQoTWF0aC5zcXJ0KHQucGllY2VzKSk6MyxjPWUsbz1uKHRoaXMpLGQ9dC5tb2RlLGY9InNob3ciPT09ZCx3PW8uc2hvdygpLmNzcygidmlzaWJpbGl0eSIsImhpZGRlbiIpLm9mZnNldCgpLHM9TWF0aC5jZWlsKG8ub3V0ZXJXaWR0aCgpL2MpLGg9TWF0aC5jZWlsKG8ub3V0ZXJIZWlnaHQoKS9lKSxwPVtdLHI9MDtlPnI7cisrKWZvcihhPXcudG9wK3IqaCx5PXItKGUtMSkvMix1PTA7Yz51O3UrKylsPXcubGVmdCt1KnMsdj11LShjLTEpLzIsby5jbG9uZSgpLmFwcGVuZFRvKCJib2R5Iikud3JhcCgiPGRpdj48XC9kaXY+IikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6InZpc2libGUiLGxlZnQ6LXUqcyx0b3A6LXIqaH0pLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1lZmZlY3RzLWV4cGxvZGUiKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsb3ZlcmZsb3c6ImhpZGRlbiIsd2lkdGg6cyxoZWlnaHQ6aCxsZWZ0OmwrKGY/dipzOjApLHRvcDphKyhmP3kqaDowKSxvcGFjaXR5OmY/MDoxfSkuYW5pbWF0ZSh7bGVmdDpsKyhmPzA6dipzKSx0b3A6YSsoZj8wOnkqaCksb3BhY2l0eTpmPzE6MH0sdC5kdXJhdGlvbnx8NTAwLHQuZWFzaW5nLGIpfSk7bi5lZmZlY3RzLmRlZmluZSgiZmFkZSIsInRvZ2dsZSIsZnVuY3Rpb24odCxpKXt2YXIgcj0ic2hvdyI9PT10Lm1vZGU7bih0aGlzKS5jc3MoIm9wYWNpdHkiLHI/MDoxKS5hbmltYXRlKHtvcGFjaXR5OnI/MTowfSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZm9sZCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIHU9bih0aGlzKSxsPXQubW9kZSx2PSJzaG93Ij09PWwseT0iaGlkZSI9PT1sLG89dC5zaXplfHwxNSxhPS8oWzAtOV0rKSUvLmV4ZWMobykscD0hIXQuaG9yaXpGaXJzdCxmPXA/WyJyaWdodCIsImJvdHRvbSJdOlsiYm90dG9tIiwicmlnaHQiXSxzPXQuZHVyYXRpb24vMixoPW4uZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcih1KSxlPXUuY3NzQ2xpcCgpLGM9e2NsaXA6bi5leHRlbmQoe30sZSl9LHI9e2NsaXA6bi5leHRlbmQoe30sZSl9LHc9W2VbZlswXV0sZVtmWzFdXV0sYj11LnF1ZXVlKCkubGVuZ3RoO2EmJihvPXBhcnNlSW50KGFbMV0sMTApLzEwMCp3W3k/MDoxXSk7Yy5jbGlwW2ZbMF1dPW87ci5jbGlwW2ZbMF1dPW87ci5jbGlwW2ZbMV1dPTA7diYmKHUuY3NzQ2xpcChyLmNsaXApLGgmJmguY3NzKG4uZWZmZWN0cy5jbGlwVG9Cb3gocikpLHIuY2xpcD1lKTt1LnF1ZXVlKGZ1bmN0aW9uKGkpe2gmJmguYW5pbWF0ZShuLmVmZmVjdHMuY2xpcFRvQm94KGMpLHMsdC5lYXNpbmcpLmFuaW1hdGUobi5lZmZlY3RzLmNsaXBUb0JveChyKSxzLHQuZWFzaW5nKTtpKCl9KS5hbmltYXRlKGMscyx0LmVhc2luZykuYW5pbWF0ZShyLHMsdC5lYXNpbmcpLnF1ZXVlKGkpO24uZWZmZWN0cy51bnNoaWZ0KHUsYiw0KX0pO24uZWZmZWN0cy5kZWZpbmUoImhpZ2hsaWdodCIsInNob3ciLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKSx1PXtiYWNrZ3JvdW5kQ29sb3I6ci5jc3MoImJhY2tncm91bmRDb2xvciIpfTsiaGlkZSI9PT10Lm1vZGUmJih1Lm9wYWNpdHk9MCk7bi5lZmZlY3RzLnNhdmVTdHlsZShyKTtyLmNzcyh7YmFja2dyb3VuZEltYWdlOiJub25lIixiYWNrZ3JvdW5kQ29sb3I6dC5jb2xvcnx8IiNmZmZmOTkifSkuYW5pbWF0ZSh1LHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzaXplIixmdW5jdGlvbih0LGkpe3ZhciBsLHIscCx1PW4odGhpcyksdj1bImZvbnRTaXplIl0scz1bImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSJdLGg9WyJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiXSx3PXQubW9kZSx5PSJlZmZlY3QiIT09dyxjPXQuc2NhbGV8fCJib3RoIixiPXQub3JpZ2lufHxbIm1pZGRsZSIsImNlbnRlciJdLGs9dS5jc3MoInBvc2l0aW9uIiksYT11LnBvc2l0aW9uKCksbz1uLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyh1KSxmPXQuZnJvbXx8byxlPXQudG98fG4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUsMCk7bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpOyJzaG93Ij09PXcmJihwPWYsZj1lLGU9cCk7cj17ZnJvbTp7eTpmLmhlaWdodC9vLmhlaWdodCx4OmYud2lkdGgvby53aWR0aH0sdG86e3k6ZS5oZWlnaHQvby5oZWlnaHQseDplLndpZHRoL28ud2lkdGh9fTsoImJveCI9PT1jfHwiYm90aCI9PT1jKSYmKHIuZnJvbS55IT09ci50by55JiYoZj1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHMsci5mcm9tLnksZiksZT1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHMsci50by55LGUpKSxyLmZyb20ueCE9PXIudG8ueCYmKGY9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxoLHIuZnJvbS54LGYpLGU9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxoLHIudG8ueCxlKSkpOygiY29udGVudCI9PT1jfHwiYm90aCI9PT1jKSYmci5mcm9tLnkhPT1yLnRvLnkmJihmPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsdixyLmZyb20ueSxmKSxlPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsdixyLnRvLnksZSkpO2ImJihsPW4uZWZmZWN0cy5nZXRCYXNlbGluZShiLG8pLGYudG9wPShvLm91dGVySGVpZ2h0LWYub3V0ZXJIZWlnaHQpKmwueSthLnRvcCxmLmxlZnQ9KG8ub3V0ZXJXaWR0aC1mLm91dGVyV2lkdGgpKmwueCthLmxlZnQsZS50b3A9KG8ub3V0ZXJIZWlnaHQtZS5vdXRlckhlaWdodCkqbC55K2EudG9wLGUubGVmdD0oby5vdXRlcldpZHRoLWUub3V0ZXJXaWR0aCkqbC54K2EubGVmdCk7dS5jc3MoZik7KCJjb250ZW50Ij09PWN8fCJib3RoIj09PWMpJiYocz1zLmNvbmNhdChbIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSJdKS5jb25jYXQodiksaD1oLmNvbmNhdChbIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCJdKSx1LmZpbmQoIipbd2lkdGhdIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyksdT1uLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyhpKSxmPXtoZWlnaHQ6dS5oZWlnaHQqci5mcm9tLnksd2lkdGg6dS53aWR0aCpyLmZyb20ueCxvdXRlckhlaWdodDp1Lm91dGVySGVpZ2h0KnIuZnJvbS55LG91dGVyV2lkdGg6dS5vdXRlcldpZHRoKnIuZnJvbS54fSxlPXtoZWlnaHQ6dS5oZWlnaHQqci50by55LHdpZHRoOnUud2lkdGgqci50by54LG91dGVySGVpZ2h0OnUuaGVpZ2h0KnIudG8ueSxvdXRlcldpZHRoOnUud2lkdGgqci50by54fTtyLmZyb20ueSE9PXIudG8ueSYmKGY9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24oaSxzLHIuZnJvbS55LGYpLGU9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24oaSxzLHIudG8ueSxlKSk7ci5mcm9tLnghPT1yLnRvLngmJihmPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksaCxyLmZyb20ueCxmKSxlPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksaCxyLnRvLngsZSkpO3kmJm4uZWZmZWN0cy5zYXZlU3R5bGUoaSk7aS5jc3MoZik7aS5hbmltYXRlKGUsdC5kdXJhdGlvbix0LmVhc2luZyxmdW5jdGlvbigpe3kmJm4uZWZmZWN0cy5yZXN0b3JlU3R5bGUoaSl9KX0pKTt1LmFuaW1hdGUoZSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgdD11Lm9mZnNldCgpOzA9PT1lLm9wYWNpdHkmJnUuY3NzKCJvcGFjaXR5IixmLm9wYWNpdHkpO3l8fCh1LmNzcygicG9zaXRpb24iLCJzdGF0aWMiPT09az8icmVsYXRpdmUiOmspLm9mZnNldCh0KSxuLmVmZmVjdHMuc2F2ZVN0eWxlKHUpKTtpKCl9fSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzY2FsZSIsZnVuY3Rpb24odCxpKXt2YXIgdT1uKHRoaXMpLGY9dC5tb2RlLGU9cGFyc2VJbnQodC5wZXJjZW50LDEwKXx8KDA9PT1wYXJzZUludCh0LnBlcmNlbnQsMTApPzA6ImVmZmVjdCIhPT1mPzA6MTAwKSxyPW4uZXh0ZW5kKCEwLHtmcm9tOm4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUpLHRvOm4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUsZSx0LmRpcmVjdGlvbnx8ImJvdGgiKSxvcmlnaW46dC5vcmlnaW58fFsibWlkZGxlIiwiY2VudGVyIl19LHQpO3QuZmFkZSYmKHIuZnJvbS5vcGFjaXR5PTEsci50by5vcGFjaXR5PTApO24uZWZmZWN0cy5lZmZlY3Quc2l6ZS5jYWxsKHRoaXMscixpKX0pO24uZWZmZWN0cy5kZWZpbmUoInB1ZmYiLCJoaWRlIixmdW5jdGlvbih0LGkpe3ZhciByPW4uZXh0ZW5kKCEwLHt9LHQse2ZhZGU6ITAscGVyY2VudDpwYXJzZUludCh0LnBlcmNlbnQsMTApfHwxNTB9KTtuLmVmZmVjdHMuZWZmZWN0LnNjYWxlLmNhbGwodGhpcyxyLGkpfSk7bi5lZmZlY3RzLmRlZmluZSgicHVsc2F0ZSIsInNob3ciLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKSxlPXQubW9kZSxvPSJzaG93Ij09PWUsYz0iaGlkZSI9PT1lLGw9b3x8YyxmPTIqKHQudGltZXN8fDUpKyhsPzE6MCkscz10LmR1cmF0aW9uL2YsdT0wLGg9MSxhPXIucXVldWUoKS5sZW5ndGg7Zm9yKChvfHwhci5pcygiOnZpc2libGUiKSkmJihyLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLHU9MSk7Zj5oO2grKylyLmFuaW1hdGUoe29wYWNpdHk6dX0scyx0LmVhc2luZyksdT0xLXU7ci5hbmltYXRlKHtvcGFjaXR5OnV9LHMsdC5lYXNpbmcpO3IucXVldWUoaSk7bi5lZmZlY3RzLnVuc2hpZnQocixhLGYrMSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzaGFrZSIsZnVuY3Rpb24odCxpKXt2YXIgbD0xLHI9bih0aGlzKSxmPXQuZGlyZWN0aW9ufHwibGVmdCIsZT10LmRpc3RhbmNlfHwyMCxhPXQudGltZXN8fDMsdj0yKmErMSx1PU1hdGgucm91bmQodC5kdXJhdGlvbi92KSxvPSJ1cCI9PT1mfHwiZG93biI9PT1mPyJ0b3AiOiJsZWZ0IixzPSJ1cCI9PT1mfHwibGVmdCI9PT1mLGg9e30sYz17fSx5PXt9LHA9ci5xdWV1ZSgpLmxlbmd0aDtmb3Iobi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHIpLGhbb109KHM/Ii09IjoiKz0iKStlLGNbb109KHM/Iis9IjoiLT0iKSsyKmUseVtvXT0ocz8iLT0iOiIrPSIpKzIqZSxyLmFuaW1hdGUoaCx1LHQuZWFzaW5nKTthPmw7bCsrKXIuYW5pbWF0ZShjLHUsdC5lYXNpbmcpLmFuaW1hdGUoeSx1LHQuZWFzaW5nKTtyLmFuaW1hdGUoYyx1LHQuZWFzaW5nKS5hbmltYXRlKGgsdS8yLHQuZWFzaW5nKS5xdWV1ZShpKTtuLmVmZmVjdHMudW5zaGlmdChyLHAsdisxKX0pO24uZWZmZWN0cy5kZWZpbmUoInNsaWRlIiwic2hvdyIsZnVuY3Rpb24odCxpKXt2YXIgcyxvLHU9bih0aGlzKSxoPXt1cDpbImJvdHRvbSIsInRvcCJdLGRvd246WyJ0b3AiLCJib3R0b20iXSxsZWZ0OlsicmlnaHQiLCJsZWZ0Il0scmlnaHQ6WyJsZWZ0IiwicmlnaHQiXX0sYz10Lm1vZGUsZj10LmRpcmVjdGlvbnx8ImxlZnQiLGU9InVwIj09PWZ8fCJkb3duIj09PWY/InRvcCI6ImxlZnQiLGw9InVwIj09PWZ8fCJsZWZ0Ij09PWYsYT10LmRpc3RhbmNlfHx1WyJ0b3AiPT09ZT8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLHI9e307bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpO3M9dS5jc3NDbGlwKCk7bz11LnBvc2l0aW9uKClbZV07cltlXT0obD8tMToxKSphK287ci5jbGlwPXUuY3NzQ2xpcCgpO3IuY2xpcFtoW2ZdWzFdXT1yLmNsaXBbaFtmXVswXV07InNob3ciPT09YyYmKHUuY3NzQ2xpcChyLmNsaXApLHUuY3NzKGUscltlXSksci5jbGlwPXMscltlXT1vKTt1LmFuaW1hdGUocix7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi51aUJhY2tDb21wYXQhPT0hMSYmKHA9bi5lZmZlY3RzLmRlZmluZSgidHJhbnNmZXIiLGZ1bmN0aW9uKHQsaSl7bih0aGlzKS50cmFuc2Zlcih0LGkpfSkpO24udWkuZm9jdXNhYmxlPWZ1bmN0aW9uKHQsaSl7dmFyIHUsZixlLHIsbyxzPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iYXJlYSI9PT1zPyh1PXQucGFyZW50Tm9kZSxmPXUubmFtZSx0LmhyZWYmJmYmJiJtYXAiPT09dS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPyhlPW4oImltZ1t1c2VtYXA9JyMiK2YrIiddIiksZS5sZW5ndGg+MCYmZS5pcygiOnZpc2libGUiKSk6ITEpOigvXihpbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkLy50ZXN0KHMpPyhyPSF0LmRpc2FibGVkLHImJihvPW4odCkuY2xvc2VzdCgiZmllbGRzZXQiKVswXSxvJiYocj0hby5kaXNhYmxlZCkpKTpyPSJhIj09PXM/dC5ocmVmfHxpOmksciYmbih0KS5pcygiOnZpc2libGUiKSYmYihuKHQpKSl9O24uZXh0ZW5kKG4uZXhwclsiOiJdLHtmb2N1c2FibGU6ZnVuY3Rpb24odCl7cmV0dXJuIG4udWkuZm9jdXNhYmxlKHQsbnVsbCE9bi5hdHRyKHQsInRhYmluZGV4IikpfX0pO24udWkuZm9jdXNhYmxlO24uZm4uZm9ybT1mdW5jdGlvbigpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdGhpc1swXS5mb3JtP3RoaXMuY2xvc2VzdCgiZm9ybSIpOm4odGhpc1swXS5mb3JtKX07bi51aS5mb3JtUmVzZXRNaXhpbj17X2Zvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaT10LmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIik7bi5lYWNoKGksZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0pfSl9LF9iaW5kRm9ybVJlc2V0SGFuZGxlcjpmdW5jdGlvbigpe2lmKHRoaXMuZm9ybT10aGlzLmVsZW1lbnQuZm9ybSgpLHRoaXMuZm9ybS5sZW5ndGgpe3ZhciBuPXRoaXMuZm9ybS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpfHxbXTtuLmxlbmd0aHx8dGhpcy5mb3JtLm9uKCJyZXNldC51aS1mb3JtLXJlc2V0Iix0aGlzLl9mb3JtUmVzZXRIYW5kbGVyKTtuLnB1c2godGhpcyk7dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIixuKX19LF91bmJpbmRGb3JtUmVzZXRIYW5kbGVyOmZ1bmN0aW9uKCl7aWYodGhpcy5mb3JtLmxlbmd0aCl7dmFyIHQ9dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIik7dC5zcGxpY2Uobi5pbkFycmF5KHRoaXMsdCksMSk7dC5sZW5ndGg/dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIix0KTp0aGlzLmZvcm0ucmVtb3ZlRGF0YSgidWktZm9ybS1yZXNldC1pbnN0YW5jZXMiKS5vZmYoInJlc2V0LnVpLWZvcm0tcmVzZXQiKX19fTsiMS43Ij09PW4uZm4uanF1ZXJ5LnN1YnN0cmluZygwLDMpJiYobi5lYWNoKFsiV2lkdGgiLCJIZWlnaHQiXSxmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIHIodCxpLHIsdSl7cmV0dXJuIG4uZWFjaChlLGZ1bmN0aW9uKCl7aS09cGFyc2VGbG9hdChuLmNzcyh0LCJwYWRkaW5nIit0aGlzKSl8fDA7ciYmKGktPXBhcnNlRmxvYXQobi5jc3ModCwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MCk7dSYmKGktPXBhcnNlRmxvYXQobi5jc3ModCwibWFyZ2luIit0aGlzKSl8fDApfSksaX12YXIgZT0iV2lkdGgiPT09aT9bIkxlZnQiLCJSaWdodCJdOlsiVG9wIiwiQm90dG9tIl0sdT1pLnRvTG93ZXJDYXNlKCksZj17aW5uZXJXaWR0aDpuLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6bi5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOm4uZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDpuLmZuLm91dGVySGVpZ2h0fTtuLmZuWyJpbm5lciIraV09ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQ/ZlsiaW5uZXIiK2ldLmNhbGwodGhpcyk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jc3ModSxyKHRoaXMsdCkrInB4Iil9KX07bi5mblsib3V0ZXIiK2ldPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiB0P2ZbIm91dGVyIitpXS5jYWxsKHRoaXMsdCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jc3ModSxyKHRoaXMsdCwhMCxlKSsicHgiKX0pfX0pLG4uZm4uYWRkQmFjaz1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09bj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9KTtuLnVpLmtleUNvZGU9e0JBQ0tTUEFDRTo4LENPTU1BOjE4OCxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsTEVGVDozNyxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNQQUNFOjMyLFRBQjo5LFVQOjM4fTtuLnVpLmVzY2FwZVNlbGVjdG9yPWZ1bmN0aW9uKCl7dmFyIG49LyhbISIjJCUmJygpKissLlwvOjs8PT4/QFtcXV5ge3x9fl0pL2c7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UobiwiXFwkMSIpfX0oKTtuLmZuLmxhYmVscz1mdW5jdGlvbigpe3ZhciB0LHIsdSxpLGY7cmV0dXJuIHRoaXNbMF0ubGFiZWxzJiZ0aGlzWzBdLmxhYmVscy5sZW5ndGg/dGhpcy5wdXNoU3RhY2sodGhpc1swXS5sYWJlbHMpOihpPXRoaXMuZXEoMCkucGFyZW50cygibGFiZWwiKSx1PXRoaXMuYXR0cigiaWQiKSx1JiYodD10aGlzLmVxKDApLnBhcmVudHMoKS5sYXN0KCksZj10LmFkZCh0Lmxlbmd0aD90LnNpYmxpbmdzKCk6dGhpcy5zaWJsaW5ncygpKSxyPSJsYWJlbFtmb3I9JyIrbi51aS5lc2NhcGVTZWxlY3Rvcih1KSsiJ10iLGk9aS5hZGQoZi5maW5kKHIpLmFkZEJhY2socikpKSx0aGlzLnB1c2hTdGFjayhpKSl9O24uZm4uc2Nyb2xsUGFyZW50PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY3NzKCJwb3NpdGlvbiIpLHU9ImFic29sdXRlIj09PWksZj10Py8oYXV0b3xzY3JvbGx8aGlkZGVuKS86LyhhdXRvfHNjcm9sbCkvLHI9dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gdSYmInN0YXRpYyI9PT10LmNzcygicG9zaXRpb24iKT8hMTpmLnRlc3QodC5jc3MoIm92ZXJmbG93IikrdC5jc3MoIm92ZXJmbG93LXkiKSt0LmNzcygib3ZlcmZsb3cteCIpKX0pLmVxKDApO3JldHVybiJmaXhlZCIhPT1pJiZyLmxlbmd0aD9yOm4odGhpc1swXS5vd25lckRvY3VtZW50fHxkb2N1bWVudCl9O24uZXh0ZW5kKG4uZXhwclsiOiJdLHt0YWJiYWJsZTpmdW5jdGlvbih0KXt2YXIgaT1uLmF0dHIodCwidGFiaW5kZXgiKSxyPW51bGwhPWk7cmV0dXJuKCFyfHxpPj0wKSYmbi51aS5mb2N1c2FibGUodCxyKX19KTtuLmZuLmV4dGVuZCh7dW5pcXVlSWQ6ZnVuY3Rpb24oKXt2YXIgbj0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD0idWktaWQtIisgKytuKX0pfX0oKSxyZW1vdmVVbmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsvXnVpLWlkLVxkKyQvLnRlc3QodGhpcy5pZCkmJm4odGhpcykucmVtb3ZlQXR0cigiaWQiKX0pfX0pO24ud2lkZ2V0KCJ1aS5hY2NvcmRpb24iLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2FjdGl2ZTowLGFuaW1hdGU6e30sY2xhc3Nlczp7InVpLWFjY29yZGlvbi1oZWFkZXIiOiJ1aS1jb3JuZXItdG9wIiwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiOiJ1aS1jb3JuZXItYWxsIiwidWktYWNjb3JkaW9uLWNvbnRlbnQiOiJ1aS1jb3JuZXItYm90dG9tIn0sY29sbGFwc2libGU6ITEsZXZlbnQ6ImNsaWNrIixoZWFkZXI6Ij4gbGkgPiA6Zmlyc3QtY2hpbGQsID4gOm5vdChsaSk6ZXZlbiIsaGVpZ2h0U3R5bGU6ImF1dG8iLGljb25zOnthY3RpdmVIZWFkZXI6InVpLWljb24tdHJpYW5nbGUtMS1zIixoZWFkZXI6InVpLWljb24tdHJpYW5nbGUtMS1lIn0sYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsfSxoaWRlUHJvcHM6e2JvcmRlclRvcFdpZHRoOiJoaWRlIixib3JkZXJCb3R0b21XaWR0aDoiaGlkZSIscGFkZGluZ1RvcDoiaGlkZSIscGFkZGluZ0JvdHRvbToiaGlkZSIsaGVpZ2h0OiJoaWRlIn0sc2hvd1Byb3BzOntib3JkZXJUb3BXaWR0aDoic2hvdyIsYm9yZGVyQm90dG9tV2lkdGg6InNob3ciLHBhZGRpbmdUb3A6InNob3ciLHBhZGRpbmdCb3R0b206InNob3ciLGhlaWdodDoic2hvdyJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dGhpcy5wcmV2U2hvdz10aGlzLnByZXZIaWRlPW4oKTt0aGlzLl9hZGRDbGFzcygidWktYWNjb3JkaW9uIiwidWktd2lkZ2V0IHVpLWhlbHBlci1yZXNldCIpO3RoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwidGFibGlzdCIpO3QuY29sbGFwc2libGV8fHQuYWN0aXZlIT09ITEmJm51bGwhPXQuYWN0aXZlfHwodC5hY3RpdmU9MCk7dGhpcy5fcHJvY2Vzc1BhbmVscygpOzA+dC5hY3RpdmUmJih0LmFjdGl2ZSs9dGhpcy5oZWFkZXJzLmxlbmd0aCk7dGhpcy5fcmVmcmVzaCgpfSxfZ2V0Q3JlYXRlRXZlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJue2hlYWRlcjp0aGlzLmFjdGl2ZSxwYW5lbDp0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5hY3RpdmUubmV4dCgpOm4oKX19LF9jcmVhdGVJY29uczpmdW5jdGlvbigpe3ZhciBpLHIsdD10aGlzLm9wdGlvbnMuaWNvbnM7dCYmKGk9bigiPHNwYW4+IiksdGhpcy5fYWRkQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1pY29uIiwidWktaWNvbiAiK3QuaGVhZGVyKSxpLnByZXBlbmRUbyh0aGlzLmhlYWRlcnMpLHI9dGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhyLHQuaGVhZGVyKS5fYWRkQ2xhc3MocixudWxsLHQuYWN0aXZlSGVhZGVyKS5fYWRkQ2xhc3ModGhpcy5oZWFkZXJzLCJ1aS1hY2NvcmRpb24taWNvbnMiKSl9LF9kZXN0cm95SWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhlYWRlcnMsInVpLWFjY29yZGlvbi1pY29ucyIpO3RoaXMuaGVhZGVycy5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLnJlbW92ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBuO3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJyb2xlIik7dGhpcy5oZWFkZXJzLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1leHBhbmRlZCBhcmlhLXNlbGVjdGVkIGFyaWEtY29udHJvbHMgdGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpO3RoaXMuX2Rlc3Ryb3lJY29ucygpO249dGhpcy5oZWFkZXJzLm5leHQoKS5jc3MoImRpc3BsYXkiLCIiKS5yZW1vdmVBdHRyKCJyb2xlIGFyaWEtaGlkZGVuIGFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZVVuaXF1ZUlkKCk7ImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZuLmNzcygiaGVpZ2h0IiwiIil9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtyZXR1cm4iYWN0aXZlIj09PW4/KHRoaXMuX2FjdGl2YXRlKHQpLHZvaWQgMCk6KCJldmVudCI9PT1uJiYodGhpcy5vcHRpb25zLmV2ZW50JiZ0aGlzLl9vZmYodGhpcy5oZWFkZXJzLHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBFdmVudHModCkpLHRoaXMuX3N1cGVyKG4sdCksImNvbGxhcHNpYmxlIiE9PW58fHR8fHRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMXx8dGhpcy5fYWN0aXZhdGUoMCksImljb25zIj09PW4mJih0aGlzLl9kZXN0cm95SWNvbnMoKSx0JiZ0aGlzLl9jcmVhdGVJY29ucygpKSx2b2lkIDApfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuaGVhZGVycy5hZGQodGhpcy5oZWFkZXJzLm5leHQoKSksbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe2lmKCF0LmFsdEtleSYmIXQuY3RybEtleSl7dmFyIGk9bi51aS5rZXlDb2RlLHU9dGhpcy5oZWFkZXJzLmxlbmd0aCxmPXRoaXMuaGVhZGVycy5pbmRleCh0LnRhcmdldCkscj0hMTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGkuUklHSFQ6Y2FzZSBpLkRPV046cj10aGlzLmhlYWRlcnNbKGYrMSkldV07YnJlYWs7Y2FzZSBpLkxFRlQ6Y2FzZSBpLlVQOnI9dGhpcy5oZWFkZXJzWyhmLTErdSkldV07YnJlYWs7Y2FzZSBpLlNQQUNFOmNhc2UgaS5FTlRFUjp0aGlzLl9ldmVudEhhbmRsZXIodCk7YnJlYWs7Y2FzZSBpLkhPTUU6cj10aGlzLmhlYWRlcnNbMF07YnJlYWs7Y2FzZSBpLkVORDpyPXRoaXMuaGVhZGVyc1t1LTFdfXImJihuKHQudGFyZ2V0KS5hdHRyKCJ0YWJJbmRleCIsLTEpLG4ocikuYXR0cigidGFiSW5kZXgiLDApLG4ocikudHJpZ2dlcigiZm9jdXMiKSx0LnByZXZlbnREZWZhdWx0KCkpfX0sX3BhbmVsS2V5RG93bjpmdW5jdGlvbih0KXt0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVVAmJnQuY3RybEtleSYmbih0LmN1cnJlbnRUYXJnZXQpLnByZXYoKS50cmlnZ2VyKCJmb2N1cyIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3RoaXMuX3Byb2Nlc3NQYW5lbHMoKTt0LmFjdGl2ZT09PSExJiZ0LmNvbGxhcHNpYmxlPT09ITB8fCF0aGlzLmhlYWRlcnMubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnQuYWN0aXZlPT09ITE/dGhpcy5fYWN0aXZhdGUoMCk6dGhpcy5hY3RpdmUubGVuZ3RoJiYhbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMuaGVhZGVycy5sZW5ndGg9PT10aGlzLmhlYWRlcnMuZmluZCgiLnVpLXN0YXRlLWRpc2FibGVkIikubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnRoaXMuX2FjdGl2YXRlKE1hdGgubWF4KDAsdC5hY3RpdmUtMSkpOnQuYWN0aXZlPXRoaXMuaGVhZGVycy5pbmRleCh0aGlzLmFjdGl2ZSk7dGhpcy5fZGVzdHJveUljb25zKCk7dGhpcy5fcmVmcmVzaCgpfSxfcHJvY2Vzc1BhbmVsczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaGVhZGVycyxuPXRoaXMucGFuZWxzO3RoaXMuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGVhZGVyKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmhlYWRlcnMsInVpLWFjY29yZGlvbi1oZWFkZXIgdWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiLCJ1aS1zdGF0ZS1kZWZhdWx0Iik7dGhpcy5wYW5lbHM9dGhpcy5oZWFkZXJzLm5leHQoKS5maWx0ZXIoIjpub3QoLnVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSkiKS5oaWRlKCk7dGhpcy5fYWRkQ2xhc3ModGhpcy5wYW5lbHMsInVpLWFjY29yZGlvbi1jb250ZW50IiwidWktaGVscGVyLXJlc2V0IHVpLXdpZGdldC1jb250ZW50Iik7biYmKHRoaXMuX29mZih0Lm5vdCh0aGlzLmhlYWRlcnMpKSx0aGlzLl9vZmYobi5ub3QodGhpcy5wYW5lbHMpKSl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLm9wdGlvbnMscj1pLmhlaWdodFN0eWxlLHU9dGhpcy5lbGVtZW50LnBhcmVudCgpO3RoaXMuYWN0aXZlPXRoaXMuX2ZpbmRBY3RpdmUoaS5hY3RpdmUpO3RoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLl9yZW1vdmVDbGFzcyh0aGlzLmFjdGl2ZSwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmFjdGl2ZS5uZXh0KCksInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpO3RoaXMuYWN0aXZlLm5leHQoKS5zaG93KCk7dGhpcy5oZWFkZXJzLmF0dHIoInJvbGUiLCJ0YWIiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxyPXQudW5pcXVlSWQoKS5hdHRyKCJpZCIpLGk9dC5uZXh0KCksdT1pLnVuaXF1ZUlkKCkuYXR0cigiaWQiKTt0LmF0dHIoImFyaWEtY29udHJvbHMiLHUpO2kuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixyKX0pLm5leHQoKS5hdHRyKCJyb2xlIiwidGFicGFuZWwiKTt0aGlzLmhlYWRlcnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIix0YWJJbmRleDotMX0pLm5leHQoKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pLmhpZGUoKTt0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5hY3RpdmUuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6InRydWUiLHRhYkluZGV4OjB9KS5uZXh0KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSk6dGhpcy5oZWFkZXJzLmVxKDApLmF0dHIoInRhYkluZGV4IiwwKTt0aGlzLl9jcmVhdGVJY29ucygpO3RoaXMuX3NldHVwRXZlbnRzKGkuZXZlbnQpOyJmaWxsIj09PXI/KHQ9dS5oZWlnaHQoKSx0aGlzLmVsZW1lbnQuc2libGluZ3MoIjp2aXNpYmxlIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscj1pLmNzcygicG9zaXRpb24iKTsiYWJzb2x1dGUiIT09ciYmImZpeGVkIiE9PXImJih0LT1pLm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmhlYWRlcnMuZWFjaChmdW5jdGlvbigpe3QtPW4odGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5oZWFkZXJzLm5leHQoKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5oZWlnaHQoTWF0aC5tYXgoMCx0LW4odGhpcykuaW5uZXJIZWlnaHQoKStuKHRoaXMpLmhlaWdodCgpKSl9KS5jc3MoIm92ZXJmbG93IiwiYXV0byIpKToiYXV0byI9PT1yJiYodD0wLHRoaXMuaGVhZGVycy5uZXh0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuaXMoIjp2aXNpYmxlIik7aXx8bih0aGlzKS5zaG93KCk7dD1NYXRoLm1heCh0LG4odGhpcykuY3NzKCJoZWlnaHQiLCIiKS5oZWlnaHQoKSk7aXx8bih0aGlzKS5oaWRlKCl9KS5oZWlnaHQodCkpfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fZmluZEFjdGl2ZSh0KVswXTtpIT09dGhpcy5hY3RpdmVbMF0mJihpPWl8fHRoaXMuYWN0aXZlWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmksY3VycmVudFRhcmdldDppLHByZXZlbnREZWZhdWx0Om4ubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3RoaXMuaGVhZGVycy5lcSh0KTpuKCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17a2V5ZG93bjoiX2tleWRvd24ifTt0JiZuLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7aVt0XT0iX2V2ZW50SGFuZGxlciJ9KTt0aGlzLl9vZmYodGhpcy5oZWFkZXJzLmFkZCh0aGlzLmhlYWRlcnMubmV4dCgpKSk7dGhpcy5fb24odGhpcy5oZWFkZXJzLGkpO3RoaXMuX29uKHRoaXMuaGVhZGVycy5uZXh0KCkse2tleWRvd246Il9wYW5lbEtleURvd24ifSk7dGhpcy5faG92ZXJhYmxlKHRoaXMuaGVhZGVycyk7dGhpcy5fZm9jdXNhYmxlKHRoaXMuaGVhZGVycyl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGUsbyxpPXRoaXMub3B0aW9ucyx1PXRoaXMuYWN0aXZlLHI9bih0LmN1cnJlbnRUYXJnZXQpLGY9clswXT09PXVbMF0scz1mJiZpLmNvbGxhcHNpYmxlLGM9cz9uKCk6ci5uZXh0KCksbD11Lm5leHQoKSxoPXtvbGRIZWFkZXI6dSxvbGRQYW5lbDpsLG5ld0hlYWRlcjpzP24oKTpyLG5ld1BhbmVsOmN9O3QucHJldmVudERlZmF1bHQoKTtmJiYhaS5jb2xsYXBzaWJsZXx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlQWN0aXZhdGUiLHQsaCk9PT0hMXx8KGkuYWN0aXZlPXM/ITE6dGhpcy5oZWFkZXJzLmluZGV4KHIpLHRoaXMuYWN0aXZlPWY/bigpOnIsdGhpcy5fdG9nZ2xlKGgpLHRoaXMuX3JlbW92ZUNsYXNzKHUsInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlIiwidWktc3RhdGUtYWN0aXZlIiksaS5pY29ucyYmKGU9dS5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKGUsbnVsbCxpLmljb25zLmFjdGl2ZUhlYWRlcikuX2FkZENsYXNzKGUsbnVsbCxpLmljb25zLmhlYWRlcikpLGZ8fCh0aGlzLl9yZW1vdmVDbGFzcyhyLCJ1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZCIpLl9hZGRDbGFzcyhyLCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGkuaWNvbnMmJihvPXIuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhvLG51bGwsaS5pY29ucy5oZWFkZXIpLl9hZGRDbGFzcyhvLG51bGwsaS5pY29ucy5hY3RpdmVIZWFkZXIpKSx0aGlzLl9hZGRDbGFzcyhyLm5leHQoKSwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIikpKX0sX3RvZ2dsZTpmdW5jdGlvbih0KXt2YXIgcj10Lm5ld1BhbmVsLGk9dGhpcy5wcmV2U2hvdy5sZW5ndGg/dGhpcy5wcmV2U2hvdzp0Lm9sZFBhbmVsO3RoaXMucHJldlNob3cuYWRkKHRoaXMucHJldkhpZGUpLnN0b3AoITAsITApO3RoaXMucHJldlNob3c9cjt0aGlzLnByZXZIaWRlPWk7dGhpcy5vcHRpb25zLmFuaW1hdGU/dGhpcy5fYW5pbWF0ZShyLGksdCk6KGkuaGlkZSgpLHIuc2hvdygpLHRoaXMuX3RvZ2dsZUNvbXBsZXRlKHQpKTtpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSk7aS5wcmV2KCkuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KTtyLmxlbmd0aCYmaS5sZW5ndGg/aS5wcmV2KCkuYXR0cih7dGFiSW5kZXg6LTEsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KTpyLmxlbmd0aCYmdGhpcy5oZWFkZXJzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09cGFyc2VJbnQobih0aGlzKS5hdHRyKCJ0YWJJbmRleCIpLDEwKX0pLmF0dHIoInRhYkluZGV4IiwtMSk7ci5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikucHJldigpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hbmltYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgaCxyLHUsYz10aGlzLG89MCxsPW4uY3NzKCJib3gtc2l6aW5nIiksYT1uLmxlbmd0aCYmKCF0Lmxlbmd0aHx8bi5pbmRleCgpPHQuaW5kZXgoKSksZT10aGlzLm9wdGlvbnMuYW5pbWF0ZXx8e30sZj1hJiZlLmRvd258fGUscz1mdW5jdGlvbigpe2MuX3RvZ2dsZUNvbXBsZXRlKGkpfTtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGYmJih1PWYpLCJzdHJpbmciPT10eXBlb2YgZiYmKHI9Zikscj1yfHxmLmVhc2luZ3x8ZS5lYXNpbmcsdT11fHxmLmR1cmF0aW9ufHxlLmR1cmF0aW9uLHQubGVuZ3RoP24ubGVuZ3RoPyhoPW4uc2hvdygpLm91dGVySGVpZ2h0KCksdC5hbmltYXRlKHRoaXMuaGlkZVByb3BzLHtkdXJhdGlvbjp1LGVhc2luZzpyLHN0ZXA6ZnVuY3Rpb24obix0KXt0Lm5vdz1NYXRoLnJvdW5kKG4pfX0pLG4uaGlkZSgpLmFuaW1hdGUodGhpcy5zaG93UHJvcHMse2R1cmF0aW9uOnUsZWFzaW5nOnIsY29tcGxldGU6cyxzdGVwOmZ1bmN0aW9uKG4saSl7aS5ub3c9TWF0aC5yb3VuZChuKTsiaGVpZ2h0IiE9PWkucHJvcD8iY29udGVudC1ib3giPT09bCYmKG8rPWkubm93KToiY29udGVudCIhPT1jLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJihpLm5vdz1NYXRoLnJvdW5kKGgtdC5vdXRlckhlaWdodCgpLW8pLG89MCl9fSksdm9pZCAwKTp0LmFuaW1hdGUodGhpcy5oaWRlUHJvcHMsdSxyLHMpOm4uYW5pbWF0ZSh0aGlzLnNob3dQcm9wcyx1LHIscyl9LF90b2dnbGVDb21wbGV0ZTpmdW5jdGlvbihuKXt2YXIgdD1uLm9sZFBhbmVsLGk9dC5wcmV2KCk7dGhpcy5fcmVtb3ZlQ2xhc3ModCwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIik7dGhpcy5fcmVtb3ZlQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUiKS5fYWRkQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiKTt0Lmxlbmd0aCYmKHQucGFyZW50KClbMF0uY2xhc3NOYW1lPXQucGFyZW50KClbMF0uY2xhc3NOYW1lKTt0aGlzLl90cmlnZ2VyKCJhY3RpdmF0ZSIsbnVsbCxuKX19KTtuLnVpLnNhZmVBY3RpdmVFbGVtZW50PWZ1bmN0aW9uKG4pe3ZhciB0O3RyeXt0PW4uYWN0aXZlRWxlbWVudH1jYXRjaChpKXt0PW4uYm9keX1yZXR1cm4gdHx8KHQ9bi5ib2R5KSx0Lm5vZGVOYW1lfHwodD1uLmJvZHkpLHR9O24ud2lkZ2V0KCJ1aS5tZW51Iix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPHVsPiIsZGVsYXk6MzAwLG9wdGlvbnM6e2ljb25zOntzdWJtZW51OiJ1aS1pY29uLWNhcmV0LTEtZSJ9LGl0ZW1zOiI+ICoiLG1lbnVzOiJ1bCIscG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6InJpZ2h0IHRvcCJ9LHJvbGU6Im1lbnUiLGJsdXI6bnVsbCxmb2N1czpudWxsLHNlbGVjdDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmVNZW51PXRoaXMuZWxlbWVudDt0aGlzLm1vdXNlSGFuZGxlZD0hMTt0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLHRhYkluZGV4OjB9KTt0aGlzLl9hZGRDbGFzcygidWktbWVudSIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX29uKHsibW91c2Vkb3duIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX0sImNsaWNrIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKHQpe3ZhciBpPW4odC50YXJnZXQpLHI9bihuLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKTshdGhpcy5tb3VzZUhhbmRsZWQmJmkubm90KCIudWktc3RhdGUtZGlzYWJsZWQiKS5sZW5ndGgmJih0aGlzLnNlbGVjdCh0KSx0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCl8fCh0aGlzLm1vdXNlSGFuZGxlZD0hMCksaS5oYXMoIi51aS1tZW51IikubGVuZ3RoP3RoaXMuZXhwYW5kKHQpOiF0aGlzLmVsZW1lbnQuaXMoIjpmb2N1cyIpJiZyLmNsb3Nlc3QoIi51aS1tZW51IikubGVuZ3RoJiYodGhpcy5lbGVtZW50LnRyaWdnZXIoImZvY3VzIixbITBdKSx0aGlzLmFjdGl2ZSYmMT09PXRoaXMuYWN0aXZlLnBhcmVudHMoIi51aS1tZW51IikubGVuZ3RoJiZjbGVhclRpbWVvdXQodGhpcy50aW1lcikpKX0sIm1vdXNlZW50ZXIgLnVpLW1lbnUtaXRlbSI6ZnVuY3Rpb24odCl7aWYoIXRoaXMucHJldmlvdXNGaWx0ZXIpe3ZhciByPW4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKSxpPW4odC5jdXJyZW50VGFyZ2V0KTtyWzBdPT09aVswXSYmKHRoaXMuX3JlbW92ZUNsYXNzKGkuc2libGluZ3MoKS5jaGlsZHJlbigiLnVpLXN0YXRlLWFjdGl2ZSIpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuZm9jdXModCxpKSl9fSxtb3VzZWxlYXZlOiJjb2xsYXBzZUFsbCIsIm1vdXNlbGVhdmUgLnVpLW1lbnUiOiJjb2xsYXBzZUFsbCIsZm9jdXM6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmFjdGl2ZXx8dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5lcSgwKTt0fHx0aGlzLmZvY3VzKG4saSl9LGJsdXI6ZnVuY3Rpb24odCl7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgaT0hbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sbi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSk7aSYmdGhpcy5jb2xsYXBzZUFsbCh0KX0pfSxrZXlkb3duOiJfa2V5ZG93biJ9KTt0aGlzLnJlZnJlc2goKTt0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtjbGljazpmdW5jdGlvbihuKXt0aGlzLl9jbG9zZU9uRG9jdW1lbnRDbGljayhuKSYmdGhpcy5jb2xsYXBzZUFsbChuKTt0aGlzLm1vdXNlSGFuZGxlZD0hMX19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaXRlbSIpLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1kaXNhYmxlZCIpLGk9dC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbS13cmFwcGVyIikucmVtb3ZlVW5pcXVlSWQoKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCByb2xlIGFyaWEtaGFzcG9wdXAiKTt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IikuZmluZCgiLnVpLW1lbnUiKS5hZGRCYWNrKCkucmVtb3ZlQXR0cigicm9sZSBhcmlhLWxhYmVsbGVkYnkgYXJpYS1leHBhbmRlZCBhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKS5zaG93KCk7aS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuZGF0YSgidWktbWVudS1zdWJtZW51LWNhcmV0IikmJnQucmVtb3ZlKCl9KX0sX2tleWRvd246ZnVuY3Rpb24odCl7dmFyIGksdSxyLGYsZT0hMDtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5QQUdFX1VQOnRoaXMucHJldmlvdXNQYWdlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjp0aGlzLm5leHRQYWdlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6dGhpcy5fbW92ZSgiZmlyc3QiLCJmaXJzdCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5EOnRoaXMuX21vdmUoImxhc3QiLCJsYXN0Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDp0aGlzLnByZXZpb3VzKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkRPV046dGhpcy5uZXh0KHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6dGhpcy5jb2xsYXBzZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5SSUdIVDp0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5leHBhbmQodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5URVI6Y2FzZSBuLnVpLmtleUNvZGUuU1BBQ0U6dGhpcy5fYWN0aXZhdGUodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRVNDQVBFOnRoaXMuY29sbGFwc2UodCk7YnJlYWs7ZGVmYXVsdDplPSExO3U9dGhpcy5wcmV2aW91c0ZpbHRlcnx8IiI7Zj0hMTtyPXQua2V5Q29kZT49OTYmJjEwNT49dC5rZXlDb2RlPyIiKyh0LmtleUNvZGUtOTYpOlN0cmluZy5mcm9tQ2hhckNvZGUodC5rZXlDb2RlKTtjbGVhclRpbWVvdXQodGhpcy5maWx0ZXJUaW1lcik7cj09PXU/Zj0hMDpyPXUrcjtpPXRoaXMuX2ZpbHRlck1lbnVJdGVtcyhyKTtpPWYmJi0xIT09aS5pbmRleCh0aGlzLmFjdGl2ZS5uZXh0KCkpP3RoaXMuYWN0aXZlLm5leHRBbGwoIi51aS1tZW51LWl0ZW0iKTppO2kubGVuZ3RofHwocj1TdHJpbmcuZnJvbUNoYXJDb2RlKHQua2V5Q29kZSksaT10aGlzLl9maWx0ZXJNZW51SXRlbXMocikpO2kubGVuZ3RoPyh0aGlzLmZvY3VzKHQsaSksdGhpcy5wcmV2aW91c0ZpbHRlcj1yLHRoaXMuZmlsdGVyVGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wcmV2aW91c0ZpbHRlcn0sMWUzKSk6ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXJ9ZSYmdC5wcmV2ZW50RGVmYXVsdCgpfSxfYWN0aXZhdGU6ZnVuY3Rpb24obil7dGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5pcygiLnVpLXN0YXRlLWRpc2FibGVkIikmJih0aGlzLmFjdGl2ZS5jaGlsZHJlbigiW2FyaWEtaGFzcG9wdXA9J3RydWUnXSIpLmxlbmd0aD90aGlzLmV4cGFuZChuKTp0aGlzLnNlbGVjdChuKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdSx0LGYsaSxlLHI9dGhpcyxzPXRoaXMub3B0aW9ucy5pY29ucy5zdWJtZW51LG89dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLm1lbnVzKTt0aGlzLl90b2dnbGVDbGFzcygidWktbWVudS1pY29ucyIsbnVsbCwhIXRoaXMuZWxlbWVudC5maW5kKCIudWktaWNvbiIpLmxlbmd0aCk7Zj1vLmZpbHRlcigiOm5vdCgudWktbWVudSkiKS5oaWRlKCkuYXR0cih7cm9sZTp0aGlzLm9wdGlvbnMucm9sZSwiYXJpYS1oaWRkZW4iOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9dC5wcmV2KCksdT1uKCI8c3Bhbj4iKS5kYXRhKCJ1aS1tZW51LXN1Ym1lbnUtY2FyZXQiLCEwKTtyLl9hZGRDbGFzcyh1LCJ1aS1tZW51LWljb24iLCJ1aS1pY29uICIrcyk7aS5hdHRyKCJhcmlhLWhhc3BvcHVwIiwidHJ1ZSIpLnByZXBlbmQodSk7dC5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLGkuYXR0cigiaWQiKSl9KTt0aGlzLl9hZGRDbGFzcyhmLCJ1aS1tZW51IiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWZyb250Iik7dT1vLmFkZCh0aGlzLmVsZW1lbnQpO3Q9dS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcyk7dC5ub3QoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyLl9pc0RpdmlkZXIodCkmJnIuX2FkZENsYXNzKHQsInVpLW1lbnUtZGl2aWRlciIsInVpLXdpZGdldC1jb250ZW50Iil9KTtpPXQubm90KCIudWktbWVudS1pdGVtLCAudWktbWVudS1kaXZpZGVyIik7ZT1pLmNoaWxkcmVuKCkubm90KCIudWktbWVudSIpLnVuaXF1ZUlkKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZTp0aGlzLl9pdGVtUm9sZSgpfSk7dGhpcy5fYWRkQ2xhc3MoaSwidWktbWVudS1pdGVtIikuX2FkZENsYXNzKGUsInVpLW1lbnUtaXRlbS13cmFwcGVyIik7dC5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIik7dGhpcy5hY3RpdmUmJiFuLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSkmJnRoaXMuYmx1cigpfSxfaXRlbVJvbGU6ZnVuY3Rpb24oKXtyZXR1cm57bWVudToibWVudWl0ZW0iLGxpc3Rib3g6Im9wdGlvbiJ9W3RoaXMub3B0aW9ucy5yb2xlXX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe2lmKCJpY29ucyI9PT1uKXt2YXIgaT10aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaWNvbiIpO3RoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSkuX2FkZENsYXNzKGksbnVsbCx0LnN1Ym1lbnUpfXRoaXMuX3N1cGVyKG4sdCl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzLl9zdXBlcihuKTt0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1kaXNhYmxlZCIsbisiIik7dGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LGZvY3VzOmZ1bmN0aW9uKG4sdCl7dmFyIGkscix1O3RoaXMuYmx1cihuLG4mJiJmb2N1cyI9PT1uLnR5cGUpO3RoaXMuX3Njcm9sbEludG9WaWV3KHQpO3RoaXMuYWN0aXZlPXQuZmlyc3QoKTtyPXRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKTt0aGlzLl9hZGRDbGFzcyhyLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpO3RoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixyLmF0dHIoImlkIikpO3U9dGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKTt0aGlzLl9hZGRDbGFzcyh1LG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpO24mJiJrZXlkb3duIj09PW4udHlwZT90aGlzLl9jbG9zZSgpOnRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLl9jbG9zZSgpfSx0aGlzLmRlbGF5KTtpPXQuY2hpbGRyZW4oIi51aS1tZW51Iik7aS5sZW5ndGgmJm4mJi9ebW91c2UvLnRlc3Qobi50eXBlKSYmdGhpcy5fc3RhcnRPcGVuaW5nKGkpO3RoaXMuYWN0aXZlTWVudT10LnBhcmVudCgpO3RoaXMuX3RyaWdnZXIoImZvY3VzIixuLHtpdGVtOnR9KX0sX3Njcm9sbEludG9WaWV3OmZ1bmN0aW9uKHQpe3ZhciBlLG8saSxyLHUsZjt0aGlzLl9oYXNTY3JvbGwoKSYmKGU9cGFyc2VGbG9hdChuLmNzcyh0aGlzLmFjdGl2ZU1lbnVbMF0sImJvcmRlclRvcFdpZHRoIikpfHwwLG89cGFyc2VGbG9hdChuLmNzcyh0aGlzLmFjdGl2ZU1lbnVbMF0sInBhZGRpbmdUb3AiKSl8fDAsaT10Lm9mZnNldCgpLnRvcC10aGlzLmFjdGl2ZU1lbnUub2Zmc2V0KCkudG9wLWUtbyxyPXRoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AoKSx1PXRoaXMuYWN0aXZlTWVudS5oZWlnaHQoKSxmPXQub3V0ZXJIZWlnaHQoKSwwPmk/dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcChyK2kpOmkrZj51JiZ0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKHIraS11K2YpKX0sYmx1cjpmdW5jdGlvbihuLHQpe3R8fGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTt0aGlzLmFjdGl2ZSYmKHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLl90cmlnZ2VyKCJibHVyIixuLHtpdGVtOnRoaXMuYWN0aXZlfSksdGhpcy5hY3RpdmU9bnVsbCl9LF9zdGFydE9wZW5pbmc6ZnVuY3Rpb24obil7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpOyJ0cnVlIj09PW4uYXR0cigiYXJpYS1oaWRkZW4iKSYmKHRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLl9jbG9zZSgpO3RoaXMuX29wZW4obil9LHRoaXMuZGVsYXkpKX0sX29wZW46ZnVuY3Rpb24odCl7dmFyIGk9bi5leHRlbmQoeyJvZiI6dGhpcy5hY3RpdmV9LHRoaXMub3B0aW9ucy5wb3NpdGlvbik7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpLm5vdCh0LnBhcmVudHMoIi51aS1tZW51IikpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKTt0LnNob3coKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIikucG9zaXRpb24oaSl9LGNvbGxhcHNlQWxsOmZ1bmN0aW9uKHQsaSl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgcj1pP3RoaXMuZWxlbWVudDpuKHQmJnQudGFyZ2V0KS5jbG9zZXN0KHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpKTtyLmxlbmd0aHx8KHI9dGhpcy5lbGVtZW50KTt0aGlzLl9jbG9zZShyKTt0aGlzLmJsdXIodCk7dGhpcy5fcmVtb3ZlQ2xhc3Moci5maW5kKCIudWktc3RhdGUtYWN0aXZlIiksbnVsbCwidWktc3RhdGUtYWN0aXZlIik7dGhpcy5hY3RpdmVNZW51PXJ9LHRoaXMuZGVsYXkpfSxfY2xvc2U6ZnVuY3Rpb24obil7bnx8KG49dGhpcy5hY3RpdmU/dGhpcy5hY3RpdmUucGFyZW50KCk6dGhpcy5lbGVtZW50KTtuLmZpbmQoIi51aS1tZW51IikuaGlkZSgpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpfSxfY2xvc2VPbkRvY3VtZW50Q2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIW4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51IikubGVuZ3RofSxfaXNEaXZpZGVyOmZ1bmN0aW9uKG4pe3JldHVybiEvW15cLVx1MjAxNFx1MjAxM1xzXS8udGVzdChuLnRleHQoKSl9LGNvbGxhcHNlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuYWN0aXZlJiZ0aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KCIudWktbWVudS1pdGVtIix0aGlzLmVsZW1lbnQpO3QmJnQubGVuZ3RoJiYodGhpcy5fY2xvc2UoKSx0aGlzLmZvY3VzKG4sdCkpfSxleHBhbmQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5hY3RpdmUmJnRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudSAiKS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZmlyc3QoKTt0JiZ0Lmxlbmd0aCYmKHRoaXMuX29wZW4odC5wYXJlbnQoKSksdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLmZvY3VzKG4sdCl9KSl9LG5leHQ6ZnVuY3Rpb24obil7dGhpcy5fbW92ZSgibmV4dCIsImZpcnN0IixuKX0scHJldmlvdXM6ZnVuY3Rpb24obil7dGhpcy5fbW92ZSgicHJldiIsImxhc3QiLG4pfSxpc0ZpcnN0SXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLnByZXZBbGwoIi51aS1tZW51LWl0ZW0iKS5sZW5ndGh9LGlzTGFzdEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5uZXh0QWxsKCIudWktbWVudS1pdGVtIikubGVuZ3RofSxfbW92ZTpmdW5jdGlvbihuLHQsaSl7dmFyIHI7dGhpcy5hY3RpdmUmJihyPSJmaXJzdCI9PT1ufHwibGFzdCI9PT1uP3RoaXMuYWN0aXZlWyJmaXJzdCI9PT1uPyJwcmV2QWxsIjoibmV4dEFsbCJdKCIudWktbWVudS1pdGVtIikuZXEoLTEpOnRoaXMuYWN0aXZlW24rIkFsbCJdKCIudWktbWVudS1pdGVtIikuZXEoMCkpO3ImJnIubGVuZ3RoJiZ0aGlzLmFjdGl2ZXx8KHI9dGhpcy5hY3RpdmVNZW51LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKVt0XSgpKTt0aGlzLmZvY3VzKGkscil9LG5leHRQYWdlOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdTtyZXR1cm4gdGhpcy5hY3RpdmU/KHRoaXMuaXNMYXN0SXRlbSgpfHwodGhpcy5faGFzU2Nyb2xsKCk/KHI9dGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wLHU9dGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuYWN0aXZlLm5leHRBbGwoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIGk9bih0aGlzKSwwPmkub2Zmc2V0KCkudG9wLXItdX0pLHRoaXMuZm9jdXModCxpKSk6dGhpcy5mb2N1cyh0LHRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcylbdGhpcy5hY3RpdmU/Imxhc3QiOiJmaXJzdCJdKCkpKSx2b2lkIDApOih0aGlzLm5leHQodCksdm9pZCAwKX0scHJldmlvdXNQYWdlOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdTtyZXR1cm4gdGhpcy5hY3RpdmU/KHRoaXMuaXNGaXJzdEl0ZW0oKXx8KHRoaXMuX2hhc1Njcm9sbCgpPyhyPXRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCx1PXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmFjdGl2ZS5wcmV2QWxsKCIudWktbWVudS1pdGVtIikuZWFjaChmdW5jdGlvbigpe3JldHVybiBpPW4odGhpcyksaS5vZmZzZXQoKS50b3Atcit1PjB9KSx0aGlzLmZvY3VzKHQsaSkpOnRoaXMuZm9jdXModCx0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpcnN0KCkpKSx2b2lkIDApOih0aGlzLm5leHQodCksdm9pZCAwKX0sX2hhc1Njcm9sbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTx0aGlzLmVsZW1lbnQucHJvcCgic2Nyb2xsSGVpZ2h0Iil9LHNlbGVjdDpmdW5jdGlvbih0KXt0aGlzLmFjdGl2ZT10aGlzLmFjdGl2ZXx8bih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpO3ZhciBpPXtpdGVtOnRoaXMuYWN0aXZlfTt0aGlzLmFjdGl2ZS5oYXMoIi51aS1tZW51IikubGVuZ3RofHx0aGlzLmNvbGxhcHNlQWxsKHQsITApO3RoaXMuX3RyaWdnZXIoInNlbGVjdCIsdCxpKX0sX2ZpbHRlck1lbnVJdGVtczpmdW5jdGlvbih0KXt2YXIgaT10LnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKSxyPVJlZ0V4cCgiXiIraSwiaSIpO3JldHVybiB0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpbHRlcigiLnVpLW1lbnUtaXRlbSIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiByLnRlc3Qobi50cmltKG4odGhpcykuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLnRleHQoKSkpfSl9fSk7bi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIse3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsYXV0b0ZvY3VzOiExLGRlbGF5OjMwMCxtaW5MZW5ndGg6MSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHNvdXJjZTpudWxsLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzcG9uc2U6bnVsbCxzZWFyY2g6bnVsbCxzZWxlY3Q6bnVsbH0scmVxdWVzdEluZGV4OjAscGVuZGluZzowLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsdT10aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxmPSJ0ZXh0YXJlYSI9PT11LGU9ImlucHV0Ij09PXU7dGhpcy5pc011bHRpTGluZT1mfHwhZSYmdGhpcy5faXNDb250ZW50RWRpdGFibGUodGhpcy5lbGVtZW50KTt0aGlzLnZhbHVlTWV0aG9kPXRoaXMuZWxlbWVudFtmfHxlPyJ2YWwiOiJ0ZXh0Il07dGhpcy5pc05ld01lbnU9ITA7dGhpcy5fYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1pbnB1dCIpO3RoaXMuZWxlbWVudC5hdHRyKCJhdXRvY29tcGxldGUiLCJvZmYiKTt0aGlzLl9vbih0aGlzLmVsZW1lbnQse2tleWRvd246ZnVuY3Rpb24odSl7aWYodGhpcy5lbGVtZW50LnByb3AoInJlYWRPbmx5IikpcmV0dXJuIHQ9ITAscj0hMCxpPSEwLHZvaWQgMDt0PSExO3I9ITE7aT0hMTt2YXIgZj1uLnVpLmtleUNvZGU7c3dpdGNoKHUua2V5Q29kZSl7Y2FzZSBmLlBBR0VfVVA6dD0hMDt0aGlzLl9tb3ZlKCJwcmV2aW91c1BhZ2UiLHUpO2JyZWFrO2Nhc2UgZi5QQUdFX0RPV046dD0hMDt0aGlzLl9tb3ZlKCJuZXh0UGFnZSIsdSk7YnJlYWs7Y2FzZSBmLlVQOnQ9ITA7dGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIix1KTticmVhaztjYXNlIGYuRE9XTjp0PSEwO3RoaXMuX2tleUV2ZW50KCJuZXh0Iix1KTticmVhaztjYXNlIGYuRU5URVI6dGhpcy5tZW51LmFjdGl2ZSYmKHQ9ITAsdS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubWVudS5zZWxlY3QodSkpO2JyZWFrO2Nhc2UgZi5UQUI6dGhpcy5tZW51LmFjdGl2ZSYmdGhpcy5tZW51LnNlbGVjdCh1KTticmVhaztjYXNlIGYuRVNDQVBFOnRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5pc011bHRpTGluZXx8dGhpcy5fdmFsdWUodGhpcy50ZXJtKSx0aGlzLmNsb3NlKHUpLHUucHJldmVudERlZmF1bHQoKSk7YnJlYWs7ZGVmYXVsdDppPSEwO3RoaXMuX3NlYXJjaFRpbWVvdXQodSl9fSxrZXlwcmVzczpmdW5jdGlvbihyKXtpZih0KXJldHVybiB0PSExLCghdGhpcy5pc011bHRpTGluZXx8dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikpJiZyLnByZXZlbnREZWZhdWx0KCksdm9pZCAwO2lmKCFpKXt2YXIgdT1uLnVpLmtleUNvZGU7c3dpdGNoKHIua2V5Q29kZSl7Y2FzZSB1LlBBR0VfVVA6dGhpcy5fbW92ZSgicHJldmlvdXNQYWdlIixyKTticmVhaztjYXNlIHUuUEFHRV9ET1dOOnRoaXMuX21vdmUoIm5leHRQYWdlIixyKTticmVhaztjYXNlIHUuVVA6dGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIixyKTticmVhaztjYXNlIHUuRE9XTjp0aGlzLl9rZXlFdmVudCgibmV4dCIscil9fX0saW5wdXQ6ZnVuY3Rpb24obil7cmV0dXJuIHI/KHI9ITEsbi5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMCk6KHRoaXMuX3NlYXJjaFRpbWVvdXQobiksdm9pZCAwKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkSXRlbT1udWxsO3RoaXMucHJldmlvdXM9dGhpcy5fdmFsdWUoKX0sYmx1cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5jYW5jZWxCbHVyPyhkZWxldGUgdGhpcy5jYW5jZWxCbHVyLHZvaWQgMCk6KGNsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyksdGhpcy5jbG9zZShuKSx0aGlzLl9jaGFuZ2Uobiksdm9pZCAwKX19KTt0aGlzLl9pbml0U291cmNlKCk7dGhpcy5tZW51PW4oIjx1bD4iKS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKS5tZW51KHtyb2xlOm51bGx9KS5oaWRlKCkubWVudSgiaW5zdGFuY2UiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLm1lbnUuZWxlbWVudCwidWktYXV0b2NvbXBsZXRlIiwidWktZnJvbnQiKTt0aGlzLl9vbih0aGlzLm1lbnUuZWxlbWVudCx7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt0aGlzLmNhbmNlbEJsdXI9ITA7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5jYW5jZWxCbHVyO3RoaXMuZWxlbWVudFswXSE9PW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkmJnRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpfSl9LG1lbnVmb2N1czpmdW5jdGlvbih0LGkpe3ZhciByLHU7cmV0dXJuIHRoaXMuaXNOZXdNZW51JiYodGhpcy5pc05ld01lbnU9ITEsdC5vcmlnaW5hbEV2ZW50JiYvXm1vdXNlLy50ZXN0KHQub3JpZ2luYWxFdmVudC50eXBlKSk/KHRoaXMubWVudS5ibHVyKCksdGhpcy5kb2N1bWVudC5vbmUoIm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtuKHQudGFyZ2V0KS50cmlnZ2VyKHQub3JpZ2luYWxFdmVudCl9KSx2b2lkIDApOih1PWkuaXRlbS5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIpLCExIT09dGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQse2l0ZW06dX0pJiZ0Lm9yaWdpbmFsRXZlbnQmJi9ea2V5Ly50ZXN0KHQub3JpZ2luYWxFdmVudC50eXBlKSYmdGhpcy5fdmFsdWUodS52YWx1ZSkscj1pLml0ZW0uYXR0cigiYXJpYS1sYWJlbCIpfHx1LnZhbHVlLHImJm4udHJpbShyKS5sZW5ndGgmJih0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCksbigiPGRpdj4iKS50ZXh0KHIpLmFwcGVuZFRvKHRoaXMubGl2ZVJlZ2lvbikpLHZvaWQgMCl9LG1lbnVzZWxlY3Q6ZnVuY3Rpb24odCxpKXt2YXIgcj1pLml0ZW0uZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iKSx1PXRoaXMucHJldmlvdXM7dGhpcy5lbGVtZW50WzBdIT09bi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMucHJldmlvdXM9dSx0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9dTt0aGlzLnNlbGVjdGVkSXRlbT1yfSkpOyExIT09dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LHtpdGVtOnJ9KSYmdGhpcy5fdmFsdWUoci52YWx1ZSk7dGhpcy50ZXJtPXRoaXMuX3ZhbHVlKCk7dGhpcy5jbG9zZSh0KTt0aGlzLnNlbGVjdGVkSXRlbT1yfX0pO3RoaXMubGl2ZVJlZ2lvbj1uKCI8ZGl2PiIse3JvbGU6InN0YXR1cyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KTt0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5fb24odGhpcy53aW5kb3cse2JlZm9yZXVubG9hZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKX19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpO3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKTt0aGlzLm1lbnUuZWxlbWVudC5yZW1vdmUoKTt0aGlzLmxpdmVSZWdpb24ucmVtb3ZlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXt0aGlzLl9zdXBlcihuLHQpOyJzb3VyY2UiPT09biYmdGhpcy5faW5pdFNvdXJjZSgpOyJhcHBlbmRUbyI9PT1uJiZ0aGlzLm1lbnUuZWxlbWVudC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTsiZGlzYWJsZWQiPT09biYmdCYmdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9LF9pc0V2ZW50VGFyZ2V0SW5XaWRnZXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5tZW51LmVsZW1lbnRbMF07cmV0dXJuIHQudGFyZ2V0PT09dGhpcy5lbGVtZW50WzBdfHx0LnRhcmdldD09PWl8fG4uY29udGFpbnMoaSx0LnRhcmdldCl9LF9jbG9zZU9uQ2xpY2tPdXRzaWRlOmZ1bmN0aW9uKG4pe3RoaXMuX2lzRXZlbnRUYXJnZXRJbldpZGdldChuKXx8dGhpcy5jbG9zZSgpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQmJih0PXQuanF1ZXJ5fHx0Lm5vZGVUeXBlP24odCk6dGhpcy5kb2N1bWVudC5maW5kKHQpLmVxKDApKSx0JiZ0WzBdfHwodD10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLWZyb250LCBkaWFsb2ciKSksdC5sZW5ndGh8fCh0PXRoaXMuZG9jdW1lbnRbMF0uYm9keSksdH0sX2luaXRTb3VyY2U6ZnVuY3Rpb24oKXt2YXIgaSxyLHQ9dGhpcztuLmlzQXJyYXkodGhpcy5vcHRpb25zLnNvdXJjZSk/KGk9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbih0LHIpe3Iobi51aS5hdXRvY29tcGxldGUuZmlsdGVyKGksdC50ZXJtKSl9KToic3RyaW5nIj09dHlwZW9mIHRoaXMub3B0aW9ucy5zb3VyY2U/KHI9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbihpLHUpe3QueGhyJiZ0Lnhoci5hYm9ydCgpO3QueGhyPW4uYWpheCh7dXJsOnIsZGF0YTppLGRhdGFUeXBlOiJqc29uIixzdWNjZXNzOmZ1bmN0aW9uKG4pe3Uobil9LGVycm9yOmZ1bmN0aW9uKCl7dShbXSl9fSl9KTp0aGlzLnNvdXJjZT10aGlzLm9wdGlvbnMuc291cmNlfSxfc2VhcmNoVGltZW91dDpmdW5jdGlvbihuKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpO3RoaXMuc2VhcmNoaW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXJtPT09dGhpcy5fdmFsdWUoKSxpPXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpLHI9bi5hbHRLZXl8fG4uY3RybEtleXx8bi5tZXRhS2V5fHxuLnNoaWZ0S2V5O3QmJighdHx8aXx8cil8fCh0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMuc2VhcmNoKG51bGwsbikpfSx0aGlzLm9wdGlvbnMuZGVsYXkpfSxzZWFyY2g6ZnVuY3Rpb24obix0KXtyZXR1cm4gbj1udWxsIT1uP246dGhpcy5fdmFsdWUoKSx0aGlzLnRlcm09dGhpcy5fdmFsdWUoKSxuLmxlbmd0aDx0aGlzLm9wdGlvbnMubWluTGVuZ3RoP3RoaXMuY2xvc2UodCk6dGhpcy5fdHJpZ2dlcigic2VhcmNoIix0KSE9PSExP3RoaXMuX3NlYXJjaChuKTp2b2lkIDB9LF9zZWFyY2g6ZnVuY3Rpb24obil7dGhpcy5wZW5kaW5nKys7dGhpcy5fYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nIik7dGhpcy5jYW5jZWxTZWFyY2g9ITE7dGhpcy5zb3VyY2Uoe3Rlcm06bn0sdGhpcy5fcmVzcG9uc2UoKSl9LF9yZXNwb25zZTpmdW5jdGlvbigpe3ZhciB0PSsrdGhpcy5yZXF1ZXN0SW5kZXg7cmV0dXJuIG4ucHJveHkoZnVuY3Rpb24obil7dD09PXRoaXMucmVxdWVzdEluZGV4JiZ0aGlzLl9fcmVzcG9uc2Uobik7dGhpcy5wZW5kaW5nLS07dGhpcy5wZW5kaW5nfHx0aGlzLl9yZW1vdmVDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKX0sdGhpcyl9LF9fcmVzcG9uc2U6ZnVuY3Rpb24obil7biYmKG49dGhpcy5fbm9ybWFsaXplKG4pKTt0aGlzLl90cmlnZ2VyKCJyZXNwb25zZSIsbnVsbCx7Y29udGVudDpufSk7IXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmbiYmbi5sZW5ndGgmJiF0aGlzLmNhbmNlbFNlYXJjaD8odGhpcy5fc3VnZ2VzdChuKSx0aGlzLl90cmlnZ2VyKCJvcGVuIikpOnRoaXMuX2Nsb3NlKCl9LGNsb3NlOmZ1bmN0aW9uKG4pe3RoaXMuY2FuY2VsU2VhcmNoPSEwO3RoaXMuX2Nsb3NlKG4pfSxfY2xvc2U6ZnVuY3Rpb24obil7dGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQsIm1vdXNlZG93biIpO3RoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5tZW51LmVsZW1lbnQuaGlkZSgpLHRoaXMubWVudS5ibHVyKCksdGhpcy5pc05ld01lbnU9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLG4pKX0sX2NoYW5nZTpmdW5jdGlvbihuKXt0aGlzLnByZXZpb3VzIT09dGhpcy5fdmFsdWUoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixuLHtpdGVtOnRoaXMuc2VsZWN0ZWRJdGVtfSl9LF9ub3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoJiZ0WzBdLmxhYmVsJiZ0WzBdLnZhbHVlP3Q6bi5tYXAodCxmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/e2xhYmVsOnQsdmFsdWU6dH06bi5leHRlbmQoe30sdCx7bGFiZWw6dC5sYWJlbHx8dC52YWx1ZSx2YWx1ZTp0LnZhbHVlfHx0LmxhYmVsfSl9KX0sX3N1Z2dlc3Q6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5tZW51LmVsZW1lbnQuZW1wdHkoKTt0aGlzLl9yZW5kZXJNZW51KGksdCk7dGhpcy5pc05ld01lbnU9ITA7dGhpcy5tZW51LnJlZnJlc2goKTtpLnNob3coKTt0aGlzLl9yZXNpemVNZW51KCk7aS5wb3NpdGlvbihuLmV4dGVuZCh7Im9mIjp0aGlzLmVsZW1lbnR9LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpO3RoaXMub3B0aW9ucy5hdXRvRm9jdXMmJnRoaXMubWVudS5uZXh0KCk7dGhpcy5fb24odGhpcy5kb2N1bWVudCx7bW91c2Vkb3duOiJfY2xvc2VPbkNsaWNrT3V0c2lkZSJ9KX0sX3Jlc2l6ZU1lbnU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm1lbnUuZWxlbWVudDtuLm91dGVyV2lkdGgoTWF0aC5tYXgobi53aWR0aCgiIikub3V0ZXJXaWR0aCgpKzEsdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSkpfSxfcmVuZGVyTWVudTpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXM7bi5lYWNoKGksZnVuY3Rpb24obixpKXtyLl9yZW5kZXJJdGVtRGF0YSh0LGkpfSl9LF9yZW5kZXJJdGVtRGF0YTpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9yZW5kZXJJdGVtKG4sdCkuZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iLHQpfSxfcmVuZGVySXRlbTpmdW5jdGlvbih0LGkpe3JldHVybiBuKCI8bGk+IikuYXBwZW5kKG4oIjxkaXY+IikudGV4dChpLmxhYmVsKSkuYXBwZW5kVG8odCl9LF9tb3ZlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpP3RoaXMubWVudS5pc0ZpcnN0SXRlbSgpJiYvXnByZXZpb3VzLy50ZXN0KG4pfHx0aGlzLm1lbnUuaXNMYXN0SXRlbSgpJiYvXm5leHQvLnRlc3Qobik/KHRoaXMuaXNNdWx0aUxpbmV8fHRoaXMuX3ZhbHVlKHRoaXMudGVybSksdGhpcy5tZW51LmJsdXIoKSx2b2lkIDApOih0aGlzLm1lbnVbbl0odCksdm9pZCAwKToodGhpcy5zZWFyY2gobnVsbCx0KSx2b2lkIDApfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnR9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlTWV0aG9kLmFwcGx5KHRoaXMuZWxlbWVudCxhcmd1bWVudHMpfSxfa2V5RXZlbnQ6ZnVuY3Rpb24obix0KXsoIXRoaXMuaXNNdWx0aUxpbmV8fHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpKSYmKHRoaXMuX21vdmUobix0KSx0LnByZXZlbnREZWZhdWx0KCkpfSxfaXNDb250ZW50RWRpdGFibGU6ZnVuY3Rpb24obil7aWYoIW4ubGVuZ3RoKXJldHVybiExO3ZhciB0PW4ucHJvcCgiY29udGVudEVkaXRhYmxlIik7cmV0dXJuImluaGVyaXQiPT09dD90aGlzLl9pc0NvbnRlbnRFZGl0YWJsZShuLnBhcmVudCgpKToidHJ1ZSI9PT10fX0pO24uZXh0ZW5kKG4udWkuYXV0b2NvbXBsZXRlLHtlc2NhcGVSZWdleDpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC9bXC1cW1xde30oKSorPy4sXFxcXiR8I1xzXS9nLCJcXCQmIil9LGZpbHRlcjpmdW5jdGlvbih0LGkpe3ZhciByPVJlZ0V4cChuLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleChpKSwiaSIpO3JldHVybiBuLmdyZXAodCxmdW5jdGlvbihuKXtyZXR1cm4gci50ZXN0KG4ubGFiZWx8fG4udmFsdWV8fG4pfSl9fSk7bi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIsbi51aS5hdXRvY29tcGxldGUse29wdGlvbnM6e21lc3NhZ2VzOntub1Jlc3VsdHM6Ik5vIHNlYXJjaCByZXN1bHRzLiIscmVzdWx0czpmdW5jdGlvbihuKXtyZXR1cm4gbisobj4xPyIgcmVzdWx0cyBhcmUiOiIgcmVzdWx0IGlzIikrIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLiJ9fX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt2YXIgaTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7dGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmNhbmNlbFNlYXJjaHx8KGk9dCYmdC5sZW5ndGg/dGhpcy5vcHRpb25zLm1lc3NhZ2VzLnJlc3VsdHModC5sZW5ndGgpOnRoaXMub3B0aW9ucy5tZXNzYWdlcy5ub1Jlc3VsdHMsdGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpLG4oIjxkaXY+IikudGV4dChpKS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pKX19KTtuLnVpLmF1dG9jb21wbGV0ZTt3PS91aS1jb3JuZXItKFthLXpdKXsyLDZ9L2c7bi53aWRnZXQoInVpLmNvbnRyb2xncm91cCIse3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXJlY3Rpb246Imhvcml6b250YWwiLGRpc2FibGVkOm51bGwsb25seVZpc2libGU6ITAsaXRlbXM6e2J1dHRvbjoiaW5wdXRbdHlwZT1idXR0b25dLCBpbnB1dFt0eXBlPXN1Ym1pdF0sIGlucHV0W3R5cGU9cmVzZXRdLCBidXR0b24sIGEiLGNvbnRyb2xncm91cExhYmVsOiIudWktY29udHJvbGdyb3VwLWxhYmVsIixjaGVja2JveHJhZGlvOiJpbnB1dFt0eXBlPSdjaGVja2JveCddLCBpbnB1dFt0eXBlPSdyYWRpbyddIixzZWxlY3RtZW51OiJzZWxlY3QiLHNwaW5uZXI6Ii51aS1zcGlubmVyLWlucHV0In19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9lbmhhbmNlKCl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJ0b29sYmFyIik7dGhpcy5yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fY2FsbENoaWxkTWV0aG9kKCJkZXN0cm95Iik7dGhpcy5jaGlsZFdpZGdldHMucmVtb3ZlRGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigicm9sZSIpO3RoaXMub3B0aW9ucy5pdGVtcy5jb250cm9sZ3JvdXBMYWJlbCYmdGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zLmNvbnRyb2xncm91cExhYmVsKS5maW5kKCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzIikuY29udGVudHMoKS51bndyYXAoKX0sX2luaXRXaWRnZXRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPVtdO24uZWFjaCh0aGlzLm9wdGlvbnMuaXRlbXMsZnVuY3Rpb24ocix1KXt2YXIgZixlPXt9O2lmKHUpcmV0dXJuImNvbnRyb2xncm91cExhYmVsIj09PXI/KGY9dC5lbGVtZW50LmZpbmQodSksZi5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzIikubGVuZ3RofHx0LmNvbnRlbnRzKCkud3JhcEFsbCgiPHNwYW4gY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyc+PFwvc3Bhbj4iKX0pLHQuX2FkZENsYXNzKGYsbnVsbCwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLXN0YXRlLWRlZmF1bHQiKSxpPWkuY29uY2F0KGYuZ2V0KCkpLHZvaWQgMCk6KG4uZm5bcl0mJihlPXRbIl8iK3IrIk9wdGlvbnMiXT90WyJfIityKyJPcHRpb25zIl0oIm1pZGRsZSIpOntjbGFzc2VzOnt9fSx0LmVsZW1lbnQuZmluZCh1KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHU9bih0aGlzKSxmPXVbcl0oImluc3RhbmNlIiksbz1uLndpZGdldC5leHRlbmQoe30sZSksczsiYnV0dG9uIj09PXImJnUucGFyZW50KCIudWktc3Bpbm5lciIpLmxlbmd0aHx8KGZ8fChmPXVbcl0oKVtyXSgiaW5zdGFuY2UiKSksZiYmKG8uY2xhc3Nlcz10Ll9yZXNvbHZlQ2xhc3Nlc1ZhbHVlcyhvLmNsYXNzZXMsZikpLHVbcl0obykscz11W3JdKCJ3aWRnZXQiKSxuLmRhdGEoc1swXSwidWktY29udHJvbGdyb3VwLWRhdGEiLGY/Zjp1W3JdKCJpbnN0YW5jZSIpKSxpLnB1c2goc1swXSkpfSkpLHZvaWQgMCl9KTt0aGlzLmNoaWxkV2lkZ2V0cz1uKG4udW5pcXVlKGkpKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmNoaWxkV2lkZ2V0cywidWktY29udHJvbGdyb3VwLWl0ZW0iKX0sX2NhbGxDaGlsZE1ldGhvZDpmdW5jdGlvbih0KXt0aGlzLmNoaWxkV2lkZ2V0cy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bih0aGlzKSxpPXIuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTtpJiZpW3RdJiZpW3RdKCl9KX0sX3VwZGF0ZUNvcm5lckNsYXNzOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5fYnVpbGRTaW1wbGVPcHRpb25zKHQsImxhYmVsIikuY2xhc3Nlcy5sYWJlbDt0aGlzLl9yZW1vdmVDbGFzcyhuLG51bGwsInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQgdWktY29ybmVyLWFsbCIpO3RoaXMuX2FkZENsYXNzKG4sbnVsbCxpKX0sX2J1aWxkU2ltcGxlT3B0aW9uczpmdW5jdGlvbihuLHQpe3ZhciBpPSJ2ZXJ0aWNhbCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uLHI9e2NsYXNzZXM6e319O3JldHVybiByLmNsYXNzZXNbdF09e21pZGRsZToiIixmaXJzdDoidWktY29ybmVyLSIrKGk/InRvcCI6ImxlZnQiKSxsYXN0OiJ1aS1jb3JuZXItIisoaT8iYm90dG9tIjoicmlnaHQiKSxvbmx5OiJ1aS1jb3JuZXItYWxsIn1bbl0scn0sX3NwaW5uZXJPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2J1aWxkU2ltcGxlT3B0aW9ucyhuLCJ1aS1zcGlubmVyIik7cmV0dXJuIHQuY2xhc3Nlc1sidWktc3Bpbm5lci11cCJdPSIiLHQuY2xhc3Nlc1sidWktc3Bpbm5lci1kb3duIl09IiIsdH0sX2J1dHRvbk9wdGlvbnM6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2J1aWxkU2ltcGxlT3B0aW9ucyhuLCJ1aS1idXR0b24iKX0sX2NoZWNrYm94cmFkaW9PcHRpb25zOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9idWlsZFNpbXBsZU9wdGlvbnMobiwidWktY2hlY2tib3hyYWRpby1sYWJlbCIpfSxfc2VsZWN0bWVudU9wdGlvbnM6ZnVuY3Rpb24obil7dmFyIHQ9InZlcnRpY2FsIj09PXRoaXMub3B0aW9ucy5kaXJlY3Rpb247cmV0dXJue3dpZHRoOnQ/ImF1dG8iOiExLGNsYXNzZXM6e21pZGRsZTp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiIiLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiIifSxmaXJzdDp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiJ1aS1jb3JuZXItIisodD8idG9wIjoidGwiKSwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLSIrKHQ/InRvcCI6ImxlZnQiKX0sbGFzdDp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOnQ/IiI6InVpLWNvcm5lci10ciIsInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6InVpLWNvcm5lci0iKyh0PyJib3R0b20iOiJyaWdodCIpfSxvbmx5OnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6InVpLWNvcm5lci10b3AiLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiJ1aS1jb3JuZXItYWxsIn19W25dfX0sX3Jlc29sdmVDbGFzc2VzVmFsdWVzOmZ1bmN0aW9uKHQsaSl7dmFyIHI9e307cmV0dXJuIG4uZWFjaCh0LGZ1bmN0aW9uKHUpe3ZhciBmPWkub3B0aW9ucy5jbGFzc2VzW3VdfHwiIjtmPW4udHJpbShmLnJlcGxhY2UodywiIikpO3JbdV09KGYrIiAiK3RbdV0pLnJlcGxhY2UoL1xzKy9nLCIgIil9KSxyfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImRpcmVjdGlvbiI9PT1uJiZ0aGlzLl9yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwLSIrdGhpcy5vcHRpb25zLmRpcmVjdGlvbiksdGhpcy5fc3VwZXIobix0KSwiZGlzYWJsZWQiPT09bj8odGhpcy5fY2FsbENoaWxkTWV0aG9kKHQ/ImRpc2FibGUiOiJlbmFibGUiKSx2b2lkIDApOih0aGlzLnJlZnJlc2goKSx2b2lkIDApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLSIrdGhpcy5vcHRpb25zLmRpcmVjdGlvbik7Imhvcml6b250YWwiPT09dGhpcy5vcHRpb25zLmRpcmVjdGlvbiYmdGhpcy5fYWRkQ2xhc3MobnVsbCwidWktaGVscGVyLWNsZWFyZml4Iik7dGhpcy5faW5pdFdpZGdldHMoKTt0PXRoaXMuY2hpbGRXaWRnZXRzO3RoaXMub3B0aW9ucy5vbmx5VmlzaWJsZSYmKHQ9dC5maWx0ZXIoIjp2aXNpYmxlIikpO3QubGVuZ3RoJiYobi5lYWNoKFsiZmlyc3QiLCJsYXN0Il0sZnVuY3Rpb24obixyKXt2YXIgdT10W3JdKCkuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKSxmO3UmJmlbIl8iK3Uud2lkZ2V0TmFtZSsiT3B0aW9ucyJdPyhmPWlbIl8iK3Uud2lkZ2V0TmFtZSsiT3B0aW9ucyJdKDE9PT10Lmxlbmd0aD8ib25seSI6ciksZi5jbGFzc2VzPWkuX3Jlc29sdmVDbGFzc2VzVmFsdWVzKGYuY2xhc3Nlcyx1KSx1LmVsZW1lbnRbdS53aWRnZXROYW1lXShmKSk6aS5fdXBkYXRlQ29ybmVyQ2xhc3ModFtyXSgpLHIpfSksdGhpcy5fY2FsbENoaWxkTWV0aG9kKCJyZWZyZXNoIikpfX0pO24ud2lkZ2V0KCJ1aS5jaGVja2JveHJhZGlvIixbbi51aS5mb3JtUmVzZXRNaXhpbix7dmVyc2lvbjoiMS4xMi4xIixvcHRpb25zOntkaXNhYmxlZDpudWxsLGxhYmVsOm51bGwsaWNvbjohMCxjbGFzc2VzOnsidWktY2hlY2tib3hyYWRpby1sYWJlbCI6InVpLWNvcm5lci1hbGwiLCJ1aS1jaGVja2JveHJhZGlvLWljb24iOiJ1aS1jb3JuZXItYWxsIn19LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIHQsaSx1PXRoaXMscj10aGlzLl9zdXBlcigpfHx7fTtyZXR1cm4gdGhpcy5fcmVhZFR5cGUoKSxpPXRoaXMuZWxlbWVudC5sYWJlbHMoKSx0aGlzLmxhYmVsPW4oaVtpLmxlbmd0aC0xXSksdGhpcy5sYWJlbC5sZW5ndGh8fG4uZXJyb3IoIk5vIGxhYmVsIGZvdW5kIGZvciBjaGVja2JveHJhZGlvIHdpZGdldCIpLHRoaXMub3JpZ2luYWxMYWJlbD0iIix0aGlzLmxhYmVsLmNvbnRlbnRzKCkubm90KHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe3Uub3JpZ2luYWxMYWJlbCs9Mz09PXRoaXMubm9kZVR5cGU/bih0aGlzKS50ZXh0KCk6dGhpcy5vdXRlckhUTUx9KSx0aGlzLm9yaWdpbmFsTGFiZWwmJihyLmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCksdD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQsbnVsbCE9dCYmKHIuZGlzYWJsZWQ9dCkscn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZWxlbWVudFswXS5jaGVja2VkO3RoaXMuX2JpbmRGb3JtUmVzZXRIYW5kbGVyKCk7bnVsbD09dGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCk7dGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5vcHRpb25zLmRpc2FibGVkKTt0aGlzLl9hZGRDbGFzcygidWktY2hlY2tib3hyYWRpbyIsInVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZSIpO3RoaXMuX2FkZENsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tbGFiZWwiLCJ1aS1idXR0b24gdWktd2lkZ2V0Iik7InJhZGlvIj09PXRoaXMudHlwZSYmdGhpcy5fYWRkQ2xhc3ModGhpcy5sYWJlbCwidWktY2hlY2tib3hyYWRpby1yYWRpby1sYWJlbCIpO3RoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5vcHRpb25zLmxhYmVsIT09dGhpcy5vcmlnaW5hbExhYmVsP3RoaXMuX3VwZGF0ZUxhYmVsKCk6dGhpcy5vcmlnaW5hbExhYmVsJiYodGhpcy5vcHRpb25zLmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCk7dGhpcy5fZW5oYW5jZSgpO24mJih0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLmljb24mJnRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpKTt0aGlzLl9vbih7Y2hhbmdlOiJfdG9nZ2xlQ2xhc3NlcyIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLG51bGwsInVpLXN0YXRlLWZvY3VzIHVpLXZpc3VhbC1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXMiKX19KX0sX3JlYWRUeXBlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7dGhpcy50eXBlPXRoaXMuZWxlbWVudFswXS50eXBlOyJpbnB1dCI9PT10JiYvcmFkaW98Y2hlY2tib3gvLnRlc3QodGhpcy50eXBlKXx8bi5lcnJvcigiQ2FuJ3QgY3JlYXRlIGNoZWNrYm94cmFkaW8gb24gZWxlbWVudC5ub2RlTmFtZT0iK3QrIiBhbmQgZWxlbWVudC50eXBlPSIrdGhpcy50eXBlKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVJY29uKHRoaXMuZWxlbWVudFswXS5jaGVja2VkKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWx9LF9nZXRSYWRpb0dyb3VwOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLmVsZW1lbnRbMF0ubmFtZSxyPSJpbnB1dFtuYW1lPSciK24udWkuZXNjYXBlU2VsZWN0b3IoaSkrIiddIjtyZXR1cm4gaT8odD10aGlzLmZvcm0ubGVuZ3RoP24odGhpcy5mb3JtWzBdLmVsZW1lbnRzKS5maWx0ZXIocik6bihyKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PW4odGhpcykuZm9ybSgpLmxlbmd0aH0pLHQubm90KHRoaXMuZWxlbWVudCkpOm4oW10pfSxfdG9nZ2xlQ2xhc3NlczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudFswXS5jaGVja2VkO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIsdCk7dGhpcy5vcHRpb25zLmljb24mJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiLHQpLl90b2dnbGVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktaWNvbi1ibGFuayIsIXQpOyJyYWRpbyI9PT10aGlzLnR5cGUmJnRoaXMuX2dldFJhZGlvR3JvdXAoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5jaGVja2JveHJhZGlvKCJpbnN0YW5jZSIpO3QmJnQuX3JlbW92ZUNsYXNzKHQubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fdW5iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMuaWNvbiYmKHRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZS5yZW1vdmUoKSl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtpZigibGFiZWwiIT09bnx8dClyZXR1cm4odGhpcy5fc3VwZXIobix0KSwiZGlzYWJsZWQiPT09bj8odGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsdCksdGhpcy5lbGVtZW50WzBdLmRpc2FibGVkPXQsdm9pZCAwKToodGhpcy5yZWZyZXNoKCksdm9pZCAwKSl9LF91cGRhdGVJY29uOmZ1bmN0aW9uKHQpe3ZhciBpPSJ1aS1pY29uIHVpLWljb24tYmFja2dyb3VuZCAiO3RoaXMub3B0aW9ucy5pY29uPyh0aGlzLmljb258fCh0aGlzLmljb249bigiPHNwYW4+IiksdGhpcy5pY29uU3BhY2U9bigiPHNwYW4+IDxcL3NwYW4+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uU3BhY2UsInVpLWNoZWNrYm94cmFkaW8taWNvbi1zcGFjZSIpKSwiY2hlY2tib3giPT09dGhpcy50eXBlPyhpKz10PyJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiOiJ1aS1pY29uLWJsYW5rIix0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCx0PyJ1aS1pY29uLWJsYW5rIjoidWktaWNvbi1jaGVjayIpKTppKz0idWktaWNvbi1ibGFuayIsdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLCJ1aS1jaGVja2JveHJhZGlvLWljb24iLGkpLHR8fHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiKSx0aGlzLmljb24ucHJlcGVuZFRvKHRoaXMubGFiZWwpLmFmdGVyKHRoaXMuaWNvblNwYWNlKSk6dm9pZCAwIT09dGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmljb24pfSxfdXBkYXRlTGFiZWw6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmxhYmVsLmNvbnRlbnRzKCkubm90KHRoaXMuZWxlbWVudFswXSk7dGhpcy5pY29uJiYobj1uLm5vdCh0aGlzLmljb25bMF0pKTt0aGlzLmljb25TcGFjZSYmKG49bi5ub3QodGhpcy5pY29uU3BhY2VbMF0pKTtuLnJlbW92ZSgpO3RoaXMubGFiZWwuYXBwZW5kKHRoaXMub3B0aW9ucy5sYWJlbCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCx0PXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZDt0aGlzLl91cGRhdGVJY29uKG4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIsbik7bnVsbCE9PXRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5fdXBkYXRlTGFiZWwoKTt0IT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDp0fSl9fV0pO24udWkuY2hlY2tib3hyYWRpbztuLndpZGdldCgidWkuYnV0dG9uIix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPGJ1dHRvbj4iLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS1idXR0b24iOiJ1aS1jb3JuZXItYWxsIn0sZGlzYWJsZWQ6bnVsbCxpY29uOm51bGwsaWNvblBvc2l0aW9uOiJiZWdpbm5pbmciLGxhYmVsOm51bGwsc2hvd0xhYmVsOiEwfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBuLHQ9dGhpcy5fc3VwZXIoKXx8e307cmV0dXJuIHRoaXMuaXNJbnB1dD10aGlzLmVsZW1lbnQuaXMoImlucHV0Iiksbj10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQsbnVsbCE9biYmKHQuZGlzYWJsZWQ9biksdGhpcy5vcmlnaW5hbExhYmVsPXRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKCk6dGhpcy5lbGVtZW50Lmh0bWwoKSx0aGlzLm9yaWdpbmFsTGFiZWwmJih0LmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCksdH0sX2NyZWF0ZTpmdW5jdGlvbigpeyF0aGlzLm9wdGlvbi5zaG93TGFiZWwmIXRoaXMub3B0aW9ucy5pY29uJiYodGhpcy5vcHRpb25zLnNob3dMYWJlbD0hMCk7bnVsbD09dGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZHx8ITEpO3RoaXMuaGFzVGl0bGU9ISF0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKTt0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMub3B0aW9ucy5sYWJlbCE9PXRoaXMub3JpZ2luYWxMYWJlbCYmKHRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKHRoaXMub3B0aW9ucy5sYWJlbCk6dGhpcy5lbGVtZW50Lmh0bWwodGhpcy5vcHRpb25zLmxhYmVsKSk7dGhpcy5fYWRkQ2xhc3MoInVpLWJ1dHRvbiIsInVpLXdpZGdldCIpO3RoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7dGhpcy5fZW5oYW5jZSgpO3RoaXMuZWxlbWVudC5pcygiYSIpJiZ0aGlzLl9vbih7a2V5dXA6ZnVuY3Rpb24odCl7dC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlNQQUNFJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZWxlbWVudFswXS5jbGljaz90aGlzLmVsZW1lbnRbMF0uY2xpY2soKTp0aGlzLmVsZW1lbnQudHJpZ2dlcigiY2xpY2siKSl9fSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmlzKCJidXR0b24iKXx8dGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJidXR0b24iKTt0aGlzLm9wdGlvbnMuaWNvbiYmKHRoaXMuX3VwZGF0ZUljb24oImljb24iLHRoaXMub3B0aW9ucy5pY29uKSx0aGlzLl91cGRhdGVUb29sdGlwKCkpfSxfdXBkYXRlVG9vbHRpcDpmdW5jdGlvbigpe3RoaXMudGl0bGU9dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIik7dGhpcy5vcHRpb25zLnNob3dMYWJlbHx8dGhpcy50aXRsZXx8dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIix0aGlzLm9wdGlvbnMubGFiZWwpfSxfdXBkYXRlSWNvbjpmdW5jdGlvbih0LGkpe3ZhciB1PSJpY29uUG9zaXRpb24iIT09dCxyPXU/dGhpcy5vcHRpb25zLmljb25Qb3NpdGlvbjppLGY9InRvcCI9PT1yfHwiYm90dG9tIj09PXI7dGhpcy5pY29uP3UmJnRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLHRoaXMub3B0aW9ucy5pY29uKToodGhpcy5pY29uPW4oIjxzcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbiwidWktYnV0dG9uLWljb24iLCJ1aS1pY29uIiksdGhpcy5vcHRpb25zLnNob3dMYWJlbHx8dGhpcy5fYWRkQ2xhc3MoInVpLWJ1dHRvbi1pY29uLW9ubHkiKSk7dSYmdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLG51bGwsaSk7dGhpcy5fYXR0YWNoSWNvbihyKTtmPyh0aGlzLl9hZGRDbGFzcyh0aGlzLmljb24sbnVsbCwidWktd2lkZ2V0LWljb24tYmxvY2siKSx0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCkpOih0aGlzLmljb25TcGFjZXx8KHRoaXMuaWNvblNwYWNlPW4oIjxzcGFuPiA8XC9zcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvblNwYWNlLCJ1aS1idXR0b24taWNvbi1zcGFjZSIpKSx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktd2lnZXQtaWNvbi1ibG9jayIpLHRoaXMuX2F0dGFjaEljb25TcGFjZShyKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUiKTt0aGlzLmljb24mJnRoaXMuaWNvbi5yZW1vdmUoKTt0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCk7dGhpcy5oYXNUaXRsZXx8dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInRpdGxlIil9LF9hdHRhY2hJY29uU3BhY2U6ZnVuY3Rpb24obil7dGhpcy5pY29uWy9eKD86ZW5kfGJvdHRvbSkvLnRlc3Qobik/ImJlZm9yZSI6ImFmdGVyIl0odGhpcy5pY29uU3BhY2UpfSxfYXR0YWNoSWNvbjpmdW5jdGlvbihuKXt0aGlzLmVsZW1lbnRbL14oPzplbmR8Ym90dG9tKS8udGVzdChuKT8iYXBwZW5kIjoicHJlcGVuZCJdKHRoaXMuaWNvbil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PXZvaWQgMD09PW4uc2hvd0xhYmVsP3RoaXMub3B0aW9ucy5zaG93TGFiZWw6bi5zaG93TGFiZWwsaT12b2lkIDA9PT1uLmljb24/dGhpcy5vcHRpb25zLmljb246bi5pY29uO3R8fGl8fChuLnNob3dMYWJlbD0hMCk7dGhpcy5fc3VwZXIobil9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsiaWNvbiI9PT1uJiYodD90aGlzLl91cGRhdGVJY29uKG4sdCk6dGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlJiZ0aGlzLmljb25TcGFjZS5yZW1vdmUoKSkpOyJpY29uUG9zaXRpb24iPT09biYmdGhpcy5fdXBkYXRlSWNvbihuLHQpOyJzaG93TGFiZWwiPT09biYmKHRoaXMuX3RvZ2dsZUNsYXNzKCJ1aS1idXR0b24taWNvbi1vbmx5IixudWxsLCF0KSx0aGlzLl91cGRhdGVUb29sdGlwKCkpOyJsYWJlbCI9PT1uJiYodGhpcy5pc0lucHV0P3RoaXMuZWxlbWVudC52YWwodCk6KHRoaXMuZWxlbWVudC5odG1sKHQpLHRoaXMuaWNvbiYmKHRoaXMuX2F0dGFjaEljb24odGhpcy5vcHRpb25zLmljb25Qb3NpdGlvbiksdGhpcy5fYXR0YWNoSWNvblNwYWNlKHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24pKSkpO3RoaXMuX3N1cGVyKG4sdCk7ImRpc2FibGVkIj09PW4mJih0aGlzLl90b2dnbGVDbGFzcyhudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsdCksdGhpcy5lbGVtZW50WzBdLmRpc2FibGVkPXQsdCYmdGhpcy5lbGVtZW50LmJsdXIoKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnQuaXMoImlucHV0LCBidXR0b24iKT90aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQ6dGhpcy5lbGVtZW50Lmhhc0NsYXNzKCJ1aS1idXR0b24tZGlzYWJsZWQiKTtuIT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDpufSk7dGhpcy5fdXBkYXRlVG9vbHRpcCgpfX0pO24udWlCYWNrQ29tcGF0IT09ITEmJihuLndpZGdldCgidWkuYnV0dG9uIixuLnVpLmJ1dHRvbix7b3B0aW9uczp7dGV4dDohMCxpY29uczp7cHJpbWFyeTpudWxsLHNlY29uZGFyeTpudWxsfX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zaG93TGFiZWwmJiF0aGlzLm9wdGlvbnMudGV4dCYmKHRoaXMub3B0aW9ucy5zaG93TGFiZWw9dGhpcy5vcHRpb25zLnRleHQpOyF0aGlzLm9wdGlvbnMuc2hvd0xhYmVsJiZ0aGlzLm9wdGlvbnMudGV4dCYmKHRoaXMub3B0aW9ucy50ZXh0PXRoaXMub3B0aW9ucy5zaG93TGFiZWwpO3RoaXMub3B0aW9ucy5pY29ufHwhdGhpcy5vcHRpb25zLmljb25zLnByaW1hcnkmJiF0aGlzLm9wdGlvbnMuaWNvbnMuc2Vjb25kYXJ5P3RoaXMub3B0aW9ucy5pY29uJiYodGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk9dGhpcy5vcHRpb25zLmljb24pOnRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5P3RoaXMub3B0aW9ucy5pY29uPXRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5Oih0aGlzLm9wdGlvbnMuaWNvbj10aGlzLm9wdGlvbnMuaWNvbnMuc2Vjb25kYXJ5LHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb249ImVuZCIpO3RoaXMuX3N1cGVyKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtyZXR1cm4idGV4dCI9PT1uPyh0aGlzLl9zdXBlcigic2hvd0xhYmVsIix0KSx2b2lkIDApOigic2hvd0xhYmVsIj09PW4mJih0aGlzLm9wdGlvbnMudGV4dD10KSwiaWNvbiI9PT1uJiYodGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk9dCksImljb25zIj09PW4mJih0LnByaW1hcnk/KHRoaXMuX3N1cGVyKCJpY29uIix0LnByaW1hcnkpLHRoaXMuX3N1cGVyKCJpY29uUG9zaXRpb24iLCJiZWdpbm5pbmciKSk6dC5zZWNvbmRhcnkmJih0aGlzLl9zdXBlcigiaWNvbiIsdC5zZWNvbmRhcnkpLHRoaXMuX3N1cGVyKCJpY29uUG9zaXRpb24iLCJlbmQiKSkpLHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx2b2lkIDApfX0pLG4uZm4uYnV0dG9uPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiF0aGlzLmxlbmd0aHx8dGhpcy5sZW5ndGgmJiJJTlBVVCIhPT10aGlzWzBdLnRhZ05hbWV8fHRoaXMubGVuZ3RoJiYiSU5QVVQiPT09dGhpc1swXS50YWdOYW1lJiYiY2hlY2tib3giIT09dGhpcy5hdHRyKCJ0eXBlIikmJiJyYWRpbyIhPT10aGlzLmF0dHIoInR5cGUiKT90LmFwcGx5KHRoaXMsYXJndW1lbnRzKToobi51aS5jaGVja2JveHJhZGlvfHxuLmVycm9yKCJDaGVja2JveHJhZGlvIHdpZGdldCBtaXNzaW5nIiksMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5jaGVja2JveHJhZGlvKHtpY29uOiExfSk6dGhpcy5jaGVja2JveHJhZGlvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fShuLmZuLmJ1dHRvbiksbi5mbi5idXR0b25zZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi51aS5jb250cm9sZ3JvdXB8fG4uZXJyb3IoIkNvbnRyb2xncm91cCB3aWRnZXQgbWlzc2luZyIpLCJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMl0/dGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxbYXJndW1lbnRzWzBdLCJpdGVtcy5idXR0b24iLGFyZ3VtZW50c1syXV0pOiJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdP3RoaXMuY29udHJvbGdyb3VwLmFwcGx5KHRoaXMsW2FyZ3VtZW50c1swXSwiaXRlbXMuYnV0dG9uIl0pOigib2JqZWN0Ij09dHlwZW9mIGFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLml0ZW1zJiYoYXJndW1lbnRzWzBdLml0ZW1zPXtidXR0b246YXJndW1lbnRzWzBdLml0ZW1zfSksdGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0pO24udWkuYnV0dG9uO24uZXh0ZW5kKG4udWkse2RhdGVwaWNrZXI6e3ZlcnNpb246IjEuMTIuMSJ9fSk7bi5leHRlbmQoYy5wcm90b3R5cGUse21hcmtlckNsYXNzTmFtZToiaGFzRGF0ZXBpY2tlciIsbWF4Um93czo0LF93aWRnZXREYXRlcGlja2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHBEaXZ9LHNldERlZmF1bHRzOmZ1bmN0aW9uKG4pe3JldHVybiB1KHRoaXMuX2RlZmF1bHRzLG58fHt9KSx0aGlzfSxfYXR0YWNoRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByLGYsdTtyPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtmPSJkaXYiPT09cnx8InNwYW4iPT09cjt0LmlkfHwodGhpcy51dWlkKz0xLHQuaWQ9ImRwIit0aGlzLnV1aWQpO3U9dGhpcy5fbmV3SW5zdChuKHQpLGYpO3Uuc2V0dGluZ3M9bi5leHRlbmQoe30saXx8e30pOyJpbnB1dCI9PT1yP3RoaXMuX2Nvbm5lY3REYXRlcGlja2VyKHQsdSk6ZiYmdGhpcy5faW5saW5lRGF0ZXBpY2tlcih0LHUpfSxfbmV3SW5zdDpmdW5jdGlvbih0LGkpe3ZhciByPXRbMF0uaWQucmVwbGFjZSgvKFteQS1aYS16MC05X1wtXSkvZywiXFxcXCQxIik7cmV0dXJue2lkOnIsaW5wdXQ6dCxzZWxlY3RlZERheTowLHNlbGVjdGVkTW9udGg6MCxzZWxlY3RlZFllYXI6MCxkcmF3TW9udGg6MCxkcmF3WWVhcjowLGlubGluZTppLGRwRGl2Omk/bChuKCI8ZGl2IGNsYXNzPSciK3RoaXMuX2lubGluZUNsYXNzKyIgdWktZGF0ZXBpY2tlciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGwnPjxcL2Rpdj4iKSk6dGhpcy5kcERpdn19LF9jb25uZWN0RGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByPW4odCk7aS5hcHBlbmQ9bihbXSk7aS50cmlnZ2VyPW4oW10pO3IuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwodGhpcy5fYXR0YWNobWVudHMocixpKSxyLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5vbigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKS5vbigia2V5cHJlc3MiLHRoaXMuX2RvS2V5UHJlc3MpLm9uKCJrZXl1cCIsdGhpcy5fZG9LZXlVcCksdGhpcy5fYXV0b1NpemUoaSksbi5kYXRhKHQsImRhdGVwaWNrZXIiLGkpLGkuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpKX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKHQsaSl7dmFyIHUscixmLGU9dGhpcy5fZ2V0KGksImFwcGVuZFRleHQiKSxvPXRoaXMuX2dldChpLCJpc1JUTCIpO2kuYXBwZW5kJiZpLmFwcGVuZC5yZW1vdmUoKTtlJiYoaS5hcHBlbmQ9bigiPHNwYW4gY2xhc3M9JyIrdGhpcy5fYXBwZW5kQ2xhc3MrIic+IitlKyI8XC9zcGFuPiIpLHRbbz8iYmVmb3JlIjoiYWZ0ZXIiXShpLmFwcGVuZCkpO3Qub2ZmKCJmb2N1cyIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpO2kudHJpZ2dlciYmaS50cmlnZ2VyLnJlbW92ZSgpO3U9dGhpcy5fZ2V0KGksInNob3dPbiIpOygiZm9jdXMiPT09dXx8ImJvdGgiPT09dSkmJnQub24oImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlcik7KCJidXR0b24iPT09dXx8ImJvdGgiPT09dSkmJihyPXRoaXMuX2dldChpLCJidXR0b25UZXh0IiksZj10aGlzLl9nZXQoaSwiYnV0dG9uSW1hZ2UiKSxpLnRyaWdnZXI9bih0aGlzLl9nZXQoaSwiYnV0dG9uSW1hZ2VPbmx5Iik/bigiPGltZy8+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5hdHRyKHtzcmM6ZixhbHQ6cix0aXRsZTpyfSk6bigiPGJ1dHRvbiB0eXBlPSdidXR0b24nPjxcL2J1dHRvbj4iKS5hZGRDbGFzcyh0aGlzLl90cmlnZ2VyQ2xhc3MpLmh0bWwoZj9uKCI8aW1nLz4iKS5hdHRyKHtzcmM6ZixhbHQ6cix0aXRsZTpyfSk6cikpLHRbbz8iYmVmb3JlIjoiYWZ0ZXIiXShpLnRyaWdnZXIpLGkudHJpZ2dlci5vbigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5fbGFzdElucHV0PT09dFswXT9uLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk6bi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmbi5kYXRlcGlja2VyLl9sYXN0SW5wdXQhPT10WzBdPyhuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCksbi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSk6bi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSwhMX0pKX0sX2F1dG9TaXplOmZ1bmN0aW9uKG4pe2lmKHRoaXMuX2dldChuLCJhdXRvU2l6ZSIpJiYhbi5pbmxpbmUpe3ZhciByLHUsZix0LGk9bmV3IERhdGUoMjAwOSwxMSwyMCksZT10aGlzLl9nZXQobiwiZGF0ZUZvcm1hdCIpO2UubWF0Y2goL1tETV0vKSYmKHI9ZnVuY3Rpb24obil7Zm9yKHU9MCxmPTAsdD0wO24ubGVuZ3RoPnQ7dCsrKW5bdF0ubGVuZ3RoPnUmJih1PW5bdF0ubGVuZ3RoLGY9dCk7cmV0dXJuIGZ9LGkuc2V0TW9udGgocih0aGlzLl9nZXQobixlLm1hdGNoKC9NTS8pPyJtb250aE5hbWVzIjoibW9udGhOYW1lc1Nob3J0IikpKSxpLnNldERhdGUocih0aGlzLl9nZXQobixlLm1hdGNoKC9ERC8pPyJkYXlOYW1lcyI6ImRheU5hbWVzU2hvcnQiKSkrMjAtaS5nZXREYXkoKSkpO24uaW5wdXQuYXR0cigic2l6ZSIsdGhpcy5fZm9ybWF0RGF0ZShuLGkpLmxlbmd0aCl9fSxfaW5saW5lRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByPW4odCk7ci5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSl8fChyLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5hcHBlbmQoaS5kcERpdiksbi5kYXRhKHQsImRhdGVwaWNrZXIiLGkpLHRoaXMuX3NldERhdGUoaSx0aGlzLl9nZXREZWZhdWx0RGF0ZShpKSwhMCksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUoaSksaS5zZXR0aW5ncy5kaXNhYmxlZCYmdGhpcy5fZGlzYWJsZURhdGVwaWNrZXIodCksaS5kcERpdi5jc3MoImRpc3BsYXkiLCJibG9jayIpKX0sX2RpYWxvZ0RhdGVwaWNrZXI6ZnVuY3Rpb24odCxpLHIsZixlKXt2YXIgcyxoLGMsbCxhLG89dGhpcy5fZGlhbG9nSW5zdDtyZXR1cm4gb3x8KHRoaXMudXVpZCs9MSxzPSJkcCIrdGhpcy51dWlkLHRoaXMuX2RpYWxvZ0lucHV0PW4oIjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nIitzKyInIHN0eWxlPSdwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTEwMHB4OyB3aWR0aDogMHB4OycvPiIpLHRoaXMuX2RpYWxvZ0lucHV0Lm9uKCJrZXlkb3duIix0aGlzLl9kb0tleURvd24pLG4oImJvZHkiKS5hcHBlbmQodGhpcy5fZGlhbG9nSW5wdXQpLG89dGhpcy5fZGlhbG9nSW5zdD10aGlzLl9uZXdJbnN0KHRoaXMuX2RpYWxvZ0lucHV0LCExKSxvLnNldHRpbmdzPXt9LG4uZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsbykpLHUoby5zZXR0aW5ncyxmfHx7fSksaT1pJiZpLmNvbnN0cnVjdG9yPT09RGF0ZT90aGlzLl9mb3JtYXREYXRlKG8saSk6aSx0aGlzLl9kaWFsb2dJbnB1dC52YWwoaSksdGhpcy5fcG9zPWU/ZS5sZW5ndGg/ZTpbZS5wYWdlWCxlLnBhZ2VZXTpudWxsLHRoaXMuX3Bvc3x8KGg9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLGM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxsPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsYT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCx0aGlzLl9wb3M9W2gvMi0xMDArbCxjLzItMTUwK2FdKSx0aGlzLl9kaWFsb2dJbnB1dC5jc3MoImxlZnQiLHRoaXMuX3Bvc1swXSsyMCsicHgiKS5jc3MoInRvcCIsdGhpcy5fcG9zWzFdKyJweCIpLG8uc2V0dGluZ3Mub25TZWxlY3Q9cix0aGlzLl9pbkRpYWxvZz0hMCx0aGlzLmRwRGl2LmFkZENsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKSx0aGlzLl9zaG93RGF0ZXBpY2tlcih0aGlzLl9kaWFsb2dJbnB1dFswXSksbi5ibG9ja1VJJiZuLmJsb2NrVUkodGhpcy5kcERpdiksbi5kYXRhKHRoaXMuX2RpYWxvZ0lucHV0WzBdLCJkYXRlcGlja2VyIixvKSx0aGlzfSxfZGVzdHJveURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIHIsdT1uKHQpLGY9bi5kYXRhKHQsImRhdGVwaWNrZXIiKTt1Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKHI9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG4ucmVtb3ZlRGF0YSh0LCJkYXRlcGlja2VyIiksImlucHV0Ij09PXI/KGYuYXBwZW5kLnJlbW92ZSgpLGYudHJpZ2dlci5yZW1vdmUoKSx1LnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5vZmYoImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlcikub2ZmKCJrZXlkb3duIix0aGlzLl9kb0tleURvd24pLm9mZigia2V5cHJlc3MiLHRoaXMuX2RvS2V5UHJlc3MpLm9mZigia2V5dXAiLHRoaXMuX2RvS2V5VXApKTooImRpdiI9PT1yfHwic3BhbiI9PT1yKSYmdS5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkuZW1wdHkoKSxpPT09ZiYmKGk9bnVsbCkpfSxfZW5hYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgaSxyLHU9bih0KSxmPW4uZGF0YSh0LCJkYXRlcGlja2VyIik7dS5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihpPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwiaW5wdXQiPT09aT8odC5kaXNhYmxlZD0hMSxmLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMX0pLmVuZCgpLmZpbHRlcigiaW1nIikuY3NzKHtvcGFjaXR5OiIxLjAiLGN1cnNvcjoiIn0pKTooImRpdiI9PT1pfHwic3BhbiI9PT1pKSYmKHI9dS5jaGlsZHJlbigiLiIrdGhpcy5faW5saW5lQ2xhc3MpLHIuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSxyLmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyIikucHJvcCgiZGlzYWJsZWQiLCExKSksdGhpcy5fZGlzYWJsZWRJbnB1dHM9bi5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsZnVuY3Rpb24obil7cmV0dXJuIG49PT10P251bGw6bn0pKX0sX2Rpc2FibGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT1uKHQpLGY9bi5kYXRhKHQsImRhdGVwaWNrZXIiKTt1Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCJpbnB1dCI9PT1pPyh0LmRpc2FibGVkPSEwLGYudHJpZ2dlci5maWx0ZXIoImJ1dHRvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSEwfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjAuNSIsY3Vyc29yOiJkZWZhdWx0In0pKTooImRpdiI9PT1pfHwic3BhbiI9PT1pKSYmKHI9dS5jaGlsZHJlbigiLiIrdGhpcy5faW5saW5lQ2xhc3MpLHIuY2hpbGRyZW4oKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSxyLmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyIikucHJvcCgiZGlzYWJsZWQiLCEwKSksdGhpcy5fZGlzYWJsZWRJbnB1dHM9bi5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsZnVuY3Rpb24obil7cmV0dXJuIG49PT10P251bGw6bn0pLHRoaXMuX2Rpc2FibGVkSW5wdXRzW3RoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aF09dCl9LF9pc0Rpc2FibGVkRGF0ZXBpY2tlcjpmdW5jdGlvbihuKXtpZighbilyZXR1cm4hMTtmb3IodmFyIHQ9MDt0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGg+dDt0KyspaWYodGhpcy5fZGlzYWJsZWRJbnB1dHNbdF09PT1uKXJldHVybiEwO3JldHVybiExfSxfZ2V0SW5zdDpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIG4uZGF0YSh0LCJkYXRlcGlja2VyIil9Y2F0Y2goaSl7dGhyb3ciTWlzc2luZyBpbnN0YW5jZSBkYXRhIGZvciB0aGlzIGRhdGVwaWNrZXIiO319LF9vcHRpb25EYXRlcGlja2VyOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZSxoLG8scyxmPXRoaXMuX2dldEluc3QodCk7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIGk/ImRlZmF1bHRzIj09PWk/bi5leHRlbmQoe30sbi5kYXRlcGlja2VyLl9kZWZhdWx0cyk6Zj8iYWxsIj09PWk/bi5leHRlbmQoe30sZi5zZXR0aW5ncyk6dGhpcy5fZ2V0KGYsaSk6bnVsbDooZT1pfHx7fSwic3RyaW5nIj09dHlwZW9mIGkmJihlPXt9LGVbaV09ciksZiYmKHRoaXMuX2N1ckluc3Q9PT1mJiZ0aGlzLl9oaWRlRGF0ZXBpY2tlcigpLGg9dGhpcy5fZ2V0RGF0ZURhdGVwaWNrZXIodCwhMCksbz10aGlzLl9nZXRNaW5NYXhEYXRlKGYsIm1pbiIpLHM9dGhpcy5fZ2V0TWluTWF4RGF0ZShmLCJtYXgiKSx1KGYuc2V0dGluZ3MsZSksbnVsbCE9PW8mJnZvaWQgMCE9PWUuZGF0ZUZvcm1hdCYmdm9pZCAwPT09ZS5taW5EYXRlJiYoZi5zZXR0aW5ncy5taW5EYXRlPXRoaXMuX2Zvcm1hdERhdGUoZixvKSksbnVsbCE9PXMmJnZvaWQgMCE9PWUuZGF0ZUZvcm1hdCYmdm9pZCAwPT09ZS5tYXhEYXRlJiYoZi5zZXR0aW5ncy5tYXhEYXRlPXRoaXMuX2Zvcm1hdERhdGUoZixzKSksImRpc2FibGVkImluIGUmJihlLmRpc2FibGVkP3RoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpOnRoaXMuX2VuYWJsZURhdGVwaWNrZXIodCkpLHRoaXMuX2F0dGFjaG1lbnRzKG4odCksZiksdGhpcy5fYXV0b1NpemUoZiksdGhpcy5fc2V0RGF0ZShmLGgpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShmKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGYpKSx2b2lkIDApfSxfY2hhbmdlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQsaSl7dGhpcy5fb3B0aW9uRGF0ZXBpY2tlcihuLHQsaSl9LF9yZWZyZXNoRGF0ZXBpY2tlcjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9nZXRJbnN0KG4pO3QmJnRoaXMuX3VwZGF0ZURhdGVwaWNrZXIodCl9LF9zZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2dldEluc3Qobik7aSYmKHRoaXMuX3NldERhdGUoaSx0KSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGkpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShpKSl9LF9nZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2dldEluc3Qobik7cmV0dXJuIGkmJiFpLmlubGluZSYmdGhpcy5fc2V0RGF0ZUZyb21GaWVsZChpLHQpLGk/dGhpcy5fZ2V0RGF0ZShpKTpudWxsfSxfZG9LZXlEb3duOmZ1bmN0aW9uKHQpe3ZhciB1LGUsZixpPW4uZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCkscj0hMCxvPWkuZHBEaXYuaXMoIi51aS1kYXRlcGlja2VyLXJ0bCIpO2lmKGkuX2tleUV2ZW50PSEwLG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcpc3dpdGNoKHQua2V5Q29kZSl7Y2FzZSA5Om4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtyPSExO2JyZWFrO2Nhc2UgMTM6cmV0dXJuIGY9bigidGQuIituLmRhdGVwaWNrZXIuX2RheU92ZXJDbGFzcysiOm5vdCguIituLmRhdGVwaWNrZXIuX2N1cnJlbnRDbGFzcysiKSIsaS5kcERpdiksZlswXSYmbi5kYXRlcGlja2VyLl9zZWxlY3REYXkodC50YXJnZXQsaS5zZWxlY3RlZE1vbnRoLGkuc2VsZWN0ZWRZZWFyLGZbMF0pLHU9bi5kYXRlcGlja2VyLl9nZXQoaSwib25TZWxlY3QiKSx1PyhlPW4uZGF0ZXBpY2tlci5fZm9ybWF0RGF0ZShpKSx1LmFwcGx5KGkuaW5wdXQ/aS5pbnB1dFswXTpudWxsLFtlLGldKSk6bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLCExO2Nhc2UgMjc6bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO2JyZWFrO2Nhc2UgMzM6bi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8tbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcEJpZ01vbnRocyIpOi1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM0Om4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/K24uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBCaWdNb250aHMiKTorbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzNToodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2NsZWFyRGF0ZSh0LnRhcmdldCk7cj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztjYXNlIDM2Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fZ290b1RvZGF5KHQudGFyZ2V0KTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2Nhc2UgMzc6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LG8/MTotMSwiRCIpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7dC5vcmlnaW5hbEV2ZW50LmFsdEtleSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8tbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcEJpZ01vbnRocyIpOi1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM4Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCwtNywiRCIpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzOToodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsbz8tMToxLCJEIik7cj10LmN0cmxLZXl8fHQubWV0YUtleTt0Lm9yaWdpbmFsRXZlbnQuYWx0S2V5JiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5PytuLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwQmlnTW9udGhzIik6K24uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgNDA6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LDcsIkQiKTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2RlZmF1bHQ6cj0hMX1lbHNlIDM2PT09dC5rZXlDb2RlJiZ0LmN0cmxLZXk/bi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0aGlzKTpyPSExO3ImJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSl9LF9kb0tleVByZXNzOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT1uLmRhdGVwaWNrZXIuX2dldEluc3QodC50YXJnZXQpO2lmKG4uZGF0ZXBpY2tlci5fZ2V0KHUsImNvbnN0cmFpbklucHV0IikpcmV0dXJuKGk9bi5kYXRlcGlja2VyLl9wb3NzaWJsZUNoYXJzKG4uZGF0ZXBpY2tlci5fZ2V0KHUsImRhdGVGb3JtYXQiKSkscj1TdHJpbmcuZnJvbUNoYXJDb2RlKG51bGw9PXQuY2hhckNvZGU/dC5rZXlDb2RlOnQuY2hhckNvZGUpLHQuY3RybEtleXx8dC5tZXRhS2V5fHwiICI+cnx8IWl8fGkuaW5kZXhPZihyKT4tMSl9LF9kb0tleVVwOmZ1bmN0aW9uKHQpe3ZhciByLGk9bi5kYXRlcGlja2VyLl9nZXRJbnN0KHQudGFyZ2V0KTtpZihpLmlucHV0LnZhbCgpIT09aS5sYXN0VmFsKXRyeXtyPW4uZGF0ZXBpY2tlci5wYXJzZURhdGUobi5kYXRlcGlja2VyLl9nZXQoaSwiZGF0ZUZvcm1hdCIpLGkuaW5wdXQ/aS5pbnB1dC52YWwoKTpudWxsLG4uZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKGkpKTtyJiYobi5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGkpLG4uZGF0ZXBpY2tlci5fdXBkYXRlQWx0ZXJuYXRlKGkpLG4uZGF0ZXBpY2tlci5fdXBkYXRlRGF0ZXBpY2tlcihpKSl9Y2F0Y2godSl7fXJldHVybiEwfSxfc2hvd0RhdGVwaWNrZXI6ZnVuY3Rpb24odCl7aWYodD10LnRhcmdldHx8dCwiaW5wdXQiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYodD1uKCJpbnB1dCIsdC5wYXJlbnROb2RlKVswXSksIW4uZGF0ZXBpY2tlci5faXNEaXNhYmxlZERhdGVwaWNrZXIodCkmJm4uZGF0ZXBpY2tlci5fbGFzdElucHV0IT09dCl7dmFyIGksbyxzLHIsZixlLGg7aT1uLmRhdGVwaWNrZXIuX2dldEluc3QodCk7bi5kYXRlcGlja2VyLl9jdXJJbnN0JiZuLmRhdGVwaWNrZXIuX2N1ckluc3QhPT1pJiYobi5kYXRlcGlja2VyLl9jdXJJbnN0LmRwRGl2LnN0b3AoITAsITApLGkmJm4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIobi5kYXRlcGlja2VyLl9jdXJJbnN0LmlucHV0WzBdKSk7bz1uLmRhdGVwaWNrZXIuX2dldChpLCJiZWZvcmVTaG93Iik7cz1vP28uYXBwbHkodCxbdCxpXSk6e307cyE9PSExJiYodShpLnNldHRpbmdzLHMpLGkubGFzdFZhbD1udWxsLG4uZGF0ZXBpY2tlci5fbGFzdElucHV0PXQsbi5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGkpLG4uZGF0ZXBpY2tlci5faW5EaWFsb2cmJih0LnZhbHVlPSIiKSxuLmRhdGVwaWNrZXIuX3Bvc3x8KG4uZGF0ZXBpY2tlci5fcG9zPW4uZGF0ZXBpY2tlci5fZmluZFBvcyh0KSxuLmRhdGVwaWNrZXIuX3Bvc1sxXSs9dC5vZmZzZXRIZWlnaHQpLHI9ITEsbih0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3JldHVybiByfD0iZml4ZWQiPT09bih0aGlzKS5jc3MoInBvc2l0aW9uIiksIXJ9KSxmPXtsZWZ0Om4uZGF0ZXBpY2tlci5fcG9zWzBdLHRvcDpuLmRhdGVwaWNrZXIuX3Bvc1sxXX0sbi5kYXRlcGlja2VyLl9wb3M9bnVsbCxpLmRwRGl2LmVtcHR5KCksaS5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KSxuLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoaSksZj1uLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KGksZixyKSxpLmRwRGl2LmNzcyh7cG9zaXRpb246bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJPyJzdGF0aWMiOnI/ImZpeGVkIjoiYWJzb2x1dGUiLGRpc3BsYXk6Im5vbmUiLGxlZnQ6Zi5sZWZ0KyJweCIsdG9wOmYudG9wKyJweCJ9KSxpLmlubGluZXx8KGU9bi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd0FuaW0iKSxoPW4uZGF0ZXBpY2tlci5fZ2V0KGksImR1cmF0aW9uIiksaS5kcERpdi5jc3MoInotaW5kZXgiLGsobih0KSkrMSksbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZz0hMCxuLmVmZmVjdHMmJm4uZWZmZWN0cy5lZmZlY3RbZV0/aS5kcERpdi5zaG93KGUsbi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd09wdGlvbnMiKSxoKTppLmRwRGl2W2V8fCJzaG93Il0oZT9oOm51bGwpLG4uZGF0ZXBpY2tlci5fc2hvdWxkRm9jdXNJbnB1dChpKSYmaS5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpLG4uZGF0ZXBpY2tlci5fY3VySW5zdD1pKSl9fSxfdXBkYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt0aGlzLm1heFJvd3M9NDtpPXQ7dC5kcERpdi5lbXB0eSgpLmFwcGVuZCh0aGlzLl9nZW5lcmF0ZUhUTUwodCkpO3RoaXMuX2F0dGFjaEhhbmRsZXJzKHQpO3ZhciByLHU9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksZj11WzFdLGU9dC5kcERpdi5maW5kKCIuIit0aGlzLl9kYXlPdmVyQ2xhc3MrIiBhIik7ZS5sZW5ndGg+MCYmYS5hcHBseShlLmdldCgwKSk7dC5kcERpdi5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1tdWx0aS0yIHVpLWRhdGVwaWNrZXItbXVsdGktMyB1aS1kYXRlcGlja2VyLW11bHRpLTQiKS53aWR0aCgiIik7Zj4xJiZ0LmRwRGl2LmFkZENsYXNzKCJ1aS1kYXRlcGlja2VyLW11bHRpLSIrZikuY3NzKCJ3aWR0aCIsMTcqZisiZW0iKTt0LmRwRGl2WygxIT09dVswXXx8MSE9PXVbMV0/ImFkZCI6InJlbW92ZSIpKyJDbGFzcyJdKCJ1aS1kYXRlcGlja2VyLW11bHRpIik7dC5kcERpdlsodGhpcy5fZ2V0KHQsImlzUlRMIik/ImFkZCI6InJlbW92ZSIpKyJDbGFzcyJdKCJ1aS1kYXRlcGlja2VyLXJ0bCIpO3Q9PT1uLmRhdGVwaWNrZXIuX2N1ckluc3QmJm4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5fc2hvdWxkRm9jdXNJbnB1dCh0KSYmdC5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpO3QueWVhcnNodG1sJiYocj10LnllYXJzaHRtbCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cj09PXQueWVhcnNodG1sJiZ0LnllYXJzaHRtbCYmdC5kcERpdi5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyOmZpcnN0IikucmVwbGFjZVdpdGgodC55ZWFyc2h0bWwpO3I9dC55ZWFyc2h0bWw9bnVsbH0sMCkpfSxfc2hvdWxkRm9jdXNJbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gbi5pbnB1dCYmbi5pbnB1dC5pcygiOnZpc2libGUiKSYmIW4uaW5wdXQuaXMoIjpkaXNhYmxlZCIpJiYhbi5pbnB1dC5pcygiOmZvY3VzIil9LF9jaGVja09mZnNldDpmdW5jdGlvbih0LGkscil7dmFyIHU9dC5kcERpdi5vdXRlcldpZHRoKCksZj10LmRwRGl2Lm91dGVySGVpZ2h0KCksaD10LmlucHV0P3QuaW5wdXQub3V0ZXJXaWR0aCgpOjAsbz10LmlucHV0P3QuaW5wdXQub3V0ZXJIZWlnaHQoKTowLGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKyhyPzA6bihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKSxzPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQrKHI/MDpuKGRvY3VtZW50KS5zY3JvbGxUb3AoKSk7cmV0dXJuIGkubGVmdC09dGhpcy5fZ2V0KHQsImlzUlRMIik/dS1oOjAsaS5sZWZ0LT1yJiZpLmxlZnQ9PT10LmlucHV0Lm9mZnNldCgpLmxlZnQ/bihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpOjAsaS50b3AtPXImJmkudG9wPT09dC5pbnB1dC5vZmZzZXQoKS50b3Arbz9uKGRvY3VtZW50KS5zY3JvbGxUb3AoKTowLGkubGVmdC09TWF0aC5taW4oaS5sZWZ0LGkubGVmdCt1PmUmJmU+dT9NYXRoLmFicyhpLmxlZnQrdS1lKTowKSxpLnRvcC09TWF0aC5taW4oaS50b3AsaS50b3ArZj5zJiZzPmY/TWF0aC5hYnMoZitvKTowKSxpfSxfZmluZFBvczpmdW5jdGlvbih0KXtmb3IodmFyIGkscj10aGlzLl9nZXRJbnN0KHQpLHU9dGhpcy5fZ2V0KHIsImlzUlRMIik7dCYmKCJoaWRkZW4iPT09dC50eXBlfHwxIT09dC5ub2RlVHlwZXx8bi5leHByLmZpbHRlcnMuaGlkZGVuKHQpKTspdD10W3U/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIl07cmV0dXJuIGk9bih0KS5vZmZzZXQoKSxbaS5sZWZ0LGkudG9wXX0sX2hpZGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciByLGYsdSxlLGk9dGhpcy5fY3VySW5zdDshaXx8dCYmaSE9PW4uZGF0YSh0LCJkYXRlcGlja2VyIil8fHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nJiYocj10aGlzLl9nZXQoaSwic2hvd0FuaW0iKSxmPXRoaXMuX2dldChpLCJkdXJhdGlvbiIpLHU9ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX3RpZHlEaWFsb2coaSl9LG4uZWZmZWN0cyYmKG4uZWZmZWN0cy5lZmZlY3Rbcl18fG4uZWZmZWN0c1tyXSk/aS5kcERpdi5oaWRlKHIsbi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd09wdGlvbnMiKSxmLHUpOmkuZHBEaXZbInNsaWRlRG93biI9PT1yPyJzbGlkZVVwIjoiZmFkZUluIj09PXI/ImZhZGVPdXQiOiJoaWRlIl0ocj9mOm51bGwsdSkscnx8dSgpLHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPSExLGU9dGhpcy5fZ2V0KGksIm9uQ2xvc2UiKSxlJiZlLmFwcGx5KGkuaW5wdXQ/aS5pbnB1dFswXTpudWxsLFtpLmlucHV0P2kuaW5wdXQudmFsKCk6IiIsaV0pLHRoaXMuX2xhc3RJbnB1dD1udWxsLHRoaXMuX2luRGlhbG9nJiYodGhpcy5fZGlhbG9nSW5wdXQuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6IjAiLHRvcDoiLTEwMHB4In0pLG4uYmxvY2tVSSYmKG4udW5ibG9ja1VJKCksbigiYm9keSIpLmFwcGVuZCh0aGlzLmRwRGl2KSkpLHRoaXMuX2luRGlhbG9nPSExKX0sX3RpZHlEaWFsb2c6ZnVuY3Rpb24obil7bi5kcERpdi5yZW1vdmVDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcykub2ZmKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpfSxfY2hlY2tFeHRlcm5hbENsaWNrOmZ1bmN0aW9uKHQpe2lmKG4uZGF0ZXBpY2tlci5fY3VySW5zdCl7dmFyIGk9bih0LnRhcmdldCkscj1uLmRhdGVwaWNrZXIuX2dldEluc3QoaVswXSk7KGlbMF0uaWQ9PT1uLmRhdGVwaWNrZXIuX21haW5EaXZJZHx8MCE9PWkucGFyZW50cygiIyIrbi5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aHx8aS5oYXNDbGFzcyhuLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKXx8aS5jbG9zZXN0KCIuIituLmRhdGVwaWNrZXIuX3RyaWdnZXJDbGFzcykubGVuZ3RofHwhbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZ3x8bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJKSYmKCFpLmhhc0NsYXNzKG4uZGF0ZXBpY2tlci5tYXJrZXJDbGFzc05hbWUpfHxuLmRhdGVwaWNrZXIuX2N1ckluc3Q9PT1yKXx8bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpfX0sX2FkanVzdERhdGU6ZnVuY3Rpb24odCxpLHIpe3ZhciBmPW4odCksdT10aGlzLl9nZXRJbnN0KGZbMF0pO3RoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGZbMF0pfHwodGhpcy5fYWRqdXN0SW5zdERhdGUodSxpKygiTSI9PT1yP3RoaXMuX2dldCh1LCJzaG93Q3VycmVudEF0UG9zIik6MCksciksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcih1KSl9LF9nb3RvVG9kYXk6ZnVuY3Rpb24odCl7dmFyIHIsdT1uKHQpLGk9dGhpcy5fZ2V0SW5zdCh1WzBdKTt0aGlzLl9nZXQoaSwiZ290b0N1cnJlbnQiKSYmaS5jdXJyZW50RGF5PyhpLnNlbGVjdGVkRGF5PWkuY3VycmVudERheSxpLmRyYXdNb250aD1pLnNlbGVjdGVkTW9udGg9aS5jdXJyZW50TW9udGgsaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1pLmN1cnJlbnRZZWFyKToocj1uZXcgRGF0ZSxpLnNlbGVjdGVkRGF5PXIuZ2V0RGF0ZSgpLGkuZHJhd01vbnRoPWkuc2VsZWN0ZWRNb250aD1yLmdldE1vbnRoKCksaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1yLmdldEZ1bGxZZWFyKCkpO3RoaXMuX25vdGlmeUNoYW5nZShpKTt0aGlzLl9hZGp1c3REYXRlKHUpfSxfc2VsZWN0TW9udGhZZWFyOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZj1uKHQpLHU9dGhpcy5fZ2V0SW5zdChmWzBdKTt1WyJzZWxlY3RlZCIrKCJNIj09PXI/Ik1vbnRoIjoiWWVhciIpXT11WyJkcmF3IisoIk0iPT09cj8iTW9udGgiOiJZZWFyIildPXBhcnNlSW50KGkub3B0aW9uc1tpLnNlbGVjdGVkSW5kZXhdLnZhbHVlLDEwKTt0aGlzLl9ub3RpZnlDaGFuZ2UodSk7dGhpcy5fYWRqdXN0RGF0ZShmKX0sX3NlbGVjdERheTpmdW5jdGlvbih0LGkscix1KXt2YXIgZixlPW4odCk7bih1KS5oYXNDbGFzcyh0aGlzLl91bnNlbGVjdGFibGVDbGFzcyl8fHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGVbMF0pfHwoZj10aGlzLl9nZXRJbnN0KGVbMF0pLGYuc2VsZWN0ZWREYXk9Zi5jdXJyZW50RGF5PW4oImEiLHUpLmh0bWwoKSxmLnNlbGVjdGVkTW9udGg9Zi5jdXJyZW50TW9udGg9aSxmLnNlbGVjdGVkWWVhcj1mLmN1cnJlbnRZZWFyPXIsdGhpcy5fc2VsZWN0RGF0ZSh0LHRoaXMuX2Zvcm1hdERhdGUoZixmLmN1cnJlbnREYXksZi5jdXJyZW50TW9udGgsZi5jdXJyZW50WWVhcikpKX0sX2NsZWFyRGF0ZTpmdW5jdGlvbih0KXt2YXIgaT1uKHQpO3RoaXMuX3NlbGVjdERhdGUoaSwiIil9LF9zZWxlY3REYXRlOmZ1bmN0aW9uKHQsaSl7dmFyIHUsZj1uKHQpLHI9dGhpcy5fZ2V0SW5zdChmWzBdKTtpPW51bGwhPWk/aTp0aGlzLl9mb3JtYXREYXRlKHIpO3IuaW5wdXQmJnIuaW5wdXQudmFsKGkpO3RoaXMuX3VwZGF0ZUFsdGVybmF0ZShyKTt1PXRoaXMuX2dldChyLCJvblNlbGVjdCIpO3U/dS5hcHBseShyLmlucHV0P3IuaW5wdXRbMF06bnVsbCxbaSxyXSk6ci5pbnB1dCYmci5pbnB1dC50cmlnZ2VyKCJjaGFuZ2UiKTtyLmlubGluZT90aGlzLl91cGRhdGVEYXRlcGlja2VyKHIpOih0aGlzLl9oaWRlRGF0ZXBpY2tlcigpLHRoaXMuX2xhc3RJbnB1dD1yLmlucHV0WzBdLCJvYmplY3QiIT10eXBlb2Ygci5pbnB1dFswXSYmci5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMuX2xhc3RJbnB1dD1udWxsKX0sX3VwZGF0ZUFsdGVybmF0ZTpmdW5jdGlvbih0KXt2YXIgaSxyLHUsZj10aGlzLl9nZXQodCwiYWx0RmllbGQiKTtmJiYoaT10aGlzLl9nZXQodCwiYWx0Rm9ybWF0Iil8fHRoaXMuX2dldCh0LCJkYXRlRm9ybWF0Iikscj10aGlzLl9nZXREYXRlKHQpLHU9dGhpcy5mb3JtYXREYXRlKGkscix0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpLG4oZikudmFsKHUpKX0sbm9XZWVrZW5kczpmdW5jdGlvbihuKXt2YXIgdD1uLmdldERheSgpO3JldHVyblt0PjAmJjY+dCwiIl19LGlzbzg2MDFXZWVrOmZ1bmN0aW9uKG4pe3ZhciBpLHQ9bmV3IERhdGUobi5nZXRUaW1lKCkpO3JldHVybiB0LnNldERhdGUodC5nZXREYXRlKCkrNC0odC5nZXREYXkoKXx8NykpLGk9dC5nZXRUaW1lKCksdC5zZXRNb250aCgwKSx0LnNldERhdGUoMSksTWF0aC5mbG9vcihNYXRoLnJvdW5kKChpLXQpLzg2NGU1KS83KSsxfSxwYXJzZURhdGU6ZnVuY3Rpb24odCxpLHIpe2lmKG51bGw9PXR8fG51bGw9PWkpdGhyb3ciSW52YWxpZCBhcmd1bWVudHMiO2lmKGk9Im9iamVjdCI9PXR5cGVvZiBpPyIiK2k6aSsiIiwiIj09PWkpcmV0dXJuIG51bGw7Zm9yKHZhciBhLHYsdSxmPTAseT0ocj9yLnNob3J0WWVhckN1dG9mZjpudWxsKXx8dGhpcy5fZGVmYXVsdHMuc2hvcnRZZWFyQ3V0b2ZmLGQ9InN0cmluZyIhPXR5cGVvZiB5P3k6KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCtwYXJzZUludCh5LDEwKSxnPShyP3IuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxudD0ocj9yLmRheU5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyx0dD0ocj9yLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LGl0PShyP3IubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxlPS0xLHM9LTEsaD0tMSxwPS0xLHc9ITEsbD1mdW5jdGlvbihuKXt2YXIgaT10Lmxlbmd0aD5vKzEmJnQuY2hhckF0KG8rMSk9PT1uO3JldHVybiBpJiZvKyssaX0sYz1mdW5jdGlvbihuKXt2YXIgdT1sKG4pLHI9IkAiPT09bj8xNDoiISI9PT1uPzIwOiJ5Ij09PW4mJnU/NDoibyI9PT1uPzM6MixlPSJ5Ij09PW4/cjoxLG89UmVnRXhwKCJeXFxkeyIrZSsiLCIrcisifSIpLHQ9aS5zdWJzdHJpbmcoZikubWF0Y2gobyk7aWYoIXQpdGhyb3ciTWlzc2luZyBudW1iZXIgYXQgcG9zaXRpb24gIitmO3JldHVybiBmKz10WzBdLmxlbmd0aCxwYXJzZUludCh0WzBdLDEwKX0saz1mdW5jdGlvbih0LHIsdSl7dmFyIGU9LTEsbz1uLm1hcChsKHQpP3U6cixmdW5jdGlvbihuLHQpe3JldHVybltbdCxuXV19KS5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuLShuWzFdLmxlbmd0aC10WzFdLmxlbmd0aCl9KTtpZihuLmVhY2gobyxmdW5jdGlvbihuLHQpe3ZhciByPXRbMV07aWYoaS5zdWJzdHIoZixyLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09PXIudG9Mb3dlckNhc2UoKSlyZXR1cm4oZT10WzBdLGYrPXIubGVuZ3RoLCExKX0pLC0xIT09ZSlyZXR1cm4gZSsxO3Rocm93IlVua25vd24gbmFtZSBhdCBwb3NpdGlvbiAiK2Y7fSxiPWZ1bmN0aW9uKCl7aWYoaS5jaGFyQXQoZikhPT10LmNoYXJBdChvKSl0aHJvdyJVbmV4cGVjdGVkIGxpdGVyYWwgYXQgcG9zaXRpb24gIitmO2YrK30sbz0wO3QubGVuZ3RoPm87bysrKWlmKHcpIiciIT09dC5jaGFyQXQobyl8fGwoIiciKT9iKCk6dz0hMTtlbHNlIHN3aXRjaCh0LmNoYXJBdChvKSl7Y2FzZSJkIjpoPWMoImQiKTticmVhaztjYXNlIkQiOmsoIkQiLGcsbnQpO2JyZWFrO2Nhc2UibyI6cD1jKCJvIik7YnJlYWs7Y2FzZSJtIjpzPWMoIm0iKTticmVhaztjYXNlIk0iOnM9aygiTSIsdHQsaXQpO2JyZWFrO2Nhc2UieSI6ZT1jKCJ5Iik7YnJlYWs7Y2FzZSJAIjp1PW5ldyBEYXRlKGMoIkAiKSk7ZT11LmdldEZ1bGxZZWFyKCk7cz11LmdldE1vbnRoKCkrMTtoPXUuZ2V0RGF0ZSgpO2JyZWFrO2Nhc2UiISI6dT1uZXcgRGF0ZSgoYygiISIpLXRoaXMuX3RpY2tzVG8xOTcwKS8xZTQpO2U9dS5nZXRGdWxsWWVhcigpO3M9dS5nZXRNb250aCgpKzE7aD11LmdldERhdGUoKTticmVhaztjYXNlIiciOmwoIiciKT9iKCk6dz0hMDticmVhaztkZWZhdWx0OmIoKX1pZihpLmxlbmd0aD5mJiYodj1pLnN1YnN0cihmKSwhL15ccysvLnRlc3QodikpKXRocm93IkV4dHJhL3VucGFyc2VkIGNoYXJhY3RlcnMgZm91bmQgaW4gZGF0ZTogIit2O2lmKC0xPT09ZT9lPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKToxMDA+ZSYmKGUrPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKS0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwKyhkPj1lPzA6LTEwMCkpLHA+LTEpZm9yKHM9MSxoPXA7Oyl7aWYoYT10aGlzLl9nZXREYXlzSW5Nb250aChlLHMtMSksYT49aClicmVhaztzKys7aC09YX1pZih1PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGUscy0xLGgpKSx1LmdldEZ1bGxZZWFyKCkhPT1lfHx1LmdldE1vbnRoKCkrMSE9PXN8fHUuZ2V0RGF0ZSgpIT09aCl0aHJvdyJJbnZhbGlkIGRhdGUiO3JldHVybiB1fSxBVE9NOiJ5eS1tbS1kZCIsQ09PS0lFOiJELCBkZCBNIHl5IixJU09fODYwMToieXktbW0tZGQiLFJGQ184MjI6IkQsIGQgTSB5IixSRkNfODUwOiJERCwgZGQtTS15IixSRkNfMTAzNjoiRCwgZCBNIHkiLFJGQ18xMTIzOiJELCBkIE0geXkiLFJGQ18yODIyOiJELCBkIE0geXkiLFJTUzoiRCwgZCBNIHkiLFRJQ0tTOiIhIixUSU1FU1RBTVA6IkAiLFczQzoieXktbW0tZGQiLF90aWNrc1RvMTk3MDo4NjRlOSooNzE4Njg1K01hdGguZmxvb3IoNDkyLjUpLU1hdGguZmxvb3IoMTkuNykrTWF0aC5mbG9vcig0LjkyNSkpLGZvcm1hdERhdGU6ZnVuY3Rpb24obix0LGkpe2lmKCF0KXJldHVybiIiO3ZhciB1LGg9KGk/aS5kYXlOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LGM9KGk/aS5kYXlOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXMsbD0oaT9pLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LGE9KGk/aS5tb250aE5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLGY9ZnVuY3Rpb24odCl7dmFyIGk9bi5sZW5ndGg+dSsxJiZuLmNoYXJBdCh1KzEpPT09dDtyZXR1cm4gaSYmdSsrLGl9LGU9ZnVuY3Rpb24obix0LGkpe3ZhciByPSIiK3Q7aWYoZihuKSlmb3IoO2k+ci5sZW5ndGg7KXI9IjAiK3I7cmV0dXJuIHJ9LHM9ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIGYobik/clt0XTppW3RdfSxyPSIiLG89ITE7aWYodClmb3IodT0wO24ubGVuZ3RoPnU7dSsrKWlmKG8pIiciIT09bi5jaGFyQXQodSl8fGYoIiciKT9yKz1uLmNoYXJBdCh1KTpvPSExO2Vsc2Ugc3dpdGNoKG4uY2hhckF0KHUpKXtjYXNlImQiOnIrPWUoImQiLHQuZ2V0RGF0ZSgpLDIpO2JyZWFrO2Nhc2UiRCI6cis9cygiRCIsdC5nZXREYXkoKSxoLGMpO2JyZWFrO2Nhc2UibyI6cis9ZSgibyIsTWF0aC5yb3VuZCgobmV3IERhdGUodC5nZXRGdWxsWWVhcigpLHQuZ2V0TW9udGgoKSx0LmdldERhdGUoKSkuZ2V0VGltZSgpLW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDApLmdldFRpbWUoKSkvODY0ZTUpLDMpO2JyZWFrO2Nhc2UibSI6cis9ZSgibSIsdC5nZXRNb250aCgpKzEsMik7YnJlYWs7Y2FzZSJNIjpyKz1zKCJNIix0LmdldE1vbnRoKCksbCxhKTticmVhaztjYXNlInkiOnIrPWYoInkiKT90LmdldEZ1bGxZZWFyKCk6KDEwPnQuZ2V0RnVsbFllYXIoKSUxMDA/IjAiOiIiKSt0LmdldEZ1bGxZZWFyKCklMTAwO2JyZWFrO2Nhc2UiQCI6cis9dC5nZXRUaW1lKCk7YnJlYWs7Y2FzZSIhIjpyKz0xZTQqdC5nZXRUaW1lKCkrdGhpcy5fdGlja3NUbzE5NzA7YnJlYWs7Y2FzZSInIjpmKCInIik/cis9IiciOm89ITA7YnJlYWs7ZGVmYXVsdDpyKz1uLmNoYXJBdCh1KX1yZXR1cm4gcn0sX3Bvc3NpYmxlQ2hhcnM6ZnVuY3Rpb24obil7Zm9yKHZhciBpPSIiLHI9ITEsdT1mdW5jdGlvbihpKXt2YXIgcj1uLmxlbmd0aD50KzEmJm4uY2hhckF0KHQrMSk9PT1pO3JldHVybiByJiZ0Kysscn0sdD0wO24ubGVuZ3RoPnQ7dCsrKWlmKHIpIiciIT09bi5jaGFyQXQodCl8fHUoIiciKT9pKz1uLmNoYXJBdCh0KTpyPSExO2Vsc2Ugc3dpdGNoKG4uY2hhckF0KHQpKXtjYXNlImQiOmNhc2UibSI6Y2FzZSJ5IjpjYXNlIkAiOmkrPSIwMTIzNDU2Nzg5IjticmVhaztjYXNlIkQiOmNhc2UiTSI6cmV0dXJuIG51bGw7Y2FzZSInIjp1KCInIik/aSs9IiciOnI9ITA7YnJlYWs7ZGVmYXVsdDppKz1uLmNoYXJBdCh0KX1yZXR1cm4gaX0sX2dldDpmdW5jdGlvbihuLHQpe3JldHVybiB2b2lkIDAhPT1uLnNldHRpbmdzW3RdP24uc2V0dGluZ3NbdF06dGhpcy5fZGVmYXVsdHNbdF19LF9zZXREYXRlRnJvbUZpZWxkOmZ1bmN0aW9uKG4sdCl7aWYobi5pbnB1dC52YWwoKSE9PW4ubGFzdFZhbCl7dmFyIGY9dGhpcy5fZ2V0KG4sImRhdGVGb3JtYXQiKSxyPW4ubGFzdFZhbD1uLmlucHV0P24uaW5wdXQudmFsKCk6bnVsbCx1PXRoaXMuX2dldERlZmF1bHREYXRlKG4pLGk9dSxlPXRoaXMuX2dldEZvcm1hdENvbmZpZyhuKTt0cnl7aT10aGlzLnBhcnNlRGF0ZShmLHIsZSl8fHV9Y2F0Y2gobyl7cj10PyIiOnJ9bi5zZWxlY3RlZERheT1pLmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9aS5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9aS5nZXRGdWxsWWVhcigpO24uY3VycmVudERheT1yP2kuZ2V0RGF0ZSgpOjA7bi5jdXJyZW50TW9udGg9cj9pLmdldE1vbnRoKCk6MDtuLmN1cnJlbnRZZWFyPXI/aS5nZXRGdWxsWWVhcigpOjA7dGhpcy5fYWRqdXN0SW5zdERhdGUobil9fSxfZ2V0RGVmYXVsdERhdGU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGV0ZXJtaW5lRGF0ZShuLHRoaXMuX2dldChuLCJkZWZhdWx0RGF0ZSIpLG5ldyBEYXRlKSl9LF9kZXRlcm1pbmVEYXRlOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZj1mdW5jdGlvbihuKXt2YXIgdD1uZXcgRGF0ZTtyZXR1cm4gdC5zZXREYXRlKHQuZ2V0RGF0ZSgpK24pLHR9LGU9ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBuLmRhdGVwaWNrZXIucGFyc2VEYXRlKG4uZGF0ZXBpY2tlci5fZ2V0KHQsImRhdGVGb3JtYXQiKSxpLG4uZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKHQpKX1jYXRjaChoKXt9Zm9yKHZhciBvPShpLnRvTG93ZXJDYXNlKCkubWF0Y2goL15jLyk/bi5kYXRlcGlja2VyLl9nZXREYXRlKHQpOm51bGwpfHxuZXcgRGF0ZSxmPW8uZ2V0RnVsbFllYXIoKSxlPW8uZ2V0TW9udGgoKSxyPW8uZ2V0RGF0ZSgpLHM9LyhbK1wtXT9bMC05XSspXHMqKGR8RHx3fFd8bXxNfHl8WSk/L2csdT1zLmV4ZWMoaSk7dTspe3N3aXRjaCh1WzJdfHwiZCIpe2Nhc2UiZCI6Y2FzZSJEIjpyKz1wYXJzZUludCh1WzFdLDEwKTticmVhaztjYXNlInciOmNhc2UiVyI6cis9NypwYXJzZUludCh1WzFdLDEwKTticmVhaztjYXNlIm0iOmNhc2UiTSI6ZSs9cGFyc2VJbnQodVsxXSwxMCk7cj1NYXRoLm1pbihyLG4uZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoZixlKSk7YnJlYWs7Y2FzZSJ5IjpjYXNlIlkiOmYrPXBhcnNlSW50KHVbMV0sMTApO3I9TWF0aC5taW4ocixuLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGYsZSkpfXU9cy5leGVjKGkpfXJldHVybiBuZXcgRGF0ZShmLGUscil9LHU9bnVsbD09aXx8IiI9PT1pP3I6InN0cmluZyI9PXR5cGVvZiBpP2UoaSk6Im51bWJlciI9PXR5cGVvZiBpP2lzTmFOKGkpP3I6ZihpKTpuZXcgRGF0ZShpLmdldFRpbWUoKSk7cmV0dXJuIHU9dSYmIkludmFsaWQgRGF0ZSI9PSIiK3U/cjp1LHUmJih1LnNldEhvdXJzKDApLHUuc2V0TWludXRlcygwKSx1LnNldFNlY29uZHMoMCksdS5zZXRNaWxsaXNlY29uZHMoMCkpLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KHUpfSxfZGF5bGlnaHRTYXZpbmdBZGp1c3Q6ZnVuY3Rpb24obil7cmV0dXJuIG4/KG4uc2V0SG91cnMobi5nZXRIb3VycygpPjEyP24uZ2V0SG91cnMoKSsyOjApLG4pOm51bGx9LF9zZXREYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgdT0hdCxmPW4uc2VsZWN0ZWRNb250aCxlPW4uc2VsZWN0ZWRZZWFyLHI9dGhpcy5fcmVzdHJpY3RNaW5NYXgobix0aGlzLl9kZXRlcm1pbmVEYXRlKG4sdCxuZXcgRGF0ZSkpO24uc2VsZWN0ZWREYXk9bi5jdXJyZW50RGF5PXIuZ2V0RGF0ZSgpO24uZHJhd01vbnRoPW4uc2VsZWN0ZWRNb250aD1uLmN1cnJlbnRNb250aD1yLmdldE1vbnRoKCk7bi5kcmF3WWVhcj1uLnNlbGVjdGVkWWVhcj1uLmN1cnJlbnRZZWFyPXIuZ2V0RnVsbFllYXIoKTtmPT09bi5zZWxlY3RlZE1vbnRoJiZlPT09bi5zZWxlY3RlZFllYXJ8fGl8fHRoaXMuX25vdGlmeUNoYW5nZShuKTt0aGlzLl9hZGp1c3RJbnN0RGF0ZShuKTtuLmlucHV0JiZuLmlucHV0LnZhbCh1PyIiOnRoaXMuX2Zvcm1hdERhdGUobikpfSxfZ2V0RGF0ZTpmdW5jdGlvbihuKXtyZXR1cm4hbi5jdXJyZW50WWVhcnx8bi5pbnB1dCYmIiI9PT1uLmlucHV0LnZhbCgpP251bGw6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUobi5jdXJyZW50WWVhcixuLmN1cnJlbnRNb250aCxuLmN1cnJlbnREYXkpKX0sX2F0dGFjaEhhbmRsZXJzOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2dldCh0LCJzdGVwTW9udGhzIiksaT0iIyIrdC5pZC5yZXBsYWNlKC9cXFxcL2csIlxcIik7dC5kcERpdi5maW5kKCJbZGF0YS1oYW5kbGVyXSIpLm1hcChmdW5jdGlvbigpe3ZhciB0PXtwcmV2OmZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGksLXIsIk0iKX0sbmV4dDpmdW5jdGlvbigpe24uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShpLCtyLCJNIil9LGhpZGU6ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9LHRvZGF5OmZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl9nb3RvVG9kYXkoaSl9LHNlbGVjdERheTpmdW5jdGlvbigpe3JldHVybiBuLmRhdGVwaWNrZXIuX3NlbGVjdERheShpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1tb250aCIpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS15ZWFyIiksdGhpcyksITF9LHNlbGVjdE1vbnRoOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiTSIpLCExfSxzZWxlY3RZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiWSIpLCExfX07bih0aGlzKS5vbih0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1ldmVudCIpLHRbdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtaGFuZGxlciIpXSl9KX0sX2dlbmVyYXRlSFRNTDpmdW5jdGlvbihuKXt2YXIgYixzLHJ0LGgsdXQsayxmdCxldCxyaSxjLG90LHVpLGZpLGVpLG9pLHN0LGcsc2ksaHQsbnQsbyx5LGN0LHAsbHQsbCx1LGF0LHZ0LHl0LHB0LHR0LHd0LGksYnQsa3QsZCxhLGl0LGR0PW5ldyBEYXRlLGd0PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGR0LmdldEZ1bGxZZWFyKCksZHQuZ2V0TW9udGgoKSxkdC5nZXREYXRlKCkpKSxmPXRoaXMuX2dldChuLCJpc1JUTCIpLGxpPXRoaXMuX2dldChuLCJzaG93QnV0dG9uUGFuZWwiKSxoaT10aGlzLl9nZXQobiwiaGlkZUlmTm9QcmV2TmV4dCIpLG5pPXRoaXMuX2dldChuLCJuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0IiksZT10aGlzLl9nZXROdW1iZXJPZk1vbnRocyhuKSxhaT10aGlzLl9nZXQobiwic2hvd0N1cnJlbnRBdFBvcyIpLGNpPXRoaXMuX2dldChuLCJzdGVwTW9udGhzIiksdGk9MSE9PWVbMF18fDEhPT1lWzFdLGlpPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG4uY3VycmVudERheT9uZXcgRGF0ZShuLmN1cnJlbnRZZWFyLG4uY3VycmVudE1vbnRoLG4uY3VycmVudERheSk6bmV3IERhdGUoOTk5OSw5LDkpKSx3PXRoaXMuX2dldE1pbk1heERhdGUobiwibWluIiksdj10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1heCIpLHQ9bi5kcmF3TW9udGgtYWkscj1uLmRyYXdZZWFyO2lmKDA+dCYmKHQrPTEyLHItLSksdilmb3IoYj10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh2LmdldEZ1bGxZZWFyKCksdi5nZXRNb250aCgpLWVbMF0qZVsxXSsxLHYuZ2V0RGF0ZSgpKSksYj13JiZ3PmI/dzpiO3RoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdCwxKSk+YjspdC0tLDA+dCYmKHQ9MTEsci0tKTtmb3Iobi5kcmF3TW9udGg9dCxuLmRyYXdZZWFyPXIscz10aGlzLl9nZXQobiwicHJldlRleHQiKSxzPW5pP3RoaXMuZm9ybWF0RGF0ZShzLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdC1jaSwxKSksdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKTpzLHJ0PXRoaXMuX2NhbkFkanVzdE1vbnRoKG4sLTEscix0KT8iPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3ByZXYnIGRhdGEtZXZlbnQ9J2NsaWNrJyB0aXRsZT0nIitzKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKGY/ImUiOiJ3IikrIic+IitzKyI8XC9zcGFuPjxcL2E+IjpoaT8iIjoiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkJyB0aXRsZT0nIitzKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKGY/ImUiOiJ3IikrIic+IitzKyI8XC9zcGFuPjxcL2E+IixoPXRoaXMuX2dldChuLCJuZXh0VGV4dCIpLGg9bmk/dGhpcy5mb3JtYXREYXRlKGgsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocix0K2NpLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcobikpOmgsdXQ9dGhpcy5fY2FuQWRqdXN0TW9udGgobiwxLHIsdCk/IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSduZXh0JyBkYXRhLWV2ZW50PSdjbGljaycgdGl0bGU9JyIraCsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhmPyJ3IjoiZSIpKyInPiIraCsiPFwvc3Bhbj48XC9hPiI6aGk/IiI6IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCcgdGl0bGU9JyIraCsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhmPyJ3IjoiZSIpKyInPiIraCsiPFwvc3Bhbj48XC9hPiIsaz10aGlzLl9nZXQobiwiY3VycmVudFRleHQiKSxmdD10aGlzLl9nZXQobiwiZ290b0N1cnJlbnQiKSYmbi5jdXJyZW50RGF5P2lpOmd0LGs9bmk/dGhpcy5mb3JtYXREYXRlKGssZnQsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKTprLGV0PW4uaW5saW5lPyIiOiI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY2xvc2UgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1wcmltYXJ5IHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0naGlkZScgZGF0YS1ldmVudD0nY2xpY2snPiIrdGhpcy5fZ2V0KG4sImNsb3NlVGV4dCIpKyI8XC9idXR0b24+IixyaT1saT8iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1idXR0b25wYW5lIHVpLXdpZGdldC1jb250ZW50Jz4iKyhmP2V0OiIiKSsodGhpcy5faXNJblJhbmdlKG4sZnQpPyI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3RvZGF5JyBkYXRhLWV2ZW50PSdjbGljayc+IitrKyI8XC9idXR0b24+IjoiIikrKGY/IiI6ZXQpKyI8XC9kaXY+IjoiIixjPXBhcnNlSW50KHRoaXMuX2dldChuLCJmaXJzdERheSIpLDEwKSxjPWlzTmFOKGMpPzA6YyxvdD10aGlzLl9nZXQobiwic2hvd1dlZWsiKSx1aT10aGlzLl9nZXQobiwiZGF5TmFtZXMiKSxmaT10aGlzLl9nZXQobiwiZGF5TmFtZXNNaW4iKSxlaT10aGlzLl9nZXQobiwibW9udGhOYW1lcyIpLG9pPXRoaXMuX2dldChuLCJtb250aE5hbWVzU2hvcnQiKSxzdD10aGlzLl9nZXQobiwiYmVmb3JlU2hvd0RheSIpLGc9dGhpcy5fZ2V0KG4sInNob3dPdGhlck1vbnRocyIpLHNpPXRoaXMuX2dldChuLCJzZWxlY3RPdGhlck1vbnRocyIpLGh0PXRoaXMuX2dldERlZmF1bHREYXRlKG4pLG50PSIiLHk9MDtlWzBdPnk7eSsrKXtmb3IoY3Q9IiIsdGhpcy5tYXhSb3dzPTQscD0wO2VbMV0+cDtwKyspe2lmKGx0PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdCxuLnNlbGVjdGVkRGF5KSksbD0iIHVpLWNvcm5lci1hbGwiLHU9IiIsdGkpe2lmKHUrPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWdyb3VwIixlWzFdPjEpc3dpdGNoKHApe2Nhc2UgMDp1Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtZmlyc3QiO2w9IiB1aS1jb3JuZXItIisoZj8icmlnaHQiOiJsZWZ0Iik7YnJlYWs7Y2FzZSBlWzFdLTE6dSs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLWxhc3QiO2w9IiB1aS1jb3JuZXItIisoZj8ibGVmdCI6InJpZ2h0Iik7YnJlYWs7ZGVmYXVsdDp1Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtbWlkZGxlIjtsPSIifXUrPSInPiJ9Zm9yKHUrPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWhlYWRlciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCIrbCsiJz4iKygvYWxsfGxlZnQvLnRlc3QobCkmJjA9PT15P2Y/dXQ6cnQ6IiIpKygvYWxsfHJpZ2h0Ly50ZXN0KGwpJiYwPT09eT9mP3J0OnV0OiIiKSt0aGlzLl9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcihuLHQscix3LHYseT4wfHxwPjAsZWksb2kpKyI8XC9kaXY+PHRhYmxlIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNhbGVuZGFyJz48dGhlYWQ+PHRyPiIsYXQ9b3Q/Ijx0aCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+Iit0aGlzLl9nZXQobiwid2Vla0hlYWRlciIpKyI8XC90aD4iOiIiLG89MDs3Pm87bysrKXZ0PShvK2MpJTcsYXQrPSI8dGggc2NvcGU9J2NvbCciKygobytjKzYpJTc+PTU/IiBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWVuZCciOiIiKSsiPjxzcGFuIHRpdGxlPSciK3VpW3Z0XSsiJz4iK2ZpW3Z0XSsiPFwvc3Bhbj48XC90aD4iO2Zvcih1Kz1hdCsiPFwvdHI+PFwvdGhlYWQ+PHRib2R5PiIseXQ9dGhpcy5fZ2V0RGF5c0luTW9udGgocix0KSxyPT09bi5zZWxlY3RlZFllYXImJnQ9PT1uLnNlbGVjdGVkTW9udGgmJihuLnNlbGVjdGVkRGF5PU1hdGgubWluKG4uc2VsZWN0ZWREYXkseXQpKSxwdD0odGhpcy5fZ2V0Rmlyc3REYXlPZk1vbnRoKHIsdCktYys3KSU3LHR0PU1hdGguY2VpbCgocHQreXQpLzcpLHd0PXRpP3RoaXMubWF4Um93cz50dD90aGlzLm1heFJvd3M6dHQ6dHQsdGhpcy5tYXhSb3dzPXd0LGk9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocix0LDEtcHQpKSxidD0wO3d0PmJ0O2J0Kyspe2Zvcih1Kz0iPHRyPiIsa3Q9b3Q/Ijx0ZCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+Iit0aGlzLl9nZXQobiwiY2FsY3VsYXRlV2VlayIpKGkpKyI8XC90ZD4iOiIiLG89MDs3Pm87bysrKWQ9c3Q/c3QuYXBwbHkobi5pbnB1dD9uLmlucHV0WzBdOm51bGwsW2ldKTpbITAsIiJdLGE9aS5nZXRNb250aCgpIT09dCxpdD1hJiYhc2l8fCFkWzBdfHx3JiZ3Pml8fHYmJmk+dixrdCs9Ijx0ZCBjbGFzcz0nIisoKG8rYys2KSU3Pj01PyIgdWktZGF0ZXBpY2tlci13ZWVrLWVuZCI6IiIpKyhhPyIgdWktZGF0ZXBpY2tlci1vdGhlci1tb250aCI6IiIpKyhpLmdldFRpbWUoKT09PWx0LmdldFRpbWUoKSYmdD09PW4uc2VsZWN0ZWRNb250aCYmbi5fa2V5RXZlbnR8fGh0LmdldFRpbWUoKT09PWkuZ2V0VGltZSgpJiZodC5nZXRUaW1lKCk9PT1sdC5nZXRUaW1lKCk/IiAiK3RoaXMuX2RheU92ZXJDbGFzczoiIikrKGl0PyIgIit0aGlzLl91bnNlbGVjdGFibGVDbGFzcysiIHVpLXN0YXRlLWRpc2FibGVkIjoiIikrKGEmJiFnPyIiOiIgIitkWzFdKyhpLmdldFRpbWUoKT09PWlpLmdldFRpbWUoKT8iICIrdGhpcy5fY3VycmVudENsYXNzOiIiKSsoaS5nZXRUaW1lKCk9PT1ndC5nZXRUaW1lKCk/IiB1aS1kYXRlcGlja2VyLXRvZGF5IjoiIikpKyInIisoYSYmIWd8fCFkWzJdPyIiOiIgdGl0bGU9JyIrZFsyXS5yZXBsYWNlKC8nL2csIiYjMzk7IikrIiciKSsoaXQ/IiI6IiBkYXRhLWhhbmRsZXI9J3NlbGVjdERheScgZGF0YS1ldmVudD0nY2xpY2snIGRhdGEtbW9udGg9JyIraS5nZXRNb250aCgpKyInIGRhdGEteWVhcj0nIitpLmdldEZ1bGxZZWFyKCkrIiciKSsiPiIrKGEmJiFnPyImI3hhMDsiOml0PyI8c3BhbiBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCc+IitpLmdldERhdGUoKSsiPFwvc3Bhbj4iOiI8YSBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCIrKGkuZ2V0VGltZSgpPT09Z3QuZ2V0VGltZSgpPyIgdWktc3RhdGUtaGlnaGxpZ2h0IjoiIikrKGkuZ2V0VGltZSgpPT09aWkuZ2V0VGltZSgpPyIgdWktc3RhdGUtYWN0aXZlIjoiIikrKGE/IiB1aS1wcmlvcml0eS1zZWNvbmRhcnkiOiIiKSsiJyBocmVmPScjJz4iK2kuZ2V0RGF0ZSgpKyI8XC9hPiIpKyI8XC90ZD4iLGkuc2V0RGF0ZShpLmdldERhdGUoKSsxKSxpPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KGkpO3UrPWt0KyI8XC90cj4ifXQrKzt0PjExJiYodD0wLHIrKyk7dSs9IjxcL3Rib2R5PjxcL3RhYmxlPiIrKHRpPyI8XC9kaXY+IisoZVswXT4wJiZwPT09ZVsxXS0xPyI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXJvdy1icmVhayc+PFwvZGl2PiI6IiIpOiIiKTtjdCs9dX1udCs9Y3R9cmV0dXJuIG50Kz1yaSxuLl9rZXlFdmVudD0hMSxudH0sX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyOmZ1bmN0aW9uKG4sdCxpLHIsdSxmLGUsbyl7dmFyIGssZCxoLHYseSxwLHMsYSx3PXRoaXMuX2dldChuLCJjaGFuZ2VNb250aCIpLGI9dGhpcy5fZ2V0KG4sImNoYW5nZVllYXIiKSxnPXRoaXMuX2dldChuLCJzaG93TW9udGhBZnRlclllYXIiKSxjPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXRpdGxlJz4iLGw9IiI7aWYoZnx8IXcpbCs9IjxzcGFuIGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJz4iK2VbdF0rIjxcL3NwYW4+IjtlbHNle2ZvcihrPXImJnIuZ2V0RnVsbFllYXIoKT09PWksZD11JiZ1LmdldEZ1bGxZZWFyKCk9PT1pLGwrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJyBkYXRhLWhhbmRsZXI9J3NlbGVjdE1vbnRoJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPiIsaD0wOzEyPmg7aCsrKSgha3x8aD49ci5nZXRNb250aCgpKSYmKCFkfHx1LmdldE1vbnRoKCk+PWgpJiYobCs9IjxvcHRpb24gdmFsdWU9JyIraCsiJyIrKGg9PT10PyIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyI6IiIpKyI+IitvW2hdKyI8XC9vcHRpb24+Iik7bCs9IjxcL3NlbGVjdD4ifWlmKGd8fChjKz1sKyghZiYmdyYmYj8iIjoiJiN4YTA7IikpLCFuLnllYXJzaHRtbClpZihuLnllYXJzaHRtbD0iIixmfHwhYiljKz0iPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcic+IitpKyI8XC9zcGFuPiI7ZWxzZXtmb3Iodj10aGlzLl9nZXQobiwieWVhclJhbmdlIikuc3BsaXQoIjoiKSx5PShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSxwPWZ1bmN0aW9uKG4pe3ZhciB0PW4ubWF0Y2goL2NbK1wtXS4qLyk/aStwYXJzZUludChuLnN1YnN0cmluZygxKSwxMCk6bi5tYXRjaCgvWytcLV0uKi8pP3krcGFyc2VJbnQobiwxMCk6cGFyc2VJbnQobiwxMCk7cmV0dXJuIGlzTmFOKHQpP3k6dH0scz1wKHZbMF0pLGE9TWF0aC5tYXgocyxwKHZbMV18fCIiKSkscz1yP01hdGgubWF4KHMsci5nZXRGdWxsWWVhcigpKTpzLGE9dT9NYXRoLm1pbihhLHUuZ2V0RnVsbFllYXIoKSk6YSxuLnllYXJzaHRtbCs9IjxzZWxlY3QgY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcicgZGF0YS1oYW5kbGVyPSdzZWxlY3RZZWFyJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPiI7YT49cztzKyspbi55ZWFyc2h0bWwrPSI8b3B0aW9uIHZhbHVlPSciK3MrIiciKyhzPT09aT8iIHNlbGVjdGVkPSdzZWxlY3RlZCciOiIiKSsiPiIrcysiPFwvb3B0aW9uPiI7bi55ZWFyc2h0bWwrPSI8XC9zZWxlY3Q+IjtjKz1uLnllYXJzaHRtbDtuLnllYXJzaHRtbD1udWxsfXJldHVybiBjKz10aGlzLl9nZXQobiwieWVhclN1ZmZpeCIpLGcmJihjKz0oIWYmJncmJmI/IiI6IiYjeGEwOyIpK2wpLGMrIjxcL2Rpdj4ifSxfYWRqdXN0SW5zdERhdGU6ZnVuY3Rpb24obix0LGkpe3ZhciB1PW4uc2VsZWN0ZWRZZWFyKygiWSI9PT1pP3Q6MCksZj1uLnNlbGVjdGVkTW9udGgrKCJNIj09PWk/dDowKSxlPU1hdGgubWluKG4uc2VsZWN0ZWREYXksdGhpcy5fZ2V0RGF5c0luTW9udGgodSxmKSkrKCJEIj09PWk/dDowKSxyPXRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodSxmLGUpKSk7bi5zZWxlY3RlZERheT1yLmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9ci5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9ci5nZXRGdWxsWWVhcigpOygiTSI9PT1pfHwiWSI9PT1pKSYmdGhpcy5fbm90aWZ5Q2hhbmdlKG4pfSxfcmVzdHJpY3RNaW5NYXg6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1pbiIpLHI9dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtYXgiKSx1PWkmJmk+dD9pOnQ7cmV0dXJuIHImJnU+cj9yOnV9LF9ub3RpZnlDaGFuZ2U6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZ2V0KG4sIm9uQ2hhbmdlTW9udGhZZWFyIik7dCYmdC5hcHBseShuLmlucHV0P24uaW5wdXRbMF06bnVsbCxbbi5zZWxlY3RlZFllYXIsbi5zZWxlY3RlZE1vbnRoKzEsbl0pfSxfZ2V0TnVtYmVyT2ZNb250aHM6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZ2V0KG4sIm51bWJlck9mTW9udGhzIik7cmV0dXJuIG51bGw9PXQ/WzEsMV06Im51bWJlciI9PXR5cGVvZiB0P1sxLHRdOnR9LF9nZXRNaW5NYXhEYXRlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX2RldGVybWluZURhdGUobix0aGlzLl9nZXQobix0KyJEYXRlIiksbnVsbCl9LF9nZXREYXlzSW5Nb250aDpmdW5jdGlvbihuLHQpe3JldHVybiAzMi10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShuLHQsMzIpKS5nZXREYXRlKCl9LF9nZXRGaXJzdERheU9mTW9udGg6ZnVuY3Rpb24obix0KXtyZXR1cm4gbmV3IERhdGUobix0LDEpLmdldERheSgpfSxfY2FuQWRqdXN0TW9udGg6ZnVuY3Rpb24obix0LGkscil7dmFyIGY9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMobiksdT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpLHIrKDA+dD90OmZbMF0qZlsxXSksMSkpO3JldHVybiAwPnQmJnUuc2V0RGF0ZSh0aGlzLl9nZXREYXlzSW5Nb250aCh1LmdldEZ1bGxZZWFyKCksdS5nZXRNb250aCgpKSksdGhpcy5faXNJblJhbmdlKG4sdSl9LF9pc0luUmFuZ2U6ZnVuY3Rpb24obix0KXt2YXIgaSxmLGU9dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtaW4iKSxvPXRoaXMuX2dldE1pbk1heERhdGUobiwibWF4Iikscj1udWxsLHU9bnVsbCxzPXRoaXMuX2dldChuLCJ5ZWFyUmFuZ2UiKTtyZXR1cm4gcyYmKGk9cy5zcGxpdCgiOiIpLGY9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLHI9cGFyc2VJbnQoaVswXSwxMCksdT1wYXJzZUludChpWzFdLDEwKSxpWzBdLm1hdGNoKC9bK1wtXS4qLykmJihyKz1mKSxpWzFdLm1hdGNoKC9bK1wtXS4qLykmJih1Kz1mKSksKCFlfHx0LmdldFRpbWUoKT49ZS5nZXRUaW1lKCkpJiYoIW98fHQuZ2V0VGltZSgpPD1vLmdldFRpbWUoKSkmJighcnx8dC5nZXRGdWxsWWVhcigpPj1yKSYmKCF1fHx1Pj10LmdldEZ1bGxZZWFyKCkpfSxfZ2V0Rm9ybWF0Q29uZmlnOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2dldChuLCJzaG9ydFllYXJDdXRvZmYiKTtyZXR1cm4gdD0ic3RyaW5nIiE9dHlwZW9mIHQ/dDoobmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwK3BhcnNlSW50KHQsMTApLHtzaG9ydFllYXJDdXRvZmY6dCxkYXlOYW1lc1Nob3J0OnRoaXMuX2dldChuLCJkYXlOYW1lc1Nob3J0IiksZGF5TmFtZXM6dGhpcy5fZ2V0KG4sImRheU5hbWVzIiksbW9udGhOYW1lc1Nob3J0OnRoaXMuX2dldChuLCJtb250aE5hbWVzU2hvcnQiKSxtb250aE5hbWVzOnRoaXMuX2dldChuLCJtb250aE5hbWVzIil9fSxfZm9ybWF0RGF0ZTpmdW5jdGlvbihuLHQsaSxyKXt0fHwobi5jdXJyZW50RGF5PW4uc2VsZWN0ZWREYXksbi5jdXJyZW50TW9udGg9bi5zZWxlY3RlZE1vbnRoLG4uY3VycmVudFllYXI9bi5zZWxlY3RlZFllYXIpO3ZhciB1PXQ/Im9iamVjdCI9PXR5cGVvZiB0P3Q6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocixpLHQpKTp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShuLmN1cnJlbnRZZWFyLG4uY3VycmVudE1vbnRoLG4uY3VycmVudERheSkpO3JldHVybiB0aGlzLmZvcm1hdERhdGUodGhpcy5fZ2V0KG4sImRhdGVGb3JtYXQiKSx1LHRoaXMuX2dldEZvcm1hdENvbmZpZyhuKSl9fSk7bi5mbi5kYXRlcGlja2VyPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpcztuLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWR8fChuKGRvY3VtZW50KS5vbigibW91c2Vkb3duIixuLmRhdGVwaWNrZXIuX2NoZWNrRXh0ZXJuYWxDbGljayksbi5kYXRlcGlja2VyLmluaXRpYWxpemVkPSEwKTswPT09bigiIyIrbi5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aCYmbigiYm9keSIpLmFwcGVuZChuLmRhdGVwaWNrZXIuZHBEaXYpO3ZhciBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHR8fCJpc0Rpc2FibGVkIiE9PXQmJiJnZXREYXRlIiE9PXQmJiJ3aWRnZXQiIT09dD8ib3B0aW9uIj09PXQmJjI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIGFyZ3VtZW50c1sxXT9uLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShuLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChpKSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7InN0cmluZyI9PXR5cGVvZiB0P24uZGF0ZXBpY2tlclsiXyIrdCsiRGF0ZXBpY2tlciJdLmFwcGx5KG4uZGF0ZXBpY2tlcixbdGhpc10uY29uY2F0KGkpKTpuLmRhdGVwaWNrZXIuX2F0dGFjaERhdGVwaWNrZXIodGhpcyx0KX0pOm4uZGF0ZXBpY2tlclsiXyIrdCsiRGF0ZXBpY2tlciJdLmFwcGx5KG4uZGF0ZXBpY2tlcixbdGhpc1swXV0uY29uY2F0KGkpKX07bi5kYXRlcGlja2VyPW5ldyBjO24uZGF0ZXBpY2tlci5pbml0aWFsaXplZD0hMTtuLmRhdGVwaWNrZXIudXVpZD0obmV3IERhdGUpLmdldFRpbWUoKTtuLmRhdGVwaWNrZXIudmVyc2lvbj0iMS4xMi4xIjtuLmRhdGVwaWNrZXI7bi51aS5pZT0hIS9tc2llIFtcdy5dKy8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO3I9ITE7bihkb2N1bWVudCkub24oIm1vdXNldXAiLGZ1bmN0aW9uKCl7cj0hMX0pO24ud2lkZ2V0KCJ1aS5tb3VzZSIse3ZlcnNpb246IjEuMTIuMSIsb3B0aW9uczp7Y2FuY2VsOiJpbnB1dCwgdGV4dGFyZWEsIGJ1dHRvbiwgc2VsZWN0LCBvcHRpb24iLGRpc3RhbmNlOjEsZGVsYXk6MH0sX21vdXNlSW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5lbGVtZW50Lm9uKCJtb3VzZWRvd24uIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24obil7cmV0dXJuIHQuX21vdXNlRG93bihuKX0pLm9uKCJjbGljay4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbihpKXtpZighMD09PW4uZGF0YShpLnRhcmdldCx0LndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIpKXJldHVybihuLnJlbW92ZURhdGEoaS50YXJnZXQsdC53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSxpLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExKX0pO3RoaXMuc3RhcnRlZD0hMX0sX21vdXNlRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vZmYoIi4iK3RoaXMud2lkZ2V0TmFtZSk7dGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUmJnRoaXMuZG9jdW1lbnQub2ZmKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9mZigibW91c2V1cC4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpfSxfbW91c2VEb3duOmZ1bmN0aW9uKHQpe2lmKCFyKXt0aGlzLl9tb3VzZU1vdmVkPSExO3RoaXMuX21vdXNlU3RhcnRlZCYmdGhpcy5fbW91c2VVcCh0KTt0aGlzLl9tb3VzZURvd25FdmVudD10O3ZhciBpPXRoaXMsdT0xPT09dC53aGljaCxmPSJzdHJpbmciPT10eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCYmdC50YXJnZXQubm9kZU5hbWU/bih0LnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg6ITE7cmV0dXJuIHUmJiFmJiZ0aGlzLl9tb3VzZUNhcHR1cmUodCk/KHRoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5tb3VzZURlbGF5TWV0PSEwfSx0aGlzLm9wdGlvbnMuZGVsYXkpKSx0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodCkhPT0hMSwhdGhpcy5fbW91c2VTdGFydGVkKT8odC5wcmV2ZW50RGVmYXVsdCgpLCEwKTooITA9PT1uLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSYmbi5yZW1vdmVEYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGkuX21vdXNlTW92ZShuKX0sdGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBpLl9tb3VzZVVwKG4pfSx0aGlzLmRvY3VtZW50Lm9uKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9uKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksdC5wcmV2ZW50RGVmYXVsdCgpLHI9ITAsITApKTohMH19LF9tb3VzZU1vdmU6ZnVuY3Rpb24odCl7aWYodGhpcy5fbW91c2VNb3ZlZCl7aWYobi51aS5pZSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDk+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmIXQuYnV0dG9uKXJldHVybiB0aGlzLl9tb3VzZVVwKHQpO2lmKCF0LndoaWNoKWlmKHQub3JpZ2luYWxFdmVudC5hbHRLZXl8fHQub3JpZ2luYWxFdmVudC5jdHJsS2V5fHx0Lm9yaWdpbmFsRXZlbnQubWV0YUtleXx8dC5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KXRoaXMuaWdub3JlTWlzc2luZ1doaWNoPSEwO2Vsc2UgaWYoIXRoaXMuaWdub3JlTWlzc2luZ1doaWNoKXJldHVybiB0aGlzLl9tb3VzZVVwKHQpfXJldHVybih0LndoaWNofHx0LmJ1dHRvbikmJih0aGlzLl9tb3VzZU1vdmVkPSEwKSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/KHRoaXMuX21vdXNlRHJhZyh0KSx0LnByZXZlbnREZWZhdWx0KCkpOih0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodGhpcy5fbW91c2VEb3duRXZlbnQsdCkhPT0hMSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/dGhpcy5fbW91c2VEcmFnKHQpOnRoaXMuX21vdXNlVXAodCkpLCF0aGlzLl9tb3VzZVN0YXJ0ZWQpfSxfbW91c2VVcDpmdW5jdGlvbih0KXt0aGlzLmRvY3VtZW50Lm9mZigibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS5vZmYoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKTt0aGlzLl9tb3VzZVN0YXJ0ZWQmJih0aGlzLl9tb3VzZVN0YXJ0ZWQ9ITEsdC50YXJnZXQ9PT10aGlzLl9tb3VzZURvd25FdmVudC50YXJnZXQmJm4uZGF0YSh0LnRhcmdldCx0aGlzLndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIsITApLHRoaXMuX21vdXNlU3RvcCh0KSk7dGhpcy5fbW91c2VEZWxheVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX21vdXNlRGVsYXlUaW1lciksZGVsZXRlIHRoaXMuX21vdXNlRGVsYXlUaW1lcik7dGhpcy5pZ25vcmVNaXNzaW5nV2hpY2g9ITE7cj0hMTt0LnByZXZlbnREZWZhdWx0KCl9LF9tb3VzZURpc3RhbmNlTWV0OmZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLm1heChNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWC1uLnBhZ2VYKSxNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWS1uLnBhZ2VZKSk+PXRoaXMub3B0aW9ucy5kaXN0YW5jZX0sX21vdXNlRGVsYXlNZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3VzZURlbGF5TWV0fSxfbW91c2VTdGFydDpmdW5jdGlvbigpe30sX21vdXNlRHJhZzpmdW5jdGlvbigpe30sX21vdXNlU3RvcDpmdW5jdGlvbigpe30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbigpe3JldHVybiEwfX0pO24udWkucGx1Z2luPXthZGQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGY9bi51aVt0XS5wcm90b3R5cGU7Zm9yKHUgaW4gcilmLnBsdWdpbnNbdV09Zi5wbHVnaW5zW3VdfHxbXSxmLnBsdWdpbnNbdV0ucHVzaChbaSxyW3VdXSl9LGNhbGw6ZnVuY3Rpb24obix0LGkscil7dmFyIHUsZj1uLnBsdWdpbnNbdF07aWYoZiYmKHJ8fG4uZWxlbWVudFswXS5wYXJlbnROb2RlJiYxMSE9PW4uZWxlbWVudFswXS5wYXJlbnROb2RlLm5vZGVUeXBlKSlmb3IodT0wO2YubGVuZ3RoPnU7dSsrKW4ub3B0aW9uc1tmW3VdWzBdXSYmZlt1XVsxXS5hcHBseShuLmVsZW1lbnQsaSl9fTtuLnVpLnNhZmVCbHVyPWZ1bmN0aW9uKHQpe3QmJiJib2R5IiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmbih0KS50cmlnZ2VyKCJibHVyIil9O24ud2lkZ2V0KCJ1aS5kcmFnZ2FibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyYWciLG9wdGlvbnM6e2FkZENsYXNzZXM6ITAsYXBwZW5kVG86InBhcmVudCIsYXhpczohMSxjb25uZWN0VG9Tb3J0YWJsZTohMSxjb250YWlubWVudDohMSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OiExLGdyaWQ6ITEsaGFuZGxlOiExLGhlbHBlcjoib3JpZ2luYWwiLGlmcmFtZUZpeDohMSxvcGFjaXR5OiExLHJlZnJlc2hQb3NpdGlvbnM6ITEscmV2ZXJ0OiExLHJldmVydER1cmF0aW9uOjUwMCxzY29wZToiZGVmYXVsdCIsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNuYXA6ITEsc25hcE1vZGU6ImJvdGgiLHNuYXBUb2xlcmFuY2U6MjAsc3RhY2s6ITEsekluZGV4OiExLGRyYWc6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpeyJvcmlnaW5hbCI9PT10aGlzLm9wdGlvbnMuaGVscGVyJiZ0aGlzLl9zZXRQb3NpdGlvblJlbGF0aXZlKCk7dGhpcy5vcHRpb25zLmFkZENsYXNzZXMmJnRoaXMuX2FkZENsYXNzKCJ1aS1kcmFnZ2FibGUiKTt0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTt0aGlzLl9tb3VzZUluaXQoKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3RoaXMuX3N1cGVyKG4sdCk7ImhhbmRsZSI9PT1uJiYodGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3JldHVybih0aGlzLmhlbHBlcnx8dGhpcy5lbGVtZW50KS5pcygiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpPyh0aGlzLmRlc3Ryb3lPbkNsZWFyPSEwLHZvaWQgMCk6KHRoaXMuX3JlbW92ZUhhbmRsZUNsYXNzTmFtZSgpLHRoaXMuX21vdXNlRGVzdHJveSgpLHZvaWQgMCl9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcnx8aS5kaXNhYmxlZHx8bih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKS5sZW5ndGg+MD8hMToodGhpcy5oYW5kbGU9dGhpcy5fZ2V0SGFuZGxlKHQpLHRoaXMuaGFuZGxlPyh0aGlzLl9ibHVyQWN0aXZlRWxlbWVudCh0KSx0aGlzLl9ibG9ja0ZyYW1lcyhpLmlmcmFtZUZpeD09PSEwPyJpZnJhbWUiOmkuaWZyYW1lRml4KSwhMCk6ITEpfSxfYmxvY2tGcmFtZXM6ZnVuY3Rpb24odCl7dGhpcy5pZnJhbWVCbG9ja3M9dGhpcy5kb2N1bWVudC5maW5kKHQpLm1hcChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7cmV0dXJuIG4oIjxkaXY+IikuY3NzKCJwb3NpdGlvbiIsImFic29sdXRlIikuYXBwZW5kVG8odC5wYXJlbnQoKSkub3V0ZXJXaWR0aCh0Lm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQodC5vdXRlckhlaWdodCgpKS5vZmZzZXQodC5vZmZzZXQoKSlbMF19KX0sX3VuYmxvY2tGcmFtZXM6ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZUJsb2NrcyYmKHRoaXMuaWZyYW1lQmxvY2tzLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmlmcmFtZUJsb2Nrcyl9LF9ibHVyQWN0aXZlRWxlbWVudDpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pLHI9bih0LnRhcmdldCk7ci5jbG9zZXN0KGkpLmxlbmd0aHx8bi51aS5zYWZlQmx1cihpKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIodCksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSxuLnVpLmRkbWFuYWdlciYmKG4udWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpcyksdGhpcy5fY2FjaGVNYXJnaW5zKCksdGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCEwKSx0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKSx0aGlzLmhhc0ZpeGVkQW5jZXN0b3I9dGhpcy5oZWxwZXIucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiJmaXhlZCI9PT1uKHRoaXMpLmNzcygicG9zaXRpb24iKX0pLmxlbmd0aD4wLHRoaXMucG9zaXRpb25BYnM9dGhpcy5lbGVtZW50Lm9mZnNldCgpLHRoaXMuX3JlZnJlc2hPZmZzZXRzKHQpLHRoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCwhMSksdGhpcy5vcmlnaW5hbFBhZ2VYPXQucGFnZVgsdGhpcy5vcmlnaW5hbFBhZ2VZPXQucGFnZVksaS5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihpLmN1cnNvckF0KSx0aGlzLl9zZXRDb250YWlubWVudCgpLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0KT09PSExPyh0aGlzLl9jbGVhcigpLCExKToodGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLG4udWkuZGRtYW5hZ2VyJiYhaS5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpLHRoaXMuX21vdXNlRHJhZyh0LCEwKSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZ1N0YXJ0KHRoaXMsdCksITApfSxfcmVmcmVzaE9mZnNldHM6ZnVuY3Rpb24obil7dGhpcy5vZmZzZXQ9e3RvcDp0aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0LHNjcm9sbDohMSxwYXJlbnQ6dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkscmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX07dGhpcy5vZmZzZXQuY2xpY2s9e2xlZnQ6bi5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDpuLnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH19LF9tb3VzZURyYWc6ZnVuY3Rpb24odCxpKXtpZih0aGlzLmhhc0ZpeGVkQW5jZXN0b3ImJih0aGlzLm9mZnNldC5wYXJlbnQ9dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkpLHRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0LCEwKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLCFpKXt2YXIgcj10aGlzLl91aUhhc2goKTtpZih0aGlzLl90cmlnZ2VyKCJkcmFnIix0LHIpPT09ITEpcmV0dXJuIHRoaXMuX21vdXNlVXAobmV3IG4uRXZlbnQoIm1vdXNldXAiLHQpKSwhMTt0aGlzLnBvc2l0aW9uPXIucG9zaXRpb259cmV0dXJuIHRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIsdGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIsbi51aS5kZG1hbmFnZXImJm4udWkuZGRtYW5hZ2VyLmRyYWcodGhpcyx0KSwhMX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgcj10aGlzLGk9ITE7cmV0dXJuIG4udWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXImJihpPW4udWkuZGRtYW5hZ2VyLmRyb3AodGhpcyx0KSksdGhpcy5kcm9wcGVkJiYoaT10aGlzLmRyb3BwZWQsdGhpcy5kcm9wcGVkPSExKSwiaW52YWxpZCI9PT10aGlzLm9wdGlvbnMucmV2ZXJ0JiYhaXx8InZhbGlkIj09PXRoaXMub3B0aW9ucy5yZXZlcnQmJml8fHRoaXMub3B0aW9ucy5yZXZlcnQ9PT0hMHx8bi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5yZXZlcnQpJiZ0aGlzLm9wdGlvbnMucmV2ZXJ0LmNhbGwodGhpcy5lbGVtZW50LGkpP24odGhpcy5oZWxwZXIpLmFuaW1hdGUodGhpcy5vcmlnaW5hbFBvc2l0aW9uLHBhcnNlSW50KHRoaXMub3B0aW9ucy5yZXZlcnREdXJhdGlvbiwxMCksZnVuY3Rpb24oKXtyLl90cmlnZ2VyKCJzdG9wIix0KSE9PSExJiZyLl9jbGVhcigpfSk6dGhpcy5fdHJpZ2dlcigic3RvcCIsdCkhPT0hMSYmdGhpcy5fY2xlYXIoKSwhMX0sX21vdXNlVXA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VuYmxvY2tGcmFtZXMoKSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZ1N0b3AodGhpcyx0KSx0aGlzLmhhbmRsZUVsZW1lbnQuaXModC50YXJnZXQpJiZ0aGlzLmVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKSxuLnVpLm1vdXNlLnByb3RvdHlwZS5fbW91c2VVcC5jYWxsKHRoaXMsdCl9LGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlbHBlci5pcygiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpP3RoaXMuX21vdXNlVXAobmV3IG4uRXZlbnQoIm1vdXNldXAiLHt0YXJnZXQ6dGhpcy5lbGVtZW50WzBdfSkpOnRoaXMuX2NsZWFyKCksdGhpc30sX2dldEhhbmRsZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLmhhbmRsZT8hIW4odC50YXJnZXQpLmNsb3Nlc3QodGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhhbmRsZSkpLmxlbmd0aDohMH0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlRWxlbWVudD10aGlzLm9wdGlvbnMuaGFuZGxlP3RoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5oYW5kbGUpOnRoaXMuZWxlbWVudDt0aGlzLl9hZGRDbGFzcyh0aGlzLmhhbmRsZUVsZW1lbnQsInVpLWRyYWdnYWJsZS1oYW5kbGUiKX0sX3JlbW92ZUhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGFuZGxlRWxlbWVudCwidWktZHJhZ2dhYmxlLWhhbmRsZSIpfSxfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMub3B0aW9ucyx1PW4uaXNGdW5jdGlvbihyLmhlbHBlciksaT11P24oci5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFt0XSkpOiJjbG9uZSI9PT1yLmhlbHBlcj90aGlzLmVsZW1lbnQuY2xvbmUoKS5yZW1vdmVBdHRyKCJpZCIpOnRoaXMuZWxlbWVudDtyZXR1cm4gaS5wYXJlbnRzKCJib2R5IikubGVuZ3RofHxpLmFwcGVuZFRvKCJwYXJlbnQiPT09ci5hcHBlbmRUbz90aGlzLmVsZW1lbnRbMF0ucGFyZW50Tm9kZTpyLmFwcGVuZFRvKSx1JiZpWzBdPT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLl9zZXRQb3NpdGlvblJlbGF0aXZlKCksaVswXT09PXRoaXMuZWxlbWVudFswXXx8LyhmaXhlZHxhYnNvbHV0ZSkvLnRlc3QoaS5jc3MoInBvc2l0aW9uIikpfHxpLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLGl9LF9zZXRQb3NpdGlvblJlbGF0aXZlOmZ1bmN0aW9uKCl7L14oPzpyfGF8ZikvLnRlc3QodGhpcy5lbGVtZW50LmNzcygicG9zaXRpb24iKSl8fCh0aGlzLmVsZW1lbnRbMF0uc3R5bGUucG9zaXRpb249InJlbGF0aXZlIil9LF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOmZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dC5zcGxpdCgiICIpKTtuLmlzQXJyYXkodCkmJih0PXtsZWZ0Oit0WzBdLHRvcDordFsxXXx8MH0pOyJsZWZ0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXQubGVmdCt0aGlzLm1hcmdpbnMubGVmdCk7InJpZ2h0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdC5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCk7InRvcCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXQudG9wK3RoaXMubWFyZ2lucy50b3ApOyJib3R0b20iaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10LmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wKX0sX2lzUm9vdE5vZGU6ZnVuY3Rpb24obil7cmV0dXJuLyhodG1sfGJvZHkpL2kudGVzdChuLnRhZ05hbWUpfHxuPT09dGhpcy5kb2N1bWVudFswXX0sX2dldFBhcmVudE9mZnNldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpLGk9dGhpcy5kb2N1bWVudFswXTtyZXR1cm4iYWJzb2x1dGUiPT09dGhpcy5jc3NQb3NpdGlvbiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1pJiZuLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSYmKHQubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLHQudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksdGhpcy5faXNSb290Tm9kZSh0aGlzLm9mZnNldFBhcmVudFswXSkmJih0PXt0b3A6MCxsZWZ0OjB9KSx7dG9wOnQudG9wKyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSxsZWZ0OnQubGVmdCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApfX0sX2dldFJlbGF0aXZlT2Zmc2V0OmZ1bmN0aW9uKCl7aWYoInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb24pcmV0dXJue3RvcDowLGxlZnQ6MH07dmFyIG49dGhpcy5lbGVtZW50LnBvc2l0aW9uKCksdD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKTtyZXR1cm57dG9wOm4udG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrKHQ/MDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksbGVmdDpuLmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrKHQ/MDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCkpfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5MZWZ0IiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5Ub3AiKSwxMCl8fDAscmlnaHQ6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSwxMCl8fDAsYm90dG9tOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkJvdHRvbSIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIGYsdCxpLHI9dGhpcy5vcHRpb25zLHU9dGhpcy5kb2N1bWVudFswXTtyZXR1cm4gdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj1udWxsLHIuY29udGFpbm1lbnQ/IndpbmRvdyI9PT1yLmNvbnRhaW5tZW50Pyh0aGlzLmNvbnRhaW5tZW50PVtuKHdpbmRvdykuc2Nyb2xsTGVmdCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsbih3aW5kb3cpLnNjcm9sbFRvcCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLG4od2luZG93KS5zY3JvbGxMZWZ0KCkrbih3aW5kb3cpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCxuKHdpbmRvdykuc2Nyb2xsVG9wKCkrKG4od2luZG93KS5oZWlnaHQoKXx8dS5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSx2b2lkIDApOiJkb2N1bWVudCI9PT1yLmNvbnRhaW5tZW50Pyh0aGlzLmNvbnRhaW5tZW50PVswLDAsbih1KS53aWR0aCgpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsKG4odSkuaGVpZ2h0KCl8fHUuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF0sdm9pZCAwKTpyLmNvbnRhaW5tZW50LmNvbnN0cnVjdG9yPT09QXJyYXk/KHRoaXMuY29udGFpbm1lbnQ9ci5jb250YWlubWVudCx2b2lkIDApOigicGFyZW50Ij09PXIuY29udGFpbm1lbnQmJihyLmNvbnRhaW5tZW50PXRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpLHQ9bihyLmNvbnRhaW5tZW50KSxpPXRbMF0saSYmKGY9LyhzY3JvbGx8YXV0bykvLnRlc3QodC5jc3MoIm92ZXJmbG93IikpLHRoaXMuY29udGFpbm1lbnQ9WyhwYXJzZUludCh0LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKSwocGFyc2VJbnQodC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLChmP01hdGgubWF4KGkuc2Nyb2xsV2lkdGgsaS5vZmZzZXRXaWR0aCk6aS5vZmZzZXRXaWR0aCktKHBhcnNlSW50KHQuY3NzKCJib3JkZXJSaWdodFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdSaWdodCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdC10aGlzLm1hcmdpbnMucmlnaHQsKGY/TWF0aC5tYXgoaS5zY3JvbGxIZWlnaHQsaS5vZmZzZXRIZWlnaHQpOmkub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQodC5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3AtdGhpcy5tYXJnaW5zLmJvdHRvbV0sdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj10KSx2b2lkIDApOih0aGlzLmNvbnRhaW5tZW50PW51bGwsdm9pZCAwKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKG4sdCl7dHx8KHQ9dGhpcy5wb3NpdGlvbik7dmFyIGk9ImFic29sdXRlIj09PW4/MTotMSxyPXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pO3JldHVybnt0b3A6dC50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKmkrdGhpcy5vZmZzZXQucGFyZW50LnRvcCppLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcDpyPzA6dGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCkqaSxsZWZ0OnQubGVmdCt0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0KmkrdGhpcy5vZmZzZXQucGFyZW50LmxlZnQqaS0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0OnI/MDp0aGlzLm9mZnNldC5zY3JvbGwubGVmdCkqaX19LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGkscyx1LGYscj10aGlzLm9wdGlvbnMsaD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKSxlPW4ucGFnZVgsbz1uLnBhZ2VZO3JldHVybiBoJiZ0aGlzLm9mZnNldC5zY3JvbGx8fCh0aGlzLm9mZnNldC5zY3JvbGw9e3RvcDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0OnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKX0pLHQmJih0aGlzLmNvbnRhaW5tZW50JiYodGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj8ocz10aGlzLnJlbGF0aXZlQ29udGFpbmVyLm9mZnNldCgpLGk9W3RoaXMuY29udGFpbm1lbnRbMF0rcy5sZWZ0LHRoaXMuY29udGFpbm1lbnRbMV0rcy50b3AsdGhpcy5jb250YWlubWVudFsyXStzLmxlZnQsdGhpcy5jb250YWlubWVudFszXStzLnRvcF0pOmk9dGhpcy5jb250YWlubWVudCxuLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8aVswXSYmKGU9aVswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSxuLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDxpWzFdJiYobz1pWzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksbi5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PmlbMl0mJihlPWlbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksbi5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+aVszXSYmKG89aVszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxyLmdyaWQmJih1PXIuZ3JpZFsxXT90aGlzLm9yaWdpbmFsUGFnZVkrTWF0aC5yb3VuZCgoby10aGlzLm9yaWdpbmFsUGFnZVkpL3IuZ3JpZFsxXSkqci5ncmlkWzFdOnRoaXMub3JpZ2luYWxQYWdlWSxvPWk/dS10aGlzLm9mZnNldC5jbGljay50b3A+PWlbMV18fHUtdGhpcy5vZmZzZXQuY2xpY2sudG9wPmlbM10/dTp1LXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49aVsxXT91LXIuZ3JpZFsxXTp1K3IuZ3JpZFsxXTp1LGY9ci5ncmlkWzBdP3RoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKChlLXRoaXMub3JpZ2luYWxQYWdlWCkvci5ncmlkWzBdKSpyLmdyaWRbMF06dGhpcy5vcmlnaW5hbFBhZ2VYLGU9aT9mLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PWlbMF18fGYtdGhpcy5vZmZzZXQuY2xpY2subGVmdD5pWzJdP2Y6Zi10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj1pWzBdP2Ytci5ncmlkWzBdOmYrci5ncmlkWzBdOmYpLCJ5Ij09PXIuYXhpcyYmKGU9dGhpcy5vcmlnaW5hbFBhZ2VYKSwieCI9PT1yLmF4aXMmJihvPXRoaXMub3JpZ2luYWxQYWdlWSkpLHt0b3A6by10aGlzLm9mZnNldC5jbGljay50b3AtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3ArKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwudG9wOmg/MDp0aGlzLm9mZnNldC5zY3JvbGwudG9wKSxsZWZ0OmUtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQ6aD8wOnRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0KX19LF9jbGVhcjpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGVscGVyLCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKTt0aGlzLmhlbHBlclswXT09PXRoaXMuZWxlbWVudFswXXx8dGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHx0aGlzLmhlbHBlci5yZW1vdmUoKTt0aGlzLmhlbHBlcj1udWxsO3RoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMTt0aGlzLmRlc3Ryb3lPbkNsZWFyJiZ0aGlzLmRlc3Ryb3koKX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLHIpe3JldHVybiByPXJ8fHRoaXMuX3VpSGFzaCgpLG4udWkucGx1Z2luLmNhbGwodGhpcyx0LFtpLHIsdGhpc10sITApLC9eKGRyYWd8c3RhcnR8c3RvcCkvLnRlc3QodCkmJih0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHIub2Zmc2V0PXRoaXMucG9zaXRpb25BYnMpLG4uV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5jYWxsKHRoaXMsdCxpLHIpfSxwbHVnaW5zOnt9LF91aUhhc2g6ZnVuY3Rpb24oKXtyZXR1cm57aGVscGVyOnRoaXMuaGVscGVyLHBvc2l0aW9uOnRoaXMucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb24sb2Zmc2V0OnRoaXMucG9zaXRpb25BYnN9fX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiY29ubmVjdFRvU29ydGFibGUiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9bi5leHRlbmQoe30saSx7aXRlbTpyLmVsZW1lbnR9KTtyLnNvcnRhYmxlcz1bXTtuKHIub3B0aW9ucy5jb25uZWN0VG9Tb3J0YWJsZSkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuc29ydGFibGUoImluc3RhbmNlIik7aSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmKHIuc29ydGFibGVzLnB1c2goaSksaS5yZWZyZXNoUG9zaXRpb25zKCksaS5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsdSkpfSl9LHN0b3A6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4uZXh0ZW5kKHt9LGkse2l0ZW06ci5lbGVtZW50fSk7ci5jYW5jZWxIZWxwZXJSZW1vdmFsPSExO24uZWFjaChyLnNvcnRhYmxlcyxmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5pc092ZXI/KG4uaXNPdmVyPTAsci5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLG4uY2FuY2VsSGVscGVyUmVtb3ZhbD0hMSxuLl9zdG9yZWRDU1M9e3Bvc2l0aW9uOm4ucGxhY2Vob2xkZXIuY3NzKCJwb3NpdGlvbiIpLHRvcDpuLnBsYWNlaG9sZGVyLmNzcygidG9wIiksbGVmdDpuLnBsYWNlaG9sZGVyLmNzcygibGVmdCIpfSxuLl9tb3VzZVN0b3AodCksbi5vcHRpb25zLmhlbHBlcj1uLm9wdGlvbnMuX2hlbHBlcik6KG4uY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCxuLl90cmlnZ2VyKCJkZWFjdGl2YXRlIix0LHUpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXtuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt2YXIgZj0hMSx1PXRoaXM7dS5wb3NpdGlvbkFicz1yLnBvc2l0aW9uQWJzO3UuaGVscGVyUHJvcG9ydGlvbnM9ci5oZWxwZXJQcm9wb3J0aW9uczt1Lm9mZnNldC5jbGljaz1yLm9mZnNldC5jbGljazt1Ll9pbnRlcnNlY3RzV2l0aCh1LmNvbnRhaW5lckNhY2hlKSYmKGY9ITAsbi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25BYnM9ci5wb3NpdGlvbkFicyx0aGlzLmhlbHBlclByb3BvcnRpb25zPXIuaGVscGVyUHJvcG9ydGlvbnMsdGhpcy5vZmZzZXQuY2xpY2s9ci5vZmZzZXQuY2xpY2ssdGhpcyE9PXUmJnRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyQ2FjaGUpJiZuLmNvbnRhaW5zKHUuZWxlbWVudFswXSx0aGlzLmVsZW1lbnRbMF0pJiYoZj0hMSksZn0pKTtmPyh1LmlzT3Zlcnx8KHUuaXNPdmVyPTEsci5fcGFyZW50PWkuaGVscGVyLnBhcmVudCgpLHUuY3VycmVudEl0ZW09aS5oZWxwZXIuYXBwZW5kVG8odS5lbGVtZW50KS5kYXRhKCJ1aS1zb3J0YWJsZS1pdGVtIiwhMCksdS5vcHRpb25zLl9oZWxwZXI9dS5vcHRpb25zLmhlbHBlcix1Lm9wdGlvbnMuaGVscGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGkuaGVscGVyWzBdfSx0LnRhcmdldD11LmN1cnJlbnRJdGVtWzBdLHUuX21vdXNlQ2FwdHVyZSh0LCEwKSx1Ll9tb3VzZVN0YXJ0KHQsITAsITApLHUub2Zmc2V0LmNsaWNrLnRvcD1yLm9mZnNldC5jbGljay50b3AsdS5vZmZzZXQuY2xpY2subGVmdD1yLm9mZnNldC5jbGljay5sZWZ0LHUub2Zmc2V0LnBhcmVudC5sZWZ0LT1yLm9mZnNldC5wYXJlbnQubGVmdC11Lm9mZnNldC5wYXJlbnQubGVmdCx1Lm9mZnNldC5wYXJlbnQudG9wLT1yLm9mZnNldC5wYXJlbnQudG9wLXUub2Zmc2V0LnBhcmVudC50b3Asci5fdHJpZ2dlcigidG9Tb3J0YWJsZSIsdCksci5kcm9wcGVkPXUuZWxlbWVudCxuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKX0pLHIuY3VycmVudEl0ZW09ci5lbGVtZW50LHUuZnJvbU91dHNpZGU9ciksdS5jdXJyZW50SXRlbSYmKHUuX21vdXNlRHJhZyh0KSxpLnBvc2l0aW9uPXUucG9zaXRpb24pKTp1LmlzT3ZlciYmKHUuaXNPdmVyPTAsdS5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLHUub3B0aW9ucy5fcmV2ZXJ0PXUub3B0aW9ucy5yZXZlcnQsdS5vcHRpb25zLnJldmVydD0hMSx1Ll90cmlnZ2VyKCJvdXQiLHQsdS5fdWlIYXNoKHUpKSx1Ll9tb3VzZVN0b3AodCwhMCksdS5vcHRpb25zLnJldmVydD11Lm9wdGlvbnMuX3JldmVydCx1Lm9wdGlvbnMuaGVscGVyPXUub3B0aW9ucy5faGVscGVyLHUucGxhY2Vob2xkZXImJnUucGxhY2Vob2xkZXIucmVtb3ZlKCksaS5oZWxwZXIuYXBwZW5kVG8oci5fcGFyZW50KSxyLl9yZWZyZXNoT2Zmc2V0cyh0KSxpLnBvc2l0aW9uPXIuX2dlbmVyYXRlUG9zaXRpb24odCwhMCksci5fdHJpZ2dlcigiZnJvbVNvcnRhYmxlIix0KSxyLmRyb3BwZWQ9ITEsbi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoUG9zaXRpb25zKCl9KSl9KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsImN1cnNvciIse3N0YXJ0OmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1uKCJib2R5IiksZj1yLm9wdGlvbnM7dS5jc3MoImN1cnNvciIpJiYoZi5fY3Vyc29yPXUuY3NzKCJjdXJzb3IiKSk7dS5jc3MoImN1cnNvciIsZi5jdXJzb3IpfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnM7dS5fY3Vyc29yJiZuKCJib2R5IikuY3NzKCJjdXJzb3IiLHUuX2N1cnNvcil9fSk7bi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJvcGFjaXR5Iix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4oaS5oZWxwZXIpLGY9ci5vcHRpb25zO3UuY3NzKCJvcGFjaXR5IikmJihmLl9vcGFjaXR5PXUuY3NzKCJvcGFjaXR5IikpO3UuY3NzKCJvcGFjaXR5IixmLm9wYWNpdHkpfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnM7dS5fb3BhY2l0eSYmbihpLmhlbHBlcikuY3NzKCJvcGFjaXR5Iix1Ll9vcGFjaXR5KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNjcm9sbCIse3N0YXJ0OmZ1bmN0aW9uKG4sdCxpKXtpLnNjcm9sbFBhcmVudE5vdEhpZGRlbnx8KGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuPWkuaGVscGVyLnNjcm9sbFBhcmVudCghMSkpO2kuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdIT09aS5kb2N1bWVudFswXSYmIkhUTUwiIT09aS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bMF0udGFnTmFtZSYmKGkub3ZlcmZsb3dPZmZzZXQ9aS5zY3JvbGxQYXJlbnROb3RIaWRkZW4ub2Zmc2V0KCkpfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnMsbz0hMSxlPXIuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdLGY9ci5kb2N1bWVudFswXTtlIT09ZiYmIkhUTUwiIT09ZS50YWdOYW1lPyh1LmF4aXMmJiJ4Ij09PXUuYXhpc3x8KHIub3ZlcmZsb3dPZmZzZXQudG9wK2Uub2Zmc2V0SGVpZ2h0LXQucGFnZVk8dS5zY3JvbGxTZW5zaXRpdml0eT9lLnNjcm9sbFRvcD1vPWUuc2Nyb2xsVG9wK3Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWS1yLm92ZXJmbG93T2Zmc2V0LnRvcDx1LnNjcm9sbFNlbnNpdGl2aXR5JiYoZS5zY3JvbGxUb3A9bz1lLnNjcm9sbFRvcC11LnNjcm9sbFNwZWVkKSksdS5heGlzJiYieSI9PT11LmF4aXN8fChyLm92ZXJmbG93T2Zmc2V0LmxlZnQrZS5vZmZzZXRXaWR0aC10LnBhZ2VYPHUuc2Nyb2xsU2Vuc2l0aXZpdHk/ZS5zY3JvbGxMZWZ0PW89ZS5zY3JvbGxMZWZ0K3Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWC1yLm92ZXJmbG93T2Zmc2V0LmxlZnQ8dS5zY3JvbGxTZW5zaXRpdml0eSYmKGUuc2Nyb2xsTGVmdD1vPWUuc2Nyb2xsTGVmdC11LnNjcm9sbFNwZWVkKSkpOih1LmF4aXMmJiJ4Ij09PXUuYXhpc3x8KHQucGFnZVktbihmKS5zY3JvbGxUb3AoKTx1LnNjcm9sbFNlbnNpdGl2aXR5P289bihmKS5zY3JvbGxUb3AobihmKS5zY3JvbGxUb3AoKS11LnNjcm9sbFNwZWVkKTpuKHdpbmRvdykuaGVpZ2h0KCktKHQucGFnZVktbihmKS5zY3JvbGxUb3AoKSk8dS5zY3JvbGxTZW5zaXRpdml0eSYmKG89bihmKS5zY3JvbGxUb3AobihmKS5zY3JvbGxUb3AoKSt1LnNjcm9sbFNwZWVkKSkpLHUuYXhpcyYmInkiPT09dS5heGlzfHwodC5wYWdlWC1uKGYpLnNjcm9sbExlZnQoKTx1LnNjcm9sbFNlbnNpdGl2aXR5P289bihmKS5zY3JvbGxMZWZ0KG4oZikuc2Nyb2xsTGVmdCgpLXUuc2Nyb2xsU3BlZWQpOm4od2luZG93KS53aWR0aCgpLSh0LnBhZ2VYLW4oZikuc2Nyb2xsTGVmdCgpKTx1LnNjcm9sbFNlbnNpdGl2aXR5JiYobz1uKGYpLnNjcm9sbExlZnQobihmKS5zY3JvbGxMZWZ0KCkrdS5zY3JvbGxTcGVlZCkpKSk7byE9PSExJiZuLnVpLmRkbWFuYWdlciYmIXUuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMocix0KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNuYXAiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3Iuc25hcEVsZW1lbnRzPVtdO24odS5zbmFwLmNvbnN0cnVjdG9yIT09U3RyaW5nP3Uuc25hcC5pdGVtc3x8IjpkYXRhKHVpLWRyYWdnYWJsZSkiOnUuc25hcCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10Lm9mZnNldCgpO3RoaXMhPT1yLmVsZW1lbnRbMF0mJnIuc25hcEVsZW1lbnRzLnB1c2goe2l0ZW06dGhpcyx3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLHRvcDppLnRvcCxsZWZ0OmkubGVmdH0pfSl9LGRyYWc6ZnVuY3Rpb24odCxpLHIpe2Zvcih2YXIgZSxvLHMsaCxjLGEsbCx2LHcsYj1yLm9wdGlvbnMsZj1iLnNuYXBUb2xlcmFuY2UseT1pLm9mZnNldC5sZWZ0LGs9eStyLmhlbHBlclByb3BvcnRpb25zLndpZHRoLHA9aS5vZmZzZXQudG9wLGQ9cCtyLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCx1PXIuc25hcEVsZW1lbnRzLmxlbmd0aC0xO3U+PTA7dS0tKWM9ci5zbmFwRWxlbWVudHNbdV0ubGVmdC1yLm1hcmdpbnMubGVmdCxhPWMrci5zbmFwRWxlbWVudHNbdV0ud2lkdGgsbD1yLnNuYXBFbGVtZW50c1t1XS50b3Atci5tYXJnaW5zLnRvcCx2PWwrci5zbmFwRWxlbWVudHNbdV0uaGVpZ2h0LGMtZj5rfHx5PmErZnx8bC1mPmR8fHA+ditmfHwhbi5jb250YWlucyhyLnNuYXBFbGVtZW50c1t1XS5pdGVtLm93bmVyRG9jdW1lbnQsci5zbmFwRWxlbWVudHNbdV0uaXRlbSk/KHIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nJiZyLm9wdGlvbnMuc25hcC5yZWxlYXNlJiZyLm9wdGlvbnMuc25hcC5yZWxlYXNlLmNhbGwoci5lbGVtZW50LHQsbi5leHRlbmQoci5fdWlIYXNoKCkse3NuYXBJdGVtOnIuc25hcEVsZW1lbnRzW3VdLml0ZW19KSksci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmc9ITEpOigiaW5uZXIiIT09Yi5zbmFwTW9kZSYmKGU9Zj49TWF0aC5hYnMobC1kKSxvPWY+PU1hdGguYWJzKHYtcCkscz1mPj1NYXRoLmFicyhjLWspLGg9Zj49TWF0aC5hYnMoYS15KSxlJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOmwtci5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbGVmdDowfSkudG9wKSxvJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOnYsbGVmdDowfSkudG9wKSxzJiYoaS5wb3NpdGlvbi5sZWZ0PXIuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6Yy1yLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmF9KS5sZWZ0KSksdz1lfHxvfHxzfHxoLCJvdXRlciIhPT1iLnNuYXBNb2RlJiYoZT1mPj1NYXRoLmFicyhsLXApLG89Zj49TWF0aC5hYnModi1kKSxzPWY+PU1hdGguYWJzKGMteSksaD1mPj1NYXRoLmFicyhhLWspLGUmJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6bCxsZWZ0OjB9KS50b3ApLG8mJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6di1yLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsZWZ0OjB9KS50b3ApLHMmJihpLnBvc2l0aW9uLmxlZnQ9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpjfSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmEtci5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aH0pLmxlZnQpKSwhci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmcmJihlfHxvfHxzfHxofHx3KSYmci5vcHRpb25zLnNuYXAuc25hcCYmci5vcHRpb25zLnNuYXAuc25hcC5jYWxsKHIuZWxlbWVudCx0LG4uZXh0ZW5kKHIuX3VpSGFzaCgpLHtzbmFwSXRlbTpyLnNuYXBFbGVtZW50c1t1XS5pdGVtfSkpLHIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nPWV8fG98fHN8fGh8fHcpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic3RhY2siLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIGYsZT1yLm9wdGlvbnMsdT1uLm1ha2VBcnJheShuKGUuc3RhY2spKS5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuKHBhcnNlSW50KG4odCkuY3NzKCJ6SW5kZXgiKSwxMCl8fDApLShwYXJzZUludChuKGkpLmNzcygiekluZGV4IiksMTApfHwwKX0pO3UubGVuZ3RoJiYoZj1wYXJzZUludChuKHVbMF0pLmNzcygiekluZGV4IiksMTApfHwwLG4odSkuZWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmNzcygiekluZGV4IixmK3QpfSksdGhpcy5jc3MoInpJbmRleCIsZit1Lmxlbmd0aCkpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiekluZGV4Iix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4oaS5oZWxwZXIpLGY9ci5vcHRpb25zO3UuY3NzKCJ6SW5kZXgiKSYmKGYuX3pJbmRleD11LmNzcygiekluZGV4IikpO3UuY3NzKCJ6SW5kZXgiLGYuekluZGV4KX0sc3RvcDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3UuX3pJbmRleCYmbihpLmhlbHBlcikuY3NzKCJ6SW5kZXgiLHUuX3pJbmRleCl9fSk7bi51aS5kcmFnZ2FibGU7bi53aWRnZXQoInVpLnJlc2l6YWJsZSIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMi4xIix3aWRnZXRFdmVudFByZWZpeDoicmVzaXplIixvcHRpb25zOnthbHNvUmVzaXplOiExLGFuaW1hdGU6ITEsYW5pbWF0ZUR1cmF0aW9uOiJzbG93IixhbmltYXRlRWFzaW5nOiJzd2luZyIsYXNwZWN0UmF0aW86ITEsYXV0b0hpZGU6ITEsY2xhc3Nlczp7InVpLXJlc2l6YWJsZS1zZSI6InVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2UifSxjb250YWlubWVudDohMSxnaG9zdDohMSxncmlkOiExLGhhbmRsZXM6ImUscyxzZSIsaGVscGVyOiExLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjEwLG1pbldpZHRoOjEwLHpJbmRleDo5MCxyZXNpemU6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX251bTpmdW5jdGlvbihuKXtyZXR1cm4gcGFyc2VGbG9hdChuKXx8MH0sX2lzTnVtYmVyOmZ1bmN0aW9uKG4pe3JldHVybiFpc05hTihwYXJzZUZsb2F0KG4pKX0sX2hhc1Njcm9sbDpmdW5jdGlvbih0LGkpe2lmKCJoaWRkZW4iPT09bih0KS5jc3MoIm92ZXJmbG93IikpcmV0dXJuITE7dmFyIHI9aSYmImxlZnQiPT09aT8ic2Nyb2xsTGVmdCI6InNjcm9sbFRvcCIsdT0hMTtyZXR1cm4gdFtyXT4wPyEwOih0W3JdPTEsdT10W3JdPjAsdFtyXT0wLHUpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHIsdD10aGlzLm9wdGlvbnMsaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1yZXNpemFibGUiKTtuLmV4dGVuZCh0aGlzLHtfYXNwZWN0UmF0aW86ISF0LmFzcGVjdFJhdGlvLGFzcGVjdFJhdGlvOnQuYXNwZWN0UmF0aW8sb3JpZ2luYWxFbGVtZW50OnRoaXMuZWxlbWVudCxfcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50czpbXSxfaGVscGVyOnQuaGVscGVyfHx0Lmdob3N0fHx0LmFuaW1hdGU/dC5oZWxwZXJ8fCJ1aS1yZXNpemFibGUtaGVscGVyIjpudWxsfSk7dGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC9eKGNhbnZhc3x0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9ufGltZykkL2kpJiYodGhpcy5lbGVtZW50LndyYXAobigiPGRpdiBjbGFzcz0ndWktd3JhcHBlcicgc3R5bGU9J292ZXJmbG93OiBoaWRkZW47Jz48XC9kaXY+IikuY3NzKHtwb3NpdGlvbjp0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHRvcDp0aGlzLmVsZW1lbnQuY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuZWxlbWVudC5jc3MoImxlZnQiKX0pKSx0aGlzLmVsZW1lbnQ9dGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoInVpLXJlc2l6YWJsZSIsdGhpcy5lbGVtZW50LnJlc2l6YWJsZSgiaW5zdGFuY2UiKSksdGhpcy5lbGVtZW50SXNXcmFwcGVyPSEwLHI9e21hcmdpblRvcDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpblJpZ2h0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSxtYXJnaW5Cb3R0b206dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5Cb3R0b20iKSxtYXJnaW5MZWZ0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luTGVmdCIpfSx0aGlzLmVsZW1lbnQuY3NzKHIpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luIiwwKSx0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGU9dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIsIm5vbmUiKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLnB1c2godGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtwb3NpdGlvbjoic3RhdGljIix6b29tOjEsZGlzcGxheToiYmxvY2sifSkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhyKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKTt0aGlzLl9zZXR1cEhhbmRsZXMoKTt0LmF1dG9IaWRlJiZuKHRoaXMuZWxlbWVudCkub24oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7dC5kaXNhYmxlZHx8KGkuX3JlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSxpLl9oYW5kbGVzLnNob3coKSl9KS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXt0LmRpc2FibGVkfHxpLnJlc2l6aW5nfHwoaS5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpLGkuX2hhbmRsZXMuaGlkZSgpKX0pO3RoaXMuX21vdXNlSW5pdCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX21vdXNlRGVzdHJveSgpO3ZhciB0LGk9ZnVuY3Rpb24odCl7bih0KS5yZW1vdmVEYXRhKCJyZXNpemFibGUiKS5yZW1vdmVEYXRhKCJ1aS1yZXNpemFibGUiKS5vZmYoIi5yZXNpemFibGUiKS5maW5kKCIudWktcmVzaXphYmxlLWhhbmRsZSIpLnJlbW92ZSgpfTtyZXR1cm4gdGhpcy5lbGVtZW50SXNXcmFwcGVyJiYoaSh0aGlzLmVsZW1lbnQpLHQ9dGhpcy5lbGVtZW50LHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246dC5jc3MoInBvc2l0aW9uIiksd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKSx0b3A6dC5jc3MoInRvcCIpLGxlZnQ6dC5jc3MoImxlZnQiKX0pLmluc2VydEFmdGVyKHQpLHQucmVtb3ZlKCkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIix0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGUpLGkodGhpcy5vcmlnaW5hbEVsZW1lbnQpLHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtzd2l0Y2godGhpcy5fc3VwZXIobix0KSxuKXtjYXNlImhhbmRsZXMiOnRoaXMuX3JlbW92ZUhhbmRsZXMoKTt0aGlzLl9zZXR1cEhhbmRsZXMoKX19LF9zZXR1cEhhbmRsZXM6ZnVuY3Rpb24oKXt2YXIgaSxyLHUsbyx0LGY9dGhpcy5vcHRpb25zLGU9dGhpcztpZih0aGlzLmhhbmRsZXM9Zi5oYW5kbGVzfHwobigiLnVpLXJlc2l6YWJsZS1oYW5kbGUiLHRoaXMuZWxlbWVudCkubGVuZ3RoP3tuOiIudWktcmVzaXphYmxlLW4iLGU6Ii51aS1yZXNpemFibGUtZSIsczoiLnVpLXJlc2l6YWJsZS1zIix3OiIudWktcmVzaXphYmxlLXciLHNlOiIudWktcmVzaXphYmxlLXNlIixzdzoiLnVpLXJlc2l6YWJsZS1zdyIsbmU6Ii51aS1yZXNpemFibGUtbmUiLG53OiIudWktcmVzaXphYmxlLW53In06ImUscyxzZSIpLHRoaXMuX2hhbmRsZXM9bigpLHRoaXMuaGFuZGxlcy5jb25zdHJ1Y3Rvcj09PVN0cmluZylmb3IoImFsbCI9PT10aGlzLmhhbmRsZXMmJih0aGlzLmhhbmRsZXM9Im4sZSxzLHcsc2Usc3csbmUsbnciKSx1PXRoaXMuaGFuZGxlcy5zcGxpdCgiLCIpLHRoaXMuaGFuZGxlcz17fSxyPTA7dS5sZW5ndGg+cjtyKyspaT1uLnRyaW0odVtyXSksbz0idWktcmVzaXphYmxlLSIraSx0PW4oIjxkaXY+IiksdGhpcy5fYWRkQ2xhc3ModCwidWktcmVzaXphYmxlLWhhbmRsZSAiK28pLHQuY3NzKHt6SW5kZXg6Zi56SW5kZXh9KSx0aGlzLmhhbmRsZXNbaV09Ii51aS1yZXNpemFibGUtIitpLHRoaXMuZWxlbWVudC5hcHBlbmQodCk7dGhpcy5fcmVuZGVyQXhpcz1mdW5jdGlvbih0KXt2YXIgaSxyLHUsZjt0PXR8fHRoaXMuZWxlbWVudDtmb3IoaSBpbiB0aGlzLmhhbmRsZXMpdGhpcy5oYW5kbGVzW2ldLmNvbnN0cnVjdG9yPT09U3RyaW5nP3RoaXMuaGFuZGxlc1tpXT10aGlzLmVsZW1lbnQuY2hpbGRyZW4odGhpcy5oYW5kbGVzW2ldKS5maXJzdCgpLnNob3coKToodGhpcy5oYW5kbGVzW2ldLmpxdWVyeXx8dGhpcy5oYW5kbGVzW2ldLm5vZGVUeXBlKSYmKHRoaXMuaGFuZGxlc1tpXT1uKHRoaXMuaGFuZGxlc1tpXSksdGhpcy5fb24odGhpcy5oYW5kbGVzW2ldLHttb3VzZWRvd246ZS5fbW91c2VEb3dufSkpLHRoaXMuZWxlbWVudElzV3JhcHBlciYmdGhpcy5vcmlnaW5hbEVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL14odGV4dGFyZWF8aW5wdXR8c2VsZWN0fGJ1dHRvbikkL2kpJiYocj1uKHRoaXMuaGFuZGxlc1tpXSx0aGlzLmVsZW1lbnQpLGY9L3N3fG5lfG53fHNlfG58cy8udGVzdChpKT9yLm91dGVySGVpZ2h0KCk6ci5vdXRlcldpZHRoKCksdT1bInBhZGRpbmciLC9uZXxud3xuLy50ZXN0KGkpPyJUb3AiOi9zZXxzd3xzLy50ZXN0KGkpPyJCb3R0b20iOi9eZSQvLnRlc3QoaSk/IlJpZ2h0IjoiTGVmdCJdLmpvaW4oIiIpLHQuY3NzKHUsZiksdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSksdGhpcy5faGFuZGxlcz10aGlzLl9oYW5kbGVzLmFkZCh0aGlzLmhhbmRsZXNbaV0pfTt0aGlzLl9yZW5kZXJBeGlzKHRoaXMuZWxlbWVudCk7dGhpcy5faGFuZGxlcz10aGlzLl9oYW5kbGVzLmFkZCh0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKSk7dGhpcy5faGFuZGxlcy5kaXNhYmxlU2VsZWN0aW9uKCk7dGhpcy5faGFuZGxlcy5vbigibW91c2VvdmVyIixmdW5jdGlvbigpe2UucmVzaXppbmd8fCh0aGlzLmNsYXNzTmFtZSYmKHQ9dGhpcy5jbGFzc05hbWUubWF0Y2goL3VpLXJlc2l6YWJsZS0oc2V8c3d8bmV8bnd8bnxlfHN8dykvaSkpLGUuYXhpcz10JiZ0WzFdP3RbMV06InNlIil9KTtmLmF1dG9IaWRlJiYodGhpcy5faGFuZGxlcy5oaWRlKCksdGhpcy5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpKX0sX3JlbW92ZUhhbmRsZXM6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVzLnJlbW92ZSgpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciByLGksdT0hMTtmb3IociBpbiB0aGlzLmhhbmRsZXMpaT1uKHRoaXMuaGFuZGxlc1tyXSlbMF0sKGk9PT10LnRhcmdldHx8bi5jb250YWlucyhpLHQudGFyZ2V0KSkmJih1PSEwKTtyZXR1cm4hdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ1fSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgdSxmLGUscj10aGlzLm9wdGlvbnMsaT10aGlzLmVsZW1lbnQ7cmV0dXJuIHRoaXMucmVzaXppbmc9ITAsdGhpcy5fcmVuZGVyUHJveHkoKSx1PXRoaXMuX251bSh0aGlzLmhlbHBlci5jc3MoImxlZnQiKSksZj10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKCJ0b3AiKSksci5jb250YWlubWVudCYmKHUrPW4oci5jb250YWlubWVudCkuc2Nyb2xsTGVmdCgpfHwwLGYrPW4oci5jb250YWlubWVudCkuc2Nyb2xsVG9wKCl8fDApLHRoaXMub2Zmc2V0PXRoaXMuaGVscGVyLm9mZnNldCgpLHRoaXMucG9zaXRpb249e2xlZnQ6dSx0b3A6Zn0sdGhpcy5zaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6dGhpcy5oZWxwZXIud2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIuaGVpZ2h0KCl9Ont3aWR0aDppLndpZHRoKCksaGVpZ2h0OmkuaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxTaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6aS5vdXRlcldpZHRoKCksaGVpZ2h0Omkub3V0ZXJIZWlnaHQoKX06e3dpZHRoOmkud2lkdGgoKSxoZWlnaHQ6aS5oZWlnaHQoKX0sdGhpcy5zaXplRGlmZj17d2lkdGg6aS5vdXRlcldpZHRoKCktaS53aWR0aCgpLGhlaWdodDppLm91dGVySGVpZ2h0KCktaS5oZWlnaHQoKX0sdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtsZWZ0OnUsdG9wOmZ9LHRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uPXtsZWZ0OnQucGFnZVgsdG9wOnQucGFnZVl9LHRoaXMuYXNwZWN0UmF0aW89Im51bWJlciI9PXR5cGVvZiByLmFzcGVjdFJhdGlvP3IuYXNwZWN0UmF0aW86dGhpcy5vcmlnaW5hbFNpemUud2lkdGgvdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0fHwxLGU9bigiLnVpLXJlc2l6YWJsZS0iK3RoaXMuYXhpcykuY3NzKCJjdXJzb3IiKSxuKCJib2R5IikuY3NzKCJjdXJzb3IiLCJhdXRvIj09PWU/dGhpcy5heGlzKyItcmVzaXplIjplKSx0aGlzLl9hZGRDbGFzcygidWktcmVzaXphYmxlLXJlc2l6aW5nIiksdGhpcy5fcHJvcGFnYXRlKCJzdGFydCIsdCksITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIGkscix1PXRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLGU9dGhpcy5heGlzLG89dC5wYWdlWC11LmxlZnR8fDAscz10LnBhZ2VZLXUudG9wfHwwLGY9dGhpcy5fY2hhbmdlW2VdO3JldHVybiB0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLGY/KGk9Zi5hcHBseSh0aGlzLFt0LG8sc10pLHRoaXMuX3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzKHQuc2hpZnRLZXkpLCh0aGlzLl9hc3BlY3RSYXRpb3x8dC5zaGlmdEtleSkmJihpPXRoaXMuX3VwZGF0ZVJhdGlvKGksdCkpLGk9dGhpcy5fcmVzcGVjdFNpemUoaSx0KSx0aGlzLl91cGRhdGVDYWNoZShpKSx0aGlzLl9wcm9wYWdhdGUoInJlc2l6ZSIsdCkscj10aGlzLl9hcHBseUNoYW5nZXMoKSwhdGhpcy5faGVscGVyJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aCYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSxuLmlzRW1wdHlPYmplY3Qocil8fCh0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLHRoaXMuX3RyaWdnZXIoInJlc2l6ZSIsdCx0aGlzLnVpKCkpLHRoaXMuX2FwcGx5Q2hhbmdlcygpKSwhMSk6ITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCl7dGhpcy5yZXNpemluZz0hMTt2YXIgcix1LGYsZSxvLHMsaCxjPXRoaXMub3B0aW9ucyxpPXRoaXM7cmV0dXJuIHRoaXMuX2hlbHBlciYmKHI9dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cyx1PXIubGVuZ3RoJiYvdGV4dGFyZWEvaS50ZXN0KHJbMF0ubm9kZU5hbWUpLGY9dSYmdGhpcy5faGFzU2Nyb2xsKHJbMF0sImxlZnQiKT8wOmkuc2l6ZURpZmYuaGVpZ2h0LGU9dT8wOmkuc2l6ZURpZmYud2lkdGgsbz17d2lkdGg6aS5oZWxwZXIud2lkdGgoKS1lLGhlaWdodDppLmhlbHBlci5oZWlnaHQoKS1mfSxzPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygibGVmdCIpKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxoPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpKyhpLnBvc2l0aW9uLnRvcC1pLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbCxjLmFuaW1hdGV8fHRoaXMuZWxlbWVudC5jc3Mobi5leHRlbmQobyx7dG9wOmgsbGVmdDpzfSkpLGkuaGVscGVyLmhlaWdodChpLnNpemUuaGVpZ2h0KSxpLmhlbHBlci53aWR0aChpLnNpemUud2lkdGgpLHRoaXMuX2hlbHBlciYmIWMuYW5pbWF0ZSYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSksbigiYm9keSIpLmNzcygiY3Vyc29yIiwiYXV0byIpLHRoaXMuX3JlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtcmVzaXppbmciKSx0aGlzLl9wcm9wYWdhdGUoInN0b3AiLHQpLHRoaXMuX2hlbHBlciYmdGhpcy5oZWxwZXIucmVtb3ZlKCksITF9LF91cGRhdGVQcmV2UHJvcGVydGllczpmdW5jdGlvbigpe3RoaXMucHJldlBvc2l0aW9uPXt0b3A6dGhpcy5wb3NpdGlvbi50b3AsbGVmdDp0aGlzLnBvc2l0aW9uLmxlZnR9O3RoaXMucHJldlNpemU9e3dpZHRoOnRoaXMuc2l6ZS53aWR0aCxoZWlnaHQ6dGhpcy5zaXplLmhlaWdodH19LF9hcHBseUNoYW5nZXM6ZnVuY3Rpb24oKXt2YXIgbj17fTtyZXR1cm4gdGhpcy5wb3NpdGlvbi50b3AhPT10aGlzLnByZXZQb3NpdGlvbi50b3AmJihuLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiKSx0aGlzLnBvc2l0aW9uLmxlZnQhPT10aGlzLnByZXZQb3NpdGlvbi5sZWZ0JiYobi5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCsicHgiKSx0aGlzLnNpemUud2lkdGghPT10aGlzLnByZXZTaXplLndpZHRoJiYobi53aWR0aD10aGlzLnNpemUud2lkdGgrInB4IiksdGhpcy5zaXplLmhlaWdodCE9PXRoaXMucHJldlNpemUuaGVpZ2h0JiYobi5oZWlnaHQ9dGhpcy5zaXplLmhlaWdodCsicHgiKSx0aGlzLmhlbHBlci5jc3Mobiksbn0sX3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzOmZ1bmN0aW9uKG4pe3ZhciByLHUsZixlLHQsaT10aGlzLm9wdGlvbnM7dD17bWluV2lkdGg6dGhpcy5faXNOdW1iZXIoaS5taW5XaWR0aCk/aS5taW5XaWR0aDowLG1heFdpZHRoOnRoaXMuX2lzTnVtYmVyKGkubWF4V2lkdGgpP2kubWF4V2lkdGg6MS8wLG1pbkhlaWdodDp0aGlzLl9pc051bWJlcihpLm1pbkhlaWdodCk/aS5taW5IZWlnaHQ6MCxtYXhIZWlnaHQ6dGhpcy5faXNOdW1iZXIoaS5tYXhIZWlnaHQpP2kubWF4SGVpZ2h0OjEvMH07KHRoaXMuX2FzcGVjdFJhdGlvfHxuKSYmKHI9dC5taW5IZWlnaHQqdGhpcy5hc3BlY3RSYXRpbyxmPXQubWluV2lkdGgvdGhpcy5hc3BlY3RSYXRpbyx1PXQubWF4SGVpZ2h0KnRoaXMuYXNwZWN0UmF0aW8sZT10Lm1heFdpZHRoL3RoaXMuYXNwZWN0UmF0aW8scj50Lm1pbldpZHRoJiYodC5taW5XaWR0aD1yKSxmPnQubWluSGVpZ2h0JiYodC5taW5IZWlnaHQ9ZiksdC5tYXhXaWR0aD51JiYodC5tYXhXaWR0aD11KSx0Lm1heEhlaWdodD5lJiYodC5tYXhIZWlnaHQ9ZSkpO3RoaXMuX3ZCb3VuZGFyaWVzPXR9LF91cGRhdGVDYWNoZTpmdW5jdGlvbihuKXt0aGlzLm9mZnNldD10aGlzLmhlbHBlci5vZmZzZXQoKTt0aGlzLl9pc051bWJlcihuLmxlZnQpJiYodGhpcy5wb3NpdGlvbi5sZWZ0PW4ubGVmdCk7dGhpcy5faXNOdW1iZXIobi50b3ApJiYodGhpcy5wb3NpdGlvbi50b3A9bi50b3ApO3RoaXMuX2lzTnVtYmVyKG4uaGVpZ2h0KSYmKHRoaXMuc2l6ZS5oZWlnaHQ9bi5oZWlnaHQpO3RoaXMuX2lzTnVtYmVyKG4ud2lkdGgpJiYodGhpcy5zaXplLndpZHRoPW4ud2lkdGgpfSxfdXBkYXRlUmF0aW86ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5wb3NpdGlvbixpPXRoaXMuc2l6ZSxyPXRoaXMuYXhpcztyZXR1cm4gdGhpcy5faXNOdW1iZXIobi5oZWlnaHQpP24ud2lkdGg9bi5oZWlnaHQqdGhpcy5hc3BlY3RSYXRpbzp0aGlzLl9pc051bWJlcihuLndpZHRoKSYmKG4uaGVpZ2h0PW4ud2lkdGgvdGhpcy5hc3BlY3RSYXRpbyksInN3Ij09PXImJihuLmxlZnQ9dC5sZWZ0KyhpLndpZHRoLW4ud2lkdGgpLG4udG9wPW51bGwpLCJudyI9PT1yJiYobi50b3A9dC50b3ArKGkuaGVpZ2h0LW4uaGVpZ2h0KSxuLmxlZnQ9dC5sZWZ0KyhpLndpZHRoLW4ud2lkdGgpKSxufSxfcmVzcGVjdFNpemU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fdkJvdW5kYXJpZXMsaT10aGlzLmF4aXMscj10aGlzLl9pc051bWJlcihuLndpZHRoKSYmdC5tYXhXaWR0aCYmdC5tYXhXaWR0aDxuLndpZHRoLHU9dGhpcy5faXNOdW1iZXIobi5oZWlnaHQpJiZ0Lm1heEhlaWdodCYmdC5tYXhIZWlnaHQ8bi5oZWlnaHQsZj10aGlzLl9pc051bWJlcihuLndpZHRoKSYmdC5taW5XaWR0aCYmdC5taW5XaWR0aD5uLndpZHRoLGU9dGhpcy5faXNOdW1iZXIobi5oZWlnaHQpJiZ0Lm1pbkhlaWdodCYmdC5taW5IZWlnaHQ+bi5oZWlnaHQsbz10aGlzLm9yaWdpbmFsUG9zaXRpb24ubGVmdCt0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCxzPXRoaXMub3JpZ2luYWxQb3NpdGlvbi50b3ArdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0LGg9L3N3fG53fHcvLnRlc3QoaSksYz0vbnd8bmV8bi8udGVzdChpKTtyZXR1cm4gZiYmKG4ud2lkdGg9dC5taW5XaWR0aCksZSYmKG4uaGVpZ2h0PXQubWluSGVpZ2h0KSxyJiYobi53aWR0aD10Lm1heFdpZHRoKSx1JiYobi5oZWlnaHQ9dC5tYXhIZWlnaHQpLGYmJmgmJihuLmxlZnQ9by10Lm1pbldpZHRoKSxyJiZoJiYobi5sZWZ0PW8tdC5tYXhXaWR0aCksZSYmYyYmKG4udG9wPXMtdC5taW5IZWlnaHQpLHUmJmMmJihuLnRvcD1zLXQubWF4SGVpZ2h0KSxuLndpZHRofHxuLmhlaWdodHx8bi5sZWZ0fHwhbi50b3A/bi53aWR0aHx8bi5oZWlnaHR8fG4udG9wfHwhbi5sZWZ0fHwobi5sZWZ0PW51bGwpOm4udG9wPW51bGwsbn0sX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9uczpmdW5jdGlvbihuKXtmb3IodmFyIHQ9MCxpPVtdLHI9W24uY3NzKCJib3JkZXJUb3BXaWR0aCIpLG4uY3NzKCJib3JkZXJSaWdodFdpZHRoIiksbi5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksbi5jc3MoImJvcmRlckxlZnRXaWR0aCIpXSx1PVtuLmNzcygicGFkZGluZ1RvcCIpLG4uY3NzKCJwYWRkaW5nUmlnaHQiKSxuLmNzcygicGFkZGluZ0JvdHRvbSIpLG4uY3NzKCJwYWRkaW5nTGVmdCIpXTs0PnQ7dCsrKWlbdF09cGFyc2VGbG9hdChyW3RdKXx8MCxpW3RdKz1wYXJzZUZsb2F0KHVbdF0pfHwwO3JldHVybntoZWlnaHQ6aVswXStpWzJdLHdpZHRoOmlbMV0raVszXX19LF9wcm9wb3J0aW9uYWxseVJlc2l6ZTpmdW5jdGlvbigpe2lmKHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoKWZvcih2YXIgbix0PTAsaT10aGlzLmhlbHBlcnx8dGhpcy5lbGVtZW50O3RoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoPnQ7dCsrKW49dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50c1t0XSx0aGlzLm91dGVyRGltZW5zaW9uc3x8KHRoaXMub3V0ZXJEaW1lbnNpb25zPXRoaXMuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyhuKSksbi5jc3Moe2hlaWdodDppLmhlaWdodCgpLXRoaXMub3V0ZXJEaW1lbnNpb25zLmhlaWdodHx8MCx3aWR0aDppLndpZHRoKCktdGhpcy5vdXRlckRpbWVuc2lvbnMud2lkdGh8fDB9KX0sX3JlbmRlclByb3h5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LGk9dGhpcy5vcHRpb25zO3RoaXMuZWxlbWVudE9mZnNldD10Lm9mZnNldCgpO3RoaXMuX2hlbHBlcj8odGhpcy5oZWxwZXI9dGhpcy5oZWxwZXJ8fG4oIjxkaXYgc3R5bGU9J292ZXJmbG93OmhpZGRlbjsnPjxcL2Rpdj4iKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmhlbHBlcix0aGlzLl9oZWxwZXIpLHRoaXMuaGVscGVyLmNzcyh7d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCkscG9zaXRpb246ImFic29sdXRlIixsZWZ0OnRoaXMuZWxlbWVudE9mZnNldC5sZWZ0KyJweCIsdG9wOnRoaXMuZWxlbWVudE9mZnNldC50b3ArInB4Iix6SW5kZXg6KytpLnpJbmRleH0pLHRoaXMuaGVscGVyLmFwcGVuZFRvKCJib2R5IikuZGlzYWJsZVNlbGVjdGlvbigpKTp0aGlzLmhlbHBlcj10aGlzLmVsZW1lbnR9LF9jaGFuZ2U6e2U6ZnVuY3Rpb24obix0KXtyZXR1cm57d2lkdGg6dGhpcy5vcmlnaW5hbFNpemUud2lkdGgrdH19LHc6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLm9yaWdpbmFsU2l6ZSxyPXRoaXMub3JpZ2luYWxQb3NpdGlvbjtyZXR1cm57bGVmdDpyLmxlZnQrdCx3aWR0aDppLndpZHRoLXR9fSxuOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10aGlzLm9yaWdpbmFsU2l6ZSx1PXRoaXMub3JpZ2luYWxQb3NpdGlvbjtyZXR1cm57dG9wOnUudG9wK2ksaGVpZ2h0OnIuaGVpZ2h0LWl9fSxzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm57aGVpZ2h0OnRoaXMub3JpZ2luYWxTaXplLmhlaWdodCtpfX0sc2U6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLmUuYXBwbHkodGhpcyxbdCxpLHJdKSl9LHN3OmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gbi5leHRlbmQodGhpcy5fY2hhbmdlLnMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsW3QsaSxyXSkpfSxuZTpmdW5jdGlvbih0LGkscil7cmV0dXJuIG4uZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFt0LGkscl0pKX0sbnc6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uubi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbdCxpLHJdKSl9fSxfcHJvcGFnYXRlOmZ1bmN0aW9uKHQsaSl7bi51aS5wbHVnaW4uY2FsbCh0aGlzLHQsW2ksdGhpcy51aSgpXSk7InJlc2l6ZSIhPT10JiZ0aGlzLl90cmlnZ2VyKHQsaSx0aGlzLnVpKCkpfSxwbHVnaW5zOnt9LHVpOmZ1bmN0aW9uKCl7cmV0dXJue29yaWdpbmFsRWxlbWVudDp0aGlzLm9yaWdpbmFsRWxlbWVudCxlbGVtZW50OnRoaXMuZWxlbWVudCxoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixzaXplOnRoaXMuc2l6ZSxvcmlnaW5hbFNpemU6dGhpcy5vcmlnaW5hbFNpemUsb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb259fX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiYW5pbWF0ZSIse3N0b3A6ZnVuY3Rpb24odCl7dmFyIGk9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksdT1pLm9wdGlvbnMscj1pLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLGY9ci5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoclswXS5ub2RlTmFtZSkscz1mJiZpLl9oYXNTY3JvbGwoclswXSwibGVmdCIpPzA6aS5zaXplRGlmZi5oZWlnaHQsaD1mPzA6aS5zaXplRGlmZi53aWR0aCxjPXt3aWR0aDppLnNpemUud2lkdGgtaCxoZWlnaHQ6aS5zaXplLmhlaWdodC1zfSxlPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygibGVmdCIpKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxvPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpKyhpLnBvc2l0aW9uLnRvcC1pLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbDtpLmVsZW1lbnQuYW5pbWF0ZShuLmV4dGVuZChjLG8mJmU/e3RvcDpvLGxlZnQ6ZX06e30pLHtkdXJhdGlvbjp1LmFuaW1hdGVEdXJhdGlvbixlYXNpbmc6dS5hbmltYXRlRWFzaW5nLHN0ZXA6ZnVuY3Rpb24oKXt2YXIgdT17d2lkdGg6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJ3aWR0aCIpKSxoZWlnaHQ6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJoZWlnaHQiKSksdG9wOnBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpLGxlZnQ6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJsZWZ0IikpfTtyJiZyLmxlbmd0aCYmbihyWzBdKS5jc3Moe3dpZHRoOnUud2lkdGgsaGVpZ2h0OnUuaGVpZ2h0fSk7aS5fdXBkYXRlQ2FjaGUodSk7aS5fcHJvcGFnYXRlKCJyZXNpemUiLHQpfX0pfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiY29udGFpbm1lbnQiLHtzdGFydDpmdW5jdGlvbigpe3ZhciByLGYsZSxvLHMsaCxjLHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksbD10Lm9wdGlvbnMsYT10LmVsZW1lbnQsdT1sLmNvbnRhaW5tZW50LGk9dSBpbnN0YW5jZW9mIG4/dS5nZXQoMCk6L3BhcmVudC8udGVzdCh1KT9hLnBhcmVudCgpLmdldCgwKTp1O2kmJih0LmNvbnRhaW5lckVsZW1lbnQ9bihpKSwvZG9jdW1lbnQvLnRlc3QodSl8fHU9PT1kb2N1bWVudD8odC5jb250YWluZXJPZmZzZXQ9e2xlZnQ6MCx0b3A6MH0sdC5jb250YWluZXJQb3NpdGlvbj17bGVmdDowLHRvcDowfSx0LnBhcmVudERhdGE9e2VsZW1lbnQ6bihkb2N1bWVudCksbGVmdDowLHRvcDowLHdpZHRoOm4oZG9jdW1lbnQpLndpZHRoKCksaGVpZ2h0Om4oZG9jdW1lbnQpLmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0fSk6KHI9bihpKSxmPVtdLG4oWyJUb3AiLCJSaWdodCIsIkxlZnQiLCJCb3R0b20iXSkuZWFjaChmdW5jdGlvbihuLGkpe2Zbbl09dC5fbnVtKHIuY3NzKCJwYWRkaW5nIitpKSl9KSx0LmNvbnRhaW5lck9mZnNldD1yLm9mZnNldCgpLHQuY29udGFpbmVyUG9zaXRpb249ci5wb3NpdGlvbigpLHQuY29udGFpbmVyU2l6ZT17aGVpZ2h0OnIuaW5uZXJIZWlnaHQoKS1mWzNdLHdpZHRoOnIuaW5uZXJXaWR0aCgpLWZbMV19LGU9dC5jb250YWluZXJPZmZzZXQsbz10LmNvbnRhaW5lclNpemUuaGVpZ2h0LHM9dC5jb250YWluZXJTaXplLndpZHRoLGg9dC5faGFzU2Nyb2xsKGksImxlZnQiKT9pLnNjcm9sbFdpZHRoOnMsYz10Ll9oYXNTY3JvbGwoaSk/aS5zY3JvbGxIZWlnaHQ6byx0LnBhcmVudERhdGE9e2VsZW1lbnQ6aSxsZWZ0OmUubGVmdCx0b3A6ZS50b3Asd2lkdGg6aCxoZWlnaHQ6Y30pKX0scmVzaXplOmZ1bmN0aW9uKHQpe3ZhciBvLHMsaCxjLGk9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksdj1pLm9wdGlvbnMscj1pLmNvbnRhaW5lck9mZnNldCxsPWkucG9zaXRpb24sZj1pLl9hc3BlY3RSYXRpb3x8dC5zaGlmdEtleSxlPXt0b3A6MCxsZWZ0OjB9LGE9aS5jb250YWluZXJFbGVtZW50LHU9ITA7YVswXSE9PWRvY3VtZW50JiYvc3RhdGljLy50ZXN0KGEuY3NzKCJwb3NpdGlvbiIpKSYmKGU9cik7bC5sZWZ0PChpLl9oZWxwZXI/ci5sZWZ0OjApJiYoaS5zaXplLndpZHRoPWkuc2l6ZS53aWR0aCsoaS5faGVscGVyP2kucG9zaXRpb24ubGVmdC1yLmxlZnQ6aS5wb3NpdGlvbi5sZWZ0LWUubGVmdCksZiYmKGkuc2l6ZS5oZWlnaHQ9aS5zaXplLndpZHRoL2kuYXNwZWN0UmF0aW8sdT0hMSksaS5wb3NpdGlvbi5sZWZ0PXYuaGVscGVyP3IubGVmdDowKTtsLnRvcDwoaS5faGVscGVyP3IudG9wOjApJiYoaS5zaXplLmhlaWdodD1pLnNpemUuaGVpZ2h0KyhpLl9oZWxwZXI/aS5wb3NpdGlvbi50b3Atci50b3A6aS5wb3NpdGlvbi50b3ApLGYmJihpLnNpemUud2lkdGg9aS5zaXplLmhlaWdodCppLmFzcGVjdFJhdGlvLHU9ITEpLGkucG9zaXRpb24udG9wPWkuX2hlbHBlcj9yLnRvcDowKTtoPWkuY29udGFpbmVyRWxlbWVudC5nZXQoMCk9PT1pLmVsZW1lbnQucGFyZW50KCkuZ2V0KDApO2M9L3JlbGF0aXZlfGFic29sdXRlLy50ZXN0KGkuY29udGFpbmVyRWxlbWVudC5jc3MoInBvc2l0aW9uIikpO2gmJmM/KGkub2Zmc2V0LmxlZnQ9aS5wYXJlbnREYXRhLmxlZnQraS5wb3NpdGlvbi5sZWZ0LGkub2Zmc2V0LnRvcD1pLnBhcmVudERhdGEudG9wK2kucG9zaXRpb24udG9wKTooaS5vZmZzZXQubGVmdD1pLmVsZW1lbnQub2Zmc2V0KCkubGVmdCxpLm9mZnNldC50b3A9aS5lbGVtZW50Lm9mZnNldCgpLnRvcCk7bz1NYXRoLmFicyhpLnNpemVEaWZmLndpZHRoKyhpLl9oZWxwZXI/aS5vZmZzZXQubGVmdC1lLmxlZnQ6aS5vZmZzZXQubGVmdC1yLmxlZnQpKTtzPU1hdGguYWJzKGkuc2l6ZURpZmYuaGVpZ2h0KyhpLl9oZWxwZXI/aS5vZmZzZXQudG9wLWUudG9wOmkub2Zmc2V0LnRvcC1yLnRvcCkpO28raS5zaXplLndpZHRoPj1pLnBhcmVudERhdGEud2lkdGgmJihpLnNpemUud2lkdGg9aS5wYXJlbnREYXRhLndpZHRoLW8sZiYmKGkuc2l6ZS5oZWlnaHQ9aS5zaXplLndpZHRoL2kuYXNwZWN0UmF0aW8sdT0hMSkpO3MraS5zaXplLmhlaWdodD49aS5wYXJlbnREYXRhLmhlaWdodCYmKGkuc2l6ZS5oZWlnaHQ9aS5wYXJlbnREYXRhLmhlaWdodC1zLGYmJihpLnNpemUud2lkdGg9aS5zaXplLmhlaWdodCppLmFzcGVjdFJhdGlvLHU9ITEpKTt1fHwoaS5wb3NpdGlvbi5sZWZ0PWkucHJldlBvc2l0aW9uLmxlZnQsaS5wb3NpdGlvbi50b3A9aS5wcmV2UG9zaXRpb24udG9wLGkuc2l6ZS53aWR0aD1pLnByZXZTaXplLndpZHRoLGkuc2l6ZS5oZWlnaHQ9aS5wcmV2U2l6ZS5oZWlnaHQpfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIikscj10Lm9wdGlvbnMsdT10LmNvbnRhaW5lck9mZnNldCxmPXQuY29udGFpbmVyUG9zaXRpb24sZT10LmNvbnRhaW5lckVsZW1lbnQsaT1uKHQuaGVscGVyKSxvPWkub2Zmc2V0KCkscz1pLm91dGVyV2lkdGgoKS10LnNpemVEaWZmLndpZHRoLGg9aS5vdXRlckhlaWdodCgpLXQuc2l6ZURpZmYuaGVpZ2h0O3QuX2hlbHBlciYmIXIuYW5pbWF0ZSYmL3JlbGF0aXZlLy50ZXN0KGUuY3NzKCJwb3NpdGlvbiIpKSYmbih0aGlzKS5jc3Moe2xlZnQ6by5sZWZ0LWYubGVmdC11LmxlZnQsd2lkdGg6cyxoZWlnaHQ6aH0pO3QuX2hlbHBlciYmIXIuYW5pbWF0ZSYmL3N0YXRpYy8udGVzdChlLmNzcygicG9zaXRpb24iKSkmJm4odGhpcykuY3NzKHtsZWZ0Om8ubGVmdC1mLmxlZnQtdS5sZWZ0LHdpZHRoOnMsaGVpZ2h0Omh9KX19KTtuLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImFsc29SZXNpemUiLHtzdGFydDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGk9dC5vcHRpb25zO24oaS5hbHNvUmVzaXplKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIix7d2lkdGg6cGFyc2VGbG9hdCh0LndpZHRoKCkpLGhlaWdodDpwYXJzZUZsb2F0KHQuaGVpZ2h0KCkpLGxlZnQ6cGFyc2VGbG9hdCh0LmNzcygibGVmdCIpKSx0b3A6cGFyc2VGbG9hdCh0LmNzcygidG9wIikpfSl9KX0scmVzaXplOmZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksZT1yLm9wdGlvbnMsdT1yLm9yaWdpbmFsU2l6ZSxmPXIub3JpZ2luYWxQb3NpdGlvbixvPXtoZWlnaHQ6ci5zaXplLmhlaWdodC11LmhlaWdodHx8MCx3aWR0aDpyLnNpemUud2lkdGgtdS53aWR0aHx8MCx0b3A6ci5wb3NpdGlvbi50b3AtZi50b3B8fDAsbGVmdDpyLnBvc2l0aW9uLmxlZnQtZi5sZWZ0fHwwfTtuKGUuYWxzb1Jlc2l6ZSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksdT1uKHRoaXMpLmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIikscj17fSxmPXQucGFyZW50cyhpLm9yaWdpbmFsRWxlbWVudFswXSkubGVuZ3RoP1sid2lkdGgiLCJoZWlnaHQiXTpbIndpZHRoIiwiaGVpZ2h0IiwidG9wIiwibGVmdCJdO24uZWFjaChmLGZ1bmN0aW9uKG4sdCl7dmFyIGk9KHVbdF18fDApKyhvW3RdfHwwKTtpJiZpPj0wJiYoclt0XT1pfHxudWxsKX0pO3QuY3NzKHIpfSl9LHN0b3A6ZnVuY3Rpb24oKXtuKHRoaXMpLnJlbW92ZURhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIil9fSk7bi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJnaG9zdCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksaT10LnNpemU7dC5naG9zdD10Lm9yaWdpbmFsRWxlbWVudC5jbG9uZSgpO3QuZ2hvc3QuY3NzKHtvcGFjaXR5Oi4yNSxkaXNwbGF5OiJibG9jayIscG9zaXRpb246InJlbGF0aXZlIixoZWlnaHQ6aS5oZWlnaHQsd2lkdGg6aS53aWR0aCxtYXJnaW46MCxsZWZ0OjAsdG9wOjB9KTt0Ll9hZGRDbGFzcyh0Lmdob3N0LCJ1aS1yZXNpemFibGUtZ2hvc3QiKTtuLnVpQmFja0NvbXBhdCE9PSExJiYic3RyaW5nIj09dHlwZW9mIHQub3B0aW9ucy5naG9zdCYmdC5naG9zdC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZ2hvc3QpO3QuZ2hvc3QuYXBwZW5kVG8odC5oZWxwZXIpfSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKTt0Lmdob3N0JiZ0Lmdob3N0LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixoZWlnaHQ6dC5zaXplLmhlaWdodCx3aWR0aDp0LnNpemUud2lkdGh9KX0sc3RvcDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpO3QuZ2hvc3QmJnQuaGVscGVyJiZ0LmhlbHBlci5nZXQoMCkucmVtb3ZlQ2hpbGQodC5naG9zdC5nZXQoMCkpfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ3JpZCIse3Jlc2l6ZTpmdW5jdGlvbigpe3ZhciBoLHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksaT10Lm9wdGlvbnMseT10LnNpemUsbz10Lm9yaWdpbmFsU2l6ZSxzPXQub3JpZ2luYWxQb3NpdGlvbixjPXQuYXhpcyxsPSJudW1iZXIiPT10eXBlb2YgaS5ncmlkP1tpLmdyaWQsaS5ncmlkXTppLmdyaWQsZj1sWzBdfHwxLGU9bFsxXXx8MSxhPU1hdGgucm91bmQoKHkud2lkdGgtby53aWR0aCkvZikqZix2PU1hdGgucm91bmQoKHkuaGVpZ2h0LW8uaGVpZ2h0KS9lKSplLHI9by53aWR0aCthLHU9by5oZWlnaHQrdixwPWkubWF4V2lkdGgmJnI+aS5tYXhXaWR0aCx3PWkubWF4SGVpZ2h0JiZ1PmkubWF4SGVpZ2h0LGI9aS5taW5XaWR0aCYmaS5taW5XaWR0aD5yLGs9aS5taW5IZWlnaHQmJmkubWluSGVpZ2h0PnU7aS5ncmlkPWw7YiYmKHIrPWYpO2smJih1Kz1lKTtwJiYoci09Zik7dyYmKHUtPWUpOy9eKHNlfHN8ZSkkLy50ZXN0KGMpPyh0LnNpemUud2lkdGg9cix0LnNpemUuaGVpZ2h0PXUpOi9eKG5lKSQvLnRlc3QoYyk/KHQuc2l6ZS53aWR0aD1yLHQuc2l6ZS5oZWlnaHQ9dSx0LnBvc2l0aW9uLnRvcD1zLnRvcC12KTovXihzdykkLy50ZXN0KGMpPyh0LnNpemUud2lkdGg9cix0LnNpemUuaGVpZ2h0PXUsdC5wb3NpdGlvbi5sZWZ0PXMubGVmdC1hKTooKDA+PXUtZXx8MD49ci1mKSYmKGg9dC5fZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zKHRoaXMpKSx1LWU+MD8odC5zaXplLmhlaWdodD11LHQucG9zaXRpb24udG9wPXMudG9wLXYpOih1PWUtaC5oZWlnaHQsdC5zaXplLmhlaWdodD11LHQucG9zaXRpb24udG9wPXMudG9wK28uaGVpZ2h0LXUpLHItZj4wPyh0LnNpemUud2lkdGg9cix0LnBvc2l0aW9uLmxlZnQ9cy5sZWZ0LWEpOihyPWYtaC53aWR0aCx0LnNpemUud2lkdGg9cix0LnBvc2l0aW9uLmxlZnQ9cy5sZWZ0K28ud2lkdGgtcikpfX0pO24udWkucmVzaXphYmxlO24ud2lkZ2V0KCJ1aS5kaWFsb2ciLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2FwcGVuZFRvOiJib2R5IixhdXRvT3BlbjohMCxidXR0b25zOltdLGNsYXNzZXM6eyJ1aS1kaWFsb2ciOiJ1aS1jb3JuZXItYWxsIiwidWktZGlhbG9nLXRpdGxlYmFyIjoidWktY29ybmVyLWFsbCJ9LGNsb3NlT25Fc2NhcGU6ITAsY2xvc2VUZXh0OiJDbG9zZSIsZHJhZ2dhYmxlOiEwLGhpZGU6bnVsbCxoZWlnaHQ6ImF1dG8iLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjE1MCxtaW5XaWR0aDoxNTAsbW9kYWw6ITEscG9zaXRpb246e215OiJjZW50ZXIiLGF0OiJjZW50ZXIiLCJvZiI6d2luZG93LGNvbGxpc2lvbjoiZml0Iix1c2luZzpmdW5jdGlvbih0KXt2YXIgaT1uKHRoaXMpLmNzcyh0KS5vZmZzZXQoKS50b3A7MD5pJiZuKHRoaXMpLmNzcygidG9wIix0LnRvcC1pKX19LHJlc2l6YWJsZTohMCxzaG93Om51bGwsdGl0bGU6bnVsbCx3aWR0aDozMDAsYmVmb3JlQ2xvc2U6bnVsbCxjbG9zZTpudWxsLGRyYWc6bnVsbCxkcmFnU3RhcnQ6bnVsbCxkcmFnU3RvcDpudWxsLGZvY3VzOm51bGwsb3BlbjpudWxsLHJlc2l6ZTpudWxsLHJlc2l6ZVN0YXJ0Om51bGwscmVzaXplU3RvcDpudWxsfSxzaXplUmVsYXRlZE9wdGlvbnM6e2J1dHRvbnM6ITAsaGVpZ2h0OiEwLG1heEhlaWdodDohMCxtYXhXaWR0aDohMCxtaW5IZWlnaHQ6ITAsbWluV2lkdGg6ITAsd2lkdGg6ITB9LHJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zOnttYXhIZWlnaHQ6ITAsbWF4V2lkdGg6ITAsbWluSGVpZ2h0OiEwLG1pbldpZHRoOiEwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcmlnaW5hbENzcz17ZGlzcGxheTp0aGlzLmVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSx3aWR0aDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUud2lkdGgsbWluSGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5taW5IZWlnaHQsbWF4SGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5tYXhIZWlnaHQsaGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5oZWlnaHR9O3RoaXMub3JpZ2luYWxQb3NpdGlvbj17cGFyZW50OnRoaXMuZWxlbWVudC5wYXJlbnQoKSxpbmRleDp0aGlzLmVsZW1lbnQucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleCh0aGlzLmVsZW1lbnQpfTt0aGlzLm9yaWdpbmFsVGl0bGU9dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIik7bnVsbD09dGhpcy5vcHRpb25zLnRpdGxlJiZudWxsIT10aGlzLm9yaWdpbmFsVGl0bGUmJih0aGlzLm9wdGlvbnMudGl0bGU9dGhpcy5vcmlnaW5hbFRpdGxlKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITEpO3RoaXMuX2NyZWF0ZVdyYXBwZXIoKTt0aGlzLmVsZW1lbnQuc2hvdygpLnJlbW92ZUF0dHIoInRpdGxlIikuYXBwZW5kVG8odGhpcy51aURpYWxvZyk7dGhpcy5fYWRkQ2xhc3MoInVpLWRpYWxvZy1jb250ZW50IiwidWktd2lkZ2V0LWNvbnRlbnQiKTt0aGlzLl9jcmVhdGVUaXRsZWJhcigpO3RoaXMuX2NyZWF0ZUJ1dHRvblBhbmUoKTt0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlJiZuLmZuLmRyYWdnYWJsZSYmdGhpcy5fbWFrZURyYWdnYWJsZSgpO3RoaXMub3B0aW9ucy5yZXNpemFibGUmJm4uZm4ucmVzaXphYmxlJiZ0aGlzLl9tYWtlUmVzaXphYmxlKCk7dGhpcy5faXNPcGVuPSExO3RoaXMuX3RyYWNrRm9jdXMoKX0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXV0b09wZW4mJnRoaXMub3BlbigpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQmJih0LmpxdWVyeXx8dC5ub2RlVHlwZSk/bih0KTp0aGlzLmRvY3VtZW50LmZpbmQodHx8ImJvZHkiKS5lcSgwKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgbix0PXRoaXMub3JpZ2luYWxQb3NpdGlvbjt0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTt0aGlzLl9kZXN0cm95T3ZlcmxheSgpO3RoaXMuZWxlbWVudC5yZW1vdmVVbmlxdWVJZCgpLmNzcyh0aGlzLm9yaWdpbmFsQ3NzKS5kZXRhY2goKTt0aGlzLnVpRGlhbG9nLnJlbW92ZSgpO3RoaXMub3JpZ2luYWxUaXRsZSYmdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIix0aGlzLm9yaWdpbmFsVGl0bGUpO249dC5wYXJlbnQuY2hpbGRyZW4oKS5lcSh0LmluZGV4KTtuLmxlbmd0aCYmblswXSE9PXRoaXMuZWxlbWVudFswXT9uLmJlZm9yZSh0aGlzLmVsZW1lbnQpOnQucGFyZW50LmFwcGVuZCh0aGlzLmVsZW1lbnQpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aURpYWxvZ30sZGlzYWJsZTpuLm5vb3AsZW5hYmxlOm4ubm9vcCxjbG9zZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3RoaXMuX2lzT3BlbiYmdGhpcy5fdHJpZ2dlcigiYmVmb3JlQ2xvc2UiLHQpIT09ITEmJih0aGlzLl9pc09wZW49ITEsdGhpcy5fZm9jdXNlZEVsZW1lbnQ9bnVsbCx0aGlzLl9kZXN0cm95T3ZlcmxheSgpLHRoaXMuX3VudHJhY2tJbnN0YW5jZSgpLHRoaXMub3BlbmVyLmZpbHRlcigiOmZvY3VzYWJsZSIpLnRyaWdnZXIoImZvY3VzIikubGVuZ3RofHxuLnVpLnNhZmVCbHVyKG4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpLHRoaXMuX2hpZGUodGhpcy51aURpYWxvZyx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2kuX3RyaWdnZXIoImNsb3NlIix0KX0pKX0saXNPcGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzT3Blbn0sbW92ZVRvVG9wOmZ1bmN0aW9uKCl7dGhpcy5fbW92ZVRvVG9wKCl9LF9tb3ZlVG9Ub3A6ZnVuY3Rpb24odCxpKXt2YXIgcj0hMSxmPXRoaXMudWlEaWFsb2cuc2libGluZ3MoIi51aS1mcm9udDp2aXNpYmxlIikubWFwKGZ1bmN0aW9uKCl7cmV0dXJuK24odGhpcykuY3NzKCJ6LWluZGV4Iil9KS5nZXQoKSx1PU1hdGgubWF4LmFwcGx5KG51bGwsZik7cmV0dXJuIHU+PSt0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIpJiYodGhpcy51aURpYWxvZy5jc3MoInotaW5kZXgiLHUrMSkscj0hMCksciYmIWkmJnRoaXMuX3RyaWdnZXIoImZvY3VzIix0KSxyfSxvcGVuOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5faXNPcGVuPyh0aGlzLl9tb3ZlVG9Ub3AoKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpLHZvaWQgMCk6KHRoaXMuX2lzT3Blbj0hMCx0aGlzLm9wZW5lcj1uKG4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpLHRoaXMuX3NpemUoKSx0aGlzLl9wb3NpdGlvbigpLHRoaXMuX2NyZWF0ZU92ZXJsYXkoKSx0aGlzLl9tb3ZlVG9Ub3AobnVsbCwhMCksdGhpcy5vdmVybGF5JiZ0aGlzLm92ZXJsYXkuY3NzKCJ6LWluZGV4Iix0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIpLTEpLHRoaXMuX3Nob3codGhpcy51aURpYWxvZyx0aGlzLm9wdGlvbnMuc2hvdyxmdW5jdGlvbigpe3QuX2ZvY3VzVGFiYmFibGUoKTt0Ll90cmlnZ2VyKCJmb2N1cyIpfSksdGhpcy5fbWFrZUZvY3VzVGFyZ2V0KCksdGhpcy5fdHJpZ2dlcigib3BlbiIpLHZvaWQgMCl9LF9mb2N1c1RhYmJhYmxlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fZm9jdXNlZEVsZW1lbnQ7bnx8KG49dGhpcy5lbGVtZW50LmZpbmQoIlthdXRvZm9jdXNdIikpO24ubGVuZ3RofHwobj10aGlzLmVsZW1lbnQuZmluZCgiOnRhYmJhYmxlIikpO24ubGVuZ3RofHwobj10aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5maW5kKCI6dGFiYmFibGUiKSk7bi5sZW5ndGh8fChuPXRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmZpbHRlcigiOnRhYmJhYmxlIikpO24ubGVuZ3RofHwobj10aGlzLnVpRGlhbG9nKTtuLmVxKDApLnRyaWdnZXIoImZvY3VzIil9LF9rZWVwRm9jdXM6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaSgpe3ZhciB0PW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSksaT10aGlzLnVpRGlhbG9nWzBdPT09dHx8bi5jb250YWlucyh0aGlzLnVpRGlhbG9nWzBdLHQpO2l8fHRoaXMuX2ZvY3VzVGFiYmFibGUoKX10LnByZXZlbnREZWZhdWx0KCk7aS5jYWxsKHRoaXMpO3RoaXMuX2RlbGF5KGkpfSxfY3JlYXRlV3JhcHBlcjpmdW5jdGlvbigpe3RoaXMudWlEaWFsb2c9bigiPGRpdj4iKS5oaWRlKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZToiZGlhbG9nIn0pLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZyIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udCIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2cse2tleWRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5vcHRpb25zLmNsb3NlT25Fc2NhcGUmJiF0LmlzRGVmYXVsdFByZXZlbnRlZCgpJiZ0LmtleUNvZGUmJnQua2V5Q29kZT09PW4udWkua2V5Q29kZS5FU0NBUEUpcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0aGlzLmNsb3NlKHQpLHZvaWQgMDtpZih0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVEFCJiYhdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGk9dGhpcy51aURpYWxvZy5maW5kKCI6dGFiYmFibGUiKSxyPWkuZmlsdGVyKCI6Zmlyc3QiKSx1PWkuZmlsdGVyKCI6bGFzdCIpO3QudGFyZ2V0IT09dVswXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHx0LnNoaWZ0S2V5P3QudGFyZ2V0IT09clswXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHwhdC5zaGlmdEtleXx8KHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dS50cmlnZ2VyKCJmb2N1cyIpfSksdC5wcmV2ZW50RGVmYXVsdCgpKToodGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtyLnRyaWdnZXIoImZvY3VzIil9KSx0LnByZXZlbnREZWZhdWx0KCkpfX0sbW91c2Vkb3duOmZ1bmN0aW9uKG4pe3RoaXMuX21vdmVUb1RvcChuKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpfX0pO3RoaXMuZWxlbWVudC5maW5kKCJbYXJpYS1kZXNjcmliZWRieV0iKS5sZW5ndGh8fHRoaXMudWlEaWFsb2cuYXR0cih7ImFyaWEtZGVzY3JpYmVkYnkiOnRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoImlkIil9KX0sX2NyZWF0ZVRpdGxlYmFyOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy51aURpYWxvZ1RpdGxlYmFyPW4oIjxkaXY+Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ1RpdGxlYmFyLCJ1aS1kaWFsb2ctdGl0bGViYXIiLCJ1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2dUaXRsZWJhcix7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe24odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiKXx8dGhpcy51aURpYWxvZy50cmlnZ2VyKCJmb2N1cyIpfX0pO3RoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlPW4oIjxidXR0b24gdHlwZT0nYnV0dG9uJz48XC9idXR0b24+IikuYnV0dG9uKHtsYWJlbDpuKCI8YT4iKS50ZXh0KHRoaXMub3B0aW9ucy5jbG9zZVRleHQpLmh0bWwoKSxpY29uOiJ1aS1pY29uLWNsb3NldGhpY2siLHNob3dMYWJlbDohMX0pLmFwcGVuZFRvKHRoaXMudWlEaWFsb2dUaXRsZWJhcik7dGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2UsInVpLWRpYWxvZy10aXRsZWJhci1jbG9zZSIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLHtjbGljazpmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCk7dGhpcy5jbG9zZShuKX19KTt0PW4oIjxzcGFuPiIpLnVuaXF1ZUlkKCkucHJlcGVuZFRvKHRoaXMudWlEaWFsb2dUaXRsZWJhcik7dGhpcy5fYWRkQ2xhc3ModCwidWktZGlhbG9nLXRpdGxlIik7dGhpcy5fdGl0bGUodCk7dGhpcy51aURpYWxvZ1RpdGxlYmFyLnByZXBlbmRUbyh0aGlzLnVpRGlhbG9nKTt0aGlzLnVpRGlhbG9nLmF0dHIoeyJhcmlhLWxhYmVsbGVkYnkiOnQuYXR0cigiaWQiKX0pfSxfdGl0bGU6ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zLnRpdGxlP24udGV4dCh0aGlzLm9wdGlvbnMudGl0bGUpOm4uaHRtbCgiJiMxNjA7Iil9LF9jcmVhdGVCdXR0b25QYW5lOmZ1bmN0aW9uKCl7dGhpcy51aURpYWxvZ0J1dHRvblBhbmU9bigiPGRpdj4iKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZSwidWktZGlhbG9nLWJ1dHRvbnBhbmUiLCJ1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXgiKTt0aGlzLnVpQnV0dG9uU2V0PW4oIjxkaXY+IikuYXBwZW5kVG8odGhpcy51aURpYWxvZ0J1dHRvblBhbmUpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlCdXR0b25TZXQsInVpLWRpYWxvZy1idXR0b25zZXQiKTt0aGlzLl9jcmVhdGVCdXR0b25zKCl9LF9jcmVhdGVCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyx0PXRoaXMub3B0aW9ucy5idXR0b25zO3JldHVybiB0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5yZW1vdmUoKSx0aGlzLnVpQnV0dG9uU2V0LmVtcHR5KCksbi5pc0VtcHR5T2JqZWN0KHQpfHxuLmlzQXJyYXkodCkmJiF0Lmxlbmd0aD8odGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy51aURpYWxvZywidWktZGlhbG9nLWJ1dHRvbnMiKSx2b2lkIDApOihuLmVhY2godCxmdW5jdGlvbih0LHIpe3ZhciB1LGY7cj1uLmlzRnVuY3Rpb24ocik/e2NsaWNrOnIsdGV4dDp0fTpyO3I9bi5leHRlbmQoe3R5cGU6ImJ1dHRvbiJ9LHIpO3U9ci5jbGljaztmPXtpY29uOnIuaWNvbixpY29uUG9zaXRpb246ci5pY29uUG9zaXRpb24sc2hvd0xhYmVsOnIuc2hvd0xhYmVsLGljb25zOnIuaWNvbnMsdGV4dDpyLnRleHR9O2RlbGV0ZSByLmNsaWNrO2RlbGV0ZSByLmljb247ZGVsZXRlIHIuaWNvblBvc2l0aW9uO2RlbGV0ZSByLnNob3dMYWJlbDtkZWxldGUgci5pY29uczsiYm9vbGVhbiI9PXR5cGVvZiByLnRleHQmJmRlbGV0ZSByLnRleHQ7bigiPGJ1dHRvbj48XC9idXR0b24+IixyKS5idXR0b24oZikuYXBwZW5kVG8oaS51aUJ1dHRvblNldCkub24oImNsaWNrIixmdW5jdGlvbigpe3UuYXBwbHkoaS5lbGVtZW50WzBdLGFyZ3VtZW50cyl9KX0pLHRoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZy1idXR0b25zIiksdGhpcy51aURpYWxvZ0J1dHRvblBhbmUuYXBwZW5kVG8odGhpcy51aURpYWxvZyksdm9pZCAwKX0sX21ha2VEcmFnZ2FibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKG4pe3JldHVybntwb3NpdGlvbjpuLnBvc2l0aW9uLG9mZnNldDpuLm9mZnNldH19dmFyIHQ9dGhpcyxyPXRoaXMub3B0aW9uczt0aGlzLnVpRGlhbG9nLmRyYWdnYWJsZSh7Y2FuY2VsOiIudWktZGlhbG9nLWNvbnRlbnQsIC51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiLGhhbmRsZToiLnVpLWRpYWxvZy10aXRsZWJhciIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixzdGFydDpmdW5jdGlvbihyLHUpe3QuX2FkZENsYXNzKG4odGhpcyksInVpLWRpYWxvZy1kcmFnZ2luZyIpO3QuX2Jsb2NrRnJhbWVzKCk7dC5fdHJpZ2dlcigiZHJhZ1N0YXJ0IixyLGkodSkpfSxkcmFnOmZ1bmN0aW9uKG4scil7dC5fdHJpZ2dlcigiZHJhZyIsbixpKHIpKX0sc3RvcDpmdW5jdGlvbih1LGYpe3ZhciBlPWYub2Zmc2V0LmxlZnQtdC5kb2N1bWVudC5zY3JvbGxMZWZ0KCksbz1mLm9mZnNldC50b3AtdC5kb2N1bWVudC5zY3JvbGxUb3AoKTtyLnBvc2l0aW9uPXtteToibGVmdCB0b3AiLGF0OiJsZWZ0IisoZT49MD8iKyI6IiIpK2UrIiB0b3AiKyhvPj0wPyIrIjoiIikrbywib2YiOnQud2luZG93fTt0Ll9yZW1vdmVDbGFzcyhuKHRoaXMpLCJ1aS1kaWFsb2ctZHJhZ2dpbmciKTt0Ll91bmJsb2NrRnJhbWVzKCk7dC5fdHJpZ2dlcigiZHJhZ1N0b3AiLHUsaShmKSl9fSl9LF9tYWtlUmVzaXphYmxlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihuKXtyZXR1cm57b3JpZ2luYWxQb3NpdGlvbjpuLm9yaWdpbmFsUG9zaXRpb24sb3JpZ2luYWxTaXplOm4ub3JpZ2luYWxTaXplLHBvc2l0aW9uOm4ucG9zaXRpb24sc2l6ZTpuLnNpemV9fXZhciB0PXRoaXMsaT10aGlzLm9wdGlvbnMsdT1pLnJlc2l6YWJsZSxmPXRoaXMudWlEaWFsb2cuY3NzKCJwb3NpdGlvbiIpLGU9InN0cmluZyI9PXR5cGVvZiB1P3U6Im4sZSxzLHcsc2Usc3csbmUsbnciO3RoaXMudWlEaWFsb2cucmVzaXphYmxlKHtjYW5jZWw6Ii51aS1kaWFsb2ctY29udGVudCIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixhbHNvUmVzaXplOnRoaXMuZWxlbWVudCxtYXhXaWR0aDppLm1heFdpZHRoLG1heEhlaWdodDppLm1heEhlaWdodCxtaW5XaWR0aDppLm1pbldpZHRoLG1pbkhlaWdodDp0aGlzLl9taW5IZWlnaHQoKSxoYW5kbGVzOmUsc3RhcnQ6ZnVuY3Rpb24oaSx1KXt0Ll9hZGRDbGFzcyhuKHRoaXMpLCJ1aS1kaWFsb2ctcmVzaXppbmciKTt0Ll9ibG9ja0ZyYW1lcygpO3QuX3RyaWdnZXIoInJlc2l6ZVN0YXJ0IixpLHIodSkpfSxyZXNpemU6ZnVuY3Rpb24obixpKXt0Ll90cmlnZ2VyKCJyZXNpemUiLG4scihpKSl9LHN0b3A6ZnVuY3Rpb24odSxmKXt2YXIgZT10LnVpRGlhbG9nLm9mZnNldCgpLG89ZS5sZWZ0LXQuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLHM9ZS50b3AtdC5kb2N1bWVudC5zY3JvbGxUb3AoKTtpLmhlaWdodD10LnVpRGlhbG9nLmhlaWdodCgpO2kud2lkdGg9dC51aURpYWxvZy53aWR0aCgpO2kucG9zaXRpb249e215OiJsZWZ0IHRvcCIsYXQ6ImxlZnQiKyhvPj0wPyIrIjoiIikrbysiIHRvcCIrKHM+PTA/IisiOiIiKStzLCJvZiI6dC53aW5kb3d9O3QuX3JlbW92ZUNsYXNzKG4odGhpcyksInVpLWRpYWxvZy1yZXNpemluZyIpO3QuX3VuYmxvY2tGcmFtZXMoKTt0Ll90cmlnZ2VyKCJyZXNpemVTdG9wIix1LHIoZikpfX0pLmNzcygicG9zaXRpb24iLGYpfSxfdHJhY2tGb2N1czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMud2lkZ2V0KCkse2ZvY3VzaW46ZnVuY3Rpb24odCl7dGhpcy5fbWFrZUZvY3VzVGFyZ2V0KCk7dGhpcy5fZm9jdXNlZEVsZW1lbnQ9bih0LnRhcmdldCl9fSl9LF9tYWtlRm9jdXNUYXJnZXQ6ZnVuY3Rpb24oKXt0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTt0aGlzLl90cmFja2luZ0luc3RhbmNlcygpLnVuc2hpZnQodGhpcyl9LF91bnRyYWNrSW5zdGFuY2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90cmFja2luZ0luc3RhbmNlcygpLGk9bi5pbkFycmF5KHRoaXMsdCk7LTEhPT1pJiZ0LnNwbGljZShpLDEpfSxfdHJhY2tpbmdJbnN0YW5jZXM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1pbnN0YW5jZXMiKTtyZXR1cm4gbnx8KG49W10sdGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctaW5zdGFuY2VzIixuKSksbn0sX21pbkhlaWdodDpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucztyZXR1cm4iYXV0byI9PT1uLmhlaWdodD9uLm1pbkhlaWdodDpNYXRoLm1pbihuLm1pbkhlaWdodCxuLmhlaWdodCl9LF9wb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMudWlEaWFsb2cuaXMoIjp2aXNpYmxlIik7bnx8dGhpcy51aURpYWxvZy5zaG93KCk7dGhpcy51aURpYWxvZy5wb3NpdGlvbih0aGlzLm9wdGlvbnMucG9zaXRpb24pO258fHRoaXMudWlEaWFsb2cuaGlkZSgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHI9ITEsdT17fTtuLmVhY2godCxmdW5jdGlvbihuLHQpe2kuX3NldE9wdGlvbihuLHQpO24gaW4gaS5zaXplUmVsYXRlZE9wdGlvbnMmJihyPSEwKTtuIGluIGkucmVzaXphYmxlUmVsYXRlZE9wdGlvbnMmJih1W25dPXQpfSk7ciYmKHRoaXMuX3NpemUoKSx0aGlzLl9wb3NpdGlvbigpKTt0aGlzLnVpRGlhbG9nLmlzKCI6ZGF0YSh1aS1yZXNpemFibGUpIikmJnRoaXMudWlEaWFsb2cucmVzaXphYmxlKCJvcHRpb24iLHUpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIGYsdSxyPXRoaXMudWlEaWFsb2c7ImRpc2FibGVkIiE9PXQmJih0aGlzLl9zdXBlcih0LGkpLCJhcHBlbmRUbyI9PT10JiZ0aGlzLnVpRGlhbG9nLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLCJidXR0b25zIj09PXQmJnRoaXMuX2NyZWF0ZUJ1dHRvbnMoKSwiY2xvc2VUZXh0Ij09PXQmJnRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmJ1dHRvbih7bGFiZWw6bigiPGE+IikudGV4dCgiIit0aGlzLm9wdGlvbnMuY2xvc2VUZXh0KS5odG1sKCl9KSwiZHJhZ2dhYmxlIj09PXQmJihmPXIuaXMoIjpkYXRhKHVpLWRyYWdnYWJsZSkiKSxmJiYhaSYmci5kcmFnZ2FibGUoImRlc3Ryb3kiKSwhZiYmaSYmdGhpcy5fbWFrZURyYWdnYWJsZSgpKSwicG9zaXRpb24iPT09dCYmdGhpcy5fcG9zaXRpb24oKSwicmVzaXphYmxlIj09PXQmJih1PXIuaXMoIjpkYXRhKHVpLXJlc2l6YWJsZSkiKSx1JiYhaSYmci5yZXNpemFibGUoImRlc3Ryb3kiKSx1JiYic3RyaW5nIj09dHlwZW9mIGkmJnIucmVzaXphYmxlKCJvcHRpb24iLCJoYW5kbGVzIixpKSx1fHxpPT09ITF8fHRoaXMuX21ha2VSZXNpemFibGUoKSksInRpdGxlIj09PXQmJnRoaXMuX3RpdGxlKHRoaXMudWlEaWFsb2dUaXRsZWJhci5maW5kKCIudWktZGlhbG9nLXRpdGxlIikpKX0sX3NpemU6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsbj10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50LnNob3coKS5jc3Moe3dpZHRoOiJhdXRvIixtaW5IZWlnaHQ6MCxtYXhIZWlnaHQ6Im5vbmUiLGhlaWdodDowfSk7bi5taW5XaWR0aD5uLndpZHRoJiYobi53aWR0aD1uLm1pbldpZHRoKTt0PXRoaXMudWlEaWFsb2cuY3NzKHtoZWlnaHQ6ImF1dG8iLHdpZHRoOm4ud2lkdGh9KS5vdXRlckhlaWdodCgpO2k9TWF0aC5tYXgoMCxuLm1pbkhlaWdodC10KTtyPSJudW1iZXIiPT10eXBlb2Ygbi5tYXhIZWlnaHQ/TWF0aC5tYXgoMCxuLm1heEhlaWdodC10KToibm9uZSI7ImF1dG8iPT09bi5oZWlnaHQ/dGhpcy5lbGVtZW50LmNzcyh7bWluSGVpZ2h0OmksbWF4SGVpZ2h0OnIsaGVpZ2h0OiJhdXRvIn0pOnRoaXMuZWxlbWVudC5oZWlnaHQoTWF0aC5tYXgoMCxuLmhlaWdodC10KSk7dGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIiwibWluSGVpZ2h0Iix0aGlzLl9taW5IZWlnaHQoKSl9LF9ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzPXRoaXMuZG9jdW1lbnQuZmluZCgiaWZyYW1lIikubWFwKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gbigiPGRpdj4iKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKX0pLmFwcGVuZFRvKHQucGFyZW50KCkpLm9mZnNldCh0Lm9mZnNldCgpKVswXX0pfSxfdW5ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzJiYodGhpcy5pZnJhbWVCbG9ja3MucmVtb3ZlKCksZGVsZXRlIHRoaXMuaWZyYW1lQmxvY2tzKX0sX2FsbG93SW50ZXJhY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuIG4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ciKS5sZW5ndGg/ITA6ISFuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktZGF0ZXBpY2tlciIpLmxlbmd0aH0sX2NyZWF0ZU92ZXJsYXk6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMubW9kYWwpe3ZhciB0PSEwO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dD0hMX0pO3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIil8fHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse2ZvY3VzaW46ZnVuY3Rpb24obil7dHx8dGhpcy5fYWxsb3dJbnRlcmFjdGlvbihuKXx8KG4ucHJldmVudERlZmF1bHQoKSx0aGlzLl90cmFja2luZ0luc3RhbmNlcygpWzBdLl9mb2N1c1RhYmJhYmxlKCkpfX0pO3RoaXMub3ZlcmxheT1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpO3RoaXMuX2FkZENsYXNzKHRoaXMub3ZlcmxheSxudWxsLCJ1aS13aWRnZXQtb3ZlcmxheSB1aS1mcm9udCIpO3RoaXMuX29uKHRoaXMub3ZlcmxheSx7bW91c2Vkb3duOiJfa2VlcEZvY3VzIn0pO3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIiwodGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKXx8MCkrMSl9fSxfZGVzdHJveU92ZXJsYXk6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMubW9kYWwmJnRoaXMub3ZlcmxheSl7dmFyIG49dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKS0xO24/dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiLG4pOih0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwiZm9jdXNpbiIpLHRoaXMuZG9jdW1lbnQucmVtb3ZlRGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIikpO3RoaXMub3ZlcmxheS5yZW1vdmUoKTt0aGlzLm92ZXJsYXk9bnVsbH19fSk7bi51aUJhY2tDb21wYXQhPT0hMSYmbi53aWRnZXQoInVpLmRpYWxvZyIsbi51aS5kaWFsb2cse29wdGlvbnM6e2RpYWxvZ0NsYXNzOiIifSxfY3JlYXRlV3JhcHBlcjpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCk7dGhpcy51aURpYWxvZy5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZGlhbG9nQ2xhc3MpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7ImRpYWxvZ0NsYXNzIj09PW4mJnRoaXMudWlEaWFsb2cucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmRpYWxvZ0NsYXNzKS5hZGRDbGFzcyh0KTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyl9fSk7bi51aS5kaWFsb2c7bi53aWRnZXQoInVpLmRyb3BwYWJsZSIse3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyb3AiLG9wdGlvbnM6e2FjY2VwdDoiKiIsYWRkQ2xhc3NlczohMCxncmVlZHk6ITEsc2NvcGU6ImRlZmF1bHQiLHRvbGVyYW5jZToiaW50ZXJzZWN0IixhY3RpdmF0ZTpudWxsLGRlYWN0aXZhdGU6bnVsbCxkcm9wOm51bGwsb3V0Om51bGwsb3ZlcjpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLm9wdGlvbnMscj1pLmFjY2VwdDt0aGlzLmlzb3Zlcj0hMTt0aGlzLmlzb3V0PSEwO3RoaXMuYWNjZXB0PW4uaXNGdW5jdGlvbihyKT9yOmZ1bmN0aW9uKG4pe3JldHVybiBuLmlzKHIpfTt0aGlzLnByb3BvcnRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9YXJndW1lbnRzWzBdLHZvaWQgMCk6dD90OnQ9e3dpZHRoOnRoaXMuZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodH19O3RoaXMuX2FkZFRvTWFuYWdlcihpLnNjb3BlKTtpLmFkZENsYXNzZXMmJnRoaXMuX2FkZENsYXNzKCJ1aS1kcm9wcGFibGUiKX0sX2FkZFRvTWFuYWdlcjpmdW5jdGlvbih0KXtuLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdPW4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF18fFtdO24udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF0ucHVzaCh0aGlzKX0sX3NwbGljZTpmdW5jdGlvbihuKXtmb3IodmFyIHQ9MDtuLmxlbmd0aD50O3QrKyluW3RdPT09dGhpcyYmbi5zcGxpY2UodCwxKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7aWYoImFjY2VwdCI9PT10KXRoaXMuYWNjZXB0PW4uaXNGdW5jdGlvbihpKT9pOmZ1bmN0aW9uKG4pe3JldHVybiBuLmlzKGkpfTtlbHNlIGlmKCJzY29wZSI9PT10KXt2YXIgcj1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKHIpO3RoaXMuX2FkZFRvTWFuYWdlcihpKX10aGlzLl9zdXBlcih0LGkpfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5kZG1hbmFnZXIuY3VycmVudDt0aGlzLl9hZGRBY3RpdmVDbGFzcygpO2kmJnRoaXMuX3RyaWdnZXIoImFjdGl2YXRlIix0LHRoaXMudWkoaSkpfSxfZGVhY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O3RoaXMuX3JlbW92ZUFjdGl2ZUNsYXNzKCk7aSYmdGhpcy5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsdCx0aGlzLnVpKGkpKX0sX292ZXI6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5kZG1hbmFnZXIuY3VycmVudDtpJiYoaS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0saS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KSYmKHRoaXMuX2FkZEhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKCJvdmVyIix0LHRoaXMudWkoaSkpKX0sX291dDpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O2kmJihpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpWzBdIT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpJiYodGhpcy5fcmVtb3ZlSG92ZXJDbGFzcygpLHRoaXMuX3RyaWdnZXIoIm91dCIsdCx0aGlzLnVpKGkpKSl9LF9kcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHI9aXx8bi51aS5kZG1hbmFnZXIuY3VycmVudCx1PSExO3JldHVybiByJiYoci5jdXJyZW50SXRlbXx8ci5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXT8odGhpcy5lbGVtZW50LmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5ub3QoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5kcm9wcGFibGUoImluc3RhbmNlIik7aWYoaS5vcHRpb25zLmdyZWVkeSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmaS5vcHRpb25zLnNjb3BlPT09ci5vcHRpb25zLnNjb3BlJiZpLmFjY2VwdC5jYWxsKGkuZWxlbWVudFswXSxyLmN1cnJlbnRJdGVtfHxyLmVsZW1lbnQpJiZlKHIsbi5leHRlbmQoaSx7b2Zmc2V0OmkuZWxlbWVudC5vZmZzZXQoKX0pLGkub3B0aW9ucy50b2xlcmFuY2UsdCkpcmV0dXJuKHU9ITAsITEpfSksdT8hMTp0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxyLmN1cnJlbnRJdGVtfHxyLmVsZW1lbnQpPyh0aGlzLl9yZW1vdmVBY3RpdmVDbGFzcygpLHRoaXMuX3JlbW92ZUhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKCJkcm9wIix0LHRoaXMudWkocikpLHRoaXMuZWxlbWVudCk6ITEpOiExfSx1aTpmdW5jdGlvbihuKXtyZXR1cm57ZHJhZ2dhYmxlOm4uY3VycmVudEl0ZW18fG4uZWxlbWVudCxoZWxwZXI6bi5oZWxwZXIscG9zaXRpb246bi5wb3NpdGlvbixvZmZzZXQ6bi5wb3NpdGlvbkFic319LF9hZGRIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fYWRkQ2xhc3MoInVpLWRyb3BwYWJsZS1ob3ZlciIpfSxfcmVtb3ZlSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKCJ1aS1kcm9wcGFibGUtaG92ZXIiKX0sX2FkZEFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fYWRkQ2xhc3MoInVpLWRyb3BwYWJsZS1hY3RpdmUiKX0sX3JlbW92ZUFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3MoInVpLWRyb3BwYWJsZS1hY3RpdmUiKX19KTtlPW4udWkuaW50ZXJzZWN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQsaSl7cmV0dXJuIG4+PXQmJnQraT5ufXJldHVybiBmdW5jdGlvbih0LGkscix1KXtpZighaS5vZmZzZXQpcmV0dXJuITE7dmFyIG89KHQucG9zaXRpb25BYnN8fHQucG9zaXRpb24uYWJzb2x1dGUpLmxlZnQrdC5tYXJnaW5zLmxlZnQscz0odC5wb3NpdGlvbkFic3x8dC5wb3NpdGlvbi5hYnNvbHV0ZSkudG9wK3QubWFyZ2lucy50b3AsaD1vK3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsYz1zK3QuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGY9aS5vZmZzZXQubGVmdCxlPWkub2Zmc2V0LnRvcCxsPWYraS5wcm9wb3J0aW9ucygpLndpZHRoLGE9ZStpLnByb3BvcnRpb25zKCkuaGVpZ2h0O3N3aXRjaChyKXtjYXNlImZpdCI6cmV0dXJuIG8+PWYmJmw+PWgmJnM+PWUmJmE+PWM7Y2FzZSJpbnRlcnNlY3QiOnJldHVybiBvK3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMj5mJiZsPmgtdC5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yJiZzK3QuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI+ZSYmYT5jLXQuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI7Y2FzZSJwb2ludGVyIjpyZXR1cm4gbih1LnBhZ2VZLGUsaS5wcm9wb3J0aW9ucygpLmhlaWdodCkmJm4odS5wYWdlWCxmLGkucHJvcG9ydGlvbnMoKS53aWR0aCk7Y2FzZSJ0b3VjaCI6cmV0dXJuKHM+PWUmJmE+PXN8fGM+PWUmJmE+PWN8fGU+cyYmYz5hKSYmKG8+PWYmJmw+PW98fGg+PWYmJmw+PWh8fGY+byYmaD5sKTtkZWZhdWx0OnJldHVybiExfX19KCk7bi51aS5kZG1hbmFnZXI9e2N1cnJlbnQ6bnVsbCxkcm9wcGFibGVzOnsiZGVmYXVsdCI6W119LHByZXBhcmVPZmZzZXRzOmZ1bmN0aW9uKHQsaSl7dmFyIHIsZix1PW4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10sbz1pP2kudHlwZTpudWxsLGU9KHQuY3VycmVudEl0ZW18fHQuZWxlbWVudCkuZmluZCgiOmRhdGEodWktZHJvcHBhYmxlKSIpLmFkZEJhY2soKTtuOmZvcihyPTA7dS5sZW5ndGg+cjtyKyspaWYoISh1W3JdLm9wdGlvbnMuZGlzYWJsZWR8fHQmJiF1W3JdLmFjY2VwdC5jYWxsKHVbcl0uZWxlbWVudFswXSx0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQpKSl7Zm9yKGY9MDtlLmxlbmd0aD5mO2YrKylpZihlW2ZdPT09dVtyXS5lbGVtZW50WzBdKXt1W3JdLnByb3BvcnRpb25zKCkuaGVpZ2h0PTA7Y29udGludWUgbn11W3JdLnZpc2libGU9Im5vbmUiIT09dVtyXS5lbGVtZW50LmNzcygiZGlzcGxheSIpO3Vbcl0udmlzaWJsZSYmKCJtb3VzZWRvd24iPT09byYmdVtyXS5fYWN0aXZhdGUuY2FsbCh1W3JdLGkpLHVbcl0ub2Zmc2V0PXVbcl0uZWxlbWVudC5vZmZzZXQoKSx1W3JdLnByb3BvcnRpb25zKHt3aWR0aDp1W3JdLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OnVbcl0uZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9KSl9fSxkcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHI9ITE7cmV0dXJuIG4uZWFjaCgobi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0Lm9wdGlvbnMuc2NvcGVdfHxbXSkuc2xpY2UoKSxmdW5jdGlvbigpe3RoaXMub3B0aW9ucyYmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmZSh0LHRoaXMsdGhpcy5vcHRpb25zLnRvbGVyYW5jZSxpKSYmKHI9dGhpcy5fZHJvcC5jYWxsKHRoaXMsaSl8fHIpLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sdC5jdXJyZW50SXRlbXx8dC5lbGVtZW50KSYmKHRoaXMuaXNvdXQ9ITAsdGhpcy5pc292ZXI9ITEsdGhpcy5fZGVhY3RpdmF0ZS5jYWxsKHRoaXMsaSkpKX0pLHJ9LGRyYWdTdGFydDpmdW5jdGlvbih0LGkpe3QuZWxlbWVudC5wYXJlbnRzVW50aWwoImJvZHkiKS5vbigic2Nyb2xsLmRyb3BwYWJsZSIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMucmVmcmVzaFBvc2l0aW9uc3x8bi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModCxpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSl7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMmJm4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSk7bi5lYWNoKG4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiYhdGhpcy5ncmVlZHlDaGlsZCYmdGhpcy52aXNpYmxlKXt2YXIgcixvLGYscz1lKHQsdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlLGkpLHU9IXMmJnRoaXMuaXNvdmVyPyJpc291dCI6cyYmIXRoaXMuaXNvdmVyPyJpc292ZXIiOm51bGw7dSYmKHRoaXMub3B0aW9ucy5ncmVlZHkmJihvPXRoaXMub3B0aW9ucy5zY29wZSxmPXRoaXMuZWxlbWVudC5wYXJlbnRzKCI6ZGF0YSh1aS1kcm9wcGFibGUpIikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcykuZHJvcHBhYmxlKCJpbnN0YW5jZSIpLm9wdGlvbnMuc2NvcGU9PT1vfSksZi5sZW5ndGgmJihyPW4oZlswXSkuZHJvcHBhYmxlKCJpbnN0YW5jZSIpLHIuZ3JlZWR5Q2hpbGQ9Imlzb3ZlciI9PT11KSksciYmImlzb3ZlciI9PT11JiYoci5pc292ZXI9ITEsci5pc291dD0hMCxyLl9vdXQuY2FsbChyLGkpKSx0aGlzW3VdPSEwLHRoaXNbImlzb3V0Ij09PXU/Imlzb3ZlciI6Imlzb3V0Il09ITEsdGhpc1siaXNvdmVyIj09PXU/Il9vdmVyIjoiX291dCJdLmNhbGwodGhpcyxpKSxyJiYiaXNvdXQiPT09dSYmKHIuaXNvdXQ9ITEsci5pc292ZXI9ITAsci5fb3Zlci5jYWxsKHIsaSkpKX19KX0sZHJhZ1N0b3A6ZnVuY3Rpb24odCxpKXt0LmVsZW1lbnQucGFyZW50c1VudGlsKCJib2R5Iikub2ZmKCJzY3JvbGwuZHJvcHBhYmxlIik7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnN8fG4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSl9fTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLndpZGdldCgidWkuZHJvcHBhYmxlIixuLnVpLmRyb3BwYWJsZSx7b3B0aW9uczp7aG92ZXJDbGFzczohMSxhY3RpdmVDbGFzczohMX0sX2FkZEFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpfSxfcmVtb3ZlQWN0aXZlQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpO3RoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyl9LF9hZGRIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKX0sX3JlbW92ZUhvdmVyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpO3RoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpfX0pO24udWkuZHJvcHBhYmxlO24ud2lkZ2V0KCJ1aS5wcm9ncmVzc2JhciIse3ZlcnNpb246IjEuMTIuMSIsb3B0aW9uczp7Y2xhc3Nlczp7InVpLXByb2dyZXNzYmFyIjoidWktY29ybmVyLWFsbCIsInVpLXByb2dyZXNzYmFyLXZhbHVlIjoidWktY29ybmVyLWxlZnQiLCJ1aS1wcm9ncmVzc2Jhci1jb21wbGV0ZSI6InVpLWNvcm5lci1yaWdodCJ9LG1heDoxMDAsdmFsdWU6MCxjaGFuZ2U6bnVsbCxjb21wbGV0ZTpudWxsfSxtaW46MCxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vbGRWYWx1ZT10aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fY29uc3RyYWluZWRWYWx1ZSgpO3RoaXMuZWxlbWVudC5hdHRyKHtyb2xlOiJwcm9ncmVzc2JhciIsImFyaWEtdmFsdWVtaW4iOnRoaXMubWlufSk7dGhpcy5fYWRkQ2xhc3MoInVpLXByb2dyZXNzYmFyIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50Iik7dGhpcy52YWx1ZURpdj1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCk7dGhpcy5fYWRkQ2xhc3ModGhpcy52YWx1ZURpdiwidWktcHJvZ3Jlc3NiYXItdmFsdWUiLCJ1aS13aWRnZXQtaGVhZGVyIik7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUgYXJpYS12YWx1ZW1pbiBhcmlhLXZhbHVlbWF4IGFyaWEtdmFsdWVub3ciKTt0aGlzLnZhbHVlRGl2LnJlbW92ZSgpfSx2YWx1ZTpmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09bj90aGlzLm9wdGlvbnMudmFsdWU6KHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl9jb25zdHJhaW5lZFZhbHVlKG4pLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHZvaWQgMCl9LF9jb25zdHJhaW5lZFZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj10aGlzLm9wdGlvbnMudmFsdWUpLHRoaXMuaW5kZXRlcm1pbmF0ZT1uPT09ITEsIm51bWJlciIhPXR5cGVvZiBuJiYobj0wKSx0aGlzLmluZGV0ZXJtaW5hdGU/ITE6TWF0aC5taW4odGhpcy5vcHRpb25zLm1heCxNYXRoLm1heCh0aGlzLm1pbixuKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PW4udmFsdWU7ZGVsZXRlIG4udmFsdWU7dGhpcy5fc3VwZXIobik7dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUodCk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsibWF4Ij09PW4mJih0PU1hdGgubWF4KHRoaXMubWluLHQpKTt0aGlzLl9zdXBlcihuLHQpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pfSxfcGVyY2VudGFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV0ZXJtaW5hdGU/MTAwOjEwMCoodGhpcy5vcHRpb25zLnZhbHVlLXRoaXMubWluKS8odGhpcy5vcHRpb25zLm1heC10aGlzLm1pbil9LF9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmFsdWUsaT10aGlzLl9wZXJjZW50YWdlKCk7dGhpcy52YWx1ZURpdi50b2dnbGUodGhpcy5pbmRldGVybWluYXRlfHx0PnRoaXMubWluKS53aWR0aChpLnRvRml4ZWQoMCkrIiUiKTt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLnZhbHVlRGl2LCJ1aS1wcm9ncmVzc2Jhci1jb21wbGV0ZSIsbnVsbCx0PT09dGhpcy5vcHRpb25zLm1heCkuX3RvZ2dsZUNsYXNzKCJ1aS1wcm9ncmVzc2Jhci1pbmRldGVybWluYXRlIixudWxsLHRoaXMuaW5kZXRlcm1pbmF0ZSk7dGhpcy5pbmRldGVybWluYXRlPyh0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW5vdyIpLHRoaXMub3ZlcmxheURpdnx8KHRoaXMub3ZlcmxheURpdj1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMudmFsdWVEaXYpLHRoaXMuX2FkZENsYXNzKHRoaXMub3ZlcmxheURpdiwidWktcHJvZ3Jlc3NiYXItb3ZlcmxheSIpKSk6KHRoaXMuZWxlbWVudC5hdHRyKHsiYXJpYS12YWx1ZW1heCI6dGhpcy5vcHRpb25zLm1heCwiYXJpYS12YWx1ZW5vdyI6dH0pLHRoaXMub3ZlcmxheURpdiYmKHRoaXMub3ZlcmxheURpdi5yZW1vdmUoKSx0aGlzLm92ZXJsYXlEaXY9bnVsbCkpO3RoaXMub2xkVmFsdWUhPT10JiYodGhpcy5vbGRWYWx1ZT10LHRoaXMuX3RyaWdnZXIoImNoYW5nZSIpKTt0PT09dGhpcy5vcHRpb25zLm1heCYmdGhpcy5fdHJpZ2dlcigiY29tcGxldGUiKX19KTtuLndpZGdldCgidWkuc2VsZWN0YWJsZSIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMi4xIixvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b1JlZnJlc2g6ITAsZGlzdGFuY2U6MCxmaWx0ZXI6IioiLHRvbGVyYW5jZToidG91Y2giLHNlbGVjdGVkOm51bGwsc2VsZWN0aW5nOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdW5zZWxlY3RlZDpudWxsLHVuc2VsZWN0aW5nOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1zZWxlY3RhYmxlIik7dGhpcy5kcmFnZ2VkPSExO3RoaXMucmVmcmVzaD1mdW5jdGlvbigpe3QuZWxlbWVudFBvcz1uKHQuZWxlbWVudFswXSkub2Zmc2V0KCk7dC5zZWxlY3RlZXM9bih0Lm9wdGlvbnMuZmlsdGVyLHQuZWxlbWVudFswXSk7dC5fYWRkQ2xhc3ModC5zZWxlY3RlZXMsInVpLXNlbGVjdGVlIik7dC5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyksdT1pLm9mZnNldCgpLHI9e2xlZnQ6dS5sZWZ0LXQuZWxlbWVudFBvcy5sZWZ0LHRvcDp1LnRvcC10LmVsZW1lbnRQb3MudG9wfTtuLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIix7ZWxlbWVudDp0aGlzLCRlbGVtZW50OmksbGVmdDpyLmxlZnQsdG9wOnIudG9wLHJpZ2h0OnIubGVmdCtpLm91dGVyV2lkdGgoKSxib3R0b206ci50b3AraS5vdXRlckhlaWdodCgpLHN0YXJ0c2VsZWN0ZWQ6ITEsc2VsZWN0ZWQ6aS5oYXNDbGFzcygidWktc2VsZWN0ZWQiKSxzZWxlY3Rpbmc6aS5oYXNDbGFzcygidWktc2VsZWN0aW5nIiksdW5zZWxlY3Rpbmc6aS5oYXNDbGFzcygidWktdW5zZWxlY3RpbmciKX0pfSl9O3RoaXMucmVmcmVzaCgpO3RoaXMuX21vdXNlSW5pdCgpO3RoaXMuaGVscGVyPW4oIjxkaXY+Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLXNlbGVjdGFibGUtaGVscGVyIil9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZXMucmVtb3ZlRGF0YSgic2VsZWN0YWJsZS1pdGVtIik7dGhpcy5fbW91c2VEZXN0cm95KCl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMscj10aGlzLm9wdGlvbnM7dGhpcy5vcG9zPVt0LnBhZ2VYLHQucGFnZVldO3RoaXMuZWxlbWVudFBvcz1uKHRoaXMuZWxlbWVudFswXSkub2Zmc2V0KCk7dGhpcy5vcHRpb25zLmRpc2FibGVkfHwodGhpcy5zZWxlY3RlZXM9bihyLmZpbHRlcix0aGlzLmVsZW1lbnRbMF0pLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0KSxuKHIuYXBwZW5kVG8pLmFwcGVuZCh0aGlzLmhlbHBlciksdGhpcy5oZWxwZXIuY3NzKHtsZWZ0OnQucGFnZVgsdG9wOnQucGFnZVksd2lkdGg6MCxoZWlnaHQ6MH0pLHIuYXV0b1JlZnJlc2gmJnRoaXMucmVmcmVzaCgpLHRoaXMuc2VsZWN0ZWVzLmZpbHRlcigiLnVpLXNlbGVjdGVkIikuZWFjaChmdW5jdGlvbigpe3ZhciByPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtyLnN0YXJ0c2VsZWN0ZWQ9ITA7dC5tZXRhS2V5fHx0LmN0cmxLZXl8fChpLl9yZW1vdmVDbGFzcyhyLiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpLHIuc2VsZWN0ZWQ9ITEsaS5fYWRkQ2xhc3Moci4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSxyLnVuc2VsZWN0aW5nPSEwLGkuX3RyaWdnZXIoInVuc2VsZWN0aW5nIix0LHt1bnNlbGVjdGluZzpyLmVsZW1lbnR9KSl9KSxuKHQudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt2YXIgdSxyPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtpZihyKXJldHVybih1PSF0Lm1ldGFLZXkmJiF0LmN0cmxLZXl8fCFyLiRlbGVtZW50Lmhhc0NsYXNzKCJ1aS1zZWxlY3RlZCIpLGkuX3JlbW92ZUNsYXNzKHIuJGVsZW1lbnQsdT8idWktdW5zZWxlY3RpbmciOiJ1aS1zZWxlY3RlZCIpLl9hZGRDbGFzcyhyLiRlbGVtZW50LHU/InVpLXNlbGVjdGluZyI6InVpLXVuc2VsZWN0aW5nIiksci51bnNlbGVjdGluZz0hdSxyLnNlbGVjdGluZz11LHIuc2VsZWN0ZWQ9dSx1P2kuX3RyaWdnZXIoInNlbGVjdGluZyIsdCx7c2VsZWN0aW5nOnIuZWxlbWVudH0pOmkuX3RyaWdnZXIoInVuc2VsZWN0aW5nIix0LHt1bnNlbGVjdGluZzpyLmVsZW1lbnR9KSwhMSl9KSl9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7aWYodGhpcy5kcmFnZ2VkPSEwLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3ZhciBvLGk9dGhpcyxzPXRoaXMub3B0aW9ucyxyPXRoaXMub3Bvc1swXSx1PXRoaXMub3Bvc1sxXSxmPXQucGFnZVgsZT10LnBhZ2VZO3JldHVybiByPmYmJihvPWYsZj1yLHI9byksdT5lJiYobz1lLGU9dSx1PW8pLHRoaXMuaGVscGVyLmNzcyh7bGVmdDpyLHRvcDp1LHdpZHRoOmYtcixoZWlnaHQ6ZS11fSksdGhpcy5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciBvPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKSxjPSExLGg9e307byYmby5lbGVtZW50IT09aS5lbGVtZW50WzBdJiYoaC5sZWZ0PW8ubGVmdCtpLmVsZW1lbnRQb3MubGVmdCxoLnJpZ2h0PW8ucmlnaHQraS5lbGVtZW50UG9zLmxlZnQsaC50b3A9by50b3AraS5lbGVtZW50UG9zLnRvcCxoLmJvdHRvbT1vLmJvdHRvbStpLmVsZW1lbnRQb3MudG9wLCJ0b3VjaCI9PT1zLnRvbGVyYW5jZT9jPSEoaC5sZWZ0PmZ8fHI+aC5yaWdodHx8aC50b3A+ZXx8dT5oLmJvdHRvbSk6ImZpdCI9PT1zLnRvbGVyYW5jZSYmKGM9aC5sZWZ0PnImJmY+aC5yaWdodCYmaC50b3A+dSYmZT5oLmJvdHRvbSksYz8oby5zZWxlY3RlZCYmKGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksby5zZWxlY3RlZD0hMSksby51bnNlbGVjdGluZyYmKGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXVuc2VsZWN0aW5nIiksby51bnNlbGVjdGluZz0hMSksby5zZWxlY3Rpbmd8fChpLl9hZGRDbGFzcyhvLiRlbGVtZW50LCJ1aS1zZWxlY3RpbmciKSxvLnNlbGVjdGluZz0hMCxpLl90cmlnZ2VyKCJzZWxlY3RpbmciLHQse3NlbGVjdGluZzpvLmVsZW1lbnR9KSkpOihvLnNlbGVjdGluZyYmKCh0Lm1ldGFLZXl8fHQuY3RybEtleSkmJm8uc3RhcnRzZWxlY3RlZD8oaS5fcmVtb3ZlQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0aW5nIiksby5zZWxlY3Rpbmc9ITEsaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0ZWQiKSxvLnNlbGVjdGVkPSEwKTooaS5fcmVtb3ZlQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0aW5nIiksby5zZWxlY3Rpbmc9ITEsby5zdGFydHNlbGVjdGVkJiYoaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSxvLnVuc2VsZWN0aW5nPSEwKSxpLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6by5lbGVtZW50fSkpKSxvLnNlbGVjdGVkJiYodC5tZXRhS2V5fHx0LmN0cmxLZXl8fG8uc3RhcnRzZWxlY3RlZHx8KGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksby5zZWxlY3RlZD0hMSxpLl9hZGRDbGFzcyhvLiRlbGVtZW50LCJ1aS11bnNlbGVjdGluZyIpLG8udW5zZWxlY3Rpbmc9ITAsaS5fdHJpZ2dlcigidW5zZWxlY3RpbmciLHQse3Vuc2VsZWN0aW5nOm8uZWxlbWVudH0pKSkpKX0pLCExfX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmRyYWdnZWQ9ITEsbigiLnVpLXVuc2VsZWN0aW5nIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7aS5fcmVtb3ZlQ2xhc3Moci4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKTtyLnVuc2VsZWN0aW5nPSExO3Iuc3RhcnRzZWxlY3RlZD0hMTtpLl90cmlnZ2VyKCJ1bnNlbGVjdGVkIix0LHt1bnNlbGVjdGVkOnIuZWxlbWVudH0pfSksbigiLnVpLXNlbGVjdGluZyIsdGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO2kuX3JlbW92ZUNsYXNzKHIuJGVsZW1lbnQsInVpLXNlbGVjdGluZyIpLl9hZGRDbGFzcyhyLiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpO3Iuc2VsZWN0aW5nPSExO3Iuc2VsZWN0ZWQ9ITA7ci5zdGFydHNlbGVjdGVkPSEwO2kuX3RyaWdnZXIoInNlbGVjdGVkIix0LHtzZWxlY3RlZDpyLmVsZW1lbnR9KX0pLHRoaXMuX3RyaWdnZXIoInN0b3AiLHQpLHRoaXMuaGVscGVyLnJlbW92ZSgpLCExfX0pO24ud2lkZ2V0KCJ1aS5zZWxlY3RtZW51Iixbbi51aS5mb3JtUmVzZXRNaXhpbix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPHNlbGVjdD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsY2xhc3Nlczp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiJ1aS1jb3JuZXItdG9wIiwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLWFsbCJ9LGRpc2FibGVkOm51bGwsaWNvbnM6e2J1dHRvbjoidWktaWNvbi10cmlhbmdsZS0xLXMifSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHdpZHRoOiExLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwsc2VsZWN0Om51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCJpZCIpO3RoaXMuaWRzPXtlbGVtZW50OnQsYnV0dG9uOnQrIi1idXR0b24iLG1lbnU6dCsiLW1lbnUifTt0aGlzLl9kcmF3QnV0dG9uKCk7dGhpcy5fZHJhd01lbnUoKTt0aGlzLl9iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMuX3JlbmRlcmVkPSExO3RoaXMubWVudUl0ZW1zPW4oKX0sX2RyYXdCdXR0b246ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMscj10aGlzLl9wYXJzZU9wdGlvbih0aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uOnNlbGVjdGVkIiksdGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpO3RoaXMubGFiZWxzPXRoaXMuZWxlbWVudC5sYWJlbHMoKS5hdHRyKCJmb3IiLHRoaXMuaWRzLmJ1dHRvbik7dGhpcy5fb24odGhpcy5sYWJlbHMse2NsaWNrOmZ1bmN0aW9uKG4pe3RoaXMuYnV0dG9uLmZvY3VzKCk7bi5wcmV2ZW50RGVmYXVsdCgpfX0pO3RoaXMuZWxlbWVudC5oaWRlKCk7dGhpcy5idXR0b249bigiPHNwYW4+Iix7dGFiaW5kZXg6dGhpcy5vcHRpb25zLmRpc2FibGVkPy0xOjAsaWQ6dGhpcy5pZHMuYnV0dG9uLHJvbGU6ImNvbWJvYm94IiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIiwiYXJpYS1hdXRvY29tcGxldGUiOiJsaXN0IiwiYXJpYS1vd25zIjp0aGlzLmlkcy5tZW51LCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsdGl0bGU6dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIil9KS5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpO3RoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9uLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbiB1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiLCJ1aS1idXR0b24gdWktd2lkZ2V0Iik7dD1uKCI8c3Bhbj4iKS5hcHBlbmRUbyh0aGlzLmJ1dHRvbik7dGhpcy5fYWRkQ2xhc3ModCwidWktc2VsZWN0bWVudS1pY29uIiwidWktaWNvbiAiK3RoaXMub3B0aW9ucy5pY29ucy5idXR0b24pO3RoaXMuYnV0dG9uSXRlbT10aGlzLl9yZW5kZXJCdXR0b25JdGVtKHIpLmFwcGVuZFRvKHRoaXMuYnV0dG9uKTt0aGlzLm9wdGlvbnMud2lkdGghPT0hMSYmdGhpcy5fcmVzaXplQnV0dG9uKCk7dGhpcy5fb24odGhpcy5idXR0b24sdGhpcy5fYnV0dG9uRXZlbnRzKTt0aGlzLmJ1dHRvbi5vbmUoImZvY3VzaW4iLGZ1bmN0aW9uKCl7aS5fcmVuZGVyZWR8fGkuX3JlZnJlc2hNZW51KCl9KX0sX2RyYXdNZW51OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLm1lbnU9bigiPHVsPiIseyJhcmlhLWhpZGRlbiI6InRydWUiLCJhcmlhLWxhYmVsbGVkYnkiOnRoaXMuaWRzLmJ1dHRvbixpZDp0aGlzLmlkcy5tZW51fSk7dGhpcy5tZW51V3JhcD1uKCI8ZGl2PiIpLmFwcGVuZCh0aGlzLm1lbnUpO3RoaXMuX2FkZENsYXNzKHRoaXMubWVudVdyYXAsInVpLXNlbGVjdG1lbnUtbWVudSIsInVpLWZyb250Iik7dGhpcy5tZW51V3JhcC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTt0aGlzLm1lbnVJbnN0YW5jZT10aGlzLm1lbnUubWVudSh7Y2xhc3Nlczp7InVpLW1lbnUiOiJ1aS1jb3JuZXItYm90dG9tIn0scm9sZToibGlzdGJveCIsc2VsZWN0OmZ1bmN0aW9uKG4saSl7bi5wcmV2ZW50RGVmYXVsdCgpO3QuX3NldFNlbGVjdGlvbigpO3QuX3NlbGVjdChpLml0ZW0uZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIiksbil9LGZvY3VzOmZ1bmN0aW9uKG4saSl7dmFyIHI9aS5pdGVtLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpO251bGwhPXQuZm9jdXNJbmRleCYmci5pbmRleCE9PXQuZm9jdXNJbmRleCYmKHQuX3RyaWdnZXIoImZvY3VzIixuLHtpdGVtOnJ9KSx0LmlzT3Blbnx8dC5fc2VsZWN0KHIsbikpO3QuZm9jdXNJbmRleD1yLmluZGV4O3QuYnV0dG9uLmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsdC5tZW51SXRlbXMuZXEoci5pbmRleCkuYXR0cigiaWQiKSl9fSkubWVudSgiaW5zdGFuY2UiKTt0aGlzLm1lbnVJbnN0YW5jZS5fb2ZmKHRoaXMubWVudSwibW91c2VsZWF2ZSIpO3RoaXMubWVudUluc3RhbmNlLl9jbG9zZU9uRG9jdW1lbnRDbGljaz1mdW5jdGlvbigpe3JldHVybiExfTt0aGlzLm1lbnVJbnN0YW5jZS5faXNEaXZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuITF9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaE1lbnUoKTt0aGlzLmJ1dHRvbkl0ZW0ucmVwbGFjZVdpdGgodGhpcy5idXR0b25JdGVtPXRoaXMuX3JlbmRlckJ1dHRvbkl0ZW0odGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkuZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIil8fHt9KSk7bnVsbD09PXRoaXMub3B0aW9ucy53aWR0aCYmdGhpcy5fcmVzaXplQnV0dG9uKCl9LF9yZWZyZXNoTWVudTpmdW5jdGlvbigpe3ZhciBuLHQ9dGhpcy5lbGVtZW50LmZpbmQoIm9wdGlvbiIpO3RoaXMubWVudS5lbXB0eSgpO3RoaXMuX3BhcnNlT3B0aW9ucyh0KTt0aGlzLl9yZW5kZXJNZW51KHRoaXMubWVudSx0aGlzLml0ZW1zKTt0aGlzLm1lbnVJbnN0YW5jZS5yZWZyZXNoKCk7dGhpcy5tZW51SXRlbXM9dGhpcy5tZW51LmZpbmQoImxpIikubm90KCIudWktc2VsZWN0bWVudS1vcHRncm91cCIpLmZpbmQoIi51aS1tZW51LWl0ZW0td3JhcHBlciIpO3RoaXMuX3JlbmRlcmVkPSEwO3QubGVuZ3RoJiYobj10aGlzLl9nZXRTZWxlY3RlZEl0ZW0oKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLG4pLHRoaXMuX3NldEFyaWEobi5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIikpKX0sb3BlbjpmdW5jdGlvbihuKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCh0aGlzLl9yZW5kZXJlZD8odGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5tZW51LmZpbmQoIi51aS1zdGF0ZS1hY3RpdmUiKSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpKSk6dGhpcy5fcmVmcmVzaE1lbnUoKSx0aGlzLm1lbnVJdGVtcy5sZW5ndGgmJih0aGlzLmlzT3Blbj0hMCx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5fcmVzaXplTWVudSgpLHRoaXMuX3Bvc2l0aW9uKCksdGhpcy5fb24odGhpcy5kb2N1bWVudCx0aGlzLl9kb2N1bWVudENsaWNrKSx0aGlzLl90cmlnZ2VyKCJvcGVuIixuKSkpfSxfcG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLm1lbnVXcmFwLnBvc2l0aW9uKG4uZXh0ZW5kKHsib2YiOnRoaXMuYnV0dG9ufSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKX0sY2xvc2U6ZnVuY3Rpb24obil7dGhpcy5pc09wZW4mJih0aGlzLmlzT3Blbj0hMSx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5yYW5nZT1udWxsLHRoaXMuX29mZih0aGlzLmRvY3VtZW50KSx0aGlzLl90cmlnZ2VyKCJjbG9zZSIsbikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idXR0b259LG1lbnVXaWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51fSxfcmVuZGVyQnV0dG9uSXRlbTpmdW5jdGlvbih0KXt2YXIgaT1uKCI8c3Bhbj4iKTtyZXR1cm4gdGhpcy5fc2V0VGV4dChpLHQubGFiZWwpLHRoaXMuX2FkZENsYXNzKGksInVpLXNlbGVjdG1lbnUtdGV4dCIpLGl9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpcyx1PSIiO24uZWFjaChpLGZ1bmN0aW9uKGksZil7dmFyIGU7Zi5vcHRncm91cCE9PXUmJihlPW4oIjxsaT4iLHt0ZXh0OmYub3B0Z3JvdXB9KSxyLl9hZGRDbGFzcyhlLCJ1aS1zZWxlY3RtZW51LW9wdGdyb3VwIiwidWktbWVudS1kaXZpZGVyIisoZi5lbGVtZW50LnBhcmVudCgib3B0Z3JvdXAiKS5wcm9wKCJkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSksZS5hcHBlbmRUbyh0KSx1PWYub3B0Z3JvdXApO3IuX3JlbmRlckl0ZW1EYXRhKHQsZil9KX0sX3JlbmRlckl0ZW1EYXRhOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0obix0KS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iLHQpfSxfcmVuZGVySXRlbTpmdW5jdGlvbih0LGkpe3ZhciByPW4oIjxsaT4iKSx1PW4oIjxkaXY+Iix7dGl0bGU6aS5lbGVtZW50LmF0dHIoInRpdGxlIil9KTtyZXR1cm4gaS5kaXNhYmxlZCYmdGhpcy5fYWRkQ2xhc3MocixudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuX3NldFRleHQodSxpLmxhYmVsKSxyLmFwcGVuZCh1KS5hcHBlbmRUbyh0KX0sX3NldFRleHQ6ZnVuY3Rpb24obix0KXt0P24udGV4dCh0KTpuLmh0bWwoIiYjMTYwOyIpfSxfbW92ZTpmdW5jdGlvbihuLHQpe3ZhciBpLHIsdT0iLnVpLW1lbnUtaXRlbSI7dGhpcy5pc09wZW4/aT10aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmZvY3VzSW5kZXgpLnBhcmVudCgibGkiKTooaT10aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCkucGFyZW50KCJsaSIpLHUrPSI6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkiKTtyPSJmaXJzdCI9PT1ufHwibGFzdCI9PT1uP2lbImZpcnN0Ij09PW4/InByZXZBbGwiOiJuZXh0QWxsIl0odSkuZXEoLTEpOmlbbisiQWxsIl0odSkuZXEoMCk7ci5sZW5ndGgmJnRoaXMubWVudUluc3RhbmNlLmZvY3VzKHQscil9LF9nZXRTZWxlY3RlZEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLnBhcmVudCgibGkiKX0sX3RvZ2dsZTpmdW5jdGlvbihuKXt0aGlzW3RoaXMuaXNPcGVuPyJjbG9zZSI6Im9wZW4iXShuKX0sX3NldFNlbGVjdGlvbjpmdW5jdGlvbigpe3ZhciBuO3RoaXMucmFuZ2UmJih3aW5kb3cuZ2V0U2VsZWN0aW9uPyhuPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxuLnJlbW92ZUFsbFJhbmdlcygpLG4uYWRkUmFuZ2UodGhpcy5yYW5nZSkpOnRoaXMucmFuZ2Uuc2VsZWN0KCksdGhpcy5idXR0b24uZm9jdXMoKSl9LF9kb2N1bWVudENsaWNrOnttb3VzZWRvd246ZnVuY3Rpb24odCl7dGhpcy5pc09wZW4mJihuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktc2VsZWN0bWVudS1tZW51LCAjIituLnVpLmVzY2FwZVNlbGVjdG9yKHRoaXMuaWRzLmJ1dHRvbikpLmxlbmd0aHx8dGhpcy5jbG9zZSh0KSl9fSxfYnV0dG9uRXZlbnRzOnttb3VzZWRvd246ZnVuY3Rpb24oKXt2YXIgbjt3aW5kb3cuZ2V0U2VsZWN0aW9uPyhuPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxuLnJhbmdlQ291bnQmJih0aGlzLnJhbmdlPW4uZ2V0UmFuZ2VBdCgwKSkpOnRoaXMucmFuZ2U9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCl9LGNsaWNrOmZ1bmN0aW9uKG4pe3RoaXMuX3NldFNlbGVjdGlvbigpO3RoaXMuX3RvZ2dsZShuKX0sa2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgaT0hMDtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5UQUI6Y2FzZSBuLnVpLmtleUNvZGUuRVNDQVBFOnRoaXMuY2xvc2UodCk7aT0hMTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTlRFUjp0aGlzLmlzT3BlbiYmdGhpcy5fc2VsZWN0Rm9jdXNlZEl0ZW0odCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuVVA6dC5hbHRLZXk/dGhpcy5fdG9nZ2xlKHQpOnRoaXMuX21vdmUoInByZXYiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkRPV046dC5hbHRLZXk/dGhpcy5fdG9nZ2xlKHQpOnRoaXMuX21vdmUoIm5leHQiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlNQQUNFOnRoaXMuaXNPcGVuP3RoaXMuX3NlbGVjdEZvY3VzZWRJdGVtKHQpOnRoaXMuX3RvZ2dsZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5MRUZUOnRoaXMuX21vdmUoInByZXYiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOnRoaXMuX21vdmUoIm5leHQiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9VUDp0aGlzLl9tb3ZlKCJmaXJzdCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5EOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjp0aGlzLl9tb3ZlKCJsYXN0Iix0KTticmVhaztkZWZhdWx0OnRoaXMubWVudS50cmlnZ2VyKHQpO2k9ITF9aSYmdC5wcmV2ZW50RGVmYXVsdCgpfX0sX3NlbGVjdEZvY3VzZWRJdGVtOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMubWVudUl0ZW1zLmVxKHRoaXMuZm9jdXNJbmRleCkucGFyZW50KCJsaSIpO3QuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fHRoaXMuX3NlbGVjdCh0LmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpLG4pfSxfc2VsZWN0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg7dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg9bi5pbmRleDt0aGlzLmJ1dHRvbkl0ZW0ucmVwbGFjZVdpdGgodGhpcy5idXR0b25JdGVtPXRoaXMuX3JlbmRlckJ1dHRvbkl0ZW0obikpO3RoaXMuX3NldEFyaWEobik7dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LHtpdGVtOm59KTtuLmluZGV4IT09aSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHtpdGVtOm59KTt0aGlzLmNsb3NlKHQpfSxfc2V0QXJpYTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLm1lbnVJdGVtcy5lcShuLmluZGV4KS5hdHRyKCJpZCIpO3RoaXMuYnV0dG9uLmF0dHIoeyJhcmlhLWxhYmVsbGVkYnkiOnQsImFyaWEtYWN0aXZlZGVzY2VuZGFudCI6dH0pO3RoaXMubWVudS5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7aWYoImljb25zIj09PW4pe3ZhciBpPXRoaXMuYnV0dG9uLmZpbmQoInNwYW4udWktaWNvbiIpO3RoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuYnV0dG9uKS5fYWRkQ2xhc3MoaSxudWxsLHQuYnV0dG9uKX10aGlzLl9zdXBlcihuLHQpOyJhcHBlbmRUbyI9PT1uJiZ0aGlzLm1lbnVXcmFwLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpOyJ3aWR0aCI9PT1uJiZ0aGlzLl9yZXNpemVCdXR0b24oKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pO3RoaXMubWVudUluc3RhbmNlLm9wdGlvbigiZGlzYWJsZWQiLG4pO3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuYnV0dG9uLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIixuKTt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLG4pO24/KHRoaXMuYnV0dG9uLmF0dHIoInRhYmluZGV4IiwtMSksdGhpcy5jbG9zZSgpKTp0aGlzLmJ1dHRvbi5hdHRyKCJ0YWJpbmRleCIsMCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gdCYmKHQ9dC5qcXVlcnl8fHQubm9kZVR5cGU/bih0KTp0aGlzLmRvY3VtZW50LmZpbmQodCkuZXEoMCkpLHQmJnRbMF18fCh0PXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktZnJvbnQsIGRpYWxvZyIpKSx0Lmxlbmd0aHx8KHQ9dGhpcy5kb2N1bWVudFswXS5ib2R5KSx0fSxfdG9nZ2xlQXR0cjpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZXhwYW5kZWQiLHRoaXMuaXNPcGVuKTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmJ1dHRvbiwidWktc2VsZWN0bWVudS1idXR0b24tIisodGhpcy5pc09wZW4/ImNsb3NlZCI6Im9wZW4iKSkuX2FkZENsYXNzKHRoaXMuYnV0dG9uLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi0iKyh0aGlzLmlzT3Blbj8ib3BlbiI6ImNsb3NlZCIpKS5fdG9nZ2xlQ2xhc3ModGhpcy5tZW51V3JhcCwidWktc2VsZWN0bWVudS1vcGVuIixudWxsLHRoaXMuaXNPcGVuKTt0aGlzLm1lbnUuYXR0cigiYXJpYS1oaWRkZW4iLCF0aGlzLmlzT3Blbil9LF9yZXNpemVCdXR0b246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMud2lkdGg7cmV0dXJuIG49PT0hMT8odGhpcy5idXR0b24uY3NzKCJ3aWR0aCIsIiIpLHZvaWQgMCk6KG51bGw9PT1uJiYobj10aGlzLmVsZW1lbnQuc2hvdygpLm91dGVyV2lkdGgoKSx0aGlzLmVsZW1lbnQuaGlkZSgpKSx0aGlzLmJ1dHRvbi5vdXRlcldpZHRoKG4pLHZvaWQgMCl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dGhpcy5tZW51Lm91dGVyV2lkdGgoTWF0aC5tYXgodGhpcy5idXR0b24ub3V0ZXJXaWR0aCgpLHRoaXMubWVudS53aWR0aCgiIikub3V0ZXJXaWR0aCgpKzEpKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9zdXBlcigpO3JldHVybiBuLmRpc2FibGVkPXRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpLG59LF9wYXJzZU9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPVtdO3QuZWFjaChmdW5jdGlvbih0LHUpe2kucHVzaChyLl9wYXJzZU9wdGlvbihuKHUpLHQpKX0pO3RoaXMuaXRlbXM9aX0sX3BhcnNlT3B0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGk9bi5wYXJlbnQoIm9wdGdyb3VwIik7cmV0dXJue2VsZW1lbnQ6bixpbmRleDp0LHZhbHVlOm4udmFsKCksbGFiZWw6bi50ZXh0KCksb3B0Z3JvdXA6aS5hdHRyKCJsYWJlbCIpfHwiIixkaXNhYmxlZDppLnByb3AoImRpc2FibGVkIil8fG4ucHJvcCgiZGlzYWJsZWQiKX19LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fdW5iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMubWVudVdyYXAucmVtb3ZlKCk7dGhpcy5idXR0b24ucmVtb3ZlKCk7dGhpcy5lbGVtZW50LnNob3coKTt0aGlzLmVsZW1lbnQucmVtb3ZlVW5pcXVlSWQoKTt0aGlzLmxhYmVscy5hdHRyKCJmb3IiLHRoaXMuaWRzLmVsZW1lbnQpfX1dKTtuLndpZGdldCgidWkuc2xpZGVyIixuLnVpLm1vdXNlLHt2ZXJzaW9uOiIxLjEyLjEiLHdpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7YW5pbWF0ZTohMSxjbGFzc2VzOnsidWktc2xpZGVyIjoidWktY29ybmVyLWFsbCIsInVpLXNsaWRlci1oYW5kbGUiOiJ1aS1jb3JuZXItYWxsIiwidWktc2xpZGVyLXJhbmdlIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtaGVhZGVyIn0sZGlzdGFuY2U6MCxtYXg6MTAwLG1pbjowLG9yaWVudGF0aW9uOiJob3Jpem9udGFsIixyYW5nZTohMSxzdGVwOjEsdmFsdWU6MCx2YWx1ZXM6bnVsbCxjaGFuZ2U6bnVsbCxzbGlkZTpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxudW1QYWdlczo1LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nPSExO3RoaXMuX21vdXNlU2xpZGluZz0hMTt0aGlzLl9hbmltYXRlT2ZmPSEwO3RoaXMuX2hhbmRsZUluZGV4PW51bGw7dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTt0aGlzLl9tb3VzZUluaXQoKTt0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTt0aGlzLl9hZGRDbGFzcygidWktc2xpZGVyIHVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24sInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX3JlZnJlc2goKTt0aGlzLl9hbmltYXRlT2ZmPSExfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX2NyZWF0ZVJhbmdlKCk7dGhpcy5fY3JlYXRlSGFuZGxlcygpO3RoaXMuX3NldHVwRXZlbnRzKCk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9jcmVhdGVIYW5kbGVzOmZ1bmN0aW9uKCl7dmFyIHIsaSx1PXRoaXMub3B0aW9ucyx0PXRoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWhhbmRsZSIpLGY9W107Zm9yKGk9dS52YWx1ZXMmJnUudmFsdWVzLmxlbmd0aHx8MSx0Lmxlbmd0aD5pJiYodC5zbGljZShpKS5yZW1vdmUoKSx0PXQuc2xpY2UoMCxpKSkscj10Lmxlbmd0aDtpPnI7cisrKWYucHVzaCgiPHNwYW4gdGFiaW5kZXg9JzAnPjxcL3NwYW4+Iik7dGhpcy5oYW5kbGVzPXQuYWRkKG4oZi5qb2luKCIiKSkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5oYW5kbGVzLCJ1aS1zbGlkZXItaGFuZGxlIiwidWktc3RhdGUtZGVmYXVsdCIpO3RoaXMuaGFuZGxlPXRoaXMuaGFuZGxlcy5lcSgwKTt0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiLHQpLmF0dHIoInRhYkluZGV4IiwwKX0pfSxfY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5yYW5nZT8odC5yYW5nZT09PSEwJiYodC52YWx1ZXM/dC52YWx1ZXMubGVuZ3RoJiYyIT09dC52YWx1ZXMubGVuZ3RoP3QudmFsdWVzPVt0LnZhbHVlc1swXSx0LnZhbHVlc1swXV06bi5pc0FycmF5KHQudmFsdWVzKSYmKHQudmFsdWVzPXQudmFsdWVzLnNsaWNlKDApKTp0LnZhbHVlcz1bdGhpcy5fdmFsdWVNaW4oKSx0aGlzLl92YWx1ZU1pbigpXSksdGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5sZW5ndGg/KHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZS1taW4gdWktc2xpZGVyLXJhbmdlLW1heCIpLHRoaXMucmFuZ2UuY3NzKHtsZWZ0OiIiLGJvdHRvbToiIn0pKToodGhpcy5yYW5nZT1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCksdGhpcy5fYWRkQ2xhc3ModGhpcy5yYW5nZSwidWktc2xpZGVyLXJhbmdlIikpLCgibWluIj09PXQucmFuZ2V8fCJtYXgiPT09dC5yYW5nZSkmJnRoaXMuX2FkZENsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZS0iK3QucmFuZ2UpKToodGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5yZW1vdmUoKSx0aGlzLnJhbmdlPW51bGwpfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5oYW5kbGVzKTt0aGlzLl9vbih0aGlzLmhhbmRsZXMsdGhpcy5faGFuZGxlRXZlbnRzKTt0aGlzLl9ob3ZlcmFibGUodGhpcy5oYW5kbGVzKTt0aGlzLl9mb2N1c2FibGUodGhpcy5oYW5kbGVzKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXMucmVtb3ZlKCk7dGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5yZW1vdmUoKTt0aGlzLl9tb3VzZURlc3Ryb3koKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgcyxmLHIsaSx1LGgsZSxjLG89dGhpcyxsPXRoaXMub3B0aW9ucztyZXR1cm4gbC5kaXNhYmxlZD8hMToodGhpcy5lbGVtZW50U2l6ZT17d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCl9LHRoaXMuZWxlbWVudE9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCkscz17eDp0LnBhZ2VYLHk6dC5wYWdlWX0sZj10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2Uocykscj10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkrMSx0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmFicyhmLW8udmFsdWVzKHQpKTsocj5lfHxyPT09ZSYmKHQ9PT1vLl9sYXN0Q2hhbmdlZFZhbHVlfHxvLnZhbHVlcyh0KT09PWwubWluKSkmJihyPWUsaT1uKHRoaXMpLHU9dCl9KSxoPXRoaXMuX3N0YXJ0KHQsdSksaD09PSExPyExOih0aGlzLl9tb3VzZVNsaWRpbmc9ITAsdGhpcy5faGFuZGxlSW5kZXg9dSx0aGlzLl9hZGRDbGFzcyhpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLGkudHJpZ2dlcigiZm9jdXMiKSxlPWkub2Zmc2V0KCksYz0hbih0LnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5pcygiLnVpLXNsaWRlci1oYW5kbGUiKSx0aGlzLl9jbGlja09mZnNldD1jP3tsZWZ0OjAsdG9wOjB9OntsZWZ0OnQucGFnZVgtZS5sZWZ0LWkud2lkdGgoKS8yLHRvcDp0LnBhZ2VZLWUudG9wLWkuaGVpZ2h0KCkvMi0ocGFyc2VJbnQoaS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoaS5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoaS5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCl9LHRoaXMuaGFuZGxlcy5oYXNDbGFzcygidWktc3RhdGUtaG92ZXIiKXx8dGhpcy5fc2xpZGUodCx1LGYpLHRoaXMuX2FuaW1hdGVPZmY9ITAsITApKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sX21vdXNlRHJhZzpmdW5jdGlvbihuKXt2YXIgdD17eDpuLnBhZ2VYLHk6bi5wYWdlWX0saT10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UodCk7cmV0dXJuIHRoaXMuX3NsaWRlKG4sdGhpcy5faGFuZGxlSW5kZXgsaSksITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGFuZGxlcyxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLl9tb3VzZVNsaWRpbmc9ITEsdGhpcy5fc3RvcChuLHRoaXMuX2hhbmRsZUluZGV4KSx0aGlzLl9jaGFuZ2Uobix0aGlzLl9oYW5kbGVJbmRleCksdGhpcy5faGFuZGxlSW5kZXg9bnVsbCx0aGlzLl9jbGlja09mZnNldD1udWxsLHRoaXMuX2FuaW1hdGVPZmY9ITEsITF9LF9kZXRlY3RPcmllbnRhdGlvbjpmdW5jdGlvbigpe3RoaXMub3JpZW50YXRpb249InZlcnRpY2FsIj09PXRoaXMub3B0aW9ucy5vcmllbnRhdGlvbj8idmVydGljYWwiOiJob3Jpem9udGFsIn0sX25vcm1WYWx1ZUZyb21Nb3VzZTpmdW5jdGlvbihuKXt2YXIgaSxyLHQsdSxmO3JldHVybiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/KGk9dGhpcy5lbGVtZW50U2l6ZS53aWR0aCxyPW4ueC10aGlzLmVsZW1lbnRPZmZzZXQubGVmdC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQubGVmdDowKSk6KGk9dGhpcy5lbGVtZW50U2l6ZS5oZWlnaHQscj1uLnktdGhpcy5lbGVtZW50T2Zmc2V0LnRvcC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQudG9wOjApKSx0PXIvaSx0PjEmJih0PTEpLDA+dCYmKHQ9MCksInZlcnRpY2FsIj09PXRoaXMub3JpZW50YXRpb24mJih0PTEtdCksdT10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCksZj10aGlzLl92YWx1ZU1pbigpK3QqdSx0aGlzLl90cmltQWxpZ25WYWx1ZShmKX0sX3VpSGFzaDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9e2hhbmRsZTp0aGlzLmhhbmRsZXNbbl0saGFuZGxlSW5kZXg6bix2YWx1ZTp2b2lkIDAhPT10P3Q6dGhpcy52YWx1ZSgpfTtyZXR1cm4gdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKHIudmFsdWU9dm9pZCAwIT09dD90OnRoaXMudmFsdWVzKG4pLHIudmFsdWVzPWl8fHRoaXMudmFsdWVzKCkpLHJ9LF9oYXNNdWx0aXBsZVZhbHVlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aH0sX3N0YXJ0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoInN0YXJ0IixuLHRoaXMuX3VpSGFzaCh0KSl9LF9zbGlkZTpmdW5jdGlvbihuLHQsaSl7dmFyIHUscixmPXRoaXMudmFsdWUoKSxlPXRoaXMudmFsdWVzKCk7dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKHI9dGhpcy52YWx1ZXModD8wOjEpLGY9dGhpcy52YWx1ZXModCksMj09PXRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoJiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKGk9MD09PXQ/TWF0aC5taW4ocixpKTpNYXRoLm1heChyLGkpKSxlW3RdPWkpO2khPT1mJiYodT10aGlzLl90cmlnZ2VyKCJzbGlkZSIsbix0aGlzLl91aUhhc2godCxpLGUpKSx1IT09ITEmJih0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMudmFsdWVzKHQsaSk6dGhpcy52YWx1ZShpKSkpfSxfc3RvcDpmdW5jdGlvbihuLHQpe3RoaXMuX3RyaWdnZXIoInN0b3AiLG4sdGhpcy5fdWlIYXNoKHQpKX0sX2NoYW5nZTpmdW5jdGlvbihuLHQpe3RoaXMuX2tleVNsaWRpbmd8fHRoaXMuX21vdXNlU2xpZGluZ3x8KHRoaXMuX2xhc3RDaGFuZ2VkVmFsdWU9dCx0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLG4sdGhpcy5fdWlIYXNoKHQpKSl9LHZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fdHJpbUFsaWduVmFsdWUobiksdGhpcy5fcmVmcmVzaFZhbHVlKCksdGhpcy5fY2hhbmdlKG51bGwsMCksdm9pZCAwKTp0aGlzLl92YWx1ZSgpfSx2YWx1ZXM6ZnVuY3Rpb24odCxpKXt2YXIgdSxmLHI7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXJldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzW3RdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGkpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuX2NoYW5nZShudWxsLHQpLHZvaWQgMDtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fdmFsdWVzKCk7aWYoIW4uaXNBcnJheShhcmd1bWVudHNbMF0pKXJldHVybiB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMuX3ZhbHVlcyh0KTp0aGlzLnZhbHVlKCk7Zm9yKHU9dGhpcy5vcHRpb25zLnZhbHVlcyxmPWFyZ3VtZW50c1swXSxyPTA7dS5sZW5ndGg+cjtyKz0xKXVbcl09dGhpcy5fdHJpbUFsaWduVmFsdWUoZltyXSksdGhpcy5fY2hhbmdlKG51bGwscik7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcix1PTA7c3dpdGNoKCJyYW5nZSI9PT10JiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKCJtaW4iPT09aT8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3ZhbHVlcygwKSx0aGlzLm9wdGlvbnMudmFsdWVzPW51bGwpOiJtYXgiPT09aSYmKHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXModGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgtMSksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKSksbi5pc0FycmF5KHRoaXMub3B0aW9ucy52YWx1ZXMpJiYodT10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCksdGhpcy5fc3VwZXIodCxpKSx0KXtjYXNlIm9yaWVudGF0aW9uIjp0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpO3RoaXMuX3JlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWwiKS5fYWRkQ2xhc3MoInVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24pO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO3RoaXMub3B0aW9ucy5yYW5nZSYmdGhpcy5fcmVmcmVzaFJhbmdlKGkpO3RoaXMuaGFuZGxlcy5jc3MoImhvcml6b250YWwiPT09aT8iYm90dG9tIjoibGVmdCIsIiIpO2JyZWFrO2Nhc2UidmFsdWUiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fcmVmcmVzaFZhbHVlKCk7dGhpcy5fY2hhbmdlKG51bGwsMCk7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInZhbHVlcyI6Zm9yKHRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fcmVmcmVzaFZhbHVlKCkscj11LTE7cj49MDtyLS0pdGhpcy5fY2hhbmdlKG51bGwscik7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInN0ZXAiOmNhc2UibWluIjpjYXNlIm1heCI6dGhpcy5fYW5pbWF0ZU9mZj0hMDt0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9hbmltYXRlT2ZmPSExO2JyZWFrO2Nhc2UicmFuZ2UiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fcmVmcmVzaCgpO3RoaXMuX2FuaW1hdGVPZmY9ITF9fSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LF92YWx1ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucy52YWx1ZTtyZXR1cm4gdGhpcy5fdHJpbUFsaWduVmFsdWUobil9LF92YWx1ZXM6ZnVuY3Rpb24obil7dmFyIHIsdCxpO2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHI9dGhpcy5vcHRpb25zLnZhbHVlc1tuXSxyPXRoaXMuX3RyaW1BbGlnblZhbHVlKHIpO2lmKHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkpe2Zvcih0PXRoaXMub3B0aW9ucy52YWx1ZXMuc2xpY2UoKSxpPTA7dC5sZW5ndGg+aTtpKz0xKXRbaV09dGhpcy5fdHJpbUFsaWduVmFsdWUodFtpXSk7cmV0dXJuIHR9cmV0dXJuW119LF90cmltQWxpZ25WYWx1ZTpmdW5jdGlvbihuKXtpZih0aGlzLl92YWx1ZU1pbigpPj1uKXJldHVybiB0aGlzLl92YWx1ZU1pbigpO2lmKG4+PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuIHRoaXMuX3ZhbHVlTWF4KCk7dmFyIHQ9dGhpcy5vcHRpb25zLnN0ZXA+MD90aGlzLm9wdGlvbnMuc3RlcDoxLGk9KG4tdGhpcy5fdmFsdWVNaW4oKSkldCxyPW4taTtyZXR1cm4gMipNYXRoLmFicyhpKT49dCYmKHIrPWk+MD90Oi10KSxwYXJzZUZsb2F0KHIudG9GaXhlZCg1KSl9LF9jYWxjdWxhdGVOZXdNYXg6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMubWF4LGk9dGhpcy5fdmFsdWVNaW4oKSx0PXRoaXMub3B0aW9ucy5zdGVwLHI9TWF0aC5yb3VuZCgobi1pKS90KSp0O249citpO24+dGhpcy5vcHRpb25zLm1heCYmKG4tPXQpO3RoaXMubWF4PXBhcnNlRmxvYXQobi50b0ZpeGVkKHRoaXMuX3ByZWNpc2lvbigpKSl9LF9wcmVjaXNpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMuc3RlcCk7cmV0dXJuIG51bGwhPT10aGlzLm9wdGlvbnMubWluJiYobj1NYXRoLm1heChuLHRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5taW4pKSksbn0sX3ByZWNpc2lvbk9mOmZ1bmN0aW9uKG4pe3ZhciB0PSIiK24saT10LmluZGV4T2YoIi4iKTtyZXR1cm4tMT09PWk/MDp0Lmxlbmd0aC1pLTF9LF92YWx1ZU1pbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubWlufSxfdmFsdWVNYXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXh9LF9yZWZyZXNoUmFuZ2U6ZnVuY3Rpb24obil7InZlcnRpY2FsIj09PW4mJnRoaXMucmFuZ2UuY3NzKHt3aWR0aDoiIixsZWZ0OiIifSk7Imhvcml6b250YWwiPT09biYmdGhpcy5yYW5nZS5jc3Moe2hlaWdodDoiIixib3R0b206IiJ9KX0sX3JlZnJlc2hWYWx1ZTpmdW5jdGlvbigpe3ZhciBzLHQsYyxmLGgsZT10aGlzLm9wdGlvbnMucmFuZ2UsaT10aGlzLm9wdGlvbnMscj10aGlzLHU9dGhpcy5fYW5pbWF0ZU9mZj8hMTppLmFuaW1hdGUsbz17fTt0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKGYpe3Q9MTAwKigoci52YWx1ZXMoZiktci5fdmFsdWVNaW4oKSkvKHIuX3ZhbHVlTWF4KCktci5fdmFsdWVNaW4oKSkpO29bImhvcml6b250YWwiPT09ci5vcmllbnRhdGlvbj8ibGVmdCI6ImJvdHRvbSJdPXQrIiUiO24odGhpcykuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXShvLGkuYW5pbWF0ZSk7ci5vcHRpb25zLnJhbmdlPT09ITAmJigiaG9yaXpvbnRhbCI9PT1yLm9yaWVudGF0aW9uPygwPT09ZiYmci5yYW5nZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKHtsZWZ0OnQrIiUifSxpLmFuaW1hdGUpLDE9PT1mJiZyLnJhbmdlW3U/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6dC1zKyIlIn0se3F1ZXVlOiExLGR1cmF0aW9uOmkuYW5pbWF0ZX0pKTooMD09PWYmJnIucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7Ym90dG9tOnQrIiUifSxpLmFuaW1hdGUpLDE9PT1mJiZyLnJhbmdlW3U/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OnQtcysiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjppLmFuaW1hdGV9KSkpO3M9dH0pOihjPXRoaXMudmFsdWUoKSxmPXRoaXMuX3ZhbHVlTWluKCksaD10aGlzLl92YWx1ZU1heCgpLHQ9aCE9PWY/MTAwKigoYy1mKS8oaC1mKSk6MCxvWyJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/ImxlZnQiOiJib3R0b20iXT10KyIlIix0aGlzLmhhbmRsZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKG8saS5hbmltYXRlKSwibWluIj09PWUmJiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6dCsiJSJ9LGkuYW5pbWF0ZSksIm1heCI9PT1lJiYiaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOjEwMC10KyIlIn0saS5hbmltYXRlKSwibWluIj09PWUmJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDp0KyIlIn0saS5hbmltYXRlKSwibWF4Ij09PWUmJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDoxMDAtdCsiJSJ9LGkuYW5pbWF0ZSkpfSxfaGFuZGxlRXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBlLHIsaSx1LGY9bih0LnRhcmdldCkuZGF0YSgidWktc2xpZGVyLWhhbmRsZS1pbmRleCIpO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6Y2FzZSBuLnVpLmtleUNvZGUuRU5EOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9ET1dOOmNhc2Ugbi51aS5rZXlDb2RlLlVQOmNhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOmNhc2Ugbi51aS5rZXlDb2RlLkRPV046Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDppZih0LnByZXZlbnREZWZhdWx0KCksIXRoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuX2FkZENsYXNzKG4odC50YXJnZXQpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLGU9dGhpcy5fc3RhcnQodCxmKSxlPT09ITEpKXJldHVybn1zd2l0Y2godT10aGlzLm9wdGlvbnMuc3RlcCxyPWk9dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLnZhbHVlcyhmKTp0aGlzLnZhbHVlKCksdC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5IT01FOmk9dGhpcy5fdmFsdWVNaW4oKTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTkQ6aT10aGlzLl92YWx1ZU1heCgpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6aT10aGlzLl90cmltQWxpZ25WYWx1ZShyKyh0aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkpL3RoaXMubnVtUGFnZXMpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjppPXRoaXMuX3RyaW1BbGlnblZhbHVlKHItKHRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSkvdGhpcy5udW1QYWdlcyk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuVVA6Y2FzZSBuLnVpLmtleUNvZGUuUklHSFQ6aWYocj09PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUocit1KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5ET1dOOmNhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6aWYocj09PXRoaXMuX3ZhbHVlTWluKCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUoci11KX10aGlzLl9zbGlkZSh0LGYsaSl9LGtleXVwOmZ1bmN0aW9uKHQpe3ZhciBpPW4odC50YXJnZXQpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiKTt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLl9zdG9wKHQsaSksdGhpcy5fY2hhbmdlKHQsaSksdGhpcy5fcmVtb3ZlQ2xhc3Mobih0LnRhcmdldCksbnVsbCwidWktc3RhdGUtYWN0aXZlIikpfX19KTtuLndpZGdldCgidWkuc29ydGFibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6InNvcnQiLHJlYWR5OiExLG9wdGlvbnM6e2FwcGVuZFRvOiJwYXJlbnQiLGF4aXM6ITEsY29ubmVjdFdpdGg6ITEsY29udGFpbm1lbnQ6ITEsY3Vyc29yOiJhdXRvIixjdXJzb3JBdDohMSxkcm9wT25FbXB0eTohMCxmb3JjZVBsYWNlaG9sZGVyU2l6ZTohMSxmb3JjZUhlbHBlclNpemU6ITEsZ3JpZDohMSxoYW5kbGU6ITEsaGVscGVyOiJvcmlnaW5hbCIsaXRlbXM6Ij4gKiIsb3BhY2l0eTohMSxwbGFjZWhvbGRlcjohMSxyZXZlcnQ6ITEsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNjb3BlOiJkZWZhdWx0Iix0b2xlcmFuY2U6ImludGVyc2VjdCIsekluZGV4OjFlMyxhY3RpdmF0ZTpudWxsLGJlZm9yZVN0b3A6bnVsbCxjaGFuZ2U6bnVsbCxkZWFjdGl2YXRlOm51bGwsb3V0Om51bGwsb3ZlcjpudWxsLHJlY2VpdmU6bnVsbCxyZW1vdmU6bnVsbCxzb3J0Om51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdXBkYXRlOm51bGx9LF9pc092ZXJBeGlzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gbj49dCYmdCtpPm59LF9pc0Zsb2F0aW5nOmZ1bmN0aW9uKG4pe3JldHVybi9sZWZ0fHJpZ2h0Ly50ZXN0KG4uY3NzKCJmbG9hdCIpKXx8L2lubGluZXx0YWJsZS1jZWxsLy50ZXN0KG4uY3NzKCJkaXNwbGF5IikpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXJDYWNoZT17fTt0aGlzLl9hZGRDbGFzcygidWktc29ydGFibGUiKTt0aGlzLnJlZnJlc2goKTt0aGlzLm9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCk7dGhpcy5fbW91c2VJbml0KCk7dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7dGhpcy5yZWFkeT0hMH0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3RoaXMuX3N1cGVyKG4sdCk7ImhhbmRsZSI9PT1uJiZ0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKX0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LmZpbmQoIi51aS1zb3J0YWJsZS1oYW5kbGUiKSwidWktc29ydGFibGUtaGFuZGxlIik7bi5lYWNoKHRoaXMuaXRlbXMsZnVuY3Rpb24oKXt0Ll9hZGRDbGFzcyh0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlP3RoaXMuaXRlbS5maW5kKHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGUpOnRoaXMuaXRlbSwidWktc29ydGFibGUtaGFuZGxlIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZURlc3Ryb3koKTtmb3IodmFyIG49dGhpcy5pdGVtcy5sZW5ndGgtMTtuPj0wO24tLSl0aGlzLml0ZW1zW25dLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIik7cmV0dXJuIHRoaXN9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCxpKXt2YXIgcj1udWxsLGY9ITEsdT10aGlzO3JldHVybiB0aGlzLnJldmVydGluZz8hMTp0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCJzdGF0aWMiPT09dGhpcy5vcHRpb25zLnR5cGU/ITE6KHRoaXMuX3JlZnJlc2hJdGVtcyh0KSxuKHQudGFyZ2V0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe2lmKG4uZGF0YSh0aGlzLHUud2lkZ2V0TmFtZSsiLWl0ZW0iKT09PXUpcmV0dXJuKHI9bih0aGlzKSwhMSl9KSxuLmRhdGEodC50YXJnZXQsdS53aWRnZXROYW1lKyItaXRlbSIpPT09dSYmKHI9bih0LnRhcmdldCkpLHI/IXRoaXMub3B0aW9ucy5oYW5kbGV8fGl8fChuKHRoaXMub3B0aW9ucy5oYW5kbGUscikuZmluZCgiKiIpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcz09PXQudGFyZ2V0JiYoZj0hMCl9KSxmKT8odGhpcy5jdXJyZW50SXRlbT1yLHRoaXMuX3JlbW92ZUN1cnJlbnRzRnJvbUl0ZW1zKCksITApOiExOiExKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciBmLGUsdT10aGlzLm9wdGlvbnM7aWYodGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMsdGhpcy5yZWZyZXNoUG9zaXRpb25zKCksdGhpcy5oZWxwZXI9dGhpcy5fY3JlYXRlSGVscGVyKHQpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSx0aGlzLl9jYWNoZU1hcmdpbnMoKSx0aGlzLnNjcm9sbFBhcmVudD10aGlzLmhlbHBlci5zY3JvbGxQYXJlbnQoKSx0aGlzLm9mZnNldD10aGlzLmN1cnJlbnRJdGVtLm9mZnNldCgpLHRoaXMub2Zmc2V0PXt0b3A6dGhpcy5vZmZzZXQudG9wLXRoaXMubWFyZ2lucy50b3AsbGVmdDp0aGlzLm9mZnNldC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0fSxuLmV4dGVuZCh0aGlzLm9mZnNldCx7Y2xpY2s6e2xlZnQ6dC5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDp0LnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH0scGFyZW50OnRoaXMuX2dldFBhcmVudE9mZnNldCgpLHJlbGF0aXZlOnRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCl9KSx0aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKSx0aGlzLmNzc1Bvc2l0aW9uPXRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iKSx0aGlzLm9yaWdpbmFsUG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0KSx0aGlzLm9yaWdpbmFsUGFnZVg9dC5wYWdlWCx0aGlzLm9yaWdpbmFsUGFnZVk9dC5wYWdlWSx1LmN1cnNvckF0JiZ0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKHUuY3Vyc29yQXQpLHRoaXMuZG9tUG9zaXRpb249e3ByZXY6dGhpcy5jdXJyZW50SXRlbS5wcmV2KClbMF0scGFyZW50OnRoaXMuY3VycmVudEl0ZW0ucGFyZW50KClbMF19LHRoaXMuaGVscGVyWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5jdXJyZW50SXRlbS5oaWRlKCksdGhpcy5fY3JlYXRlUGxhY2Vob2xkZXIoKSx1LmNvbnRhaW5tZW50JiZ0aGlzLl9zZXRDb250YWlubWVudCgpLHUuY3Vyc29yJiYiYXV0byIhPT11LmN1cnNvciYmKGU9dGhpcy5kb2N1bWVudC5maW5kKCJib2R5IiksdGhpcy5zdG9yZWRDdXJzb3I9ZS5jc3MoImN1cnNvciIpLGUuY3NzKCJjdXJzb3IiLHUuY3Vyc29yKSx0aGlzLnN0b3JlZFN0eWxlc2hlZXQ9bigiPHN0eWxlPip7IGN1cnNvcjogIit1LmN1cnNvcisiICFpbXBvcnRhbnQ7IH08XC9zdHlsZT4iKS5hcHBlbmRUbyhlKSksdS5vcGFjaXR5JiYodGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5IikmJih0aGlzLl9zdG9yZWRPcGFjaXR5PXRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpKSx0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiLHUub3BhY2l0eSkpLHUuekluZGV4JiYodGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiKSYmKHRoaXMuX3N0b3JlZFpJbmRleD10aGlzLmhlbHBlci5jc3MoInpJbmRleCIpKSx0aGlzLmhlbHBlci5jc3MoInpJbmRleCIsdS56SW5kZXgpKSx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJiJIVE1MIiE9PXRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUmJih0aGlzLm92ZXJmbG93T2Zmc2V0PXRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5fcHJlc2VydmVIZWxwZXJQcm9wb3J0aW9uc3x8dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLCFyKWZvcihmPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtmPj0wO2YtLSl0aGlzLmNvbnRhaW5lcnNbZl0uX3RyaWdnZXIoImFjdGl2YXRlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7cmV0dXJuIG4udWkuZGRtYW5hZ2VyJiYobi51aS5kZG1hbmFnZXIuY3VycmVudD10aGlzKSxuLnVpLmRkbWFuYWdlciYmIXUuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyx0KSx0aGlzLmRyYWdnaW5nPSEwLHRoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKSx0aGlzLl9tb3VzZURyYWcodCksITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIGUsdSxmLG8saT10aGlzLm9wdGlvbnMscj0hMTtmb3IodGhpcy5wb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKHQpLHRoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIiksdGhpcy5sYXN0UG9zaXRpb25BYnN8fCh0aGlzLmxhc3RQb3NpdGlvbkFicz10aGlzLnBvc2l0aW9uQWJzKSx0aGlzLm9wdGlvbnMuc2Nyb2xsJiYodGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiYiSFRNTCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lPyh0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtdC5wYWdlWTxpLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCtpLnNjcm9sbFNwZWVkOnQucGFnZVktdGhpcy5vdmVyZmxvd09mZnNldC50b3A8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1pLnNjcm9sbFNwZWVkKSx0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQrdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgtdC5wYWdlWDxpLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0K2kuc2Nyb2xsU3BlZWQ6dC5wYWdlWC10aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQ8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LWkuc2Nyb2xsU3BlZWQpKToodC5wYWdlWS10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpPGkuc2Nyb2xsU2Vuc2l0aXZpdHk/cj10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpLWkuc2Nyb2xsU3BlZWQpOnRoaXMud2luZG93LmhlaWdodCgpLSh0LnBhZ2VZLXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkpPGkuc2Nyb2xsU2Vuc2l0aXZpdHkmJihyPXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkraS5zY3JvbGxTcGVlZCkpLHQucGFnZVgtdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCk8aS5zY3JvbGxTZW5zaXRpdml0eT9yPXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKS1pLnNjcm9sbFNwZWVkKTp0aGlzLndpbmRvdy53aWR0aCgpLSh0LnBhZ2VYLXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpKTxpLnNjcm9sbFNlbnNpdGl2aXR5JiYocj10aGlzLmRvY3VtZW50LnNjcm9sbExlZnQodGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkraS5zY3JvbGxTcGVlZCkpKSxyIT09ITEmJm4udWkuZGRtYW5hZ2VyJiYhaS5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHRoaXMub3B0aW9ucy5heGlzJiYieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8KHRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIpLHRoaXMub3B0aW9ucy5heGlzJiYieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8KHRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiKSxlPXRoaXMuaXRlbXMubGVuZ3RoLTE7ZT49MDtlLS0paWYodT10aGlzLml0ZW1zW2VdLGY9dS5pdGVtWzBdLG89dGhpcy5faW50ZXJzZWN0c1dpdGhQb2ludGVyKHUpLG8mJnUuaW5zdGFuY2U9PT10aGlzLmN1cnJlbnRDb250YWluZXImJmYhPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLnBsYWNlaG9sZGVyWzE9PT1vPyJuZXh0IjoicHJldiJdKClbMF0hPT1mJiYhbi5jb250YWlucyh0aGlzLnBsYWNlaG9sZGVyWzBdLGYpJiYoInNlbWktZHluYW1pYyI9PT10aGlzLm9wdGlvbnMudHlwZT8hbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sZik6ITApKXtpZih0aGlzLmRpcmVjdGlvbj0xPT09bz8iZG93biI6InVwIiwicG9pbnRlciIhPT10aGlzLm9wdGlvbnMudG9sZXJhbmNlJiYhdGhpcy5faW50ZXJzZWN0c1dpdGhTaWRlcyh1KSlicmVhazt0aGlzLl9yZWFycmFuZ2UodCx1KTt0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKCkpO2JyZWFrfXJldHVybiB0aGlzLl9jb250YWN0Q29udGFpbmVycyh0KSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLHQpLHRoaXMuX3RyaWdnZXIoInNvcnQiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMubGFzdFBvc2l0aW9uQWJzPXRoaXMucG9zaXRpb25BYnMsITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCxpKXtpZih0KXtpZihuLnVpLmRkbWFuYWdlciYmIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsdCksdGhpcy5vcHRpb25zLnJldmVydCl7dmFyIGU9dGhpcyxmPXRoaXMucGxhY2Vob2xkZXIub2Zmc2V0KCkscj10aGlzLm9wdGlvbnMuYXhpcyx1PXt9O3ImJiJ4IiE9PXJ8fCh1LmxlZnQ9Zi5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0Kyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbExlZnQpKTtyJiYieSIhPT1yfHwodS50b3A9Zi50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC10aGlzLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbFRvcCkpO3RoaXMucmV2ZXJ0aW5nPSEwO24odGhpcy5oZWxwZXIpLmFuaW1hdGUodSxwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0LDEwKXx8NTAwLGZ1bmN0aW9uKCl7ZS5fY2xlYXIodCl9KX1lbHNlIHRoaXMuX2NsZWFyKHQsaSk7cmV0dXJuITF9fSxjYW5jZWw6ZnVuY3Rpb24oKXtpZih0aGlzLmRyYWdnaW5nKXt0aGlzLl9tb3VzZVVwKG5ldyBuLkV2ZW50KCJtb3VzZXVwIix7dGFyZ2V0Om51bGx9KSk7Im9yaWdpbmFsIj09PXRoaXMub3B0aW9ucy5oZWxwZXI/KHRoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUyksdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5jdXJyZW50SXRlbSwidWktc29ydGFibGUtaGVscGVyIikpOnRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih2YXIgdD10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5jb250YWluZXJzW3RdLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixudWxsLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3RdLmNvbnRhaW5lckNhY2hlLm92ZXImJih0aGlzLmNvbnRhaW5lcnNbdF0uX3RyaWdnZXIoIm91dCIsbnVsbCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t0XS5jb250YWluZXJDYWNoZS5vdmVyPTApfXJldHVybiB0aGlzLnBsYWNlaG9sZGVyJiYodGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlJiZ0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSksIm9yaWdpbmFsIiE9PXRoaXMub3B0aW9ucy5oZWxwZXImJnRoaXMuaGVscGVyJiZ0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSxuLmV4dGVuZCh0aGlzLHtoZWxwZXI6bnVsbCxkcmFnZ2luZzohMSxyZXZlcnRpbmc6ITEsX25vRmluYWxTb3J0Om51bGx9KSx0aGlzLmRvbVBvc2l0aW9uLnByZXY/bih0aGlzLmRvbVBvc2l0aW9uLnByZXYpLmFmdGVyKHRoaXMuY3VycmVudEl0ZW0pOm4odGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQpLnByZXBlbmQodGhpcy5jdXJyZW50SXRlbSkpLHRoaXN9LHNlcmlhbGl6ZTpmdW5jdGlvbih0KXt2YXIgcj10aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KHQmJnQuY29ubmVjdGVkKSxpPVtdO3JldHVybiB0PXR8fHt9LG4ocikuZWFjaChmdW5jdGlvbigpe3ZhciByPShuKHQuaXRlbXx8dGhpcykuYXR0cih0LmF0dHJpYnV0ZXx8ImlkIil8fCIiKS5tYXRjaCh0LmV4cHJlc3Npb258fC8oLispW1wtPV9dKC4rKS8pO3ImJmkucHVzaCgodC5rZXl8fHJbMV0rIltdIikrIj0iKyh0LmtleSYmdC5leHByZXNzaW9uP3JbMV06clsyXSkpfSksIWkubGVuZ3RoJiZ0LmtleSYmaS5wdXNoKHQua2V5KyI9IiksaS5qb2luKCImIil9LHRvQXJyYXk6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeSh0JiZ0LmNvbm5lY3RlZCksaT1bXTtyZXR1cm4gdD10fHx7fSxyLmVhY2goZnVuY3Rpb24oKXtpLnB1c2gobih0Lml0ZW18fHRoaXMpLmF0dHIodC5hdHRyaWJ1dGV8fCJpZCIpfHwiIil9KSxpfSxfaW50ZXJzZWN0c1dpdGg6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LGg9dCt0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLGk9dGhpcy5wb3NpdGlvbkFicy50b3AsYz1pK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LHI9bi5sZWZ0LGY9cituLndpZHRoLHU9bi50b3AsZT11K24uaGVpZ2h0LG89dGhpcy5vZmZzZXQuY2xpY2sudG9wLHM9dGhpcy5vZmZzZXQuY2xpY2subGVmdCxsPSJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHxpK28+dSYmZT5pK28sYT0ieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dCtzPnImJmY+dCtzLHY9bCYmYTtyZXR1cm4icG9pbnRlciI9PT10aGlzLm9wdGlvbnMudG9sZXJhbmNlfHx0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVyc3x8InBvaW50ZXIiIT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZSYmdGhpcy5oZWxwZXJQcm9wb3J0aW9uc1t0aGlzLmZsb2F0aW5nPyJ3aWR0aCI6ImhlaWdodCJdPm5bdGhpcy5mbG9hdGluZz8id2lkdGgiOiJoZWlnaHQiXT92OnQrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yPnImJmY+aC10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzImJmkrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMj51JiZlPmMtdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMn0sX2ludGVyc2VjdHNXaXRoUG9pbnRlcjpmdW5jdGlvbihuKXt2YXIgdCxpLHI9IngiPT09dGhpcy5vcHRpb25zLmF4aXN8fHRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy50b3ArdGhpcy5vZmZzZXQuY2xpY2sudG9wLG4udG9wLG4uaGVpZ2h0KSx1PSJ5Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCt0aGlzLm9mZnNldC5jbGljay5sZWZ0LG4ubGVmdCxuLndpZHRoKSxmPXImJnU7cmV0dXJuIGY/KHQ9dGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksaT10aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpLHRoaXMuZmxvYXRpbmc/InJpZ2h0Ij09PWl8fCJkb3duIj09PXQ/MjoxOnQmJigiZG93biI9PT10PzI6MSkpOiExfSxfaW50ZXJzZWN0c1dpdGhTaWRlczpmdW5jdGlvbihuKXt2YXIgcj10aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCxuLnRvcCtuLmhlaWdodC8yLG4uaGVpZ2h0KSx1PXRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy5sZWZ0K3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQsbi5sZWZ0K24ud2lkdGgvMixuLndpZHRoKSx0PXRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLGk9dGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTtyZXR1cm4gdGhpcy5mbG9hdGluZyYmaT8icmlnaHQiPT09aSYmdXx8ImxlZnQiPT09aSYmIXU6dCYmKCJkb3duIj09PXQmJnJ8fCJ1cCI9PT10JiYhcil9LF9nZXREcmFnVmVydGljYWxEaXJlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLmxhc3RQb3NpdGlvbkFicy50b3A7cmV0dXJuIDAhPT1uJiYobj4wPyJkb3duIjoidXAiKX0sX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubGFzdFBvc2l0aW9uQWJzLmxlZnQ7cmV0dXJuIDAhPT1uJiYobj4wPyJyaWdodCI6ImxlZnQiKX0scmVmcmVzaDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fcmVmcmVzaEl0ZW1zKG4pLHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpLHRoaXMucmVmcmVzaFBvc2l0aW9ucygpLHRoaXN9LF9jb25uZWN0V2l0aDpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucztyZXR1cm4gbi5jb25uZWN0V2l0aC5jb25zdHJ1Y3Rvcj09PVN0cmluZz9bbi5jb25uZWN0V2l0aF06bi5jb25uZWN0V2l0aH0sX2dldEl0ZW1zQXNqUXVlcnk6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaCgpe3MucHVzaCh0aGlzKX12YXIgcix1LGUsaSxzPVtdLGY9W10sbz10aGlzLl9jb25uZWN0V2l0aCgpO2lmKG8mJnQpZm9yKHI9by5sZW5ndGgtMTtyPj0wO3ItLSlmb3IoZT1uKG9bcl0sdGhpcy5kb2N1bWVudFswXSksdT1lLmxlbmd0aC0xO3U+PTA7dS0tKWk9bi5kYXRhKGVbdV0sdGhpcy53aWRnZXRGdWxsTmFtZSksaSYmaSE9PXRoaXMmJiFpLm9wdGlvbnMuZGlzYWJsZWQmJmYucHVzaChbbi5pc0Z1bmN0aW9uKGkub3B0aW9ucy5pdGVtcyk/aS5vcHRpb25zLml0ZW1zLmNhbGwoaS5lbGVtZW50KTpuKGkub3B0aW9ucy5pdGVtcyxpLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksaV0pO2ZvcihmLnB1c2goW24uaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuaXRlbXMpP3RoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudCxudWxsLHtvcHRpb25zOnRoaXMub3B0aW9ucyxpdGVtOnRoaXMuY3VycmVudEl0ZW19KTpuKHRoaXMub3B0aW9ucy5pdGVtcyx0aGlzLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksdGhpc10pLHI9Zi5sZW5ndGgtMTtyPj0wO3ItLSlmW3JdWzBdLmVhY2goaCk7cmV0dXJuIG4ocyl9LF9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY3VycmVudEl0ZW0uZmluZCgiOmRhdGEoIit0aGlzLndpZGdldE5hbWUrIi1pdGVtKSIpO3RoaXMuaXRlbXM9bi5ncmVwKHRoaXMuaXRlbXMsZnVuY3Rpb24obil7Zm9yKHZhciBpPTA7dC5sZW5ndGg+aTtpKyspaWYodFtpXT09PW4uaXRlbVswXSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxfcmVmcmVzaEl0ZW1zOmZ1bmN0aW9uKHQpe3RoaXMuaXRlbXM9W107dGhpcy5jb250YWluZXJzPVt0aGlzXTt2YXIgcix1LGUsaSxvLHMsaCxsLGE9dGhpcy5pdGVtcyxmPVtbbi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcyk/dGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50WzBdLHQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOm4odGhpcy5vcHRpb25zLml0ZW1zLHRoaXMuZWxlbWVudCksdGhpc11dLGM9dGhpcy5fY29ubmVjdFdpdGgoKTtpZihjJiZ0aGlzLnJlYWR5KWZvcihyPWMubGVuZ3RoLTE7cj49MDtyLS0pZm9yKGU9bihjW3JdLHRoaXMuZG9jdW1lbnRbMF0pLHU9ZS5sZW5ndGgtMTt1Pj0wO3UtLSlpPW4uZGF0YShlW3VdLHRoaXMud2lkZ2V0RnVsbE5hbWUpLGkmJmkhPT10aGlzJiYhaS5vcHRpb25zLmRpc2FibGVkJiYoZi5wdXNoKFtuLmlzRnVuY3Rpb24oaS5vcHRpb25zLml0ZW1zKT9pLm9wdGlvbnMuaXRlbXMuY2FsbChpLmVsZW1lbnRbMF0sdCx7aXRlbTp0aGlzLmN1cnJlbnRJdGVtfSk6bihpLm9wdGlvbnMuaXRlbXMsaS5lbGVtZW50KSxpXSksdGhpcy5jb250YWluZXJzLnB1c2goaSkpO2ZvcihyPWYubGVuZ3RoLTE7cj49MDtyLS0pZm9yKG89ZltyXVsxXSxzPWZbcl1bMF0sdT0wLGw9cy5sZW5ndGg7bD51O3UrKyloPW4oc1t1XSksaC5kYXRhKHRoaXMud2lkZ2V0TmFtZSsiLWl0ZW0iLG8pLGEucHVzaCh7aXRlbTpoLGluc3RhbmNlOm8sd2lkdGg6MCxoZWlnaHQ6MCxsZWZ0OjAsdG9wOjB9KX0scmVmcmVzaFBvc2l0aW9uczpmdW5jdGlvbih0KXt0aGlzLmZsb2F0aW5nPXRoaXMuaXRlbXMubGVuZ3RoPyJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc0Zsb2F0aW5nKHRoaXMuaXRlbXNbMF0uaXRlbSk6ITE7dGhpcy5vZmZzZXRQYXJlbnQmJnRoaXMuaGVscGVyJiYodGhpcy5vZmZzZXQucGFyZW50PXRoaXMuX2dldFBhcmVudE9mZnNldCgpKTtmb3IodmFyIHIsZix1LGk9dGhpcy5pdGVtcy5sZW5ndGgtMTtpPj0wO2ktLSlyPXRoaXMuaXRlbXNbaV0sci5pbnN0YW5jZSE9PXRoaXMuY3VycmVudENvbnRhaW5lciYmdGhpcy5jdXJyZW50Q29udGFpbmVyJiZyLml0ZW1bMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdfHwoZj10aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudD9uKHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50LHIuaXRlbSk6ci5pdGVtLHR8fChyLndpZHRoPWYub3V0ZXJXaWR0aCgpLHIuaGVpZ2h0PWYub3V0ZXJIZWlnaHQoKSksdT1mLm9mZnNldCgpLHIubGVmdD11LmxlZnQsci50b3A9dS50b3ApO2lmKHRoaXMub3B0aW9ucy5jdXN0b20mJnRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMpdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycy5jYWxsKHRoaXMpO2Vsc2UgZm9yKGk9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO2k+PTA7aS0tKXU9dGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQub2Zmc2V0KCksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLmxlZnQ9dS5sZWZ0LHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS50b3A9dS50b3AsdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLndpZHRoPXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVyV2lkdGgoKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUuaGVpZ2h0PXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVySGVpZ2h0KCk7cmV0dXJuIHRoaXN9LF9jcmVhdGVQbGFjZWhvbGRlcjpmdW5jdGlvbih0KXt0PXR8fHRoaXM7dmFyIHIsaT10Lm9wdGlvbnM7aS5wbGFjZWhvbGRlciYmaS5wbGFjZWhvbGRlci5jb25zdHJ1Y3RvciE9PVN0cmluZ3x8KHI9aS5wbGFjZWhvbGRlcixpLnBsYWNlaG9sZGVyPXtlbGVtZW50OmZ1bmN0aW9uKCl7dmFyIHU9dC5jdXJyZW50SXRlbVswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGk9bigiPCIrdSsiPiIsdC5kb2N1bWVudFswXSk7cmV0dXJuIHQuX2FkZENsYXNzKGksInVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIixyfHx0LmN1cnJlbnRJdGVtWzBdLmNsYXNzTmFtZSkuX3JlbW92ZUNsYXNzKGksInVpLXNvcnRhYmxlLWhlbHBlciIpLCJ0Ym9keSI9PT11P3QuX2NyZWF0ZVRyUGxhY2Vob2xkZXIodC5jdXJyZW50SXRlbS5maW5kKCJ0ciIpLmVxKDApLG4oIjx0cj4iLHQuZG9jdW1lbnRbMF0pLmFwcGVuZFRvKGkpKToidHIiPT09dT90Ll9jcmVhdGVUclBsYWNlaG9sZGVyKHQuY3VycmVudEl0ZW0saSk6ImltZyI9PT11JiZpLmF0dHIoInNyYyIsdC5jdXJyZW50SXRlbS5hdHRyKCJzcmMiKSkscnx8aS5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKSxpfSx1cGRhdGU6ZnVuY3Rpb24obix1KXsoIXJ8fGkuZm9yY2VQbGFjZWhvbGRlclNpemUpJiYodS5oZWlnaHQoKXx8dS5oZWlnaHQodC5jdXJyZW50SXRlbS5pbm5lckhlaWdodCgpLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nVG9wIil8fDAsMTApLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nQm90dG9tIil8fDAsMTApKSx1LndpZHRoKCl8fHUud2lkdGgodC5jdXJyZW50SXRlbS5pbm5lcldpZHRoKCktcGFyc2VJbnQodC5jdXJyZW50SXRlbS5jc3MoInBhZGRpbmdMZWZ0Iil8fDAsMTApLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nUmlnaHQiKXx8MCwxMCkpKX19KTt0LnBsYWNlaG9sZGVyPW4oaS5wbGFjZWhvbGRlci5lbGVtZW50LmNhbGwodC5lbGVtZW50LHQuY3VycmVudEl0ZW0pKTt0LmN1cnJlbnRJdGVtLmFmdGVyKHQucGxhY2Vob2xkZXIpO2kucGxhY2Vob2xkZXIudXBkYXRlKHQsdC5wbGFjZWhvbGRlcil9LF9jcmVhdGVUclBsYWNlaG9sZGVyOmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpczt0LmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe24oIjx0ZD4mIzE2MDs8XC90ZD4iLHIuZG9jdW1lbnRbMF0pLmF0dHIoImNvbHNwYW4iLG4odGhpcykuYXR0cigiY29sc3BhbiIpfHwxKS5hcHBlbmRUbyhpKX0pfSxfY29udGFjdENvbnRhaW5lcnM6ZnVuY3Rpb24odCl7Zm9yKHZhciB1LGMsZixhLHYsbyxsLHMsaCxlPW51bGwsaT1udWxsLHI9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKCFuLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sdGhpcy5jb250YWluZXJzW3JdLmVsZW1lbnRbMF0pKWlmKHRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyc1tyXS5jb250YWluZXJDYWNoZSkpe2lmKGUmJm4uY29udGFpbnModGhpcy5jb250YWluZXJzW3JdLmVsZW1lbnRbMF0sZS5lbGVtZW50WzBdKSljb250aW51ZTtlPXRoaXMuY29udGFpbmVyc1tyXTtpPXJ9ZWxzZSB0aGlzLmNvbnRhaW5lcnNbcl0uY29udGFpbmVyQ2FjaGUub3ZlciYmKHRoaXMuY29udGFpbmVyc1tyXS5fdHJpZ2dlcigib3V0Iix0LHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3JdLmNvbnRhaW5lckNhY2hlLm92ZXI9MCk7aWYoZSlpZigxPT09dGhpcy5jb250YWluZXJzLmxlbmd0aCl0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyPTEpO2Vsc2V7Zm9yKGM9MWU0LGY9bnVsbCxzPWUuZmxvYXRpbmd8fHRoaXMuX2lzRmxvYXRpbmcodGhpcy5jdXJyZW50SXRlbSksYT1zPyJsZWZ0IjoidG9wIix2PXM/IndpZHRoIjoiaGVpZ2h0IixoPXM/InBhZ2VYIjoicGFnZVkiLHU9dGhpcy5pdGVtcy5sZW5ndGgtMTt1Pj0wO3UtLSluLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdLHRoaXMuaXRlbXNbdV0uaXRlbVswXSkmJnRoaXMuaXRlbXNbdV0uaXRlbVswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJihvPXRoaXMuaXRlbXNbdV0uaXRlbS5vZmZzZXQoKVthXSxsPSExLHRbaF0tbz50aGlzLml0ZW1zW3VdW3ZdLzImJihsPSEwKSxjPk1hdGguYWJzKHRbaF0tbykmJihjPU1hdGguYWJzKHRbaF0tbyksZj10aGlzLml0ZW1zW3VdLHRoaXMuZGlyZWN0aW9uPWw/InVwIjoiZG93biIpKTtpZighZiYmIXRoaXMub3B0aW9ucy5kcm9wT25FbXB0eSlyZXR1cm47aWYodGhpcy5jdXJyZW50Q29udGFpbmVyPT09dGhpcy5jb250YWluZXJzW2ldKXJldHVybiB0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXI9MSksdm9pZCAwO2Y/dGhpcy5fcmVhcnJhbmdlKHQsZixudWxsLCEwKTp0aGlzLl9yZWFycmFuZ2UodCxudWxsLHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50LCEwKTt0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKCkpO3RoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7dGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMuY29udGFpbmVyc1tpXTt0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIudXBkYXRlKHRoaXMuY3VycmVudENvbnRhaW5lcix0aGlzLnBsYWNlaG9sZGVyKTt0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoIm92ZXIiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKTt0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcj0xfX0sX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLm9wdGlvbnMsaT1uLmlzRnVuY3Rpb24oci5oZWxwZXIpP24oci5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFt0LHRoaXMuY3VycmVudEl0ZW1dKSk6ImNsb25lIj09PXIuaGVscGVyP3RoaXMuY3VycmVudEl0ZW0uY2xvbmUoKTp0aGlzLmN1cnJlbnRJdGVtO3JldHVybiBpLnBhcmVudHMoImJvZHkiKS5sZW5ndGh8fG4oInBhcmVudCIhPT1yLmFwcGVuZFRvP3IuYXBwZW5kVG86dGhpcy5jdXJyZW50SXRlbVswXS5wYXJlbnROb2RlKVswXS5hcHBlbmRDaGlsZChpWzBdKSxpWzBdPT09dGhpcy5jdXJyZW50SXRlbVswXSYmKHRoaXMuX3N0b3JlZENTUz17d2lkdGg6dGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS53aWR0aCxoZWlnaHQ6dGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS5oZWlnaHQscG9zaXRpb246dGhpcy5jdXJyZW50SXRlbS5jc3MoInBvc2l0aW9uIiksdG9wOnRoaXMuY3VycmVudEl0ZW0uY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuY3VycmVudEl0ZW0uY3NzKCJsZWZ0Iil9KSwoIWlbMF0uc3R5bGUud2lkdGh8fHIuZm9yY2VIZWxwZXJTaXplKSYmaS53aWR0aCh0aGlzLmN1cnJlbnRJdGVtLndpZHRoKCkpLCghaVswXS5zdHlsZS5oZWlnaHR8fHIuZm9yY2VIZWxwZXJTaXplKSYmaS5oZWlnaHQodGhpcy5jdXJyZW50SXRlbS5oZWlnaHQoKSksaX0sX2FkanVzdE9mZnNldEZyb21IZWxwZXI6ZnVuY3Rpb24odCl7InN0cmluZyI9PXR5cGVvZiB0JiYodD10LnNwbGl0KCIgIikpO24uaXNBcnJheSh0KSYmKHQ9e2xlZnQ6K3RbMF0sdG9wOit0WzFdfHwwfSk7ImxlZnQiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dC5sZWZ0K3RoaXMubWFyZ2lucy5sZWZ0KTsicmlnaHQiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10LnJpZ2h0K3RoaXMubWFyZ2lucy5sZWZ0KTsidG9wImluIHQmJih0aGlzLm9mZnNldC5jbGljay50b3A9dC50b3ArdGhpcy5tYXJnaW5zLnRvcCk7ImJvdHRvbSJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXQuYm90dG9tK3RoaXMubWFyZ2lucy50b3ApfSxfZ2V0UGFyZW50T2Zmc2V0OmZ1bmN0aW9uKCl7dGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCk7dmFyIHQ9dGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCk7cmV0dXJuImFic29sdXRlIj09PXRoaXMuY3NzUG9zaXRpb24mJnRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkmJih0LmxlZnQrPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSx0LnRvcCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkpLCh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keXx8dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZSYmImh0bWwiPT09dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZuLnVpLmllKSYmKHQ9e3RvcDowLGxlZnQ6MH0pLHt0b3A6dC50b3ArKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLGxlZnQ6dC5sZWZ0KyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCl9fSxfZ2V0UmVsYXRpdmVPZmZzZXQ6ZnVuY3Rpb24oKXtpZigicmVsYXRpdmUiPT09dGhpcy5jc3NQb3NpdGlvbil7dmFyIG49dGhpcy5jdXJyZW50SXRlbS5wb3NpdGlvbigpO3JldHVybnt0b3A6bi50b3AtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygidG9wIiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0Om4ubGVmdC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJsZWZ0IiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCl9fXJldHVybnt0b3A6MCxsZWZ0OjB9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuY3VycmVudEl0ZW0uY3NzKCJtYXJnaW5MZWZ0IiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luVG9wIiksMTApfHwwfX0sX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlbHBlclByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCl9fSxfc2V0Q29udGFpbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgdCxyLHUsaT10aGlzLm9wdGlvbnM7InBhcmVudCI9PT1pLmNvbnRhaW5tZW50JiYoaS5jb250YWlubWVudD10aGlzLmhlbHBlclswXS5wYXJlbnROb2RlKTsoImRvY3VtZW50Ij09PWkuY29udGFpbm1lbnR8fCJ3aW5kb3ciPT09aS5jb250YWlubWVudCkmJih0aGlzLmNvbnRhaW5tZW50PVswLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsMC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCwiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LndpZHRoKCk6dGhpcy53aW5kb3cud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LCgiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0OnRoaXMud2luZG93LmhlaWdodCgpfHx0aGlzLmRvY3VtZW50WzBdLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKTsvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvLnRlc3QoaS5jb250YWlubWVudCl8fCh0PW4oaS5jb250YWlubWVudClbMF0scj1uKGkuY29udGFpbm1lbnQpLm9mZnNldCgpLHU9ImhpZGRlbiIhPT1uKHQpLmNzcygib3ZlcmZsb3ciKSx0aGlzLmNvbnRhaW5tZW50PVtyLmxlZnQrKHBhcnNlSW50KG4odCkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuKHQpLmNzcygicGFkZGluZ0xlZnQiKSwxMCl8fDApLXRoaXMubWFyZ2lucy5sZWZ0LHIudG9wKyhwYXJzZUludChuKHQpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuKHQpLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLnRvcCxyLmxlZnQrKHU/TWF0aC5tYXgodC5zY3JvbGxXaWR0aCx0Lm9mZnNldFdpZHRoKTp0Lm9mZnNldFdpZHRoKS0ocGFyc2VJbnQobih0KS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KG4odCkuY3NzKCJwYWRkaW5nUmlnaHQiKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsci50b3ArKHU/TWF0aC5tYXgodC5zY3JvbGxIZWlnaHQsdC5vZmZzZXRIZWlnaHQpOnQub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQobih0KS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQobih0KS5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKHQsaSl7aXx8KGk9dGhpcy5wb3NpdGlvbik7dmFyIHI9ImFic29sdXRlIj09PXQ/MTotMSx1PSJhYnNvbHV0ZSIhPT10aGlzLmNzc1Bvc2l0aW9ufHx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJm4uY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pP3RoaXMuc2Nyb2xsUGFyZW50OnRoaXMub2Zmc2V0UGFyZW50LGY9LyhodG1sfGJvZHkpL2kudGVzdCh1WzBdLnRhZ05hbWUpO3JldHVybnt0b3A6aS50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKnIrdGhpcy5vZmZzZXQucGFyZW50LnRvcCpyLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk6Zj8wOnUuc2Nyb2xsVG9wKCkpKnIsbGVmdDppLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCpyK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KnItKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6Zj8wOnUuc2Nyb2xsTGVmdCgpKSpyfX0sX2dlbmVyYXRlUG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIHIsdSxpPXRoaXMub3B0aW9ucyxmPXQucGFnZVgsZT10LnBhZ2VZLG89ImFic29sdXRlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSk/dGhpcy5zY3JvbGxQYXJlbnQ6dGhpcy5vZmZzZXRQYXJlbnQscz0vKGh0bWx8Ym9keSkvaS50ZXN0KG9bMF0udGFnTmFtZSk7cmV0dXJuInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLm9mZnNldFBhcmVudFswXXx8KHRoaXMub2Zmc2V0LnJlbGF0aXZlPXRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkpLHRoaXMub3JpZ2luYWxQb3NpdGlvbiYmKHRoaXMuY29udGFpbm1lbnQmJih0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXSYmKGY9dGhpcy5jb250YWlubWVudFswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdJiYoZT10aGlzLmNvbnRhaW5tZW50WzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksdC5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PnRoaXMuY29udGFpbm1lbnRbMl0mJihmPXRoaXMuY29udGFpbm1lbnRbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksdC5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+dGhpcy5jb250YWlubWVudFszXSYmKGU9dGhpcy5jb250YWlubWVudFszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxpLmdyaWQmJihyPXRoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKChlLXRoaXMub3JpZ2luYWxQYWdlWSkvaS5ncmlkWzFdKSppLmdyaWRbMV0sZT10aGlzLmNvbnRhaW5tZW50P3ItdGhpcy5vZmZzZXQuY2xpY2sudG9wPj10aGlzLmNvbnRhaW5tZW50WzFdJiZyLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDw9dGhpcy5jb250YWlubWVudFszXT9yOnItdGhpcy5vZmZzZXQuY2xpY2sudG9wPj10aGlzLmNvbnRhaW5tZW50WzFdP3ItaS5ncmlkWzFdOnIraS5ncmlkWzFdOnIsdT10aGlzLm9yaWdpbmFsUGFnZVgrTWF0aC5yb3VuZCgoZi10aGlzLm9yaWdpbmFsUGFnZVgpL2kuZ3JpZFswXSkqaS5ncmlkWzBdLGY9dGhpcy5jb250YWlubWVudD91LXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PXRoaXMuY29udGFpbm1lbnRbMF0mJnUtdGhpcy5vZmZzZXQuY2xpY2subGVmdDw9dGhpcy5jb250YWlubWVudFsyXT91OnUtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49dGhpcy5jb250YWlubWVudFswXT91LWkuZ3JpZFswXTp1K2kuZ3JpZFswXTp1KSkse3RvcDplLXRoaXMub2Zmc2V0LmNsaWNrLnRvcC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOnM/MDpvLnNjcm9sbFRvcCgpKSxsZWZ0OmYtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOnM/MDpvLnNjcm9sbExlZnQoKSl9fSxfcmVhcnJhbmdlOmZ1bmN0aW9uKG4sdCxpLHIpe2k/aVswXS5hcHBlbmRDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTp0Lml0ZW1bMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlclswXSwiZG93biI9PT10aGlzLmRpcmVjdGlvbj90Lml0ZW1bMF06dC5pdGVtWzBdLm5leHRTaWJsaW5nKTt0aGlzLmNvdW50ZXI9dGhpcy5jb3VudGVyPysrdGhpcy5jb3VudGVyOjE7dmFyIHU9dGhpcy5jb3VudGVyO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dT09PXRoaXMuY291bnRlciYmdGhpcy5yZWZyZXNoUG9zaXRpb25zKCFyKX0pfSxfY2xlYXI6ZnVuY3Rpb24obix0KXtmdW5jdGlvbiB1KG4sdCxpKXtyZXR1cm4gZnVuY3Rpb24ocil7aS5fdHJpZ2dlcihuLHIsdC5fdWlIYXNoKHQpKX19dGhpcy5yZXZlcnRpbmc9ITE7dmFyIGkscj1bXTtpZighdGhpcy5fbm9GaW5hbFNvcnQmJnRoaXMuY3VycmVudEl0ZW0ucGFyZW50KCkubGVuZ3RoJiZ0aGlzLnBsYWNlaG9sZGVyLmJlZm9yZSh0aGlzLmN1cnJlbnRJdGVtKSx0aGlzLl9ub0ZpbmFsU29ydD1udWxsLHRoaXMuaGVscGVyWzBdPT09dGhpcy5jdXJyZW50SXRlbVswXSl7Zm9yKGkgaW4gdGhpcy5fc3RvcmVkQ1NTKSgiYXV0byI9PT10aGlzLl9zdG9yZWRDU1NbaV18fCJzdGF0aWMiPT09dGhpcy5fc3RvcmVkQ1NTW2ldKSYmKHRoaXMuX3N0b3JlZENTU1tpXT0iIik7dGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRJdGVtLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKX1lbHNlIHRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih0aGlzLmZyb21PdXRzaWRlJiYhdCYmci5wdXNoKGZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIoInJlY2VpdmUiLG4sdGhpcy5fdWlIYXNoKHRoaXMuZnJvbU91dHNpZGUpKX0pLCF0aGlzLmZyb21PdXRzaWRlJiZ0aGlzLmRvbVBvc2l0aW9uLnByZXY9PT10aGlzLmN1cnJlbnRJdGVtLnByZXYoKS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKVswXSYmdGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQ9PT10aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdfHx0fHxyLnB1c2goZnVuY3Rpb24obil7dGhpcy5fdHJpZ2dlcigidXBkYXRlIixuLHRoaXMuX3VpSGFzaCgpKX0pLHRoaXMhPT10aGlzLmN1cnJlbnRDb250YWluZXImJih0fHwoci5wdXNoKGZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIoInJlbW92ZSIsbix0aGlzLl91aUhhc2goKSl9KSxyLnB1c2goZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe24uX3RyaWdnZXIoInJlY2VpdmUiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSxyLnB1c2goZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe24uX3RyaWdnZXIoInVwZGF0ZSIsdCx0aGlzLl91aUhhc2godGhpcykpfX0uY2FsbCh0aGlzLHRoaXMuY3VycmVudENvbnRhaW5lcikpKSksaT10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7aT49MDtpLS0pdHx8ci5wdXNoKHUoImRlYWN0aXZhdGUiLHRoaXMsdGhpcy5jb250YWluZXJzW2ldKSksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXImJihyLnB1c2godSgib3V0Iix0aGlzLHRoaXMuY29udGFpbmVyc1tpXSkpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyPTApO2lmKHRoaXMuc3RvcmVkQ3Vyc29yJiYodGhpcy5kb2N1bWVudC5maW5kKCJib2R5IikuY3NzKCJjdXJzb3IiLHRoaXMuc3RvcmVkQ3Vyc29yKSx0aGlzLnN0b3JlZFN0eWxlc2hlZXQucmVtb3ZlKCkpLHRoaXMuX3N0b3JlZE9wYWNpdHkmJnRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIsdGhpcy5fc3RvcmVkT3BhY2l0eSksdGhpcy5fc3RvcmVkWkluZGV4JiZ0aGlzLmhlbHBlci5jc3MoInpJbmRleCIsImF1dG8iPT09dGhpcy5fc3RvcmVkWkluZGV4PyIiOnRoaXMuX3N0b3JlZFpJbmRleCksdGhpcy5kcmFnZ2luZz0hMSx0fHx0aGlzLl90cmlnZ2VyKCJiZWZvcmVTdG9wIixuLHRoaXMuX3VpSGFzaCgpKSx0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSksdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHwodGhpcy5oZWxwZXJbMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSx0aGlzLmhlbHBlcj1udWxsKSwhdCl7Zm9yKGk9MDtyLmxlbmd0aD5pO2krKylyW2ldLmNhbGwodGhpcyxuKTt0aGlzLl90cmlnZ2VyKCJzdG9wIixuLHRoaXMuX3VpSGFzaCgpKX1yZXR1cm4gdGhpcy5mcm9tT3V0c2lkZT0hMSwhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfSxfdHJpZ2dlcjpmdW5jdGlvbigpe24uV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk9PT0hMSYmdGhpcy5jYW5jZWwoKX0sX3VpSGFzaDpmdW5jdGlvbih0KXt2YXIgaT10fHx0aGlzO3JldHVybntoZWxwZXI6aS5oZWxwZXIscGxhY2Vob2xkZXI6aS5wbGFjZWhvbGRlcnx8bihbXSkscG9zaXRpb246aS5wb3NpdGlvbixvcmlnaW5hbFBvc2l0aW9uOmkub3JpZ2luYWxQb3NpdGlvbixvZmZzZXQ6aS5wb3NpdGlvbkFicyxpdGVtOmkuY3VycmVudEl0ZW0sc2VuZGVyOnQ/dC5lbGVtZW50Om51bGx9fX0pO24ud2lkZ2V0KCJ1aS5zcGlubmVyIix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPGlucHV0PiIsd2lkZ2V0RXZlbnRQcmVmaXg6InNwaW4iLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS1zcGlubmVyIjoidWktY29ybmVyLWFsbCIsInVpLXNwaW5uZXItZG93biI6InVpLWNvcm5lci1iciIsInVpLXNwaW5uZXItdXAiOiJ1aS1jb3JuZXItdHIifSxjdWx0dXJlOm51bGwsaWNvbnM6e2Rvd246InVpLWljb24tdHJpYW5nbGUtMS1zIix1cDoidWktaWNvbi10cmlhbmdsZS0xLW4ifSxpbmNyZW1lbnRhbDohMCxtYXg6bnVsbCxtaW46bnVsbCxudW1iZXJGb3JtYXQ6bnVsbCxwYWdlOjEwLHN0ZXA6MSxjaGFuZ2U6bnVsbCxzcGluOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb24oIm1heCIsdGhpcy5vcHRpb25zLm1heCk7dGhpcy5fc2V0T3B0aW9uKCJtaW4iLHRoaXMub3B0aW9ucy5taW4pO3RoaXMuX3NldE9wdGlvbigic3RlcCIsdGhpcy5vcHRpb25zLnN0ZXApOyIiIT09dGhpcy52YWx1ZSgpJiZ0aGlzLl92YWx1ZSh0aGlzLmVsZW1lbnQudmFsKCksITApO3RoaXMuX2RyYXcoKTt0aGlzLl9vbih0aGlzLl9ldmVudHMpO3RoaXMuX3JlZnJlc2goKTt0aGlzLl9vbih0aGlzLndpbmRvdyx7YmVmb3JldW5sb2FkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSIpfX0pfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N1cGVyKCksaT10aGlzLmVsZW1lbnQ7cmV0dXJuIG4uZWFjaChbIm1pbiIsIm1heCIsInN0ZXAiXSxmdW5jdGlvbihuLHIpe3ZhciB1PWkuYXR0cihyKTtudWxsIT11JiZ1Lmxlbmd0aCYmKHRbcl09dSl9KSx0fSxfZXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKG4pe3RoaXMuX3N0YXJ0KG4pJiZ0aGlzLl9rZXlkb3duKG4pJiZuLnByZXZlbnREZWZhdWx0KCl9LGtleXVwOiJfc3RvcCIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXRoaXMuZWxlbWVudC52YWwoKX0sYmx1cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5jYW5jZWxCbHVyPyhkZWxldGUgdGhpcy5jYW5jZWxCbHVyLHZvaWQgMCk6KHRoaXMuX3N0b3AoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5wcmV2aW91cyE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixuKSx2b2lkIDApfSxtb3VzZXdoZWVsOmZ1bmN0aW9uKG4sdCl7aWYodCl7aWYoIXRoaXMuc3Bpbm5pbmcmJiF0aGlzLl9zdGFydChuKSlyZXR1cm4hMTt0aGlzLl9zcGluKCh0PjA/MTotMSkqdGhpcy5vcHRpb25zLnN0ZXAsbik7Y2xlYXJUaW1lb3V0KHRoaXMubW91c2V3aGVlbFRpbWVyKTt0aGlzLm1vdXNld2hlZWxUaW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuc3Bpbm5pbmcmJnRoaXMuX3N0b3Aobil9LDEwMCk7bi5wcmV2ZW50RGVmYXVsdCgpfX0sIm1vdXNlZG93biAudWktc3Bpbm5lci1idXR0b24iOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXt2YXIgdD10aGlzLmVsZW1lbnRbMF09PT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pO3R8fCh0aGlzLmVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKSx0aGlzLnByZXZpb3VzPWksdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPWl9KSl9dmFyIGk7aT10aGlzLmVsZW1lbnRbMF09PT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pP3RoaXMucHJldmlvdXM6dGhpcy5lbGVtZW50LnZhbCgpO3QucHJldmVudERlZmF1bHQoKTtyLmNhbGwodGhpcyk7dGhpcy5jYW5jZWxCbHVyPSEwO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cjtyLmNhbGwodGhpcyl9KTt0aGlzLl9zdGFydCh0KSE9PSExJiZ0aGlzLl9yZXBlYXQobnVsbCxuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpfSwibW91c2V1cCAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCIsIm1vdXNlZW50ZXIgLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbih0KXtpZihuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKXJldHVybiB0aGlzLl9zdGFydCh0KT09PSExPyExOih0aGlzLl9yZXBlYXQobnVsbCxuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpLHZvaWQgMCl9LCJtb3VzZWxlYXZlIC51aS1zcGlubmVyLWJ1dHRvbiI6Il9zdG9wIn0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLnVpU3Bpbm5lcj10aGlzLmVsZW1lbnQuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIikud3JhcCgiPHNwYW4+IikucGFyZW50KCkuYXBwZW5kKCI8YT48XC9hPjxhPjxcL2E+Iil9LF9kcmF3OmZ1bmN0aW9uKCl7dGhpcy5fZW5oYW5jZSgpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlTcGlubmVyLCJ1aS1zcGlubmVyIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50Iik7dGhpcy5fYWRkQ2xhc3MoInVpLXNwaW5uZXItaW5wdXQiKTt0aGlzLmVsZW1lbnQuYXR0cigicm9sZSIsInNwaW5idXR0b24iKTt0aGlzLmJ1dHRvbnM9dGhpcy51aVNwaW5uZXIuY2hpbGRyZW4oImEiKS5hdHRyKCJ0YWJJbmRleCIsLTEpLmF0dHIoImFyaWEtaGlkZGVuIiwhMCkuYnV0dG9uKHtjbGFzc2VzOnsidWktYnV0dG9uIjoiIn19KTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmJ1dHRvbnMsInVpLWNvcm5lci1hbGwiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmJ1dHRvbnMuZmlyc3QoKSwidWktc3Bpbm5lci1idXR0b24gdWktc3Bpbm5lci11cCIpO3RoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9ucy5sYXN0KCksInVpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItZG93biIpO3RoaXMuYnV0dG9ucy5maXJzdCgpLmJ1dHRvbih7aWNvbjp0aGlzLm9wdGlvbnMuaWNvbnMudXAsc2hvd0xhYmVsOiExfSk7dGhpcy5idXR0b25zLmxhc3QoKS5idXR0b24oe2ljb246dGhpcy5vcHRpb25zLmljb25zLmRvd24sc2hvd0xhYmVsOiExfSk7dGhpcy5idXR0b25zLmhlaWdodCgpPk1hdGguY2VpbCguNSp0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKSkmJnRoaXMudWlTcGlubmVyLmhlaWdodCgpPjAmJnRoaXMudWlTcGlubmVyLmhlaWdodCh0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKSl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMub3B0aW9ucyxpPW4udWkua2V5Q29kZTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGkuVVA6cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLDEsdCksITA7Y2FzZSBpLkRPV046cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLC0xLHQpLCEwO2Nhc2UgaS5QQUdFX1VQOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCxyLnBhZ2UsdCksITA7Y2FzZSBpLlBBR0VfRE9XTjpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsLXIucGFnZSx0KSwhMH1yZXR1cm4hMX0sX3N0YXJ0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnNwaW5uaW5nfHx0aGlzLl90cmlnZ2VyKCJzdGFydCIsbikhPT0hMT8odGhpcy5jb3VudGVyfHwodGhpcy5jb3VudGVyPTEpLHRoaXMuc3Bpbm5pbmc9ITAsITApOiExfSxfcmVwZWF0OmZ1bmN0aW9uKG4sdCxpKXtuPW58fDUwMDtjbGVhclRpbWVvdXQodGhpcy50aW1lcik7dGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3JlcGVhdCg0MCx0LGkpfSxuKTt0aGlzLl9zcGluKHQqdGhpcy5vcHRpb25zLnN0ZXAsaSl9LF9zcGluOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy52YWx1ZSgpfHwwO3RoaXMuY291bnRlcnx8KHRoaXMuY291bnRlcj0xKTtpPXRoaXMuX2FkanVzdFZhbHVlKGkrbip0aGlzLl9pbmNyZW1lbnQodGhpcy5jb3VudGVyKSk7dGhpcy5zcGlubmluZyYmdGhpcy5fdHJpZ2dlcigic3BpbiIsdCx7dmFsdWU6aX0pPT09ITF8fCh0aGlzLl92YWx1ZShpKSx0aGlzLmNvdW50ZXIrKyl9LF9pbmNyZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLmluY3JlbWVudGFsO3JldHVybiBpP24uaXNGdW5jdGlvbihpKT9pKHQpOk1hdGguZmxvb3IodCp0KnQvNWU0LXQqdC81MDArMTcqdC8yMDArMSk6MX0sX3ByZWNpc2lvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5zdGVwKTtyZXR1cm4gbnVsbCE9PXRoaXMub3B0aW9ucy5taW4mJihuPU1hdGgubWF4KG4sdGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLm1pbikpKSxufSxfcHJlY2lzaW9uT2Y6ZnVuY3Rpb24obil7dmFyIHQ9IiIrbixpPXQuaW5kZXhPZigiLiIpO3JldHVybi0xPT09aT8wOnQubGVuZ3RoLWktMX0sX2FkanVzdFZhbHVlOmZ1bmN0aW9uKG4pe3ZhciByLGksdD10aGlzLm9wdGlvbnM7cmV0dXJuIHI9bnVsbCE9PXQubWluP3QubWluOjAsaT1uLXIsaT1NYXRoLnJvdW5kKGkvdC5zdGVwKSp0LnN0ZXAsbj1yK2ksbj1wYXJzZUZsb2F0KG4udG9GaXhlZCh0aGlzLl9wcmVjaXNpb24oKSkpLG51bGwhPT10Lm1heCYmbj50Lm1heD90Lm1heDpudWxsIT09dC5taW4mJnQubWluPm4/dC5taW46bn0sX3N0b3A6ZnVuY3Rpb24obil7dGhpcy5zcGlubmluZyYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSxjbGVhclRpbWVvdXQodGhpcy5tb3VzZXdoZWVsVGltZXIpLHRoaXMuY291bnRlcj0wLHRoaXMuc3Bpbm5pbmc9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIsbikpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIHUsaSxyO3JldHVybiJjdWx0dXJlIj09PW58fCJudW1iZXJGb3JtYXQiPT09bj8odT10aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpLHRoaXMub3B0aW9uc1tuXT10LHRoaXMuZWxlbWVudC52YWwodGhpcy5fZm9ybWF0KHUpKSx2b2lkIDApOigoIm1heCI9PT1ufHwibWluIj09PW58fCJzdGVwIj09PW4pJiYic3RyaW5nIj09dHlwZW9mIHQmJih0PXRoaXMuX3BhcnNlKHQpKSwiaWNvbnMiPT09biYmKGk9dGhpcy5idXR0b25zLmZpcnN0KCkuZmluZCgiLnVpLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsdGhpcy5vcHRpb25zLmljb25zLnVwKSx0aGlzLl9hZGRDbGFzcyhpLG51bGwsdC51cCkscj10aGlzLmJ1dHRvbnMubGFzdCgpLmZpbmQoIi51aS1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3MocixudWxsLHRoaXMub3B0aW9ucy5pY29ucy5kb3duKSx0aGlzLl9hZGRDbGFzcyhyLG51bGwsdC5kb3duKSksdGhpcy5fc3VwZXIobix0KSx2b2lkIDApfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy51aVNwaW5uZXIsbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbik7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhIW4pO3RoaXMuYnV0dG9ucy5idXR0b24obj8iZGlzYWJsZSI6ImVuYWJsZSIpfSxfc2V0T3B0aW9uczp0KGZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pfSksX3BhcnNlOmZ1bmN0aW9uKG4pe3JldHVybiJzdHJpbmciPT10eXBlb2YgbiYmIiIhPT1uJiYobj13aW5kb3cuR2xvYmFsaXplJiZ0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0P0dsb2JhbGl6ZS5wYXJzZUZsb2F0KG4sMTAsdGhpcy5vcHRpb25zLmN1bHR1cmUpOituKSwiIj09PW58fGlzTmFOKG4pP251bGw6bn0sX2Zvcm1hdDpmdW5jdGlvbihuKXtyZXR1cm4iIj09PW4/IiI6d2luZG93Lkdsb2JhbGl6ZSYmdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdD9HbG9iYWxpemUuZm9ybWF0KG4sdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdCx0aGlzLm9wdGlvbnMuY3VsdHVyZSk6bn0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cih7ImFyaWEtdmFsdWVtaW4iOnRoaXMub3B0aW9ucy5taW4sImFyaWEtdmFsdWVtYXgiOnRoaXMub3B0aW9ucy5tYXgsImFyaWEtdmFsdWVub3ciOnRoaXMuX3BhcnNlKHRoaXMuZWxlbWVudC52YWwoKSl9KX0saXNWYWxpZDpmdW5jdGlvbigpe3ZhciBuPXRoaXMudmFsdWUoKTtyZXR1cm4gbnVsbD09PW4/ITE6bj09PXRoaXMuX2FkanVzdFZhbHVlKG4pfSxfdmFsdWU6ZnVuY3Rpb24obix0KXt2YXIgaTsiIiE9PW4mJihpPXRoaXMuX3BhcnNlKG4pLG51bGwhPT1pJiYodHx8KGk9dGhpcy5fYWRqdXN0VmFsdWUoaSkpLG49dGhpcy5fZm9ybWF0KGkpKSk7dGhpcy5lbGVtZW50LnZhbChuKTt0aGlzLl9yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMSkucmVtb3ZlQXR0cigiYXV0b2NvbXBsZXRlIHJvbGUgYXJpYS12YWx1ZW1pbiBhcmlhLXZhbHVlbWF4IGFyaWEtdmFsdWVub3ciKTt0aGlzLnVpU3Bpbm5lci5yZXBsYWNlV2l0aCh0aGlzLmVsZW1lbnQpfSxzdGVwVXA6dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwVXAobil9KSxfc3RlcFVwOmZ1bmN0aW9uKG4pe3RoaXMuX3N0YXJ0KCkmJih0aGlzLl9zcGluKChufHwxKSp0aGlzLm9wdGlvbnMuc3RlcCksdGhpcy5fc3RvcCgpKX0sc3RlcERvd246dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwRG93bihuKX0pLF9zdGVwRG93bjpmdW5jdGlvbihuKXt0aGlzLl9zdGFydCgpJiYodGhpcy5fc3Bpbigobnx8MSkqLXRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxwYWdlVXA6dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwVXAoKG58fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHBhZ2VEb3duOnQoZnVuY3Rpb24obil7dGhpcy5fc3RlcERvd24oKG58fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0KHRoaXMuX3ZhbHVlKS5jYWxsKHRoaXMsbiksdm9pZCAwKTp0aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aVNwaW5uZXJ9fSk7bi51aUJhY2tDb21wYXQhPT0hMSYmbi53aWRnZXQoInVpLnNwaW5uZXIiLG4udWkuc3Bpbm5lcix7X2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLnVpU3Bpbm5lcj10aGlzLmVsZW1lbnQuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIikud3JhcCh0aGlzLl91aVNwaW5uZXJIdG1sKCkpLnBhcmVudCgpLmFwcGVuZCh0aGlzLl9idXR0b25IdG1sKCkpfSxfdWlTcGlubmVySHRtbDpmdW5jdGlvbigpe3JldHVybiI8c3Bhbj4ifSxfYnV0dG9uSHRtbDpmdW5jdGlvbigpe3JldHVybiI8YT48XC9hPjxhPjxcL2E+In19KTtuLnVpLnNwaW5uZXI7bi53aWRnZXQoInVpLnRhYnMiLHt2ZXJzaW9uOiIxLjEyLjEiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjbGFzc2VzOnsidWktdGFicyI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLW5hdiI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLXBhbmVsIjoidWktY29ybmVyLWJvdHRvbSIsInVpLXRhYnMtdGFiIjoidWktY29ybmVyLXRvcCJ9LGNvbGxhcHNpYmxlOiExLGV2ZW50OiJjbGljayIsaGVpZ2h0U3R5bGU6ImNvbnRlbnQiLGhpZGU6bnVsbCxzaG93Om51bGwsYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsLGJlZm9yZUxvYWQ6bnVsbCxsb2FkOm51bGx9LF9pc0xvY2FsOmZ1bmN0aW9uKCl7dmFyIG49LyMuKiQvO3JldHVybiBmdW5jdGlvbih0KXt2YXIgaSxyO2k9dC5ocmVmLnJlcGxhY2UobiwiIik7cj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UobiwiIik7dHJ5e2k9ZGVjb2RlVVJJQ29tcG9uZW50KGkpfWNhdGNoKHUpe310cnl7cj1kZWNvZGVVUklDb21wb25lbnQocil9Y2F0Y2godSl7fXJldHVybiB0Lmhhc2gubGVuZ3RoPjEmJmk9PT1yfX0oKSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyx0PXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITE7dGhpcy5fYWRkQ2xhc3MoInVpLXRhYnMiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKTt0aGlzLl90b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsbnVsbCx0LmNvbGxhcHNpYmxlKTt0aGlzLl9wcm9jZXNzVGFicygpO3QuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKTtuLmlzQXJyYXkodC5kaXNhYmxlZCkmJih0LmRpc2FibGVkPW4udW5pcXVlKHQuZGlzYWJsZWQuY29uY2F0KG4ubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKG4pe3JldHVybiBpLnRhYnMuaW5kZXgobil9KSkpLnNvcnQoKSk7dGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUodC5hY3RpdmUpOm4oKTt0aGlzLl9yZWZyZXNoKCk7dGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQodC5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hY3RpdmUsaT10aGlzLm9wdGlvbnMuY29sbGFwc2libGUscj1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PXQmJihyJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihpLHUpe2lmKG4odSkuYXR0cigiYXJpYS1jb250cm9scyIpPT09cilyZXR1cm4odD1pLCExKX0pLG51bGw9PT10JiYodD10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmZpbHRlcigiLnVpLXRhYnMtYWN0aXZlIikpKSwobnVsbD09PXR8fC0xPT09dCkmJih0PXRoaXMudGFicy5sZW5ndGg/MDohMSkpLHQhPT0hMSYmKHQ9dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5lcSh0KSksLTE9PT10JiYodD1pPyExOjApKSwhaSYmdD09PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoJiYodD0wKSx0fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJue3RhYjp0aGlzLmFjdGl2ZSxwYW5lbDp0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpOm4oKX19LF90YWJLZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciByPW4obi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSkuY2xvc2VzdCgibGkiKSxpPXRoaXMudGFicy5pbmRleChyKSx1PSEwO2lmKCF0aGlzLl9oYW5kbGVQYWdlTmF2KHQpKXtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5SSUdIVDpjYXNlIG4udWkua2V5Q29kZS5ET1dOOmkrKzticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDpjYXNlIG4udWkua2V5Q29kZS5MRUZUOnU9ITE7aS0tO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVORDppPXRoaXMuYW5jaG9ycy5sZW5ndGgtMTticmVhaztjYXNlIG4udWkua2V5Q29kZS5IT01FOmk9MDticmVhaztjYXNlIG4udWkua2V5Q29kZS5TUEFDRTpyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHRoaXMuX2FjdGl2YXRlKGkpLHZvaWQgMDtjYXNlIG4udWkua2V5Q29kZS5FTlRFUjpyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHRoaXMuX2FjdGl2YXRlKGk9PT10aGlzLm9wdGlvbnMuYWN0aXZlPyExOmkpLHZvaWQgMDtkZWZhdWx0OnJldHVybn10LnByZXZlbnREZWZhdWx0KCk7Y2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyk7aT10aGlzLl9mb2N1c05leHRUYWIoaSx1KTt0LmN0cmxLZXl8fHQubWV0YUtleXx8KHIuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksdGhpcy50YWJzLmVxKGkpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJ0cnVlIiksdGhpcy5hY3RpdmF0aW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5vcHRpb24oImFjdGl2ZSIsaSl9LHRoaXMuZGVsYXkpKX19LF9wYW5lbEtleWRvd246ZnVuY3Rpb24odCl7dGhpcy5faGFuZGxlUGFnZU5hdih0KXx8dC5jdHJsS2V5JiZ0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVVAmJih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5hY3RpdmUudHJpZ2dlcigiZm9jdXMiKSl9LF9oYW5kbGVQYWdlTmF2OmZ1bmN0aW9uKHQpe3JldHVybiB0LmFsdEtleSYmdC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlBBR0VfVVA/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlLTEsITEpKSwhMCk6dC5hbHRLZXkmJnQua2V5Q29kZT09PW4udWkua2V5Q29kZS5QQUdFX0RPV04/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlKzEsITApKSwhMCk6dm9pZCAwfSxfZmluZE5leHRUYWI6ZnVuY3Rpb24odCxpKXtmdW5jdGlvbiB1KCl7cmV0dXJuIHQ+ciYmKHQ9MCksMD50JiYodD1yKSx0fWZvcih2YXIgcj10aGlzLnRhYnMubGVuZ3RoLTE7LTEhPT1uLmluQXJyYXkodSgpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7KXQ9aT90KzE6dC0xO3JldHVybiB0fSxfZm9jdXNOZXh0VGFiOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49dGhpcy5fZmluZE5leHRUYWIobix0KSx0aGlzLnRhYnMuZXEobikudHJpZ2dlcigiZm9jdXMiKSxufSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImFjdGl2ZSI9PT1uPyh0aGlzLl9hY3RpdmF0ZSh0KSx2b2lkIDApOih0aGlzLl9zdXBlcihuLHQpLCJjb2xsYXBzaWJsZSI9PT1uJiYodGhpcy5fdG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLG51bGwsdCksdHx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKSksImV2ZW50Ij09PW4mJnRoaXMuX3NldHVwRXZlbnRzKHQpLCJoZWlnaHRTdHlsZSI9PT1uJiZ0aGlzLl9zZXR1cEhlaWdodFN0eWxlKHQpLHZvaWQgMCl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKG4pe3JldHVybiBuP24ucmVwbGFjZSgvWyEiJCUmJygpKissLlwvOjs8PT4/QFxbXF1cXmB7fH1+XS9nLCJcXCQmIik6IiJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsaT10aGlzLnRhYmxpc3QuY2hpbGRyZW4oIjpoYXMoYVtocmVmXSkiKTt0LmRpc2FibGVkPW4ubWFwKGkuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKSxmdW5jdGlvbihuKXtyZXR1cm4gaS5pbmRleChuKX0pO3RoaXMuX3Byb2Nlc3NUYWJzKCk7dC5hY3RpdmUhPT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLmFjdGl2ZS5sZW5ndGgmJiFuLmNvbnRhaW5zKHRoaXMudGFibGlzdFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy50YWJzLmxlbmd0aD09PXQuZGlzYWJsZWQubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZpbmROZXh0VGFiKE1hdGgubWF4KDAsdC5hY3RpdmUtMSksITEpKTp0LmFjdGl2ZT10aGlzLnRhYnMuaW5kZXgodGhpcy5hY3RpdmUpOih0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpO3RoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCk7dGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpO3RoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSk7dGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSk7dGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLHRoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKS5zaG93KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSkpOnRoaXMudGFicy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCl9LF9wcm9jZXNzVGFiczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10aGlzLnRhYnMscj10aGlzLmFuY2hvcnMsdT10aGlzLnBhbmVsczt0aGlzLnRhYmxpc3Q9dGhpcy5fZ2V0TGlzdCgpLmF0dHIoInJvbGUiLCJ0YWJsaXN0Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy50YWJsaXN0LCJ1aS10YWJzLW5hdiIsInVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciIpO3RoaXMudGFibGlzdC5vbigibW91c2Vkb3duIit0aGlzLmV2ZW50TmFtZXNwYWNlLCI+IGxpIixmdW5jdGlvbih0KXtuKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSkub24oImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLCIudWktdGFicy1hbmNob3IiLGZ1bmN0aW9uKCl7bih0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KTt0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYXR0cih7cm9sZToidGFiIix0YWJJbmRleDotMX0pO3RoaXMuX2FkZENsYXNzKHRoaXMudGFicywidWktdGFicy10YWIiLCJ1aS1zdGF0ZS1kZWZhdWx0Iik7dGhpcy5hbmNob3JzPXRoaXMudGFicy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbigiYSIsdGhpcylbMF19KS5hdHRyKHtyb2xlOiJwcmVzZW50YXRpb24iLHRhYkluZGV4Oi0xfSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5hbmNob3JzLCJ1aS10YWJzLWFuY2hvciIpO3RoaXMucGFuZWxzPW4oKTt0aGlzLmFuY2hvcnMuZWFjaChmdW5jdGlvbihpLHIpe3ZhciBmLHUsZSxzPW4ocikudW5pcXVlSWQoKS5hdHRyKCJpZCIpLG89bihyKS5jbG9zZXN0KCJsaSIpLGg9by5hdHRyKCJhcmlhLWNvbnRyb2xzIik7dC5faXNMb2NhbChyKT8oZj1yLmhhc2gsZT1mLnN1YnN0cmluZygxKSx1PXQuZWxlbWVudC5maW5kKHQuX3Nhbml0aXplU2VsZWN0b3IoZikpKTooZT1vLmF0dHIoImFyaWEtY29udHJvbHMiKXx8bih7fSkudW5pcXVlSWQoKVswXS5pZCxmPSIjIitlLHU9dC5lbGVtZW50LmZpbmQoZiksdS5sZW5ndGh8fCh1PXQuX2NyZWF0ZVBhbmVsKGUpLHUuaW5zZXJ0QWZ0ZXIodC5wYW5lbHNbaS0xXXx8dC50YWJsaXN0KSksdS5hdHRyKCJhcmlhLWxpdmUiLCJwb2xpdGUiKSk7dS5sZW5ndGgmJih0LnBhbmVscz10LnBhbmVscy5hZGQodSkpO2gmJm8uZGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIixoKTtvLmF0dHIoeyJhcmlhLWNvbnRyb2xzIjplLCJhcmlhLWxhYmVsbGVkYnkiOnN9KTt1LmF0dHIoImFyaWEtbGFiZWxsZWRieSIscyl9KTt0aGlzLnBhbmVscy5hdHRyKCJyb2xlIiwidGFicGFuZWwiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnBhbmVscywidWktdGFicy1wYW5lbCIsInVpLXdpZGdldC1jb250ZW50Iik7aSYmKHRoaXMuX29mZihpLm5vdCh0aGlzLnRhYnMpKSx0aGlzLl9vZmYoci5ub3QodGhpcy5hbmNob3JzKSksdGhpcy5fb2ZmKHUubm90KHRoaXMucGFuZWxzKSkpfSxfZ2V0TGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhYmxpc3R8fHRoaXMuZWxlbWVudC5maW5kKCJvbCwgdWwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKHQpe3JldHVybiBuKCI8ZGl2PiIpLmF0dHIoImlkIix0KS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKHQpe3ZhciBpLHUscjtmb3Iobi5pc0FycmF5KHQpJiYodC5sZW5ndGg/dC5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYodD0hMCk6dD0hMSkscj0wO3U9dGhpcy50YWJzW3JdO3IrKylpPW4odSksdD09PSEwfHwtMSE9PW4uaW5BcnJheShyLHQpPyhpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksdGhpcy5fYWRkQ2xhc3MoaSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpKTooaS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIiksdGhpcy5fcmVtb3ZlQ2xhc3MoaSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9dDt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCIsbnVsbCx0PT09ITApfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24odCl7dmFyIGk9e307dCYmbi5lYWNoKHQuc3BsaXQoIiAiKSxmdW5jdGlvbihuLHQpe2lbdF09Il9ldmVudEhhbmRsZXIifSk7dGhpcy5fb2ZmKHRoaXMuYW5jaG9ycy5hZGQodGhpcy50YWJzKS5hZGQodGhpcy5wYW5lbHMpKTt0aGlzLl9vbighMCx0aGlzLmFuY2hvcnMse2NsaWNrOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX19KTt0aGlzLl9vbih0aGlzLmFuY2hvcnMsaSk7dGhpcy5fb24odGhpcy50YWJzLHtrZXlkb3duOiJfdGFiS2V5ZG93biJ9KTt0aGlzLl9vbih0aGlzLnBhbmVscyx7a2V5ZG93bjoiX3BhbmVsS2V5ZG93biJ9KTt0aGlzLl9mb2N1c2FibGUodGhpcy50YWJzKTt0aGlzLl9ob3ZlcmFibGUodGhpcy50YWJzKX0sX3NldHVwSGVpZ2h0U3R5bGU6ZnVuY3Rpb24odCl7dmFyIGkscj10aGlzLmVsZW1lbnQucGFyZW50KCk7ImZpbGwiPT09dD8oaT1yLmhlaWdodCgpLGktPXRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmVsZW1lbnQuc2libGluZ3MoIjp2aXNpYmxlIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykscj10LmNzcygicG9zaXRpb24iKTsiYWJzb2x1dGUiIT09ciYmImZpeGVkIiE9PXImJihpLT10Lm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtpLT1uKHRoaXMpLm91dGVySGVpZ2h0KCEwKX0pLHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmhlaWdodChNYXRoLm1heCgwLGktbih0aGlzKS5pbm5lckhlaWdodCgpK24odGhpcykuaGVpZ2h0KCkpKX0pLmNzcygib3ZlcmZsb3ciLCJhdXRvIikpOiJhdXRvIj09PXQmJihpPTAsdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2k9TWF0aC5tYXgoaSxuKHRoaXMpLmhlaWdodCgiIikuaGVpZ2h0KCkpfSkuaGVpZ2h0KGkpKX0sX2V2ZW50SGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgdT10aGlzLm9wdGlvbnMscj10aGlzLmFjdGl2ZSxjPW4odC5jdXJyZW50VGFyZ2V0KSxpPWMuY2xvc2VzdCgibGkiKSxmPWlbMF09PT1yWzBdLGU9ZiYmdS5jb2xsYXBzaWJsZSxvPWU/bigpOnRoaXMuX2dldFBhbmVsRm9yVGFiKGkpLHM9ci5sZW5ndGg/dGhpcy5fZ2V0UGFuZWxGb3JUYWIocik6bigpLGg9e29sZFRhYjpyLG9sZFBhbmVsOnMsbmV3VGFiOmU/bigpOmksbmV3UGFuZWw6b307dC5wcmV2ZW50RGVmYXVsdCgpO2kuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fGkuaGFzQ2xhc3MoInVpLXRhYnMtbG9hZGluZyIpfHx0aGlzLnJ1bm5pbmd8fGYmJiF1LmNvbGxhcHNpYmxlfHx0aGlzLl90cmlnZ2VyKCJiZWZvcmVBY3RpdmF0ZSIsdCxoKT09PSExfHwodS5hY3RpdmU9ZT8hMTp0aGlzLnRhYnMuaW5kZXgoaSksdGhpcy5hY3RpdmU9Zj9uKCk6aSx0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKSxzLmxlbmd0aHx8by5sZW5ndGh8fG4uZXJyb3IoImpRdWVyeSBVSSBUYWJzOiBNaXNtYXRjaGluZyBmcmFnbWVudCBpZGVudGlmaWVyLiIpLG8ubGVuZ3RoJiZ0aGlzLmxvYWQodGhpcy50YWJzLmluZGV4KGkpLHQpLHRoaXMuX3RvZ2dsZSh0LGgpKX0sX3RvZ2dsZTpmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUoKXtyLnJ1bm5pbmc9ITE7ci5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsaSl9ZnVuY3Rpb24gbygpe3IuX2FkZENsYXNzKGkubmV3VGFiLmNsb3Nlc3QoImxpIiksInVpLXRhYnMtYWN0aXZlIiwidWktc3RhdGUtYWN0aXZlIik7dS5sZW5ndGgmJnIub3B0aW9ucy5zaG93P3IuX3Nob3codSxyLm9wdGlvbnMuc2hvdyxlKToodS5zaG93KCksZSgpKX12YXIgcj10aGlzLHU9aS5uZXdQYW5lbCxmPWkub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwO2YubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGYsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtyLl9yZW1vdmVDbGFzcyhpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpO28oKX0pOih0aGlzLl9yZW1vdmVDbGFzcyhpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGYuaGlkZSgpLG8oKSk7Zi5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKTtpLm9sZFRhYi5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pO3UubGVuZ3RoJiZmLmxlbmd0aD9pLm9sZFRhYi5hdHRyKCJ0YWJJbmRleCIsLTEpOnUubGVuZ3RoJiZ0aGlzLnRhYnMuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1uKHRoaXMpLmF0dHIoInRhYkluZGV4Iil9KS5hdHRyKCJ0YWJJbmRleCIsLTEpO3UuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpO2kubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgcixpPXRoaXMuX2ZpbmRBY3RpdmUodCk7aVswXSE9PXRoaXMuYWN0aXZlWzBdJiYoaS5sZW5ndGh8fChpPXRoaXMuYWN0aXZlKSxyPWkuZmluZCgiLnVpLXRhYnMtYW5jaG9yIilbMF0sdGhpcy5fZXZlbnRIYW5kbGVyKHt0YXJnZXQ6cixjdXJyZW50VGFyZ2V0OnIscHJldmVudERlZmF1bHQ6bi5ub29wfSkpfSxfZmluZEFjdGl2ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD09PSExP24oKTp0aGlzLnRhYnMuZXEodCl9LF9nZXRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJih0PXRoaXMuYW5jaG9ycy5pbmRleCh0aGlzLmFuY2hvcnMuZmlsdGVyKCJbaHJlZiQ9JyIrbi51aS5lc2NhcGVTZWxlY3Rvcih0KSsiJ10iKSkpLHR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCk7dGhpcy50YWJsaXN0LnJlbW92ZUF0dHIoInJvbGUiKS5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSk7dGhpcy5hbmNob3JzLnJlbW92ZUF0dHIoInJvbGUgdGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpO3RoaXMudGFicy5hZGQodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcywidWktdGFicy1kZXN0cm95Iik/bih0aGlzKS5yZW1vdmUoKTpuKHRoaXMpLnJlbW92ZUF0dHIoInJvbGUgdGFiSW5kZXggYXJpYS1saXZlIGFyaWEtYnVzeSBhcmlhLXNlbGVjdGVkIGFyaWEtbGFiZWxsZWRieSBhcmlhLWhpZGRlbiBhcmlhLWV4cGFuZGVkIil9KTt0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10LmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2k/dC5hdHRyKCJhcmlhLWNvbnRyb2xzIixpKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTp0LnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pO3RoaXMucGFuZWxzLnNob3coKTsiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aSE9PSExJiYodm9pZCAwPT09dD9pPSExOih0PXRoaXMuX2dldEluZGV4KHQpLGk9bi5pc0FycmF5KGkpP24ubWFwKGksZnVuY3Rpb24obil7cmV0dXJuIG4hPT10P246bnVsbH0pOm4ubWFwKHRoaXMudGFicyxmdW5jdGlvbihuLGkpe3JldHVybiBpIT09dD9pOm51bGx9KSksdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoaSkpfSxkaXNhYmxlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtpZihpIT09ITApe2lmKHZvaWQgMD09PXQpaT0hMDtlbHNle2lmKHQ9dGhpcy5fZ2V0SW5kZXgodCksLTEhPT1uLmluQXJyYXkodCxpKSlyZXR1cm47aT1uLmlzQXJyYXkoaSk/bi5tZXJnZShbdF0saSkuc29ydCgpOlt0XX10aGlzLl9zZXRPcHRpb25EaXNhYmxlZChpKX19LGxvYWQ6ZnVuY3Rpb24odCxpKXt0PXRoaXMuX2dldEluZGV4KHQpO3ZhciByPXRoaXMsdT10aGlzLnRhYnMuZXEodCksZT11LmZpbmQoIi51aS10YWJzLWFuY2hvciIpLGY9dGhpcy5fZ2V0UGFuZWxGb3JUYWIodSksbz17dGFiOnUscGFuZWw6Zn0scz1mdW5jdGlvbihuLHQpeyJhYm9ydCI9PT10JiZyLnBhbmVscy5zdG9wKCExLCEwKTtyLl9yZW1vdmVDbGFzcyh1LCJ1aS10YWJzLWxvYWRpbmciKTtmLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpO249PT1yLnhociYmZGVsZXRlIHIueGhyfTt0aGlzLl9pc0xvY2FsKGVbMF0pfHwodGhpcy54aHI9bi5hamF4KHRoaXMuX2FqYXhTZXR0aW5ncyhlLGksbykpLHRoaXMueGhyJiYiY2FuY2VsZWQiIT09dGhpcy54aHIuc3RhdHVzVGV4dCYmKHRoaXMuX2FkZENsYXNzKHUsInVpLXRhYnMtbG9hZGluZyIpLGYuYXR0cigiYXJpYS1idXN5IiwidHJ1ZSIpLHRoaXMueGhyLmRvbmUoZnVuY3Rpb24obix0LHUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmh0bWwobik7ci5fdHJpZ2dlcigibG9hZCIsaSxvKTtzKHUsdCl9LDEpfSkuZmFpbChmdW5jdGlvbihuLHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtzKG4sdCl9LDEpfSkpKX0sX2FqYXhTZXR0aW5nczpmdW5jdGlvbih0LGkscil7dmFyIHU9dGhpcztyZXR1cm57dXJsOnQuYXR0cigiaHJlZiIpLnJlcGxhY2UoLyMuKiQvLCIiKSxiZWZvcmVTZW5kOmZ1bmN0aW9uKHQsZil7cmV0dXJuIHUuX3RyaWdnZXIoImJlZm9yZUxvYWQiLGksbi5leHRlbmQoe2pxWEhSOnQsYWpheFNldHRpbmdzOmZ9LHIpKX19fSxfZ2V0UGFuZWxGb3JUYWI6ZnVuY3Rpb24odCl7dmFyIGk9bih0KS5hdHRyKCJhcmlhLWNvbnRyb2xzIik7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoIiMiK2kpKX19KTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLndpZGdldCgidWkudGFicyIsbi51aS50YWJzLHtfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7dGhpcy5fYWRkQ2xhc3ModGhpcy50YWJzLCJ1aS10YWIiKX19KTtuLnVpLnRhYnM7bi53aWRnZXQoInVpLnRvb2x0aXAiLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS10b29sdGlwIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtc2hhZG93In0sY29udGVudDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykuYXR0cigidGl0bGUiKXx8IiI7cmV0dXJuIG4oIjxhPiIpLnRleHQodCkuaHRtbCgpfSxoaWRlOiEwLGl0ZW1zOiJbdGl0bGVdOm5vdChbZGlzYWJsZWRdKSIscG9zaXRpb246e215OiJsZWZ0IHRvcCsxNSIsYXQ6ImxlZnQgYm90dG9tIixjb2xsaXNpb246ImZsaXBmaXQgZmxpcCJ9LHNob3c6ITAsdHJhY2s6ITEsY2xvc2U6bnVsbCxvcGVuOm51bGx9LF9hZGREZXNjcmliZWRCeTpmdW5jdGlvbih0LGkpe3ZhciByPSh0LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKXx8IiIpLnNwbGl0KC9ccysvKTtyLnB1c2goaSk7dC5kYXRhKCJ1aS10b29sdGlwLWlkIixpKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixuLnRyaW0oci5qb2luKCIgIikpKX0sX3JlbW92ZURlc2NyaWJlZEJ5OmZ1bmN0aW9uKHQpe3ZhciB1PXQuZGF0YSgidWktdG9vbHRpcC1pZCIpLGk9KHQuYXR0cigiYXJpYS1kZXNjcmliZWRieSIpfHwiIikuc3BsaXQoL1xzKy8pLHI9bi5pbkFycmF5KHUsaSk7LTEhPT1yJiZpLnNwbGljZShyLDEpO3QucmVtb3ZlRGF0YSgidWktdG9vbHRpcC1pZCIpO2k9bi50cmltKGkuam9pbigiICIpKTtpP3QuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsaSk6dC5yZW1vdmVBdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9vbih7bW91c2VvdmVyOiJvcGVuIixmb2N1c2luOiJvcGVuIn0pO3RoaXMudG9vbHRpcHM9e307dGhpcy5wYXJlbnRzPXt9O3RoaXMubGl2ZVJlZ2lvbj1uKCI8ZGl2PiIpLmF0dHIoe3JvbGU6ImxvZyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KTt0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5kaXNhYmxlZFRpdGxlcz1uKFtdKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXM7dGhpcy5fc3VwZXIodCxpKTsiY29udGVudCI9PT10JiZuLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbihuLHQpe3IuX3VwZGF0ZUNvbnRlbnQodC5lbGVtZW50KX0pfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpc1tuPyJfZGlzYWJsZSI6Il9lbmFibGUiXSgpfSxfZGlzYWJsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7bi5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24oaSxyKXt2YXIgdT1uLkV2ZW50KCJibHVyIik7dS50YXJnZXQ9dS5jdXJyZW50VGFyZ2V0PXIuZWxlbWVudFswXTt0LmNsb3NlKHUsITApfSk7dGhpcy5kaXNhYmxlZFRpdGxlcz10aGlzLmRpc2FibGVkVGl0bGVzLmFkZCh0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO2lmKHQuaXMoIlt0aXRsZV0iKSlyZXR1cm4gdC5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIix0LmF0dHIoInRpdGxlIikpLnJlbW92ZUF0dHIoInRpdGxlIil9KSl9LF9lbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkVGl0bGVzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiZ0LmF0dHIoInRpdGxlIix0LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSl9KTt0aGlzLmRpc2FibGVkVGl0bGVzPW4oW10pfSxvcGVuOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsaT1uKHQ/dC50YXJnZXQ6dGhpcy5lbGVtZW50KS5jbG9zZXN0KHRoaXMub3B0aW9ucy5pdGVtcyk7aS5sZW5ndGgmJiFpLmRhdGEoInVpLXRvb2x0aXAtaWQiKSYmKGkuYXR0cigidGl0bGUiKSYmaS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIixpLmF0dHIoInRpdGxlIikpLGkuZGF0YSgidWktdG9vbHRpcC1vcGVuIiwhMCksdCYmIm1vdXNlb3ZlciI9PT10LnR5cGUmJmkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXt2YXIgaSx0PW4odGhpcyk7dC5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmKGk9bi5FdmVudCgiYmx1ciIpLGkudGFyZ2V0PWkuY3VycmVudFRhcmdldD10aGlzLHIuY2xvc2UoaSwhMCkpO3QuYXR0cigidGl0bGUiKSYmKHQudW5pcXVlSWQoKSxyLnBhcmVudHNbdGhpcy5pZF09e2VsZW1lbnQ6dGhpcyx0aXRsZTp0LmF0dHIoInRpdGxlIil9LHQuYXR0cigidGl0bGUiLCIiKSl9KSx0aGlzLl9yZWdpc3RlckNsb3NlSGFuZGxlcnModCxpKSx0aGlzLl91cGRhdGVDb250ZW50KGksdCkpfSxfdXBkYXRlQ29udGVudDpmdW5jdGlvbihuLHQpe3ZhciByLGk9dGhpcy5vcHRpb25zLmNvbnRlbnQsdT10aGlzLGY9dD90LnR5cGU6bnVsbDtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGl8fGkubm9kZVR5cGV8fGkuanF1ZXJ5P3RoaXMuX29wZW4odCxuLGkpOihyPWkuY2FsbChuWzBdLGZ1bmN0aW9uKGkpe3UuX2RlbGF5KGZ1bmN0aW9uKCl7bi5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmKHQmJih0LnR5cGU9ZiksdGhpcy5fb3Blbih0LG4saSkpfSl9KSxyJiZ0aGlzLl9vcGVuKHQsbixyKSx2b2lkIDApfSxfb3BlbjpmdW5jdGlvbih0LGkscil7ZnVuY3Rpb24gbyhuKXtzLm9mPW47dS5pcygiOmhpZGRlbiIpfHx1LnBvc2l0aW9uKHMpfXZhciBmLHUsaCxlLHM9bi5leHRlbmQoe30sdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtpZihyKXtpZihmPXRoaXMuX2ZpbmQoaSkpcmV0dXJuIGYudG9vbHRpcC5maW5kKCIudWktdG9vbHRpcC1jb250ZW50IikuaHRtbChyKSx2b2lkIDA7aS5pcygiW3RpdGxlXSIpJiYodCYmIm1vdXNlb3ZlciI9PT10LnR5cGU/aS5hdHRyKCJ0aXRsZSIsIiIpOmkucmVtb3ZlQXR0cigidGl0bGUiKSk7Zj10aGlzLl90b29sdGlwKGkpO3U9Zi50b29sdGlwO3RoaXMuX2FkZERlc2NyaWJlZEJ5KGksdS5hdHRyKCJpZCIpKTt1LmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKHIpO3RoaXMubGl2ZVJlZ2lvbi5jaGlsZHJlbigpLmhpZGUoKTtlPW4oIjxkaXY+IikuaHRtbCh1LmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKCkpO2UucmVtb3ZlQXR0cigibmFtZSIpLmZpbmQoIltuYW1lXSIpLnJlbW92ZUF0dHIoIm5hbWUiKTtlLnJlbW92ZUF0dHIoImlkIikuZmluZCgiW2lkXSIpLnJlbW92ZUF0dHIoImlkIik7ZS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pO3RoaXMub3B0aW9ucy50cmFjayYmdCYmL15tb3VzZS8udGVzdCh0LnR5cGUpPyh0aGlzLl9vbih0aGlzLmRvY3VtZW50LHttb3VzZW1vdmU6b30pLG8odCkpOnUucG9zaXRpb24obi5leHRlbmQoeyJvZiI6aX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKSk7dS5oaWRlKCk7dGhpcy5fc2hvdyh1LHRoaXMub3B0aW9ucy5zaG93KTt0aGlzLm9wdGlvbnMudHJhY2smJnRoaXMub3B0aW9ucy5zaG93JiZ0aGlzLm9wdGlvbnMuc2hvdy5kZWxheSYmKGg9dGhpcy5kZWxheWVkU2hvdz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3UuaXMoIjp2aXNpYmxlIikmJihvKHMub2YpLGNsZWFySW50ZXJ2YWwoaCkpfSxuLmZ4LmludGVydmFsKSk7dGhpcy5fdHJpZ2dlcigib3BlbiIsdCx7dG9vbHRpcDp1fSl9fSxfcmVnaXN0ZXJDbG9zZUhhbmRsZXJzOmZ1bmN0aW9uKHQsaSl7dmFyIHI9e2tleXVwOmZ1bmN0aW9uKHQpe2lmKHQua2V5Q29kZT09PW4udWkua2V5Q29kZS5FU0NBUEUpe3ZhciByPW4uRXZlbnQodCk7ci5jdXJyZW50VGFyZ2V0PWlbMF07dGhpcy5jbG9zZShyLCEwKX19fTtpWzBdIT09dGhpcy5lbGVtZW50WzBdJiYoci5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVUb29sdGlwKHRoaXMuX2ZpbmQoaSkudG9vbHRpcCl9KTt0JiYibW91c2VvdmVyIiE9PXQudHlwZXx8KHIubW91c2VsZWF2ZT0iY2xvc2UiKTt0JiYiZm9jdXNpbiIhPT10LnR5cGV8fChyLmZvY3Vzb3V0PSJjbG9zZSIpO3RoaXMuX29uKCEwLGkscil9LGNsb3NlOmZ1bmN0aW9uKHQpe3ZhciB1LGY9dGhpcyxpPW4odD90LmN1cnJlbnRUYXJnZXQ6dGhpcy5lbGVtZW50KSxyPXRoaXMuX2ZpbmQoaSk7cmV0dXJuIHI/KHU9ci50b29sdGlwLHIuY2xvc2luZ3x8KGNsZWFySW50ZXJ2YWwodGhpcy5kZWxheWVkU2hvdyksaS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikmJiFpLmF0dHIoInRpdGxlIikmJmkuYXR0cigidGl0bGUiLGkuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpKSx0aGlzLl9yZW1vdmVEZXNjcmliZWRCeShpKSxyLmhpZGluZz0hMCx1LnN0b3AoITApLHRoaXMuX2hpZGUodSx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2YuX3JlbW92ZVRvb2x0aXAobih0aGlzKSl9KSxpLnJlbW92ZURhdGEoInVpLXRvb2x0aXAtb3BlbiIpLHRoaXMuX29mZihpLCJtb3VzZWxlYXZlIGZvY3Vzb3V0IGtleXVwIiksaVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fb2ZmKGksInJlbW92ZSIpLHRoaXMuX29mZih0aGlzLmRvY3VtZW50LCJtb3VzZW1vdmUiKSx0JiYibW91c2VsZWF2ZSI9PT10LnR5cGUmJm4uZWFjaCh0aGlzLnBhcmVudHMsZnVuY3Rpb24odCxpKXtuKGkuZWxlbWVudCkuYXR0cigidGl0bGUiLGkudGl0bGUpO2RlbGV0ZSBmLnBhcmVudHNbdF19KSxyLmNsb3Npbmc9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLHQse3Rvb2x0aXA6dX0pLHIuaGlkaW5nfHwoci5jbG9zaW5nPSExKSksdm9pZCAwKTooaS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLW9wZW4iKSx2b2lkIDApfSxfdG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgaT1uKCI8ZGl2PiIpLmF0dHIoInJvbGUiLCJ0b29sdGlwIikscj1uKCI8ZGl2PiIpLmFwcGVuZFRvKGkpLHU9aS51bmlxdWVJZCgpLmF0dHIoImlkIik7cmV0dXJuIHRoaXMuX2FkZENsYXNzKHIsInVpLXRvb2x0aXAtY29udGVudCIpLHRoaXMuX2FkZENsYXNzKGksInVpLXRvb2x0aXAiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKSxpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKHQpKSx0aGlzLnRvb2x0aXBzW3VdPXtlbGVtZW50OnQsdG9vbHRpcDppfX0sX2ZpbmQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5kYXRhKCJ1aS10b29sdGlwLWlkIik7cmV0dXJuIHQ/dGhpcy50b29sdGlwc1t0XTpudWxsfSxfcmVtb3ZlVG9vbHRpcDpmdW5jdGlvbihuKXtuLnJlbW92ZSgpO2RlbGV0ZSB0aGlzLnRvb2x0aXBzW24uYXR0cigiaWQiKV19LF9hcHBlbmRUbzpmdW5jdGlvbihuKXt2YXIgdD1uLmNsb3Nlc3QoIi51aS1mcm9udCwgZGlhbG9nIik7cmV0dXJuIHQubGVuZ3RofHwodD10aGlzLmRvY3VtZW50WzBdLmJvZHkpLHR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztuLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbihpLHIpe3ZhciBmPW4uRXZlbnQoImJsdXIiKSx1PXIuZWxlbWVudDtmLnRhcmdldD1mLmN1cnJlbnRUYXJnZXQ9dVswXTt0LmNsb3NlKGYsITApO24oIiMiK2kpLnJlbW92ZSgpO3UuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiYodS5hdHRyKCJ0aXRsZSIpfHx1LmF0dHIoInRpdGxlIix1LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSksdS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpfSk7dGhpcy5saXZlUmVnaW9uLnJlbW92ZSgpfX0pO24udWlCYWNrQ29tcGF0IT09ITEmJm4ud2lkZ2V0KCJ1aS50b29sdGlwIixuLnVpLnRvb2x0aXAse29wdGlvbnM6e3Rvb2x0aXBDbGFzczpudWxsfSxfdG9vbHRpcDpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5vcHRpb25zLnRvb2x0aXBDbGFzcyYmbi50b29sdGlwLmFkZENsYXNzKHRoaXMub3B0aW9ucy50b29sdGlwQ2xhc3MpLG59fSk7bi51aS50b29sdGlwfSk7Ci8qISBqUXVlcnkgTWlncmF0ZSB2My4zLjIgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwoidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeS5taWdyYXRlTXV0ZSYmKGpRdWVyeS5taWdyYXRlTXV0ZT0hMCksZnVuY3Rpb24obil7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sZnVuY3Rpb24odCl7cmV0dXJuIG4odCx3aW5kb3cpfSk6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4ocmVxdWlyZSgianF1ZXJ5Iiksd2luZG93KTpuKGpRdWVyeSx3aW5kb3cpfShmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1KHQpe3JldHVybiAwPD1mdW5jdGlvbihuLHQpe2Zvcih2YXIgcj0vXihcZCspXC4oXGQrKVwuKFxkKykvLHU9ci5leGVjKG4pfHxbXSxmPXIuZXhlYyh0KXx8W10saT0xO2k8PTM7aSsrKXtpZigrZltpXTwrdVtpXSlyZXR1cm4gMTtpZigrdVtpXTwrZltpXSlyZXR1cm4tMX1yZXR1cm4gMH0obi5mbi5qcXVlcnksdCl9ZnVuY3Rpb24gaShpKXt2YXIgcj10LmNvbnNvbGU7bi5taWdyYXRlRGVkdXBsaWNhdGVXYXJuaW5ncyYmZVtpXXx8KGVbaV09ITAsbi5taWdyYXRlV2FybmluZ3MucHVzaChpKSxyJiZyLndhcm4mJiFuLm1pZ3JhdGVNdXRlJiYoci53YXJuKCJKUU1JR1JBVEU6ICIraSksbi5taWdyYXRlVHJhY2UmJnIudHJhY2UmJnIudHJhY2UoKSkpfWZ1bmN0aW9uIGgobix0LHIsdSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkodSkscn0sc2V0OmZ1bmN0aW9uKG4pe2kodSk7cj1ufX0pfWZ1bmN0aW9uIHIobix0LHIsdSl7blt0XT1mdW5jdGlvbigpe3JldHVybiBpKHUpLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBsKG4pe3JldHVybiBuLnJlcGxhY2UoLy0oW2Etel0pL2csZnVuY3Rpb24obix0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24gdHQobil7dmFyIGk9dC5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO3JldHVybiBpLmJvZHkuaW5uZXJIVE1MPW4saS5ib2R5JiZpLmJvZHkuaW5uZXJIVE1MfWZ1bmN0aW9uIGl0KG4pe3ZhciB0PW4ucmVwbGFjZShwLCI8JDE+PFwvJDI+Iik7dCE9PW4mJnR0KG4pIT09dHQodCkmJmkoIkhUTUwgdGFncyBtdXN0IGJlIHByb3Blcmx5IG5lc3RlZCBhbmQgY2xvc2VkOiAiK24pfXZhciBlLHYseSxnLG50LGYscCxydCx1dCxmdCx3LGV0LG90O24ubWlncmF0ZVZlcnNpb249IjMuMy4yIjt0LmNvbnNvbGUmJnQuY29uc29sZS5sb2cmJihuJiZ1KCIzLjAuMCIpfHx0LmNvbnNvbGUubG9nKCJKUU1JR1JBVEU6IGpRdWVyeSAzLjAuMCsgUkVRVUlSRUQiKSxuLm1pZ3JhdGVXYXJuaW5ncyYmdC5jb25zb2xlLmxvZygiSlFNSUdSQVRFOiBNaWdyYXRlIHBsdWdpbiBsb2FkZWQgbXVsdGlwbGUgdGltZXMiKSx0LmNvbnNvbGUubG9nKCJKUU1JR1JBVEU6IE1pZ3JhdGUgaXMgaW5zdGFsbGVkIisobi5taWdyYXRlTXV0ZT8iIjoiIHdpdGggbG9nZ2luZyBhY3RpdmUiKSsiLCB2ZXJzaW9uICIrbi5taWdyYXRlVmVyc2lvbikpO2U9e307bi5taWdyYXRlRGVkdXBsaWNhdGVXYXJuaW5ncz0hMDtuLm1pZ3JhdGVXYXJuaW5ncz1bXTt2b2lkIDA9PT1uLm1pZ3JhdGVUcmFjZSYmKG4ubWlncmF0ZVRyYWNlPSEwKTtuLm1pZ3JhdGVSZXNldD1mdW5jdGlvbigpe2U9e307bi5taWdyYXRlV2FybmluZ3MubGVuZ3RoPTB9OyJCYWNrQ29tcGF0Ij09PXQuZG9jdW1lbnQuY29tcGF0TW9kZSYmaSgialF1ZXJ5IGlzIG5vdCBjb21wYXRpYmxlIHdpdGggUXVpcmtzIE1vZGUiKTt2YXIgbyxiLGMsaz17fSxzdD1uLmZuLmluaXQscz1uLmZpbmQsaHQ9L1xbKFxzKlstXHddK1xzKikoW358XiQqXT89KVxzKihbLVx3I10qPyNbLVx3I10qKVxzKlxdLyxjdD0vXFsoXHMqWy1cd10rXHMqKShbfnxeJCpdPz0pXHMqKFstXHcjXSo/I1stXHcjXSopXHMqXF0vZyxsdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Zm9yKG8gaW4gbi5mbi5pbml0PWZ1bmN0aW9uKG4pe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuJiYiIyI9PT1uJiYoaSgialF1ZXJ5KCAnIycgKSBpcyBub3QgYSB2YWxpZCBzZWxlY3RvciIpLHRbMF09W10pLHN0LmFwcGx5KHRoaXMsdCl9LG4uZm4uaW5pdC5wcm90b3R5cGU9bi5mbixuLmZpbmQ9ZnVuY3Rpb24obil7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtpZigic3RyaW5nIj09dHlwZW9mIG4mJmh0LnRlc3QobikpdHJ5e3QuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuKX1jYXRjaCh1KXtuPW4ucmVwbGFjZShjdCxmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4iWyIrdCtpKyciJytyKyciXSd9KTt0cnl7dC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG4pO2koIkF0dHJpYnV0ZSBzZWxlY3RvciB3aXRoICcjJyBtdXN0IGJlIHF1b3RlZDogIityWzBdKTtyWzBdPW59Y2F0Y2godSl7aSgiQXR0cmlidXRlIHNlbGVjdG9yIHdpdGggJyMnIHdhcyBub3QgZml4ZWQ6ICIrclswXSl9fXJldHVybiBzLmFwcGx5KHRoaXMscil9LHMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsbykmJihuLmZpbmRbb109c1tvXSk7cihuLmZuLCJzaXplIixmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sImpRdWVyeS5mbi5zaXplKCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZDsgdXNlIHRoZSAubGVuZ3RoIHByb3BlcnR5Iik7cihuLCJwYXJzZUpTT04iLGZ1bmN0aW9uKCl7cmV0dXJuIEpTT04ucGFyc2UuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwialF1ZXJ5LnBhcnNlSlNPTiBpcyBkZXByZWNhdGVkOyB1c2UgSlNPTi5wYXJzZSIpO3IobiwiaG9sZFJlYWR5IixuLmhvbGRSZWFkeSwialF1ZXJ5LmhvbGRSZWFkeSBpcyBkZXByZWNhdGVkIik7cihuLCJ1bmlxdWUiLG4udW5pcXVlU29ydCwialF1ZXJ5LnVuaXF1ZSBpcyBkZXByZWNhdGVkOyB1c2UgalF1ZXJ5LnVuaXF1ZVNvcnQiKTtoKG4uZXhwciwiZmlsdGVycyIsbi5leHByLnBzZXVkb3MsImpRdWVyeS5leHByLmZpbHRlcnMgaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS5leHByLnBzZXVkb3MiKTtoKG4uZXhwciwiOiIsbi5leHByLnBzZXVkb3MsImpRdWVyeS5leHByWyc6J10gaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS5leHByLnBzZXVkb3MiKTt1KCIzLjEuMSIpJiZyKG4sInRyaW0iLGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOihuKyIiKS5yZXBsYWNlKGx0LCIiKX0sImpRdWVyeS50cmltIGlzIGRlcHJlY2F0ZWQ7IHVzZSBTdHJpbmcucHJvdG90eXBlLnRyaW0iKTt1KCIzLjIuMCIpJiYocihuLCJub2RlTmFtZSIsZnVuY3Rpb24obix0KXtyZXR1cm4gbi5ub2RlTmFtZSYmbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfSwialF1ZXJ5Lm5vZGVOYW1lIGlzIGRlcHJlY2F0ZWQiKSxyKG4sImlzQXJyYXkiLEFycmF5LmlzQXJyYXksImpRdWVyeS5pc0FycmF5IGlzIGRlcHJlY2F0ZWQ7IHVzZSBBcnJheS5pc0FycmF5IikpO3UoIjMuMy4wIikmJihyKG4sImlzTnVtZXJpYyIsZnVuY3Rpb24obil7dmFyIHQ9dHlwZW9mIG47cmV0dXJuKCJudW1iZXIiPT10fHwic3RyaW5nIj09dCkmJiFpc05hTihuLXBhcnNlRmxvYXQobikpfSwialF1ZXJ5LmlzTnVtZXJpYygpIGlzIGRlcHJlY2F0ZWQiKSxuLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7a1siW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KSxyKG4sInR5cGUiLGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uP24rIiI6Im9iamVjdCI9PXR5cGVvZiBufHwiZnVuY3Rpb24iPT10eXBlb2Ygbj9rW09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKV18fCJvYmplY3QiOnR5cGVvZiBufSwialF1ZXJ5LnR5cGUgaXMgZGVwcmVjYXRlZCIpLHIobiwiaXNGdW5jdGlvbiIsZnVuY3Rpb24obil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG59LCJqUXVlcnkuaXNGdW5jdGlvbigpIGlzIGRlcHJlY2F0ZWQiKSxyKG4sImlzV2luZG93IixmdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9biYmbj09PW4ud2luZG93fSwialF1ZXJ5LmlzV2luZG93KCkgaXMgZGVwcmVjYXRlZCIpKTtuLmFqYXgmJihiPW4uYWpheCxjPS8oPSlcPyg/PSZ8JCl8XD9cPy8sbi5hamF4PWZ1bmN0aW9uKCl7dmFyIG49Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG4ucHJvbWlzZSYmKHIobiwic3VjY2VzcyIsbi5kb25lLCJqUVhIUi5zdWNjZXNzIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQiKSxyKG4sImVycm9yIixuLmZhaWwsImpRWEhSLmVycm9yIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQiKSxyKG4sImNvbXBsZXRlIixuLmFsd2F5cywialFYSFIuY29tcGxldGUgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCIpKSxufSx1KCI0LjAuMCIpfHxuLmFqYXhQcmVmaWx0ZXIoIitqc29uIixmdW5jdGlvbihuKXshMSE9PW4uanNvbnAmJihjLnRlc3Qobi51cmwpfHwic3RyaW5nIj09dHlwZW9mIG4uZGF0YSYmMD09PShuLmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJmMudGVzdChuLmRhdGEpKSYmaSgiSlNPTi10by1KU09OUCBhdXRvLXByb21vdGlvbiBpcyBkZXByZWNhdGVkIil9KSk7dmFyIGF0PW4uZm4ucmVtb3ZlQXR0cix2dD1uLmZuLnRvZ2dsZUNsYXNzLHl0PS9cUysvZztuLmZuLnJlbW92ZUF0dHI9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztyZXR1cm4gbi5lYWNoKHQubWF0Y2goeXQpLGZ1bmN0aW9uKHQsdSl7bi5leHByLm1hdGNoLmJvb2wudGVzdCh1KSYmKGkoImpRdWVyeS5mbi5yZW1vdmVBdHRyIG5vIGxvbmdlciBzZXRzIGJvb2xlYW4gcHJvcGVydGllczogIit1KSxyLnByb3AodSwhMSkpfSksYXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgZCxhPSEobi5mbi50b2dnbGVDbGFzcz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmImJvb2xlYW4iIT10eXBlb2YgdD92dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGkoImpRdWVyeS5mbi50b2dnbGVDbGFzcyggYm9vbGVhbiApIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10aGlzLmdldEF0dHJpYnV0ZSYmdGhpcy5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiO2kmJm4uZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIixpKTt0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwhaSYmITEhPT10JiZuLmRhdGEodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIil9KSl9KSxwdD0vXlthLXpdLyx3dD0vXig/OkJvcmRlcig/OlRvcHxSaWdodHxCb3R0b218TGVmdCk/KD86V2lkdGh8KXwoPzpNYXJnaW58UGFkZGluZyk/KD86VG9wfFJpZ2h0fEJvdHRvbXxMZWZ0KT98KD86TWlufE1heCk/KD86V2lkdGh8SGVpZ2h0KSkkLztuLnN3YXAmJm4uZWFjaChbImhlaWdodCIsIndpZHRoIiwicmVsaWFibGVNYXJnaW5SaWdodCJdLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bi5jc3NIb29rc1tpXSYmbi5jc3NIb29rc1tpXS5nZXQ7ciYmKG4uY3NzSG9va3NbaV0uZ2V0PWZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGE9ITAsbj1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhPSExLG59KX0pO24uc3dhcD1mdW5jdGlvbihuLHQscix1KXt2YXIgZSxmLG89e307Zm9yKGYgaW4gYXx8aSgialF1ZXJ5LnN3YXAoKSBpcyB1bmRvY3VtZW50ZWQgYW5kIGRlcHJlY2F0ZWQiKSx0KW9bZl09bi5zdHlsZVtmXSxuLnN0eWxlW2ZdPXRbZl07Zm9yKGYgaW4gZT1yLmFwcGx5KG4sdXx8W10pLHQpbi5zdHlsZVtmXT1vW2ZdO3JldHVybiBlfTt1KCIzLjQuMCIpJiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb3h5JiYobi5jc3NQcm9wcz1uZXcgUHJveHkobi5jc3NQcm9wc3x8e30se3NldDpmdW5jdGlvbigpe3JldHVybiBpKCJKUU1JR1JBVEU6IGpRdWVyeS5jc3NQcm9wcyBpcyBkZXByZWNhdGVkIiksUmVmbGVjdC5zZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKTtuLmNzc051bWJlcnx8KG4uY3NzTnVtYmVyPXt9KTtkPW4uZm4uY3NzO24uZm4uY3NzPWZ1bmN0aW9uKHQscil7dmFyIGYsdSxlPXRoaXM7cmV0dXJuIHQmJiJvYmplY3QiPT10eXBlb2YgdCYmIUFycmF5LmlzQXJyYXkodCk/KG4uZWFjaCh0LGZ1bmN0aW9uKHQsaSl7bi5mbi5jc3MuY2FsbChlLHQsaSl9KSx0aGlzKTooIm51bWJlciI9PXR5cGVvZiByJiYoZj1sKHQpLHU9ZixwdC50ZXN0KHUpJiZ3dC50ZXN0KHVbMF0udG9VcHBlckNhc2UoKSt1LnNsaWNlKDEpKXx8bi5jc3NOdW1iZXJbZl18fGkoJ051bWJlci10eXBlZCB2YWx1ZXMgYXJlIGRlcHJlY2F0ZWQgZm9yIGpRdWVyeS5mbi5jc3MoICInK3QrJyIsIHZhbHVlICknKSksZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfTtmPW4uZGF0YTtuLmRhdGE9ZnVuY3Rpb24odCxyLHUpe3ZhciBvLHMsZTtpZihyJiYib2JqZWN0Ij09dHlwZW9mIHImJjI9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoZSBpbiBvPW4uaGFzRGF0YSh0KSYmZi5jYWxsKHRoaXMsdCkscz17fSxyKWUhPT1sKGUpPyhpKCJqUXVlcnkuZGF0YSgpIGFsd2F5cyBzZXRzL2dldHMgY2FtZWxDYXNlZCBuYW1lczogIitlKSxvW2VdPXJbZV0pOnNbZV09cltlXTtyZXR1cm4gZi5jYWxsKHRoaXMsdCxzKSxyfXJldHVybiByJiYic3RyaW5nIj09dHlwZW9mIHImJnIhPT1sKHIpJiYobz1uLmhhc0RhdGEodCkmJmYuY2FsbCh0aGlzLHQpKSYmciBpbiBvPyhpKCJqUXVlcnkuZGF0YSgpIGFsd2F5cyBzZXRzL2dldHMgY2FtZWxDYXNlZCBuYW1lczogIityKSwyPGFyZ3VtZW50cy5sZW5ndGgmJihvW3JdPXUpLG9bcl0pOmYuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtuLmZ4JiYoZz1uLlR3ZWVuLnByb3RvdHlwZS5ydW4sbnQ9ZnVuY3Rpb24obil7cmV0dXJuIG59LG4uVHdlZW4ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpezE8bi5lYXNpbmdbdGhpcy5lYXNpbmddLmxlbmd0aCYmKGkoIidqUXVlcnkuZWFzaW5nLiIrdGhpcy5lYXNpbmcudG9TdHJpbmcoKSsiJyBzaG91bGQgdXNlIG9ubHkgb25lIGFyZ3VtZW50Iiksbi5lYXNpbmdbdGhpcy5lYXNpbmddPW50KTtnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdj1uLmZ4LmludGVydmFsfHwxMyx5PSJqUXVlcnkuZnguaW50ZXJ2YWwgaXMgZGVwcmVjYXRlZCIsdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLmZ4LCJpbnRlcnZhbCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LmRvY3VtZW50LmhpZGRlbnx8aSh5KSx2fSxzZXQ6ZnVuY3Rpb24obil7aSh5KTt2PW59fSkpO3ZhciBidD1uLmZuLmxvYWQsa3Q9bi5ldmVudC5hZGQsZHQ9bi5ldmVudC5maXg7cmV0dXJuIG4uZXZlbnQucHJvcHM9W10sbi5ldmVudC5maXhIb29rcz17fSxoKG4uZXZlbnQucHJvcHMsImNvbmNhdCIsbi5ldmVudC5wcm9wcy5jb25jYXQsImpRdWVyeS5ldmVudC5wcm9wcy5jb25jYXQoKSBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkIiksbi5ldmVudC5maXg9ZnVuY3Rpb24odCl7dmFyIGYsZT10LnR5cGUsdT10aGlzLmZpeEhvb2tzW2VdLHI9bi5ldmVudC5wcm9wcztpZihyLmxlbmd0aClmb3IoaSgialF1ZXJ5LmV2ZW50LnByb3BzIGFyZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkOiAiK3Iuam9pbigpKTtyLmxlbmd0aDspbi5ldmVudC5hZGRQcm9wKHIucG9wKCkpO2lmKHUmJiF1Ll9taWdyYXRlZF8mJih1Ll9taWdyYXRlZF89ITAsaSgialF1ZXJ5LmV2ZW50LmZpeEhvb2tzIGFyZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkOiAiK2UpLChyPXUucHJvcHMpJiZyLmxlbmd0aCkpd2hpbGUoci5sZW5ndGgpbi5ldmVudC5hZGRQcm9wKHIucG9wKCkpO3JldHVybiBmPWR0LmNhbGwodGhpcyx0KSx1JiZ1LmZpbHRlcj91LmZpbHRlcihmLHQpOmZ9LG4uZXZlbnQuYWRkPWZ1bmN0aW9uKG4scil7cmV0dXJuIG49PT10JiYibG9hZCI9PT1yJiYiY29tcGxldGUiPT09dC5kb2N1bWVudC5yZWFkeVN0YXRlJiZpKCJqUXVlcnkod2luZG93KS5vbignbG9hZCcuLi4pIGNhbGxlZCBhZnRlciBsb2FkIGV2ZW50IG9jY3VycmVkIiksa3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuLmVhY2goWyJsb2FkIiwidW5sb2FkIiwiZXJyb3IiXSxmdW5jdGlvbih0LHIpe24uZm5bcl09ZnVuY3Rpb24oKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuImxvYWQiPT09ciYmInN0cmluZyI9PXR5cGVvZiBuWzBdP2J0LmFwcGx5KHRoaXMsbik6KGkoImpRdWVyeS5mbi4iK3IrIigpIGlzIGRlcHJlY2F0ZWQiKSxuLnNwbGljZSgwLDAsciksYXJndW1lbnRzLmxlbmd0aD90aGlzLm9uLmFwcGx5KHRoaXMsbik6KHRoaXMudHJpZ2dlckhhbmRsZXIuYXBwbHkodGhpcyxuKSx0aGlzKSl9fSksbi5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKHQscil7bi5mbltyXT1mdW5jdGlvbihuLHQpe3JldHVybiBpKCJqUXVlcnkuZm4uIityKyIoKSBldmVudCBzaG9ydGhhbmQgaXMgZGVwcmVjYXRlZCIpLDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKHIsbnVsbCxuLHQpOnRoaXMudHJpZ2dlcihyKX19KSxuKGZ1bmN0aW9uKCl7bih0LmRvY3VtZW50KS50cmlnZ2VySGFuZGxlcigicmVhZHkiKX0pLG4uZXZlbnQuc3BlY2lhbC5yZWFkeT17c2V0dXA6ZnVuY3Rpb24oKXt0aGlzPT09dC5kb2N1bWVudCYmaSgiJ3JlYWR5JyBldmVudCBpcyBkZXByZWNhdGVkIil9fSxuLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihuLHQscil7cmV0dXJuIGkoImpRdWVyeS5mbi5iaW5kKCkgaXMgZGVwcmVjYXRlZCIpLHRoaXMub24obixudWxsLHQscil9LHVuYmluZDpmdW5jdGlvbihuLHQpe3JldHVybiBpKCJqUXVlcnkuZm4udW5iaW5kKCkgaXMgZGVwcmVjYXRlZCIpLHRoaXMub2ZmKG4sbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24obix0LHIsdSl7cmV0dXJuIGkoImpRdWVyeS5mbi5kZWxlZ2F0ZSgpIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLm9uKHQsbixyLHUpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaSgialF1ZXJ5LmZuLnVuZGVsZWdhdGUoKSBpcyBkZXByZWNhdGVkIiksMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYobiwiKioiKTp0aGlzLm9mZih0LG58fCIqKiIscil9LGhvdmVyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIGkoImpRdWVyeS5mbi5ob3ZlcigpIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLm9uKCJtb3VzZWVudGVyIixuKS5vbigibW91c2VsZWF2ZSIsdHx8bil9fSkscD0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKilbXj5dKilcLz4vZ2kscnQ9bi5odG1sUHJlZmlsdGVyLG4uVU5TQUZFX3Jlc3RvcmVMZWdhY3lIdG1sUHJlZmlsdGVyPWZ1bmN0aW9uKCl7bi5odG1sUHJlZmlsdGVyPWZ1bmN0aW9uKG4pe3JldHVybiBpdChuKSxuLnJlcGxhY2UocCwiPCQxPjxcLyQyPiIpfX0sbi5odG1sUHJlZmlsdGVyPWZ1bmN0aW9uKG4pe3JldHVybiBpdChuKSxydChuKX0sZnQ9bi5mbi5vZmZzZXQsbi5mbi5vZmZzZXQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzWzBdO3JldHVybiFufHxuLm5vZGVUeXBlJiZuLmdldEJvdW5kaW5nQ2xpZW50UmVjdD9mdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGkoImpRdWVyeS5mbi5vZmZzZXQoKSByZXF1aXJlcyBhIHZhbGlkIERPTSBlbGVtZW50IiksYXJndW1lbnRzLmxlbmd0aD90aGlzOnZvaWQgMCl9LG4uYWpheCYmKHV0PW4ucGFyYW0sbi5wYXJhbT1mdW5jdGlvbih0LHIpe3ZhciB1PW4uYWpheFNldHRpbmdzJiZuLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbDtyZXR1cm4gdm9pZCAwPT09ciYmdSYmKGkoImpRdWVyeS5wYXJhbSgpIG5vIGxvbmdlciB1c2VzIGpRdWVyeS5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwiKSxyPXUpLHV0LmNhbGwodGhpcyx0LHIpfSksb3Q9bi5mbi5hbmRTZWxmfHxuLmZuLmFkZEJhY2ssbi5mbi5hbmRTZWxmPWZ1bmN0aW9uKCl7cmV0dXJuIGkoImpRdWVyeS5mbi5hbmRTZWxmKCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCwgdXNlIGpRdWVyeS5mbi5hZGRCYWNrKCkiKSxvdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG4uRGVmZXJyZWQmJih3PW4uRGVmZXJyZWQsZXQ9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpLG4uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLG4uRGVmZXJyZWQ9ZnVuY3Rpb24odCl7dmFyIHI9dygpLHU9ci5wcm9taXNlKCk7cmV0dXJuIHIucGlwZT11LnBpcGU9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHM7cmV0dXJuIGkoImRlZmVycmVkLnBpcGUoKSBpcyBkZXByZWNhdGVkIiksbi5EZWZlcnJlZChmdW5jdGlvbihpKXtuLmVhY2goZXQsZnVuY3Rpb24obixmKXt2YXIgZT0iZnVuY3Rpb24iPT10eXBlb2YgdFtuXSYmdFtuXTtyW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIG49ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7biYmImZ1bmN0aW9uIj09dHlwZW9mIG4ucHJvbWlzZT9uLnByb21pc2UoKS5kb25lKGkucmVzb2x2ZSkuZmFpbChpLnJlamVjdCkucHJvZ3Jlc3MoaS5ub3RpZnkpOmlbZlswXSsiV2l0aCJdKHRoaXM9PT11P2kucHJvbWlzZSgpOnRoaXMsZT9bbl06YXJndW1lbnRzKX0pfSk7dD1udWxsfSkucHJvbWlzZSgpfSx0JiZ0LmNhbGwocixyKSxyfSxuLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9dy5leGNlcHRpb25Ib29rKSxufSk7IWZ1bmN0aW9uKG4sdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6KG49bnx8c2VsZikuU3dlZXRhbGVydDI9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHkobil7cmV0dXJuKHk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBufTpmdW5jdGlvbihuKXtyZXR1cm4gbiYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmbi5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmbiE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIG59KShuKX1mdW5jdGlvbiBmaShuLHQpe2lmKCEobiBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO31mdW5jdGlvbiBhdChuLHQpe2Zvcih2YXIgaSxyPTA7cjx0Lmxlbmd0aDtyKyspaT10W3JdLGkuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4saS5rZXksaSl9ZnVuY3Rpb24gZWkobix0LGkpe3JldHVybiB0JiZhdChuLnByb3RvdHlwZSx0KSxpJiZhdChuLGkpLG59ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKG4pe2Zvcih2YXIgaSxyLHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXtpPWFyZ3VtZW50c1t0XTtmb3IociBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLHIpJiYobltyXT1pW3JdKX1yZXR1cm4gbn0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBodChuKXtyZXR1cm4oaHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihuKXtyZXR1cm4gbi5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihuKX0pKG4pfWZ1bmN0aW9uIG9pKG4sdCl7cmV0dXJuKG9pPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24obix0KXtyZXR1cm4gbi5fX3Byb3RvX189dCxufSkobix0KX1mdW5jdGlvbiBlcigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0fHxSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSxmdW5jdGlvbigpe30pKSwhMH1jYXRjaChuKXtyZXR1cm4hMX19ZnVuY3Rpb24gb3IoKXtyZXR1cm4ob3I9ZXIoKT9SZWZsZWN0LmNvbnN0cnVjdDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9W251bGxdLHU7cmV0dXJuIHIucHVzaC5hcHBseShyLHQpLHU9bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkobixyKSksaSYmb2kodSxpLnByb3RvdHlwZSksdX0pLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBmZihuLHQpe3JldHVybiF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2Z1bmN0aW9uKG4pe2lmKHZvaWQgMD09PW4pdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gbn0obik6dH1mdW5jdGlvbiBzcihuLHQsaSl7cmV0dXJuKHNyPSJ1bmRlZmluZWQiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/UmVmbGVjdC5nZXQ6ZnVuY3Rpb24obix0LGkpe3ZhciB1PWZ1bmN0aW9uKG4sdCl7Zm9yKDshT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sdCkmJm51bGwhPT0obj1odChuKSk7KTtyZXR1cm4gbn0obix0KSxyO2lmKHUpcmV0dXJuIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih1LHQpLHIuZ2V0P3IuZ2V0LmNhbGwoaSk6ci52YWx1ZX0pKG4sdCxpfHxuKX1mdW5jdGlvbiBzaShuKXtyZXR1cm4gT2JqZWN0LmtleXMobikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfSl9ZnVuY3Rpb24gZyhuKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobil9ZnVuY3Rpb24gZWYobix0KXt2YXIgaTtpPSciJy5jb25jYXQobiwnIiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHVzZSAiJykuY29uY2F0KHQsJyIgaW5zdGVhZC4nKTstMT09PWRyLmluZGV4T2YoaSkmJihkci5wdXNoKGkpLGEoaSkpfWZ1bmN0aW9uIGhpKG4pe3JldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi50b1Byb21pc2V9ZnVuY3Rpb24gdnQobil7cmV0dXJuIGhpKG4pP24udG9Qcm9taXNlKCk6UHJvbWlzZS5yZXNvbHZlKG4pfWZ1bmN0aW9uIGNpKG4pe3JldHVybiBuJiZQcm9taXNlLnJlc29sdmUobik9PT1ufWZ1bmN0aW9uIGhyKG4pe3JldHVybiBuIGluc3RhbmNlb2YgRWxlbWVudHx8Im9iamVjdCI9PT15KHQ9bikmJnQuanF1ZXJ5O3ZhciB0fWZ1bmN0aW9uIGNyKG4pe3ZhciB0PXt9O2Zvcih2YXIgaSBpbiBuKXRbbltpXV09InN3YWwyLSIrbltpXTtyZXR1cm4gdH1mdW5jdGlvbiB5dChuKXt2YXIgdD1mKCk7cmV0dXJuIHQ/dC5xdWVyeVNlbGVjdG9yKG4pOm51bGx9ZnVuY3Rpb24gaChuKXtyZXR1cm4geXQoIi4iLmNvbmNhdChuKSl9ZnVuY3Rpb24gbGkoKXt2YXIgdD1yKCk7cmV0dXJuIGcodC5xdWVyeVNlbGVjdG9yQWxsKCIuIi5jb25jYXQobi5pY29uKSkpfWZ1bmN0aW9uIGFpKCl7dmFyIG49bGkoKS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIGsobil9KTtyZXR1cm4gbi5sZW5ndGg/blswXTpudWxsfWZ1bmN0aW9uIGxyKCl7cmV0dXJuIGgobi50aXRsZSl9ZnVuY3Rpb24gYygpe3JldHVybiBoKG4uY29udGVudCl9ZnVuY3Rpb24gYXIoKXtyZXR1cm4gaChuLmltYWdlKX1mdW5jdGlvbiB2cigpe3JldHVybiBoKG5bInByb2dyZXNzLXN0ZXBzIl0pfWZ1bmN0aW9uIHZpKCl7cmV0dXJuIGgoblsidmFsaWRhdGlvbi1tZXNzYWdlIl0pfWZ1bmN0aW9uIHR0KCl7cmV0dXJuIHl0KCIuIi5jb25jYXQobi5hY3Rpb25zLCIgLiIpLmNvbmNhdChuLmNvbmZpcm0pKX1mdW5jdGlvbiBmdCgpe3JldHVybiB5dCgiLiIuY29uY2F0KG4uYWN0aW9ucywiIC4iKS5jb25jYXQobi5jYW5jZWwpKX1mdW5jdGlvbiBwdCgpe3JldHVybiBoKG4uYWN0aW9ucyl9ZnVuY3Rpb24geXIoKXtyZXR1cm4gaChuLmhlYWRlcil9ZnVuY3Rpb24gcHIoKXtyZXR1cm4gaChuLmZvb3Rlcil9ZnVuY3Rpb24gd3QoKXtyZXR1cm4gaChuWyJ0aW1lci1wcm9ncmVzcy1iYXIiXSl9ZnVuY3Rpb24geWkoKXtyZXR1cm4gaChuLmNsb3NlKX1mdW5jdGlvbiBwaSgpe3ZhciBuPWcocigpLnF1ZXJ5U2VsZWN0b3JBbGwoJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleD0iLTEiXSk6bm90KFt0YWJpbmRleD0iMCJdKScpKS5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49cGFyc2VJbnQobi5nZXRBdHRyaWJ1dGUoInRhYmluZGV4IikpLCh0PXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJ0YWJpbmRleCIpKSk8bj8xOm48dD8tMTowfSksdD1nKHIoKS5xdWVyeVNlbGVjdG9yQWxsKCdcbiAgYVtocmVmXSxcbiAgYXJlYVtocmVmXSxcbiAgaW5wdXQ6bm90KFtkaXNhYmxlZF0pLFxuICBzZWxlY3Q6bm90KFtkaXNhYmxlZF0pLFxuICB0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSksXG4gIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksXG4gIGlmcmFtZSxcbiAgb2JqZWN0LFxuICBlbWJlZCxcbiAgW3RhYmluZGV4PSIwIl0sXG4gIFtjb250ZW50ZWRpdGFibGVdLFxuICBhdWRpb1tjb250cm9sc10sXG4gIHZpZGVvW2NvbnRyb2xzXSxcbiAgc3VtbWFyeVxuJykpLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4iLTEiIT09bi5nZXRBdHRyaWJ1dGUoInRhYmluZGV4Iil9KTtyZXR1cm4gZnVuY3Rpb24obil7Zm9yKHZhciBpPVtdLHQ9MDt0PG4ubGVuZ3RoO3QrKyktMT09PWkuaW5kZXhPZihuW3RdKSYmaS5wdXNoKG5bdF0pO3JldHVybiBpfShuLmNvbmNhdCh0KSkuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBrKG4pfSl9ZnVuY3Rpb24gd3IoKXtyZXR1cm4ha3QoKSYmIWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKG5bIm5vLWJhY2tkcm9wIl0pfWZ1bmN0aW9uIGJyKCl7cmV0dXJuIHIoKS5oYXNBdHRyaWJ1dGUoImRhdGEtbG9hZGluZyIpfWZ1bmN0aW9uIGUobix0KXt2YXIgaTtuLnRleHRDb250ZW50PSIiO3QmJihpPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodCwidGV4dC9odG1sIiksZyhpLnF1ZXJ5U2VsZWN0b3IoImhlYWQiKS5jaGlsZE5vZGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24uYXBwZW5kQ2hpbGQodCl9KSxnKGkucXVlcnlTZWxlY3RvcigiYm9keSIpLmNoaWxkTm9kZXMpLmZvckVhY2goZnVuY3Rpb24odCl7bi5hcHBlbmRDaGlsZCh0KX0pKX1mdW5jdGlvbiBjdChuLHQpe2lmKHQpe2Zvcih2YXIgcj10LnNwbGl0KC9ccysvKSxpPTA7aTxyLmxlbmd0aDtpKyspaWYoIW4uY2xhc3NMaXN0LmNvbnRhaW5zKHJbaV0pKXJldHVybjtyZXR1cm4gMX19ZnVuY3Rpb24gbCh0LHIsdSl7dmFyIGYsZTtpZihlPXIsZygoZj10KS5jbGFzc0xpc3QpLmZvckVhY2goZnVuY3Rpb24odCl7LTE9PT1zaShuKS5pbmRleE9mKHQpJiYtMT09PXNpKG50KS5pbmRleE9mKHQpJiYtMT09PXNpKGUuc2hvd0NsYXNzKS5pbmRleE9mKHQpJiZmLmNsYXNzTGlzdC5yZW1vdmUodCl9KSxyLmN1c3RvbUNsYXNzJiZyLmN1c3RvbUNsYXNzW3VdKXtpZigic3RyaW5nIiE9dHlwZW9mIHIuY3VzdG9tQ2xhc3NbdV0mJiFyLmN1c3RvbUNsYXNzW3VdLmZvckVhY2gpcmV0dXJuIGEoIkludmFsaWQgdHlwZSBvZiBjdXN0b21DbGFzcy4iLmNvbmNhdCh1LCchIEV4cGVjdGVkIHN0cmluZyBvciBpdGVyYWJsZSBvYmplY3QsIGdvdCAiJykuY29uY2F0KHkoci5jdXN0b21DbGFzc1t1XSksJyInKSk7aSh0LHIuY3VzdG9tQ2xhc3NbdV0pfX1mdW5jdGlvbiB3aSh0LGkpe2lmKCFpKXJldHVybiBudWxsO3N3aXRjaChpKXtjYXNlInNlbGVjdCI6Y2FzZSJ0ZXh0YXJlYSI6Y2FzZSJmaWxlIjpyZXR1cm4gYih0LG5baV0pO2Nhc2UiY2hlY2tib3giOnJldHVybiB0LnF1ZXJ5U2VsZWN0b3IoIi4iLmNvbmNhdChuLmNoZWNrYm94LCIgaW5wdXQiKSk7Y2FzZSJyYWRpbyI6cmV0dXJuIHQucXVlcnlTZWxlY3RvcigiLiIuY29uY2F0KG4ucmFkaW8sIiBpbnB1dDpjaGVja2VkIikpfHx0LnF1ZXJ5U2VsZWN0b3IoIi4iLmNvbmNhdChuLnJhZGlvLCIgaW5wdXQ6Zmlyc3QtY2hpbGQiKSk7Y2FzZSJyYW5nZSI6cmV0dXJuIHQucXVlcnlTZWxlY3RvcigiLiIuY29uY2F0KG4ucmFuZ2UsIiBpbnB1dCIpKTtkZWZhdWx0OnJldHVybiBiKHQsbi5pbnB1dCl9fWZ1bmN0aW9uIGdyKG4pe3ZhciB0O24uZm9jdXMoKTsiZmlsZSIhPT1uLnR5cGUmJih0PW4udmFsdWUsbi52YWx1ZT0iIixuLnZhbHVlPXQpfWZ1bmN0aW9uIG51KG4sdCxpKXtuJiZ0JiYoInN0cmluZyI9PXR5cGVvZiB0JiYodD10LnNwbGl0KC9ccysvKS5maWx0ZXIoQm9vbGVhbikpLHQuZm9yRWFjaChmdW5jdGlvbih0KXtuLmZvckVhY2g/bi5mb3JFYWNoKGZ1bmN0aW9uKG4pe2k/bi5jbGFzc0xpc3QuYWRkKHQpOm4uY2xhc3NMaXN0LnJlbW92ZSh0KX0pOmk/bi5jbGFzc0xpc3QuYWRkKHQpOm4uY2xhc3NMaXN0LnJlbW92ZSh0KX0pKX1mdW5jdGlvbiBkdChuLHQsaSl7aXx8MD09PXBhcnNlSW50KGkpP24uc3R5bGVbdF09Im51bWJlciI9PXR5cGVvZiBpPyIiLmNvbmNhdChpLCJweCIpOmk6bi5zdHlsZS5yZW1vdmVQcm9wZXJ0eSh0KX1mdW5jdGlvbiBvKG4sdCl7dmFyIGk9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6ImZsZXgiO24uc3R5bGUub3BhY2l0eT0iIjtuLnN0eWxlLmRpc3BsYXk9aX1mdW5jdGlvbiB2KG4pe24uc3R5bGUub3BhY2l0eT0iIjtuLnN0eWxlLmRpc3BsYXk9Im5vbmUifWZ1bmN0aW9uIGd0KG4sdCxpKXt0P28obixpKTp2KG4pfWZ1bmN0aW9uIHR1KG4pe3JldHVybiEhKG4uc2Nyb2xsSGVpZ2h0Pm4uY2xpZW50SGVpZ2h0KX1mdW5jdGlvbiBpdShuKXt2YXIgdD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuKSxpPXBhcnNlRmxvYXQodC5nZXRQcm9wZXJ0eVZhbHVlKCJhbmltYXRpb24tZHVyYXRpb24iKXx8IjAiKSxyPXBhcnNlRmxvYXQodC5nZXRQcm9wZXJ0eVZhbHVlKCJ0cmFuc2l0aW9uLWR1cmF0aW9uIil8fCIwIik7cmV0dXJuIDA8aXx8MDxyfWZ1bmN0aW9uIGJpKG4sdCl7dmFyIHI9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10JiZ0LGk9d3QoKTtrKGkpJiYociYmKGkuc3R5bGUudHJhbnNpdGlvbj0ibm9uZSIsaS5zdHlsZS53aWR0aD0iMTAwJSIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnN0eWxlLnRyYW5zaXRpb249IndpZHRoICIuY29uY2F0KG4vMWUzLCJzIGxpbmVhciIpO2kuc3R5bGUud2lkdGg9IjAlIn0sMTApKX1mdW5jdGlvbiBydSgpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93fHwidW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50fWZ1bmN0aW9uIHJ0KG4pe3V0LmlzVmlzaWJsZSgpJiZ1dSE9PW4udGFyZ2V0LnZhbHVlJiZ1dC5yZXNldFZhbGlkYXRpb25NZXNzYWdlKCk7dXU9bi50YXJnZXQudmFsdWV9ZnVuY3Rpb24ga2kobix0KXtuIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ/dC5hcHBlbmRDaGlsZChuKToib2JqZWN0Ij09PXkobik/bGYobix0KTpuJiZlKHQsbil9ZnVuY3Rpb24gc2YodCxyKXt2YXIgZT1wdCgpLHU9dHQoKSxmPWZ0KCk7ci5zaG93Q29uZmlybUJ1dHRvbnx8ci5zaG93Q2FuY2VsQnV0dG9ufHx2KGUpO2woZSxyLCJhY3Rpb25zIik7ZnUodSwiY29uZmlybSIscik7ZnUoZiwiY2FuY2VsIixyKTtyLmJ1dHRvbnNTdHlsaW5nP2Z1bmN0aW9uKHQscix1KXtpKFt0LHJdLG4uc3R5bGVkKTt1LmNvbmZpcm1CdXR0b25Db2xvciYmKHQuc3R5bGUuYmFja2dyb3VuZENvbG9yPXUuY29uZmlybUJ1dHRvbkNvbG9yKTt1LmNhbmNlbEJ1dHRvbkNvbG9yJiYoci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dS5jYW5jZWxCdXR0b25Db2xvcik7dmFyIGY7YnIoKXx8KGY9d2luZG93LmdldENvbXB1dGVkU3R5bGUodCkuZ2V0UHJvcGVydHlWYWx1ZSgiYmFja2dyb3VuZC1jb2xvciIpLHQuc3R5bGUuYm9yZGVyTGVmdENvbG9yPWYsdC5zdHlsZS5ib3JkZXJSaWdodENvbG9yPWYpfSh1LGYscik6KHcoW3UsZl0sbi5zdHlsZWQpLHUuc3R5bGUuYmFja2dyb3VuZENvbG9yPXUuc3R5bGUuYm9yZGVyTGVmdENvbG9yPXUuc3R5bGUuYm9yZGVyUmlnaHRDb2xvcj0iIixmLnN0eWxlLmJhY2tncm91bmRDb2xvcj1mLnN0eWxlLmJvcmRlckxlZnRDb2xvcj1mLnN0eWxlLmJvcmRlclJpZ2h0Q29sb3I9IiIpO3IucmV2ZXJzZUJ1dHRvbnMmJnUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZix1KX1mdW5jdGlvbiBmdSh0LHIsdSl7dmFyIGY7Z3QodCx1WyJzaG93Ii5jb25jYXQoKGY9cikuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZi5zbGljZSgxKSwiQnV0dG9uIildLCJpbmxpbmUtYmxvY2siKTtlKHQsdVsiIi5jb25jYXQociwiQnV0dG9uVGV4dCIpXSk7dC5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLHVbIiIuY29uY2F0KHIsIkJ1dHRvbkFyaWFMYWJlbCIpXSk7dC5jbGFzc05hbWU9bltyXTtsKHQsdSwiIi5jb25jYXQociwiQnV0dG9uIikpO2kodCx1WyIiLmNvbmNhdChyLCJCdXR0b25DbGFzcyIpXSl9ZnVuY3Rpb24gdmYodCxyKXt2YXIgaCxlLG8sYyx2LHMseSxwLHU9ZigpO3UmJihoPXUsInN0cmluZyI9PXR5cGVvZihlPXIuYmFja2Ryb3ApP2guc3R5bGUuYmFja2dyb3VuZD1lOmV8fGkoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkb2N1bWVudC5ib2R5XSxuWyJuby1iYWNrZHJvcCJdKSwhci5iYWNrZHJvcCYmci5hbGxvd091dHNpZGVDbGljayYmYSgnImFsbG93T3V0c2lkZUNsaWNrIiBwYXJhbWV0ZXIgcmVxdWlyZXMgYGJhY2tkcm9wYCBwYXJhbWV0ZXIgdG8gYmUgc2V0IHRvIGB0cnVlYCcpLG89dSwoYz1yLnBvc2l0aW9uKWluIG4/aShvLG5bY10pOihhKCdUaGUgInBvc2l0aW9uIiBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkLCBkZWZhdWx0aW5nIHRvICJjZW50ZXIiJyksaShvLG4uY2VudGVyKSksdj11LCEocz1yLmdyb3cpfHwic3RyaW5nIiE9dHlwZW9mIHN8fCh5PSJncm93LSIuY29uY2F0KHMpKWluIG4mJmkodixuW3ldKSxsKHUsciwiY29udGFpbmVyIiksKHA9ZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoImRhdGEtc3dhbDItcXVldWUtc3RlcCIpKSYmKHUuc2V0QXR0cmlidXRlKCJkYXRhLXF1ZXVlLXN0ZXAiLHApLGRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCJkYXRhLXN3YWwyLXF1ZXVlLXN0ZXAiKSkpfWZ1bmN0aW9uIGRpKG4sdCl7bi5wbGFjZWhvbGRlciYmIXQuaW5wdXRQbGFjZWhvbGRlcnx8KG4ucGxhY2Vob2xkZXI9dC5pbnB1dFBsYWNlaG9sZGVyKX1mdW5jdGlvbiBrZih0LGkpe3ZhciBoLHIsYSxlLHMsZj1jKCkucXVlcnlTZWxlY3RvcigiIyIuY29uY2F0KG4uY29udGVudCkpO2kuaHRtbD8oa2koaS5odG1sLGYpLG8oZiwiYmxvY2siKSk6aS50ZXh0PyhmLnRleHRDb250ZW50PWkudGV4dCxvKGYsImJsb2NrIikpOnYoZik7aD10O3I9aTthPWMoKTtlPXUuaW5uZXJQYXJhbXMuZ2V0KGgpO3M9IWV8fHIuaW5wdXQhPT1lLmlucHV0O3lmLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGk9blt0XSx1PWIoYSxpKTt3Zih0LHIuaW5wdXRBdHRyaWJ1dGVzKTt1LmNsYXNzTmFtZT1pO3MmJnYodSl9KTtyLmlucHV0JiYocyYmcGYociksYmYocikpO2woYygpLGksImNvbnRlbnQiKX1mdW5jdGlvbiBvdSgpe3JldHVybiBmKCkmJmYoKS5nZXRBdHRyaWJ1dGUoImRhdGEtcXVldWUtc3RlcCIpfWZ1bmN0aW9uIGRmKHQscil7dmFyIHU9dnIoKSxmO2lmKCFyLnByb2dyZXNzU3RlcHN8fDA9PT1yLnByb2dyZXNzU3RlcHMubGVuZ3RoKXJldHVybiB2KHUpLDA7byh1KTt1LnRleHRDb250ZW50PSIiO2Y9cGFyc2VJbnQodm9pZCAwPT09ci5jdXJyZW50UHJvZ3Jlc3NTdGVwP291KCk6ci5jdXJyZW50UHJvZ3Jlc3NTdGVwKTtmPj1yLnByb2dyZXNzU3RlcHMubGVuZ3RoJiZhKCJJbnZhbGlkIGN1cnJlbnRQcm9ncmVzc1N0ZXAgcGFyYW1ldGVyLCBpdCBzaG91bGQgYmUgbGVzcyB0aGFuIHByb2dyZXNzU3RlcHMubGVuZ3RoIChjdXJyZW50UHJvZ3Jlc3NTdGVwIGxpa2UgSlMgYXJyYXlzIHN0YXJ0cyBmcm9tIDApIik7ci5wcm9ncmVzc1N0ZXBzLmZvckVhY2goZnVuY3Rpb24odCxvKXt2YXIgbCxzLGEsYyxoLHY9KGw9dCxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIiksaShzLG5bInByb2dyZXNzLXN0ZXAiXSksZShzLGwpLHMpO3UuYXBwZW5kQ2hpbGQodik7bz09PWYmJmkodixuWyJhY3RpdmUtcHJvZ3Jlc3Mtc3RlcCJdKTtvIT09ci5wcm9ncmVzc1N0ZXBzLmxlbmd0aC0xJiYoYz1yLGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKSxpKGgsblsicHJvZ3Jlc3Mtc3RlcC1saW5lIl0pLGMucHJvZ3Jlc3NTdGVwc0Rpc3RhbmNlJiYoaC5zdHlsZS53aWR0aD1jLnByb2dyZXNzU3RlcHNEaXN0YW5jZSksYT1oLHUuYXBwZW5kQ2hpbGQoYSkpfSl9ZnVuY3Rpb24gZ2YodCxyKXt2YXIgcCxmLGgsdyxzLGMsYSx5LGI9eXIoKTtsKGIsciwiaGVhZGVyIik7ZGYoMCxyKTtwPXQ7Zj1yOyh3PXUuaW5uZXJQYXJhbXMuZ2V0KHApKSYmZi5pY29uPT09dy5pY29uJiZhaSgpP2woYWkoKSxmLCJpY29uIik6KG5lKCksZi5pY29uJiYoLTEhPT1PYmplY3Qua2V5cyhudCkuaW5kZXhPZihmLmljb24pPyhoPXl0KCIuIi5jb25jYXQobi5pY29uLCIuIikuY29uY2F0KG50W2YuaWNvbl0pKSxvKGgpLGllKGgsZiksdGUoKSxsKGgsZiwiaWNvbiIpLGkoaCxmLnNob3dDbGFzcy5pY29uKSk6aXQoJ1Vua25vd24gaWNvbiEgRXhwZWN0ZWQgInN1Y2Nlc3MiLCAiZXJyb3IiLCAid2FybmluZyIsICJpbmZvIiBvciAicXVlc3Rpb24iLCBnb3QgIicuY29uY2F0KGYuaWNvbiwnIicpKSkpLGZ1bmN0aW9uKHQpe3ZhciBpPWFyKCk7aWYoIXQuaW1hZ2VVcmwpcmV0dXJuIHYoaSk7byhpLCIiKTtpLnNldEF0dHJpYnV0ZSgic3JjIix0LmltYWdlVXJsKTtpLnNldEF0dHJpYnV0ZSgiYWx0Iix0LmltYWdlQWx0KTtkdChpLCJ3aWR0aCIsdC5pbWFnZVdpZHRoKTtkdChpLCJoZWlnaHQiLHQuaW1hZ2VIZWlnaHQpO2kuY2xhc3NOYW1lPW4uaW1hZ2U7bChpLHQsImltYWdlIil9KHIpO3M9cjtjPWxyKCk7Z3QoYyxzLnRpdGxlfHxzLnRpdGxlVGV4dCk7cy50aXRsZSYma2kocy50aXRsZSxjKTtzLnRpdGxlVGV4dCYmKGMuaW5uZXJUZXh0PXMudGl0bGVUZXh0KTtsKGMscywidGl0bGUiKTthPXI7eT15aSgpO2UoeSxhLmNsb3NlQnV0dG9uSHRtbCk7bCh5LGEsImNsb3NlQnV0dG9uIik7Z3QoeSxhLnNob3dDbG9zZUJ1dHRvbik7eS5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLGEuY2xvc2VCdXR0b25BcmlhTGFiZWwpfWZ1bmN0aW9uIHN1KG4sdCl7dmFyIGksdSxmLGU7aT10O3U9cigpO2R0KHUsIndpZHRoIixpLndpZHRoKTtkdCh1LCJwYWRkaW5nIixpLnBhZGRpbmcpO2kuYmFja2dyb3VuZCYmKHUuc3R5bGUuYmFja2dyb3VuZD1pLmJhY2tncm91bmQpO3JlKHUsaSk7dmYoMCx0KTtnZihuLHQpO2tmKG4sdCk7c2YoMCx0KTtmPXQ7ZT1wcigpO2d0KGUsZi5mb290ZXIpO2YuZm9vdGVyJiZraShmLmZvb3RlcixlKTtsKGUsZiwiZm9vdGVyIik7ImZ1bmN0aW9uIj09dHlwZW9mIHQub25SZW5kZXImJnQub25SZW5kZXIocigpKX1mdW5jdGlvbiBodSgpe3JldHVybiB0dCgpJiZ0dCgpLmNsaWNrKCl9ZnVuY3Rpb24gbmkoKXt2YXIgdD1yKCksdSxmO3R8fHV0LmZpcmUoKTt0PXIoKTt1PXB0KCk7Zj10dCgpO28odSk7byhmLCJpbmxpbmUtYmxvY2siKTtpKFt0LHVdLG4ubG9hZGluZyk7Zi5kaXNhYmxlZD0hMDt0LnNldEF0dHJpYnV0ZSgiZGF0YS1sb2FkaW5nIiwhMCk7dC5zZXRBdHRyaWJ1dGUoImFyaWEtYnVzeSIsITApO3QuZm9jdXMoKX1mdW5jdGlvbiB1ZSgpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuKXt2YXIgaT13aW5kb3cuc2Nyb2xsWCxyPXdpbmRvdy5zY3JvbGxZO3QucmVzdG9yZUZvY3VzVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5wcmV2aW91c0FjdGl2ZUVsZW1lbnQmJnQucHJldmlvdXNBY3RpdmVFbGVtZW50LmZvY3VzPyh0LnByZXZpb3VzQWN0aXZlRWxlbWVudC5mb2N1cygpLHQucHJldmlvdXNBY3RpdmVFbGVtZW50PW51bGwpOmRvY3VtZW50LmJvZHkmJmRvY3VtZW50LmJvZHkuZm9jdXMoKTtuKCl9LDEwMCk7dm9pZCAwIT09aSYmdm9pZCAwIT09ciYmd2luZG93LnNjcm9sbFRvKGkscil9KX1mdW5jdGlvbiBsdSgpe2lmKHQudGltZW91dClyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj13dCgpLHI9cGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUobikud2lkdGgpLHQsaTtuLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJ0cmFuc2l0aW9uIik7bi5zdHlsZS53aWR0aD0iMTAwJSI7dD1wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuKS53aWR0aCk7aT1wYXJzZUludChyL3QqMTAwKTtuLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJ0cmFuc2l0aW9uIik7bi5zdHlsZS53aWR0aD0iIi5jb25jYXQoaSwiJSIpfSgpLHQudGltZW91dC5zdG9wKCl9ZnVuY3Rpb24gYXUoKXtpZih0LnRpbWVvdXQpe3ZhciBuPXQudGltZW91dC5zdGFydCgpO3JldHVybiBiaShuKSxufX1mdW5jdGlvbiB2dShuKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRpLG4pfWZ1bmN0aW9uIGdpKG4pe3JldHVybiBvZVtuXX1mdW5jdGlvbiBmZShuKXt2YXIgdCxpLHIsdTtmb3IodCBpbiBuKXZ1KHU9dCl8fGEoJ1Vua25vd24gcGFyYW1ldGVyICInLmNvbmNhdCh1LCciJykpLG4udG9hc3QmJihyPXQsLTEhPT1zZS5pbmRleE9mKHIpJiZhKCdUaGUgcGFyYW1ldGVyICInLmNvbmNhdChyLCciIGlzIGluY29tcGF0aWJsZSB3aXRoIHRvYXN0cycpKSksZ2koaT10KSYmZWYoaSxnaShpKSl9ZnVuY3Rpb24geXUoKXt2YXIgdCxpPXUuaW5uZXJQYXJhbXMuZ2V0KHRoaXMpO2kmJih0PXUuZG9tQ2FjaGUuZ2V0KHRoaXMpLGkuc2hvd0NvbmZpcm1CdXR0b258fCh2KHQuY29uZmlybUJ1dHRvbiksaS5zaG93Q2FuY2VsQnV0dG9ufHx2KHQuYWN0aW9ucykpLHcoW3QucG9wdXAsdC5hY3Rpb25zXSxuLmxvYWRpbmcpLHQucG9wdXAucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWJ1c3kiKSx0LnBvcHVwLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1sb2FkaW5nIiksdC5jb25maXJtQnV0dG9uLmRpc2FibGVkPSExLHQuY2FuY2VsQnV0dG9uLmRpc2FibGVkPSExKX1mdW5jdGlvbiBjZSgpe251bGw9PT1vdC5wcmV2aW91c0JvZHlQYWRkaW5nJiZkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodD53aW5kb3cuaW5uZXJIZWlnaHQmJihvdC5wcmV2aW91c0JvZHlQYWRkaW5nPXBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmdldFByb3BlcnR5VmFsdWUoInBhZGRpbmctcmlnaHQiKSksZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQ9IiIuY29uY2F0KG90LnByZXZpb3VzQm9keVBhZGRpbmcrZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpO3JldHVybiB0LmNsYXNzTmFtZT1uWyJzY3JvbGxiYXItbWVhc3VyZSJdLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCksaT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLXQuY2xpZW50V2lkdGgsZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KSxpfSgpLCJweCIpKX1mdW5jdGlvbiBwdSgpe3JldHVybiEhd2luZG93Lk1TSW5wdXRNZXRob2RDb250ZXh0JiYhIWRvY3VtZW50LmRvY3VtZW50TW9kZX1mdW5jdGlvbiBucigpe3ZhciBuPWYoKSx0PXIoKTtuLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJhbGlnbi1pdGVtcyIpO3Qub2Zmc2V0VG9wPDAmJihuLnN0eWxlLmFsaWduSXRlbXM9ImZsZXgtc3RhcnQiKX1mdW5jdGlvbiB3dShpLHIsdSxmKXt2YXIgZTt1P2lyKGksZik6KHVlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBpcihpLGYpfSksdC5rZXlkb3duVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLHQua2V5ZG93bkhhbmRsZXIse2NhcHR1cmU6dC5rZXlkb3duTGlzdGVuZXJDYXB0dXJlfSksdC5rZXlkb3duSGFuZGxlckFkZGVkPSExKTtyLnBhcmVudE5vZGUmJiFkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZSgiZGF0YS1zd2FsMi1xdWV1ZS1zdGVwIikmJnIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKTt3cigpJiYobnVsbCE9PW90LnByZXZpb3VzQm9keVBhZGRpbmcmJihkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodD0iIi5jb25jYXQob3QucHJldmlvdXNCb2R5UGFkZGluZywicHgiKSxvdC5wcmV2aW91c0JvZHlQYWRkaW5nPW51bGwpLGN0KGRvY3VtZW50LmJvZHksbi5pb3NmaXgpJiYoZT1wYXJzZUludChkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCwxMCksdyhkb2N1bWVudC5ib2R5LG4uaW9zZml4KSxkb2N1bWVudC5ib2R5LnN0eWxlLnRvcD0iIixkb2N1bWVudC5ib2R5LnNjcm9sbFRvcD0tMSplKSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmcHUoKSYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsbnIpLGcoZG9jdW1lbnQuYm9keS5jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbihuKXtuLmhhc0F0dHJpYnV0ZSgiZGF0YS1wcmV2aW91cy1hcmlhLWhpZGRlbiIpPyhuLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLG4uZ2V0QXR0cmlidXRlKCJkYXRhLXByZXZpb3VzLWFyaWEtaGlkZGVuIikpLG4ucmVtb3ZlQXR0cmlidXRlKCJkYXRhLXByZXZpb3VzLWFyaWEtaGlkZGVuIikpOm4ucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWhpZGRlbiIpfSkpO3coW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkb2N1bWVudC5ib2R5XSxbbi5zaG93bixuWyJoZWlnaHQtYXV0byJdLG5bIm5vLWJhY2tkcm9wIl0sblsidG9hc3Qtc2hvd24iXSxuWyJ0b2FzdC1jb2x1bW4iXV0pfWZ1bmN0aW9uIGlpKG4pe3ZhciB0LHMsbyxlPXIoKTtlJiYodD11LmlubmVyUGFyYW1zLmdldCh0aGlzKSkmJiFjdChlLHQuaGlkZUNsYXNzLnBvcHVwKSYmKHM9dHIuc3dhbFByb21pc2VSZXNvbHZlLmdldCh0aGlzKSx3KGUsdC5zaG93Q2xhc3MucG9wdXApLGkoZSx0LmhpZGVDbGFzcy5wb3B1cCksbz1mKCksdyhvLHQuc2hvd0NsYXNzLmJhY2tkcm9wKSxpKG8sdC5oaWRlQ2xhc3MuYmFja2Ryb3ApLGZ1bmN0aW9uKG4sdCxpKXt2YXIgdT1mKCksbz1sdCYmaXUodCkscj1pLm9uQ2xvc2UsZT1pLm9uQWZ0ZXJDbG9zZTtyIT09bnVsbCYmdHlwZW9mIHI9PSJmdW5jdGlvbiImJnIodCk7bz9idShuLHQsdSxlKTp3dShuLHUsa3QoKSxlKX0odGhpcyxlLHQpLHZvaWQgMCE9PW4/KG4uaXNEaXNtaXNzZWQ9dm9pZCAwIT09bi5kaXNtaXNzLG4uaXNDb25maXJtZWQ9dm9pZCAwPT09bi5kaXNtaXNzKTpuPXtpc0Rpc21pc3NlZDohMCxpc0NvbmZpcm1lZDohMX0scyhufHx7fSkpfWZ1bmN0aW9uIGt1KG4sdCxpKXt2YXIgcj11LmRvbUNhY2hlLmdldChuKTt0LmZvckVhY2goZnVuY3Rpb24obil7cltuXS5kaXNhYmxlZD1pfSl9ZnVuY3Rpb24gZHUobix0KXtpZighbilyZXR1cm4hMTtpZigicmFkaW8iPT09bi50eXBlKWZvcih2YXIgcj1uLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dCIpLGk9MDtpPHIubGVuZ3RoO2krKylyW2ldLmRpc2FibGVkPXQ7ZWxzZSBuLmRpc2FibGVkPXR9ZnVuY3Rpb24geWUobil7dmFyIGksdDsoaT1uKS5pbnB1dFZhbGlkYXRvcnx8T2JqZWN0LmtleXMocnIpLmZvckVhY2goZnVuY3Rpb24obil7aS5pbnB1dD09PW4mJihpLmlucHV0VmFsaWRhdG9yPXJyW25dKX0pO24uc2hvd0xvYWRlck9uQ29uZmlybSYmIW4ucHJlQ29uZmlybSYmYSgic2hvd0xvYWRlck9uQ29uZmlybSBpcyBzZXQgdG8gdHJ1ZSwgYnV0IHByZUNvbmZpcm0gaXMgbm90IGRlZmluZWQuXG5zaG93TG9hZGVyT25Db25maXJtIHNob3VsZCBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggcHJlQ29uZmlybSwgc2VlIHVzYWdlIGV4YW1wbGU6XG5odHRwczovL3N3ZWV0YWxlcnQyLmdpdGh1Yi5pby8jYWpheC1yZXF1ZXN0Iik7bi5hbmltYXRpb249YnQobi5hbmltYXRpb24pOyh0PW4pLnRhcmdldCYmKCJzdHJpbmciIT10eXBlb2YgdC50YXJnZXR8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodC50YXJnZXQpKSYmKCJzdHJpbmciPT10eXBlb2YgdC50YXJnZXR8fHQudGFyZ2V0LmFwcGVuZENoaWxkKXx8KGEoJ1RhcmdldCBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkLCBkZWZhdWx0aW5nIHRvICJib2R5IicpLHQudGFyZ2V0PSJib2R5Iik7InN0cmluZyI9PXR5cGVvZiBuLnRpdGxlJiYobi50aXRsZT1uLnRpdGxlLnNwbGl0KCJcbiIpLmpvaW4oIjxiciAvPiIpKTtjZihuKX1mdW5jdGlvbiBwZShpKXt2YXIgdT1mKCksZT1yKCksbzsiZnVuY3Rpb24iPT10eXBlb2YgaS5vbkJlZm9yZU9wZW4mJmkub25CZWZvcmVPcGVuKGUpO289d2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkub3ZlcmZsb3dZO2lvKHUsZSxpKTtubyh1LGUpO3dyKCkmJih0byh1LGkuc2Nyb2xsYmFyUGFkZGluZyxvKSxnKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pLmZvckVhY2goZnVuY3Rpb24obil7bj09PWYoKXx8ZnVuY3Rpb24obix0KXtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbi5jb250YWlucylyZXR1cm4gbi5jb250YWlucyh0KX0obixmKCkpfHwobi5oYXNBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIikmJm4uc2V0QXR0cmlidXRlKCJkYXRhLXByZXZpb3VzLWFyaWEtaGlkZGVuIixuLmdldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iKSksbi5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwidHJ1ZSIpKX0pKTtrdCgpfHx0LnByZXZpb3VzQWN0aXZlRWxlbWVudHx8KHQucHJldmlvdXNBY3RpdmVFbGVtZW50PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpOyJmdW5jdGlvbiI9PXR5cGVvZiBpLm9uT3BlbiYmc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBpLm9uT3BlbihlKX0pO3codSxuWyJuby10cmFuc2l0aW9uIl0pfWZ1bmN0aW9uIG5mKG4pe3ZhciB0LGk9cigpO24udGFyZ2V0PT09aSYmKHQ9ZigpLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihsdCxuZiksdC5zdHlsZS5vdmVyZmxvd1k9ImF1dG8iKX1mdW5jdGlvbiB3ZShuLHQpeyJzZWxlY3QiPT09dC5pbnB1dHx8InJhZGlvIj09PXQuaW5wdXQ/ZW8obix0KTotMSE9PVsidGV4dCIsImVtYWlsIiwibnVtYmVyIiwidGVsIiwidGV4dGFyZWEiXS5pbmRleE9mKHQuaW5wdXQpJiYoaGkodC5pbnB1dFZhbHVlKXx8Y2kodC5pbnB1dFZhbHVlKSkmJm9vKG4sdCl9ZnVuY3Rpb24gYmUobix0KXtuLmRpc2FibGVCdXR0b25zKCk7dC5pbnB1dD9jbyhuLHQpOmZyKG4sdCwhMCl9ZnVuY3Rpb24ga2Uobix0KXtuLmRpc2FibGVCdXR0b25zKCk7dChldC5jYW5jZWwpfWZ1bmN0aW9uIHRmKG4sdCl7bi5jbG9zZVBvcHVwKHt2YWx1ZTp0fSl9ZnVuY3Rpb24gZGUobix0LGksdSl7dC5rZXlkb3duVGFyZ2V0JiZ0LmtleWRvd25IYW5kbGVyQWRkZWQmJih0LmtleWRvd25UYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsdC5rZXlkb3duSGFuZGxlcix7Y2FwdHVyZTp0LmtleWRvd25MaXN0ZW5lckNhcHR1cmV9KSx0LmtleWRvd25IYW5kbGVyQWRkZWQ9ITEpO2kudG9hc3R8fCh0LmtleWRvd25IYW5kbGVyPWZ1bmN0aW9uKHQpe3JldHVybiB2byhuLHQsdSl9LHQua2V5ZG93blRhcmdldD1pLmtleWRvd25MaXN0ZW5lckNhcHR1cmU/d2luZG93OnIoKSx0LmtleWRvd25MaXN0ZW5lckNhcHR1cmU9aS5rZXlkb3duTGlzdGVuZXJDYXB0dXJlLHQua2V5ZG93blRhcmdldC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIix0LmtleWRvd25IYW5kbGVyLHtjYXB0dXJlOnQua2V5ZG93bkxpc3RlbmVyQ2FwdHVyZX0pLHQua2V5ZG93bkhhbmRsZXJBZGRlZD0hMCl9ZnVuY3Rpb24gdXIobix0LGkpe3ZhciB1PXBpKCk7aWYoMDx1Lmxlbmd0aClyZXR1cm4odCs9aSk9PT11Lmxlbmd0aD90PTA6LTE9PT10JiYodD11Lmxlbmd0aC0xKSx1W3RdLmZvY3VzKCk7cigpLmZvY3VzKCl9ZnVuY3Rpb24gZ2Uobix0LGkpe3UuaW5uZXJQYXJhbXMuZ2V0KG4pLnRvYXN0P2tvKG4sdCxpKTooZ28odCksbnModCksdHMobix0LGkpKX12YXIga3I9IlN3ZWV0QWxlcnQyOiIsYT1mdW5jdGlvbihuKXtjb25zb2xlLndhcm4oIiIuY29uY2F0KGtyLCIgIikuY29uY2F0KG4pKX0saXQ9ZnVuY3Rpb24obil7Y29uc29sZS5lcnJvcigiIi5jb25jYXQoa3IsIiAiKS5jb25jYXQobikpfSxkcj1bXSxidD1mdW5jdGlvbihuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygbj9uKCk6bn0sZXQ9T2JqZWN0LmZyZWV6ZSh7Y2FuY2VsOiJjYW5jZWwiLGJhY2tkcm9wOiJiYWNrZHJvcCIsY2xvc2U6ImNsb3NlIixlc2M6ImVzYyIsdGltZXI6InRpbWVyIn0pLG49Y3IoWyJjb250YWluZXIiLCJzaG93biIsImhlaWdodC1hdXRvIiwiaW9zZml4IiwicG9wdXAiLCJtb2RhbCIsIm5vLWJhY2tkcm9wIiwibm8tdHJhbnNpdGlvbiIsInRvYXN0IiwidG9hc3Qtc2hvd24iLCJ0b2FzdC1jb2x1bW4iLCJzaG93IiwiaGlkZSIsImNsb3NlIiwidGl0bGUiLCJoZWFkZXIiLCJjb250ZW50IiwiaHRtbC1jb250YWluZXIiLCJhY3Rpb25zIiwiY29uZmlybSIsImNhbmNlbCIsImZvb3RlciIsImljb24iLCJpY29uLWNvbnRlbnQiLCJpbWFnZSIsImlucHV0IiwiZmlsZSIsInJhbmdlIiwic2VsZWN0IiwicmFkaW8iLCJjaGVja2JveCIsImxhYmVsIiwidGV4dGFyZWEiLCJpbnB1dGVycm9yIiwidmFsaWRhdGlvbi1tZXNzYWdlIiwicHJvZ3Jlc3Mtc3RlcHMiLCJhY3RpdmUtcHJvZ3Jlc3Mtc3RlcCIsInByb2dyZXNzLXN0ZXAiLCJwcm9ncmVzcy1zdGVwLWxpbmUiLCJsb2FkaW5nIiwic3R5bGVkIiwidG9wIiwidG9wLXN0YXJ0IiwidG9wLWVuZCIsInRvcC1sZWZ0IiwidG9wLXJpZ2h0IiwiY2VudGVyIiwiY2VudGVyLXN0YXJ0IiwiY2VudGVyLWVuZCIsImNlbnRlci1sZWZ0IiwiY2VudGVyLXJpZ2h0IiwiYm90dG9tIiwiYm90dG9tLXN0YXJ0IiwiYm90dG9tLWVuZCIsImJvdHRvbS1sZWZ0IiwiYm90dG9tLXJpZ2h0IiwiZ3Jvdy1yb3ciLCJncm93LWNvbHVtbiIsImdyb3ctZnVsbHNjcmVlbiIsInJ0bCIsInRpbWVyLXByb2dyZXNzLWJhciIsInRpbWVyLXByb2dyZXNzLWJhci1jb250YWluZXIiLCJzY3JvbGxiYXItbWVhc3VyZSIsImljb24tc3VjY2VzcyIsImljb24td2FybmluZyIsImljb24taW5mbyIsImljb24tcXVlc3Rpb24iLCJpY29uLWVycm9yIl0pLG50PWNyKFsic3VjY2VzcyIsIndhcm5pbmciLCJpbmZvIiwicXVlc3Rpb24iLCJlcnJvciJdKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcigiLiIuY29uY2F0KG4uY29udGFpbmVyKSl9LHI9ZnVuY3Rpb24oKXtyZXR1cm4gaChuLnBvcHVwKX0sa3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoblsidG9hc3Qtc2hvd24iXSl9LG90PXtwcmV2aW91c0JvZHlQYWRkaW5nOm51bGx9LHV1LGk9ZnVuY3Rpb24obix0KXtudShuLHQsITApfSx3PWZ1bmN0aW9uKG4sdCl7bnUobix0LCExKX0sYj1mdW5jdGlvbihuLHQpe2Zvcih2YXIgaT0wO2k8bi5jaGlsZE5vZGVzLmxlbmd0aDtpKyspaWYoY3Qobi5jaGlsZE5vZGVzW2ldLHQpKXJldHVybiBuLmNoaWxkTm9kZXNbaV19LGs9ZnVuY3Rpb24obil7cmV0dXJuISghbnx8IShuLm9mZnNldFdpZHRofHxuLm9mZnNldEhlaWdodHx8bi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCkpfSxoZj0nXG4gPGRpdiBhcmlhLWxhYmVsbGVkYnk9IicuY29uY2F0KG4udGl0bGUsJyIgYXJpYS1kZXNjcmliZWRieT0iJykuY29uY2F0KG4uY29udGVudCwnIiBjbGFzcz0iJykuY29uY2F0KG4ucG9wdXAsJyIgdGFiaW5kZXg9Ii0xIj5cbiAgIDxkaXYgY2xhc3M9IicpLmNvbmNhdChuLmhlYWRlciwnIj5cbiAgICAgPHVsIGNsYXNzPSInKS5jb25jYXQoblsicHJvZ3Jlc3Mtc3RlcHMiXSwnIj48XC91bD5cbiAgICAgPGRpdiBjbGFzcz0iJykuY29uY2F0KG4uaWNvbiwiICIpLmNvbmNhdChudC5lcnJvciwnIj48XC9kaXY+XG4gICAgIDxkaXYgY2xhc3M9IicpLmNvbmNhdChuLmljb24sIiAiKS5jb25jYXQobnQucXVlc3Rpb24sJyI+PFwvZGl2PlxuICAgICA8ZGl2IGNsYXNzPSInKS5jb25jYXQobi5pY29uLCIgIikuY29uY2F0KG50Lndhcm5pbmcsJyI+PFwvZGl2PlxuICAgICA8ZGl2IGNsYXNzPSInKS5jb25jYXQobi5pY29uLCIgIikuY29uY2F0KG50LmluZm8sJyI+PFwvZGl2PlxuICAgICA8ZGl2IGNsYXNzPSInKS5jb25jYXQobi5pY29uLCIgIikuY29uY2F0KG50LnN1Y2Nlc3MsJyI+PFwvZGl2PlxuICAgICA8aW1nIGNsYXNzPSInKS5jb25jYXQobi5pbWFnZSwnIiAvPlxuICAgICA8aDIgY2xhc3M9IicpLmNvbmNhdChuLnRpdGxlLCciIGlkPSInKS5jb25jYXQobi50aXRsZSwnIj48XC9oMj5cbiAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSInKS5jb25jYXQobi5jbG9zZSwnIj48XC9idXR0b24+XG4gICA8XC9kaXY+XG4gICA8ZGl2IGNsYXNzPSInKS5jb25jYXQobi5jb250ZW50LCciPlxuICAgICA8ZGl2IGlkPSInKS5jb25jYXQobi5jb250ZW50LCciIGNsYXNzPSInKS5jb25jYXQoblsiaHRtbC1jb250YWluZXIiXSwnIj48XC9kaXY+XG4gICAgIDxpbnB1dCBjbGFzcz0iJykuY29uY2F0KG4uaW5wdXQsJyIgLz5cbiAgICAgPGlucHV0IHR5cGU9ImZpbGUiIGNsYXNzPSInKS5jb25jYXQobi5maWxlLCciIC8+XG4gICAgIDxkaXYgY2xhc3M9IicpLmNvbmNhdChuLnJhbmdlLCciPlxuICAgICAgIDxpbnB1dCB0eXBlPSJyYW5nZSIgLz5cbiAgICAgICA8b3V0cHV0PjxcL291dHB1dD5cbiAgICAgPFwvZGl2PlxuICAgICA8c2VsZWN0IGNsYXNzPSInKS5jb25jYXQobi5zZWxlY3QsJyI+PFwvc2VsZWN0PlxuICAgICA8ZGl2IGNsYXNzPSInKS5jb25jYXQobi5yYWRpbywnIj48XC9kaXY+XG4gICAgIDxsYWJlbCBmb3I9IicpLmNvbmNhdChuLmNoZWNrYm94LCciIGNsYXNzPSInKS5jb25jYXQobi5jaGVja2JveCwnIj5cbiAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIC8+XG4gICAgICAgPHNwYW4gY2xhc3M9IicpLmNvbmNhdChuLmxhYmVsLCciPjxcL3NwYW4+XG4gICAgIDxcL2xhYmVsPlxuICAgICA8dGV4dGFyZWEgY2xhc3M9IicpLmNvbmNhdChuLnRleHRhcmVhLCciPjxcL3RleHRhcmVhPlxuICAgICA8ZGl2IGNsYXNzPSInKS5jb25jYXQoblsidmFsaWRhdGlvbi1tZXNzYWdlIl0sJyIgaWQ9IicpLmNvbmNhdChuWyJ2YWxpZGF0aW9uLW1lc3NhZ2UiXSwnIj48XC9kaXY+XG4gICA8XC9kaXY+XG4gICA8ZGl2IGNsYXNzPSInKS5jb25jYXQobi5hY3Rpb25zLCciPlxuICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicpLmNvbmNhdChuLmNvbmZpcm0sJyI+T0s8XC9idXR0b24+XG4gICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iJykuY29uY2F0KG4uY2FuY2VsLCciPkNhbmNlbDxcL2J1dHRvbj5cbiAgIDxcL2Rpdj5cbiAgIDxkaXYgY2xhc3M9IicpLmNvbmNhdChuLmZvb3RlciwnIj48XC9kaXY+XG4gICA8ZGl2IGNsYXNzPSInKS5jb25jYXQoblsidGltZXItcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lciJdLCciPlxuICAgICA8ZGl2IGNsYXNzPSInKS5jb25jYXQoblsidGltZXItcHJvZ3Jlc3MtYmFyIl0sJyI+PFwvZGl2PlxuICAgPFwvZGl2PlxuIDxcL2Rpdj5cbicpLnJlcGxhY2UoLyhefFxuKVxzKi9nLCIiKSxjZj1mdW5jdGlvbih0KXt2YXIgbCxzLHksYSxoLHYscCx1LGssZCxvLGcsbnQsdHQsdXQsZnQ9ISEobD1mKCkpJiYobC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGwpLHcoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkb2N1bWVudC5ib2R5XSxbblsibm8tYmFja2Ryb3AiXSxuWyJ0b2FzdC1zaG93biJdLG5bImhhcy1jb2x1bW4iXV0pLCEwKTtydSgpP2l0KCJTd2VldEFsZXJ0MiByZXF1aXJlcyBkb2N1bWVudCB0byBpbml0aWFsaXplIik6KChzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5jbGFzc05hbWU9bi5jb250YWluZXIsZnQmJmkocyxuWyJuby10cmFuc2l0aW9uIl0pLGUocyxoZiksKHk9InN0cmluZyI9PXR5cGVvZihhPXQudGFyZ2V0KT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEpOmEpLmFwcGVuZENoaWxkKHMpLGg9dCwodj1yKCkpLnNldEF0dHJpYnV0ZSgicm9sZSIsaC50b2FzdD8iYWxlcnQiOiJkaWFsb2ciKSx2LnNldEF0dHJpYnV0ZSgiYXJpYS1saXZlIixoLnRvYXN0PyJwb2xpdGUiOiJhc3NlcnRpdmUiKSxoLnRvYXN0fHx2LnNldEF0dHJpYnV0ZSgiYXJpYS1tb2RhbCIsInRydWUiKSxwPXksInJ0bCI9PT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwKS5kaXJlY3Rpb24mJmkoZigpLG4ucnRsKSx1PWMoKSxrPWIodSxuLmlucHV0KSxkPWIodSxuLmZpbGUpLG89dS5xdWVyeVNlbGVjdG9yKCIuIi5jb25jYXQobi5yYW5nZSwiIGlucHV0IikpLGc9dS5xdWVyeVNlbGVjdG9yKCIuIi5jb25jYXQobi5yYW5nZSwiIG91dHB1dCIpKSxudD1iKHUsbi5zZWxlY3QpLHR0PXUucXVlcnlTZWxlY3RvcigiLiIuY29uY2F0KG4uY2hlY2tib3gsIiBpbnB1dCIpKSx1dD1iKHUsbi50ZXh0YXJlYSksay5vbmlucHV0PXJ0LGQub25jaGFuZ2U9cnQsbnQub25jaGFuZ2U9cnQsdHQub25jaGFuZ2U9cnQsdXQub25pbnB1dD1ydCxvLm9uaW5wdXQ9ZnVuY3Rpb24obil7cnQobik7Zy52YWx1ZT1vLnZhbHVlfSxvLm9uY2hhbmdlPWZ1bmN0aW9uKG4pe3J0KG4pO28ubmV4dFNpYmxpbmcudmFsdWU9by52YWx1ZX0pfSxsZj1mdW5jdGlvbihuLHQpe24uanF1ZXJ5P2FmKHQsbik6ZSh0LG4udG9TdHJpbmcoKSl9LGFmPWZ1bmN0aW9uKG4sdCl7aWYobi50ZXh0Q29udGVudD0iIiwwIGluIHQpZm9yKHZhciBpPTA7aSBpbiB0O2krKyluLmFwcGVuZENoaWxkKHRbaV0uY2xvbmVOb2RlKCEwKSk7ZWxzZSBuLmFwcGVuZENoaWxkKHQuY2xvbmVOb2RlKCEwKSl9LGx0PWZ1bmN0aW9uKCl7dmFyIGksbix0O2lmKHJ1KCkpcmV0dXJuITE7aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtuPXtXZWJraXRBbmltYXRpb246IndlYmtpdEFuaW1hdGlvbkVuZCIsT0FuaW1hdGlvbjoib0FuaW1hdGlvbkVuZCBvYW5pbWF0aW9uZW5kIixhbmltYXRpb246ImFuaW1hdGlvbmVuZCJ9O2Zvcih0IGluIG4paWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sdCkmJnZvaWQgMCE9PWkuc3R5bGVbdF0pcmV0dXJuIG5bdF07cmV0dXJuITF9KCksdT17cHJvbWlzZTpuZXcgV2Vha01hcCxpbm5lclBhcmFtczpuZXcgV2Vha01hcCxkb21DYWNoZTpuZXcgV2Vha01hcH0seWY9WyJpbnB1dCIsImZpbGUiLCJyYW5nZSIsInNlbGVjdCIsInJhZGlvIiwiY2hlY2tib3giLCJ0ZXh0YXJlYSJdLHBmPWZ1bmN0aW9uKG4pe2lmKCFzW24uaW5wdXRdKXJldHVybiBpdCgnVW5leHBlY3RlZCB0eXBlIG9mIGlucHV0ISBFeHBlY3RlZCAidGV4dCIsICJlbWFpbCIsICJwYXNzd29yZCIsICJudW1iZXIiLCAidGVsIiwgInNlbGVjdCIsICJyYWRpbyIsICJjaGVja2JveCIsICJ0ZXh0YXJlYSIsICJmaWxlIiBvciAidXJsIiwgZ290ICInLmNvbmNhdChuLmlucHV0LCciJykpO3ZhciBpPWV1KG4uaW5wdXQpLHQ9c1tuLmlucHV0XShpLG4pO28odCk7c2V0VGltZW91dChmdW5jdGlvbigpe2dyKHQpfSl9LHdmPWZ1bmN0aW9uKG4sdCl7dmFyIHI9d2koYygpLG4pLGk7aWYocilmb3IoaSBpbiFmdW5jdGlvbihuKXtmb3IodmFyIGksdD0wO3Q8bi5hdHRyaWJ1dGVzLmxlbmd0aDt0KyspaT1uLmF0dHJpYnV0ZXNbdF0ubmFtZSwtMT09PVsidHlwZSIsInZhbHVlIiwic3R5bGUiXS5pbmRleE9mKGkpJiZuLnJlbW92ZUF0dHJpYnV0ZShpKX0ociksdCkicmFuZ2UiPT09biYmInBsYWNlaG9sZGVyIj09PWl8fHIuc2V0QXR0cmlidXRlKGksdFtpXSl9LGJmPWZ1bmN0aW9uKG4pe3ZhciB0PWV1KG4uaW5wdXQpO24uY3VzdG9tQ2xhc3MmJmkodCxuLmN1c3RvbUNsYXNzLmlucHV0KX0sZXU9ZnVuY3Rpb24odCl7dmFyIGk9blt0XT9uW3RdOm4uaW5wdXQ7cmV0dXJuIGIoYygpLGkpfSxzPXt9LGJ1LGlyLGd1LHJyLHV0O3MudGV4dD1zLmVtYWlsPXMucGFzc3dvcmQ9cy5udW1iZXI9cy50ZWw9cy51cmw9ZnVuY3Rpb24obix0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQuaW5wdXRWYWx1ZXx8Im51bWJlciI9PXR5cGVvZiB0LmlucHV0VmFsdWU/bi52YWx1ZT10LmlucHV0VmFsdWU6Y2kodC5pbnB1dFZhbHVlKXx8YSgnVW5leHBlY3RlZCB0eXBlIG9mIGlucHV0VmFsdWUhIEV4cGVjdGVkICJzdHJpbmciLCAibnVtYmVyIiBvciAiUHJvbWlzZSIsIGdvdCAiJy5jb25jYXQoeSh0LmlucHV0VmFsdWUpLCciJykpLGRpKG4sdCksbi50eXBlPXQuaW5wdXQsbn07cy5maWxlPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGRpKG4sdCksbn07cy5yYW5nZT1mdW5jdGlvbihuLHQpe3ZhciBpPW4ucXVlcnlTZWxlY3RvcigiaW5wdXQiKSxyPW4ucXVlcnlTZWxlY3Rvcigib3V0cHV0Iik7cmV0dXJuIGkudmFsdWU9dC5pbnB1dFZhbHVlLGkudHlwZT10LmlucHV0LHIudmFsdWU9dC5pbnB1dFZhbHVlLG59O3Muc2VsZWN0PWZ1bmN0aW9uKG4sdCl7dmFyIGk7cmV0dXJuIG4udGV4dENvbnRlbnQ9IiIsdC5pbnB1dFBsYWNlaG9sZGVyJiYoaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSxlKGksdC5pbnB1dFBsYWNlaG9sZGVyKSxpLnZhbHVlPSIiLGkuZGlzYWJsZWQ9ITAsaS5zZWxlY3RlZD0hMCxuLmFwcGVuZENoaWxkKGkpKSxufTtzLnJhZGlvPWZ1bmN0aW9uKG4pe3JldHVybiBuLnRleHRDb250ZW50PSIiLG59O3MuY2hlY2tib3g9ZnVuY3Rpb24odCxpKXt2YXIgcj13aShjKCksImNoZWNrYm94IiksdTtyZXR1cm4gci52YWx1ZT0xLHIuaWQ9bi5jaGVja2JveCxyLmNoZWNrZWQ9Qm9vbGVhbihpLmlucHV0VmFsdWUpLHU9dC5xdWVyeVNlbGVjdG9yKCJzcGFuIiksZSh1LGkuaW5wdXRQbGFjZWhvbGRlciksdH07cy50ZXh0YXJlYT1mdW5jdGlvbihuLHQpe3ZhciBpLHU7cmV0dXJuIG4udmFsdWU9dC5pbnB1dFZhbHVlLGRpKG4sdCksIk11dGF0aW9uT2JzZXJ2ZXIiaW4gd2luZG93JiYoaT1wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShyKCkpLndpZHRoKSx1PXBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHIoKSkucGFkZGluZ0xlZnQpK3BhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHIoKSkucGFkZGluZ1JpZ2h0KSxuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe3ZhciB0PW4ub2Zmc2V0V2lkdGgrdTtyKCkuc3R5bGUud2lkdGg9aTx0PyIiLmNvbmNhdCh0LCJweCIpOm51bGx9KS5vYnNlcnZlKG4se2F0dHJpYnV0ZXM6ITAsYXR0cmlidXRlRmlsdGVyOlsic3R5bGUiXX0pKSxufTt2YXIgbmU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bGkoKSxuPTA7bjx0Lmxlbmd0aDtuKyspdih0W25dKX0sdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9cigpLHU9d2luZG93LmdldENvbXB1dGVkU3R5bGUodCkuZ2V0UHJvcGVydHlWYWx1ZSgiYmFja2dyb3VuZC1jb2xvciIpLGk9dC5xdWVyeVNlbGVjdG9yQWxsKCJbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZV0sIC5zd2FsMi1zdWNjZXNzLWZpeCIpLG49MDtuPGkubGVuZ3RoO24rKylpW25dLnN0eWxlLmJhY2tncm91bmRDb2xvcj11fSxpZT1mdW5jdGlvbihuLHQpe24udGV4dENvbnRlbnQ9IiI7dC5pY29uSHRtbD9lKG4sY3UodC5pY29uSHRtbCkpOiJzdWNjZXNzIj09PXQuaWNvbj9lKG4sJ1xuICAgICAgPGRpdiBjbGFzcz0ic3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lLWxlZnQiPjxcL2Rpdj5cbiAgICAgIDxzcGFuIGNsYXNzPSJzd2FsMi1zdWNjZXNzLWxpbmUtdGlwIj48XC9zcGFuPiA8c3BhbiBjbGFzcz0ic3dhbDItc3VjY2Vzcy1saW5lLWxvbmciPjxcL3NwYW4+XG4gICAgICA8ZGl2IGNsYXNzPSJzd2FsMi1zdWNjZXNzLXJpbmciPjxcL2Rpdj4gPGRpdiBjbGFzcz0ic3dhbDItc3VjY2Vzcy1maXgiPjxcL2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9InN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZS1yaWdodCI+PFwvZGl2PlxuICAgICcpOiJlcnJvciI9PT10Lmljb24/ZShuLCdcbiAgICAgIDxzcGFuIGNsYXNzPSJzd2FsMi14LW1hcmsiPlxuICAgICAgICA8c3BhbiBjbGFzcz0ic3dhbDIteC1tYXJrLWxpbmUtbGVmdCI+PFwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InN3YWwyLXgtbWFyay1saW5lLXJpZ2h0Ij48XC9zcGFuPlxuICAgICAgPFwvc3Bhbj5cbiAgICAnKTplKG4sY3Uoe3F1ZXN0aW9uOiI/Iix3YXJuaW5nOiIhIixpbmZvOiJpIn1bdC5pY29uXSkpfSxjdT1mdW5jdGlvbih0KXtyZXR1cm4nPGRpdiBjbGFzcz0iJy5jb25jYXQoblsiaWNvbi1jb250ZW50Il0sJyI+JykuY29uY2F0KHQsIjxcL2Rpdj4iKX0sZD1bXSxyZT1mdW5jdGlvbih0LHIpe3QuY2xhc3NOYW1lPSIiLmNvbmNhdChuLnBvcHVwLCIgIikuY29uY2F0KGsodCk/ci5zaG93Q2xhc3MucG9wdXA6IiIpO3IudG9hc3Q/KGkoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkb2N1bWVudC5ib2R5XSxuWyJ0b2FzdC1zaG93biJdKSxpKHQsbi50b2FzdCkpOmkodCxuLm1vZGFsKTtsKHQsciwicG9wdXAiKTsic3RyaW5nIj09dHlwZW9mIHIuY3VzdG9tQ2xhc3MmJmkodCxyLmN1c3RvbUNsYXNzKTtyLmljb24mJmkodCxuWyJpY29uLSIuY29uY2F0KHIuaWNvbildKX07dmFyIHQ9e30sdGk9e3RpdGxlOiIiLHRpdGxlVGV4dDoiIix0ZXh0OiIiLGh0bWw6IiIsZm9vdGVyOiIiLGljb246dm9pZCAwLGljb25IdG1sOnZvaWQgMCx0b2FzdDohMSxhbmltYXRpb246ITAsc2hvd0NsYXNzOntwb3B1cDoic3dhbDItc2hvdyIsYmFja2Ryb3A6InN3YWwyLWJhY2tkcm9wLXNob3ciLGljb246InN3YWwyLWljb24tc2hvdyJ9LGhpZGVDbGFzczp7cG9wdXA6InN3YWwyLWhpZGUiLGJhY2tkcm9wOiJzd2FsMi1iYWNrZHJvcC1oaWRlIixpY29uOiJzd2FsMi1pY29uLWhpZGUifSxjdXN0b21DbGFzczp2b2lkIDAsdGFyZ2V0OiJib2R5IixiYWNrZHJvcDohMCxoZWlnaHRBdXRvOiEwLGFsbG93T3V0c2lkZUNsaWNrOiEwLGFsbG93RXNjYXBlS2V5OiEwLGFsbG93RW50ZXJLZXk6ITAsc3RvcEtleWRvd25Qcm9wYWdhdGlvbjohMCxrZXlkb3duTGlzdGVuZXJDYXB0dXJlOiExLHNob3dDb25maXJtQnV0dG9uOiEwLHNob3dDYW5jZWxCdXR0b246ITEscHJlQ29uZmlybTp2b2lkIDAsY29uZmlybUJ1dHRvblRleHQ6Ik9LIixjb25maXJtQnV0dG9uQXJpYUxhYmVsOiIiLGNvbmZpcm1CdXR0b25Db2xvcjp2b2lkIDAsY2FuY2VsQnV0dG9uVGV4dDoiQ2FuY2VsIixjYW5jZWxCdXR0b25BcmlhTGFiZWw6IiIsY2FuY2VsQnV0dG9uQ29sb3I6dm9pZCAwLGJ1dHRvbnNTdHlsaW5nOiEwLHJldmVyc2VCdXR0b25zOiExLGZvY3VzQ29uZmlybTohMCxmb2N1c0NhbmNlbDohMSxzaG93Q2xvc2VCdXR0b246ITEsY2xvc2VCdXR0b25IdG1sOiImdGltZXM7IixjbG9zZUJ1dHRvbkFyaWFMYWJlbDoiQ2xvc2UgdGhpcyBkaWFsb2ciLHNob3dMb2FkZXJPbkNvbmZpcm06ITEsaW1hZ2VVcmw6dm9pZCAwLGltYWdlV2lkdGg6dm9pZCAwLGltYWdlSGVpZ2h0OnZvaWQgMCxpbWFnZUFsdDoiIix0aW1lcjp2b2lkIDAsdGltZXJQcm9ncmVzc0JhcjohMSx3aWR0aDp2b2lkIDAscGFkZGluZzp2b2lkIDAsYmFja2dyb3VuZDp2b2lkIDAsaW5wdXQ6dm9pZCAwLGlucHV0UGxhY2Vob2xkZXI6IiIsaW5wdXRWYWx1ZToiIixpbnB1dE9wdGlvbnM6e30saW5wdXRBdXRvVHJpbTohMCxpbnB1dEF0dHJpYnV0ZXM6e30saW5wdXRWYWxpZGF0b3I6dm9pZCAwLHZhbGlkYXRpb25NZXNzYWdlOnZvaWQgMCxncm93OiExLHBvc2l0aW9uOiJjZW50ZXIiLHByb2dyZXNzU3RlcHM6W10sY3VycmVudFByb2dyZXNzU3RlcDp2b2lkIDAscHJvZ3Jlc3NTdGVwc0Rpc3RhbmNlOnZvaWQgMCxvbkJlZm9yZU9wZW46dm9pZCAwLG9uT3Blbjp2b2lkIDAsb25SZW5kZXI6dm9pZCAwLG9uQ2xvc2U6dm9pZCAwLG9uQWZ0ZXJDbG9zZTp2b2lkIDAsb25EZXN0cm95OnZvaWQgMCxzY3JvbGxiYXJQYWRkaW5nOiEwfSxlZT1bInRpdGxlIiwidGl0bGVUZXh0IiwidGV4dCIsImh0bWwiLCJmb290ZXIiLCJpY29uIiwiaGlkZUNsYXNzIiwiY3VzdG9tQ2xhc3MiLCJhbGxvd091dHNpZGVDbGljayIsImFsbG93RXNjYXBlS2V5Iiwic2hvd0NvbmZpcm1CdXR0b24iLCJzaG93Q2FuY2VsQnV0dG9uIiwiY29uZmlybUJ1dHRvblRleHQiLCJjb25maXJtQnV0dG9uQXJpYUxhYmVsIiwiY29uZmlybUJ1dHRvbkNvbG9yIiwiY2FuY2VsQnV0dG9uVGV4dCIsImNhbmNlbEJ1dHRvbkFyaWFMYWJlbCIsImNhbmNlbEJ1dHRvbkNvbG9yIiwiYnV0dG9uc1N0eWxpbmciLCJyZXZlcnNlQnV0dG9ucyIsImltYWdlVXJsIiwiaW1hZ2VXaWR0aCIsImltYWdlSGVpZ2h0IiwiaW1hZ2VBbHQiLCJwcm9ncmVzc1N0ZXBzIiwiY3VycmVudFByb2dyZXNzU3RlcCIsIm9uQ2xvc2UiLCJvbkFmdGVyQ2xvc2UiLCJvbkRlc3Ryb3kiXSxvZT17YW5pbWF0aW9uOidzaG93Q2xhc3MiIGFuZCAiaGlkZUNsYXNzJ30sc2U9WyJhbGxvd091dHNpZGVDbGljayIsImFsbG93RW50ZXJLZXkiLCJiYWNrZHJvcCIsImZvY3VzQ29uZmlybSIsImZvY3VzQ2FuY2VsIiwiaGVpZ2h0QXV0byIsImtleWRvd25MaXN0ZW5lckNhcHR1cmUiXSxoZT1PYmplY3QuZnJlZXplKHtpc1ZhbGlkUGFyYW1ldGVyOnZ1LGlzVXBkYXRhYmxlUGFyYW1ldGVyOmZ1bmN0aW9uKG4pe3JldHVybi0xIT09ZWUuaW5kZXhPZihuKX0saXNEZXByZWNhdGVkUGFyYW1ldGVyOmdpLGFyZ3NUb1BhcmFtczpmdW5jdGlvbihuKXt2YXIgdD17fTtyZXR1cm4ib2JqZWN0IiE9PXkoblswXSl8fGhyKG5bMF0pP1sidGl0bGUiLCJodG1sIiwiaWNvbiJdLmZvckVhY2goZnVuY3Rpb24oaSxyKXt2YXIgdT1uW3JdOyJzdHJpbmciPT10eXBlb2YgdXx8aHIodSk/dFtpXT11OnZvaWQgMCE9PXUmJml0KCJVbmV4cGVjdGVkIHR5cGUgb2YgIi5jb25jYXQoaSwnISBFeHBlY3RlZCAic3RyaW5nIiBvciAiRWxlbWVudCIsIGdvdCAnKS5jb25jYXQoeSh1KSkpfSk6cCh0LG5bMF0pLHR9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiBrKHIoKSl9LGNsaWNrQ29uZmlybTpodSxjbGlja0NhbmNlbDpmdW5jdGlvbigpe3JldHVybiBmdCgpJiZmdCgpLmNsaWNrKCl9LGdldENvbnRhaW5lcjpmLGdldFBvcHVwOnIsZ2V0VGl0bGU6bHIsZ2V0Q29udGVudDpjLGdldEh0bWxDb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gaChuWyJodG1sLWNvbnRhaW5lciJdKX0sZ2V0SW1hZ2U6YXIsZ2V0SWNvbjphaSxnZXRJY29uczpsaSxnZXRDbG9zZUJ1dHRvbjp5aSxnZXRBY3Rpb25zOnB0LGdldENvbmZpcm1CdXR0b246dHQsZ2V0Q2FuY2VsQnV0dG9uOmZ0LGdldEhlYWRlcjp5cixnZXRGb290ZXI6cHIsZ2V0VGltZXJQcm9ncmVzc0Jhcjp3dCxnZXRGb2N1c2FibGVFbGVtZW50czpwaSxnZXRWYWxpZGF0aW9uTWVzc2FnZTp2aSxpc0xvYWRpbmc6YnIsZmlyZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWlbbl09YXJndW1lbnRzW25dO3JldHVybiBvcih0aGlzLGkpfSxtaXhpbjpmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gaSgpe3JldHVybiBmaSh0aGlzLGkpLGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSFmdW5jdGlvbihuLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpuLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KTt0JiZvaShuLHQpfShpLHQpO3ZhciByLHUsZj0ocj1pLHU9ZXIoKSxmdW5jdGlvbigpe3ZhciBuLHQ9aHQocik7cmV0dXJuIGZmKHRoaXMsdT8obj1odCh0aGlzKS5jb25zdHJ1Y3RvcixSZWZsZWN0LmNvbnN0cnVjdCh0LGFyZ3VtZW50cyxuKSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSk7cmV0dXJuIGVpKGksW3trZXk6Il9tYWluIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gc3IoaHQoaS5wcm90b3R5cGUpLCJfbWFpbiIsdGhpcykuY2FsbCh0aGlzLHAoe30sbix0KSl9fV0pLGl9KHRoaXMpfSxxdWV1ZTpmdW5jdGlvbihuKXtmdW5jdGlvbiBpKG4sdCl7ZD1bXTtuKHQpfXZhciByPXRoaXMsdDtyZXR1cm4gZD1uLHQ9W10sbmV3IFByb21pc2UoZnVuY3Rpb24obil7IWZ1bmN0aW9uIHUoZixlKXtmPGQubGVuZ3RoPyhkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgiZGF0YS1zd2FsMi1xdWV1ZS1zdGVwIixmKSxyLmZpcmUoZFtmXSkudGhlbihmdW5jdGlvbihyKXt2b2lkIDAhPT1yLnZhbHVlPyh0LnB1c2goci52YWx1ZSksdShmKzEsZSkpOmkobix7ZGlzbWlzczpyLmRpc21pc3N9KX0pKTppKG4se3ZhbHVlOnR9KX0oMCl9KX0sZ2V0UXVldWVTdGVwOm91LGluc2VydFF1ZXVlU3RlcDpmdW5jdGlvbihuLHQpe3JldHVybiB0JiZ0PGQubGVuZ3RoP2Quc3BsaWNlKHQsMCxuKTpkLnB1c2gobil9LGRlbGV0ZVF1ZXVlU3RlcDpmdW5jdGlvbihuKXt2b2lkIDAhPT1kW25dJiZkLnNwbGljZShuLDEpfSxzaG93TG9hZGluZzpuaSxlbmFibGVMb2FkaW5nOm5pLGdldFRpbWVyTGVmdDpmdW5jdGlvbigpe3JldHVybiB0LnRpbWVvdXQmJnQudGltZW91dC5nZXRUaW1lckxlZnQoKX0sc3RvcFRpbWVyOmx1LHJlc3VtZVRpbWVyOmF1LHRvZ2dsZVRpbWVyOmZ1bmN0aW9uKCl7dmFyIG49dC50aW1lb3V0O3JldHVybiBuJiYobi5ydW5uaW5nP2x1OmF1KSgpfSxpbmNyZWFzZVRpbWVyOmZ1bmN0aW9uKG4pe2lmKHQudGltZW91dCl7dmFyIGk9dC50aW1lb3V0LmluY3JlYXNlKG4pO3JldHVybiBiaShpLCEwKSxpfX0saXNUaW1lclJ1bm5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdC50aW1lb3V0JiZ0LnRpbWVvdXQuaXNSdW5uaW5nKCl9fSk7dmFyIGxlPWZ1bmN0aW9uKCl7bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKENyaU9TfEZ4aU9TfEVkZ2lPU3xZYUJyb3dzZXJ8VUNCcm93c2VyKS9pKXx8cigpLnNjcm9sbEhlaWdodD53aW5kb3cuaW5uZXJIZWlnaHQtNDQmJihmKCkuc3R5bGUucGFkZGluZ0JvdHRvbT0iIi5jb25jYXQoNDQsInB4IikpfSxhZT1mdW5jdGlvbigpe3ZhciBuLHQ9ZigpO3Qub250b3VjaHN0YXJ0PWZ1bmN0aW9uKHQpe249dmUodC50YXJnZXQpfTt0Lm9udG91Y2htb3ZlPWZ1bmN0aW9uKHQpe24mJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSl9fSx2ZT1mdW5jdGlvbihuKXt2YXIgdD1mKCk7cmV0dXJuIG49PT10fHwhKHR1KHQpfHwiSU5QVVQiPT09bi50YWdOYW1lfHx0dShjKCkpJiZjKCkuY29udGFpbnMobikpfSx0cj17c3dhbFByb21pc2VSZXNvbHZlOm5ldyBXZWFrTWFwfTtidT1mdW5jdGlvbihuLGkscix1KXt0LnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjaz13dS5iaW5kKG51bGwsbixyLGt0KCksdSk7aS5hZGRFdmVudExpc3RlbmVyKGx0LGZ1bmN0aW9uKG4pe24udGFyZ2V0PT09aSYmKHQuc3dhbENsb3NlRXZlbnRGaW5pc2hlZENhbGxiYWNrKCksZGVsZXRlIHQuc3dhbENsb3NlRXZlbnRGaW5pc2hlZENhbGxiYWNrKX0pfTtpcj1mdW5jdGlvbihuLHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmdCgpO24uX2Rlc3Ryb3koKX0pfTtndT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCxpKXtmaSh0aGlzLG4pO3RoaXMuY2FsbGJhY2s9dDt0aGlzLnJlbWFpbmluZz1pO3RoaXMucnVubmluZz0hMTt0aGlzLnN0YXJ0KCl9cmV0dXJuIGVpKG4sW3trZXk6InN0YXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bm5pbmd8fCh0aGlzLnJ1bm5pbmc9ITAsdGhpcy5zdGFydGVkPW5ldyBEYXRlLHRoaXMuaWQ9c2V0VGltZW91dCh0aGlzLmNhbGxiYWNrLHRoaXMucmVtYWluaW5nKSksdGhpcy5yZW1haW5pbmd9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bm5pbmcmJih0aGlzLnJ1bm5pbmc9ITEsY2xlYXJUaW1lb3V0KHRoaXMuaWQpLHRoaXMucmVtYWluaW5nLT1uZXcgRGF0ZS10aGlzLnN0YXJ0ZWQpLHRoaXMucmVtYWluaW5nfX0se2tleToiaW5jcmVhc2UiLHZhbHVlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMucnVubmluZztyZXR1cm4gdCYmdGhpcy5zdG9wKCksdGhpcy5yZW1haW5pbmcrPW4sdCYmdGhpcy5zdGFydCgpLHRoaXMucmVtYWluaW5nfX0se2tleToiZ2V0VGltZXJMZWZ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bm5pbmcmJih0aGlzLnN0b3AoKSx0aGlzLnN0YXJ0KCkpLHRoaXMucmVtYWluaW5nfX0se2tleToiaXNSdW5uaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bm5pbmd9fV0pLG59KCk7cnI9e2VtYWlsOmZ1bmN0aW9uKG4sdCl7cmV0dXJuL15bYS16QS1aMC05LitfLV0rQFthLXpBLVowLTkuLV0rXC5bYS16QS1aMC05LV17MiwyNH0kLy50ZXN0KG4pP1Byb21pc2UucmVzb2x2ZSgpOlByb21pc2UucmVzb2x2ZSh0fHwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIil9LHVybDpmdW5jdGlvbihuLHQpe3JldHVybi9eaHR0cHM/OlwvXC8od3d3XC4pP1stYS16QS1aMC05QDolLl8rfiM9XXsxLDI1Nn1cLlthLXpdezIsNjN9XGIoWy1hLXpBLVowLTlAOiVfKy5+Iz8mLz1dKikkLy50ZXN0KG4pP1Byb21pc2UucmVzb2x2ZSgpOlByb21pc2UucmVzb2x2ZSh0fHwiSW52YWxpZCBVUkwiKX19O3ZhciBubz1mdW5jdGlvbihuLHQpe2x0JiZpdSh0KT8obi5zdHlsZS5vdmVyZmxvd1k9ImhpZGRlbiIsdC5hZGRFdmVudExpc3RlbmVyKGx0LG5mKSk6bi5zdHlsZS5vdmVyZmxvd1k9ImF1dG8ifSx0bz1mdW5jdGlvbih0LHIsdSl7dmFyIGY7KC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYhd2luZG93Lk1TU3RyZWFtfHwiTWFjSW50ZWwiPT09bmF2aWdhdG9yLnBsYXRmb3JtJiYxPG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cykmJiFjdChkb2N1bWVudC5ib2R5LG4uaW9zZml4KSYmKGY9ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsZG9jdW1lbnQuYm9keS5zdHlsZS50b3A9IiIuY29uY2F0KC0xKmYsInB4IiksaShkb2N1bWVudC5ib2R5LG4uaW9zZml4KSxhZSgpLGxlKCkpOyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZwdSgpJiYobnIoKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixucikpO3ImJiJoaWRkZW4iIT09dSYmY2UoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5zY3JvbGxUb3A9MH0pfSxpbz1mdW5jdGlvbih0LHIsdSl7aSh0LHUuc2hvd0NsYXNzLmJhY2tkcm9wKTtvKHIpO2kocix1LnNob3dDbGFzcy5wb3B1cCk7aShbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGRvY3VtZW50LmJvZHldLG4uc2hvd24pO3UuaGVpZ2h0QXV0byYmdS5iYWNrZHJvcCYmIXUudG9hc3QmJmkoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkb2N1bWVudC5ib2R5XSxuWyJoZWlnaHQtYXV0byJdKX0scm89ZnVuY3Rpb24obil7cmV0dXJuIG4uY2hlY2tlZD8xOjB9LHVvPWZ1bmN0aW9uKG4pe3JldHVybiBuLmNoZWNrZWQ/bi52YWx1ZTpudWxsfSxmbz1mdW5jdGlvbihuKXtyZXR1cm4gbi5maWxlcy5sZW5ndGg/bnVsbCE9PW4uZ2V0QXR0cmlidXRlKCJtdWx0aXBsZSIpP24uZmlsZXM6bi5maWxlc1swXTpudWxsfSxlbz1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGkobil7cmV0dXJuIHNvW3QuaW5wdXRdKHIsaG8obiksdCl9dmFyIHI9YygpO2hpKHQuaW5wdXRPcHRpb25zKXx8Y2kodC5pbnB1dE9wdGlvbnMpPyhuaSgpLHZ0KHQuaW5wdXRPcHRpb25zKS50aGVuKGZ1bmN0aW9uKHQpe24uaGlkZUxvYWRpbmcoKTtpKHQpfSkpOiJvYmplY3QiPT09eSh0LmlucHV0T3B0aW9ucyk/aSh0LmlucHV0T3B0aW9ucyk6aXQoIlVuZXhwZWN0ZWQgdHlwZSBvZiBpbnB1dE9wdGlvbnMhIEV4cGVjdGVkIG9iamVjdCwgTWFwIG9yIFByb21pc2UsIGdvdCAiLmNvbmNhdCh5KHQuaW5wdXRPcHRpb25zKSkpfSxvbz1mdW5jdGlvbihuLHQpe3ZhciBpPW4uZ2V0SW5wdXQoKTt2KGkpO3Z0KHQuaW5wdXRWYWx1ZSkudGhlbihmdW5jdGlvbihyKXtpLnZhbHVlPSJudW1iZXIiPT09dC5pbnB1dD9wYXJzZUZsb2F0KHIpfHwwOiIiLmNvbmNhdChyKTtvKGkpO2kuZm9jdXMoKTtuLmhpZGVMb2FkaW5nKCl9KS5jYXRjaChmdW5jdGlvbih0KXtpdCgiRXJyb3IgaW4gaW5wdXRWYWx1ZSBwcm9taXNlOiAiLmNvbmNhdCh0KSk7aS52YWx1ZT0iIjtvKGkpO2kuZm9jdXMoKTtuLmhpZGVMb2FkaW5nKCl9KX0sc289e3NlbGVjdDpmdW5jdGlvbih0LGkscil7ZnVuY3Rpb24gZihuLHQsaSl7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7dS52YWx1ZT1pO2UodSx0KTtyLmlucHV0VmFsdWUudG9TdHJpbmcoKT09PWkudG9TdHJpbmcoKSYmKHUuc2VsZWN0ZWQ9ITApO24uYXBwZW5kQ2hpbGQodSl9dmFyIHU9Yih0LG4uc2VsZWN0KTtpLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHQscj1uWzBdLGk9blsxXTtBcnJheS5pc0FycmF5KGkpPygodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRncm91cCIpKS5sYWJlbD1yLHQuZGlzYWJsZWQ9ITEsdS5hcHBlbmRDaGlsZCh0KSxpLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIGYodCxuWzFdLG5bMF0pfSkpOmYodSxpLHIpfSk7dS5mb2N1cygpfSxyYWRpbzpmdW5jdGlvbih0LGkscil7dmFyIGY9Yih0LG4ucmFkaW8pLHU7aS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBzPXRbMF0saD10WzFdLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVsIiksdTtpLnR5cGU9InJhZGlvIjtpLm5hbWU9bi5yYWRpbztpLnZhbHVlPXM7ci5pbnB1dFZhbHVlLnRvU3RyaW5nKCk9PT1zLnRvU3RyaW5nKCkmJihpLmNoZWNrZWQ9ITApO3U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2UodSxoKTt1LmNsYXNzTmFtZT1uLmxhYmVsO28uYXBwZW5kQ2hpbGQoaSk7by5hcHBlbmRDaGlsZCh1KTtmLmFwcGVuZENoaWxkKG8pfSk7dT1mLnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0Iik7dS5sZW5ndGgmJnVbMF0uZm9jdXMoKX19LGhvPWZ1bmN0aW9uIGF0KG4pe3ZhciB0PVtdO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgTWFwJiZuIGluc3RhbmNlb2YgTWFwP24uZm9yRWFjaChmdW5jdGlvbihuLGkpe3ZhciByPW47Im9iamVjdCI9PT15KHIpJiYocj1hdChyKSk7dC5wdXNoKFtpLHJdKX0pOk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIHI9bltpXTsib2JqZWN0Ij09PXkocikmJihyPWF0KHIpKTt0LnB1c2goW2kscl0pfSksdH0sY289ZnVuY3Rpb24obix0KXt2YXIgaT1mdW5jdGlvbihuLHQpe3ZhciBpPW4uZ2V0SW5wdXQoKTtpZighaSlyZXR1cm4gbnVsbDtzd2l0Y2godC5pbnB1dCl7Y2FzZSJjaGVja2JveCI6cmV0dXJuIHJvKGkpO2Nhc2UicmFkaW8iOnJldHVybiB1byhpKTtjYXNlImZpbGUiOnJldHVybiBmbyhpKTtkZWZhdWx0OnJldHVybiB0LmlucHV0QXV0b1RyaW0/aS52YWx1ZS50cmltKCk6aS52YWx1ZX19KG4sdCk7dC5pbnB1dFZhbGlkYXRvcj8obi5kaXNhYmxlSW5wdXQoKSxQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHZ0KHQuaW5wdXRWYWxpZGF0b3IoaSx0LnZhbGlkYXRpb25NZXNzYWdlKSl9KS50aGVuKGZ1bmN0aW9uKHIpe24uZW5hYmxlQnV0dG9ucygpO24uZW5hYmxlSW5wdXQoKTtyP24uc2hvd1ZhbGlkYXRpb25NZXNzYWdlKHIpOmZyKG4sdCxpKX0pKTpuLmdldElucHV0KCkuY2hlY2tWYWxpZGl0eSgpP2ZyKG4sdCxpKToobi5lbmFibGVCdXR0b25zKCksbi5zaG93VmFsaWRhdGlvbk1lc3NhZ2UodC52YWxpZGF0aW9uTWVzc2FnZSkpfSxmcj1mdW5jdGlvbihuLHQsaSl7dC5zaG93TG9hZGVyT25Db25maXJtJiZuaSgpO3QucHJlQ29uZmlybT8obi5yZXNldFZhbGlkYXRpb25NZXNzYWdlKCksUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB2dCh0LnByZUNvbmZpcm0oaSx0LnZhbGlkYXRpb25NZXNzYWdlKSl9KS50aGVuKGZ1bmN0aW9uKHQpe2sodmkoKSl8fCExPT09dD9uLmhpZGVMb2FkaW5nKCk6dGYobix2b2lkIDA9PT10P2k6dCl9KSk6dGYobixpKX0sbG89WyJBcnJvd0xlZnQiLCJBcnJvd1JpZ2h0IiwiQXJyb3dVcCIsIkFycm93RG93biIsIkxlZnQiLCJSaWdodCIsIlVwIiwiRG93biJdLGFvPVsiRXNjYXBlIiwiRXNjIl0sdm89ZnVuY3Rpb24obix0LGkpe3ZhciByPXUuaW5uZXJQYXJhbXMuZ2V0KG4pO3Iuc3RvcEtleWRvd25Qcm9wYWdhdGlvbiYmdC5zdG9wUHJvcGFnYXRpb24oKTsiRW50ZXIiPT09dC5rZXk/eW8obix0LHIpOiJUYWIiPT09dC5rZXk/cG8odCxyKTotMSE9PWxvLmluZGV4T2YodC5rZXkpP3dvKCk6LTEhPT1hby5pbmRleE9mKHQua2V5KSYmYm8odCxyLGkpfSx5bz1mdW5jdGlvbihuLHQsaSl7aWYoIXQuaXNDb21wb3NpbmcmJnQudGFyZ2V0JiZuLmdldElucHV0KCkmJnQudGFyZ2V0Lm91dGVySFRNTD09PW4uZ2V0SW5wdXQoKS5vdXRlckhUTUwpe2lmKC0xIT09WyJ0ZXh0YXJlYSIsImZpbGUiXS5pbmRleE9mKGkuaW5wdXQpKXJldHVybjtodSgpO3QucHJldmVudERlZmF1bHQoKX19LHBvPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdT1uLnRhcmdldCxyPXBpKCksaT0tMSx0PTA7dDxyLmxlbmd0aDt0KyspaWYodT09PXJbdF0pe2k9dDticmVha31uLnNoaWZ0S2V5P3VyKDAsaSwtMSk6dXIoMCxpLDEpO24uc3RvcFByb3BhZ2F0aW9uKCk7bi5wcmV2ZW50RGVmYXVsdCgpfSx3bz1mdW5jdGlvbigpe3ZhciBuPXR0KCksdD1mdCgpO2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1uJiZrKHQpP3QuZm9jdXMoKTpkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09dCYmayhuKSYmbi5mb2N1cygpfSxibz1mdW5jdGlvbihuLHQsaSl7YnQodC5hbGxvd0VzY2FwZUtleSkmJihuLnByZXZlbnREZWZhdWx0KCksaShldC5lc2MpKX0sa289ZnVuY3Rpb24obix0LGkpe3QucG9wdXAub25jbGljaz1mdW5jdGlvbigpe3ZhciB0PXUuaW5uZXJQYXJhbXMuZ2V0KG4pO3Quc2hvd0NvbmZpcm1CdXR0b258fHQuc2hvd0NhbmNlbEJ1dHRvbnx8dC5zaG93Q2xvc2VCdXR0b258fHQuaW5wdXR8fGkoZXQuY2xvc2UpfX0scmk9ITEsZ289ZnVuY3Rpb24obil7bi5wb3B1cC5vbm1vdXNlZG93bj1mdW5jdGlvbigpe24uY29udGFpbmVyLm9ubW91c2V1cD1mdW5jdGlvbih0KXtuLmNvbnRhaW5lci5vbm1vdXNldXA9dm9pZCAwO3QudGFyZ2V0PT09bi5jb250YWluZXImJihyaT0hMCl9fX0sbnM9ZnVuY3Rpb24obil7bi5jb250YWluZXIub25tb3VzZWRvd249ZnVuY3Rpb24oKXtuLnBvcHVwLm9ubW91c2V1cD1mdW5jdGlvbih0KXtuLnBvcHVwLm9ubW91c2V1cD12b2lkIDA7KHQudGFyZ2V0PT09bi5wb3B1cHx8bi5wb3B1cC5jb250YWlucyh0LnRhcmdldCkpJiYocmk9ITApfX19LHRzPWZ1bmN0aW9uKG4sdCxpKXt0LmNvbnRhaW5lci5vbmNsaWNrPWZ1bmN0aW9uKHIpe3ZhciBmPXUuaW5uZXJQYXJhbXMuZ2V0KG4pO3JpP3JpPSExOnIudGFyZ2V0PT09dC5jb250YWluZXImJmJ0KGYuYWxsb3dPdXRzaWRlQ2xpY2spJiZpKGV0LmJhY2tkcm9wKX19LGlzPWZ1bmN0aW9uKG4sdCxpKXt2YXIgcj13dCgpO3Yocik7dC50aW1lciYmKG4udGltZW91dD1uZXcgZ3UoZnVuY3Rpb24oKXtpKCJ0aW1lciIpO2RlbGV0ZSBuLnRpbWVvdXR9LHQudGltZXIpLHQudGltZXJQcm9ncmVzc0JhciYmKG8ociksc2V0VGltZW91dChmdW5jdGlvbigpe24udGltZW91dC5ydW5uaW5nJiZiaSh0LnRpbWVyKX0pKSl9LHJzPWZ1bmN0aW9uKG4sdCl7aWYoIXQudG9hc3QpcmV0dXJuIGJ0KHQuYWxsb3dFbnRlcktleSk/dC5mb2N1c0NhbmNlbCYmayhuLmNhbmNlbEJ1dHRvbik/bi5jYW5jZWxCdXR0b24uZm9jdXMoKTp0LmZvY3VzQ29uZmlybSYmayhuLmNvbmZpcm1CdXR0b24pP24uY29uZmlybUJ1dHRvbi5mb2N1cygpOnZvaWQgdXIoMCwtMSwxKTp1cygpfSx1cz1mdW5jdGlvbigpe2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJiJmdW5jdGlvbiI9PXR5cGVvZiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXImJmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpfSx1aSxyZj1mdW5jdGlvbihuKXtmb3IodmFyIHQgaW4gbiluW3RdPW5ldyBXZWFrTWFwfSx1Zj1PYmplY3QuZnJlZXplKHtoaWRlTG9hZGluZzp5dSxkaXNhYmxlTG9hZGluZzp5dSxnZXRJbnB1dDpmdW5jdGlvbihuKXt2YXIgaT11LmlubmVyUGFyYW1zLmdldChufHx0aGlzKSx0PXUuZG9tQ2FjaGUuZ2V0KG58fHRoaXMpO3JldHVybiB0P3dpKHQuY29udGVudCxpLmlucHV0KTpudWxsfSxjbG9zZTppaSxjbG9zZVBvcHVwOmlpLGNsb3NlTW9kYWw6aWksY2xvc2VUb2FzdDppaSxlbmFibGVCdXR0b25zOmZ1bmN0aW9uKCl7a3UodGhpcyxbImNvbmZpcm1CdXR0b24iLCJjYW5jZWxCdXR0b24iXSwhMSl9LGRpc2FibGVCdXR0b25zOmZ1bmN0aW9uKCl7a3UodGhpcyxbImNvbmZpcm1CdXR0b24iLCJjYW5jZWxCdXR0b24iXSwhMCl9LGVuYWJsZUlucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIGR1KHRoaXMuZ2V0SW5wdXQoKSwhMSl9LGRpc2FibGVJbnB1dDpmdW5jdGlvbigpe3JldHVybiBkdSh0aGlzLmdldElucHV0KCksITApfSxzaG93VmFsaWRhdGlvbk1lc3NhZ2U6ZnVuY3Rpb24odCl7dmFyIGY9dS5kb21DYWNoZS5nZXQodGhpcykscyxyO2UoZi52YWxpZGF0aW9uTWVzc2FnZSx0KTtzPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGYucG9wdXApO2YudmFsaWRhdGlvbk1lc3NhZ2Uuc3R5bGUubWFyZ2luTGVmdD0iLSIuY29uY2F0KHMuZ2V0UHJvcGVydHlWYWx1ZSgicGFkZGluZy1sZWZ0IikpO2YudmFsaWRhdGlvbk1lc3NhZ2Uuc3R5bGUubWFyZ2luUmlnaHQ9Ii0iLmNvbmNhdChzLmdldFByb3BlcnR5VmFsdWUoInBhZGRpbmctcmlnaHQiKSk7byhmLnZhbGlkYXRpb25NZXNzYWdlKTtyPXRoaXMuZ2V0SW5wdXQoKTtyJiYoci5zZXRBdHRyaWJ1dGUoImFyaWEtaW52YWxpZCIsITApLHIuc2V0QXR0cmlidXRlKCJhcmlhLWRlc2NyaWJlZEJ5IixuWyJ2YWxpZGF0aW9uLW1lc3NhZ2UiXSksZ3IociksaShyLG4uaW5wdXRlcnJvcikpfSxyZXNldFZhbGlkYXRpb25NZXNzYWdlOmZ1bmN0aW9uKCl7dmFyIGk9dS5kb21DYWNoZS5nZXQodGhpcyksdDtpLnZhbGlkYXRpb25NZXNzYWdlJiZ2KGkudmFsaWRhdGlvbk1lc3NhZ2UpO3Q9dGhpcy5nZXRJbnB1dCgpO3QmJih0LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1pbnZhbGlkIiksdC5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtZGVzY3JpYmVkQnkiKSx3KHQsbi5pbnB1dGVycm9yKSl9LGdldFByb2dyZXNzU3RlcHM6ZnVuY3Rpb24oKXtyZXR1cm4gdS5kb21DYWNoZS5nZXQodGhpcykucHJvZ3Jlc3NTdGVwc30sX21haW46ZnVuY3Rpb24oZSl7dmFyIG8scztyZXR1cm4gZmUoZSksdC5jdXJyZW50SW5zdGFuY2UmJnQuY3VycmVudEluc3RhbmNlLl9kZXN0cm95KCksdC5jdXJyZW50SW5zdGFuY2U9dGhpcyxvPWZ1bmN0aW9uKG4pe3ZhciBpPXAoe30sdGkuc2hvd0NsYXNzLG4uc2hvd0NsYXNzKSxyPXAoe30sdGkuaGlkZUNsYXNzLG4uaGlkZUNsYXNzKSx0PXAoe30sdGksbik7cmV0dXJuKHQuc2hvd0NsYXNzPWksdC5oaWRlQ2xhc3M9cixuLmFuaW1hdGlvbj09PSExKSYmKHQuc2hvd0NsYXNzPXtwb3B1cDoic3dhbDItbm9hbmltYXRpb24iLGJhY2tkcm9wOiJzd2FsMi1ub2FuaW1hdGlvbiJ9LHQuaGlkZUNsYXNzPXt9KSx0fShlKSx5ZShvKSxPYmplY3QuZnJlZXplKG8pLHQudGltZW91dCYmKHQudGltZW91dC5zdG9wKCksZGVsZXRlIHQudGltZW91dCksY2xlYXJUaW1lb3V0KHQucmVzdG9yZUZvY3VzVGltZW91dCkscz1mdW5jdGlvbihuKXt2YXIgdD17cG9wdXA6cigpLGNvbnRhaW5lcjpmKCksY29udGVudDpjKCksYWN0aW9uczpwdCgpLGNvbmZpcm1CdXR0b246dHQoKSxjYW5jZWxCdXR0b246ZnQoKSxjbG9zZUJ1dHRvbjp5aSgpLHZhbGlkYXRpb25NZXNzYWdlOnZpKCkscHJvZ3Jlc3NTdGVwczp2cigpfTtyZXR1cm4gdS5kb21DYWNoZS5zZXQobix0KSx0fSh0aGlzKSxzdSh0aGlzLG8pLHUuaW5uZXJQYXJhbXMuc2V0KHRoaXMsbyksZnVuY3Rpb24ocix1LGYpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlKXt2YXIgbz1mdW5jdGlvbihuKXtyLmNsb3NlUG9wdXAoe2Rpc21pc3M6bn0pfTt0ci5zd2FsUHJvbWlzZVJlc29sdmUuc2V0KHIsZSk7dS5jb25maXJtQnV0dG9uLm9uY2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gYmUocixmKX07dS5jYW5jZWxCdXR0b24ub25jbGljaz1mdW5jdGlvbigpe3JldHVybiBrZShyLG8pfTt1LmNsb3NlQnV0dG9uLm9uY2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gbyhldC5jbG9zZSl9O2dlKHIsdSxvKTtkZShyLHQsZixvKTtmLnRvYXN0JiYoZi5pbnB1dHx8Zi5mb290ZXJ8fGYuc2hvd0Nsb3NlQnV0dG9uKT9pKGRvY3VtZW50LmJvZHksblsidG9hc3QtY29sdW1uIl0pOncoZG9jdW1lbnQuYm9keSxuWyJ0b2FzdC1jb2x1bW4iXSk7d2UocixmKTtwZShmKTtpcyh0LGYsbyk7cnModSxmKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5jb250YWluZXIuc2Nyb2xsVG9wPTB9KX0pfSh0aGlzLHMsbyl9LHVwZGF0ZTpmdW5jdGlvbihuKXt2YXIgZj1yKCksZT11LmlubmVyUGFyYW1zLmdldCh0aGlzKSx0LGk7aWYoIWZ8fGN0KGYsZS5oaWRlQ2xhc3MucG9wdXApKXJldHVybiBhKCJZb3UncmUgdHJ5aW5nIHRvIHVwZGF0ZSB0aGUgY2xvc2VkIG9yIGNsb3NpbmcgcG9wdXAsIHRoYXQgd29uJ3Qgd29yay4gVXNlIHRoZSB1cGRhdGUoKSBtZXRob2QgaW4gcHJlQ29uZmlybSBwYXJhbWV0ZXIgb3Igc2hvdyBhIG5ldyBwb3B1cC4iKTt0PXt9O09iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oaSl7dXQuaXNVcGRhdGFibGVQYXJhbWV0ZXIoaSk/dFtpXT1uW2ldOmEoJ0ludmFsaWQgcGFyYW1ldGVyIHRvIHVwZGF0ZTogIicuY29uY2F0KGksJyIuIFVwZGF0YWJsZSBwYXJhbXMgYXJlIGxpc3RlZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vc3dlZXRhbGVydDIvc3dlZXRhbGVydDIvYmxvYi9tYXN0ZXIvc3JjL3V0aWxzL3BhcmFtcy5qcycpKX0pO2k9cCh7fSxlLHQpO3N1KHRoaXMsaSk7dS5pbm5lclBhcmFtcy5zZXQodGhpcyxpKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtwYXJhbXM6e3ZhbHVlOnAoe30sdGhpcy5wYXJhbXMsbiksd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMH19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgaT11LmRvbUNhY2hlLmdldCh0aGlzKSxuPXUuaW5uZXJQYXJhbXMuZ2V0KHRoaXMpO24mJihpLnBvcHVwJiZ0LnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjayYmKHQuc3dhbENsb3NlRXZlbnRGaW5pc2hlZENhbGxiYWNrKCksZGVsZXRlIHQuc3dhbENsb3NlRXZlbnRGaW5pc2hlZENhbGxiYWNrKSx0LmRlZmVyRGlzcG9zYWxUaW1lciYmKGNsZWFyVGltZW91dCh0LmRlZmVyRGlzcG9zYWxUaW1lciksZGVsZXRlIHQuZGVmZXJEaXNwb3NhbFRpbWVyKSwiZnVuY3Rpb24iPT10eXBlb2Ygbi5vbkRlc3Ryb3kmJm4ub25EZXN0cm95KCksZGVsZXRlIHRoaXMucGFyYW1zLGRlbGV0ZSB0LmtleWRvd25IYW5kbGVyLGRlbGV0ZSB0LmtleWRvd25UYXJnZXQscmYodSkscmYodHIpKX19KSxzdD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt2YXIgZixlO2lmKGZpKHRoaXMsbiksInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cpeyJ1bmRlZmluZWQiPT10eXBlb2YgUHJvbWlzZSYmaXQoIlRoaXMgcGFja2FnZSByZXF1aXJlcyBhIFByb21pc2UgbGlicmFyeSwgcGxlYXNlIGluY2x1ZGUgYSBzaGltIHRvIGVuYWJsZSBpdCBpbiB0aGlzIGJyb3dzZXIgKFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3N3ZWV0YWxlcnQyL3N3ZWV0YWxlcnQyL3dpa2kvTWlncmF0aW9uLWZyb20tU3dlZXRBbGVydC10by1Td2VldEFsZXJ0MiMxLWllLXN1cHBvcnQpIik7dWk9dGhpcztmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShpKSx0PTA7dDxpO3QrKylyW3RdPWFyZ3VtZW50c1t0XTtmPU9iamVjdC5mcmVlemUodGhpcy5jb25zdHJ1Y3Rvci5hcmdzVG9QYXJhbXMocikpO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3BhcmFtczp7dmFsdWU6Zix3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KTtlPXRoaXMuX21haW4odGhpcy5wYXJhbXMpO3UucHJvbWlzZS5zZXQodGhpcyxlKX19cmV0dXJuIGVpKG4sW3trZXk6InRoZW4iLHZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiB1LnByb21pc2UuZ2V0KHRoaXMpLnRoZW4obil9fSx7a2V5OiJmaW5hbGx5Iix2YWx1ZTpmdW5jdGlvbihuKXtyZXR1cm4gdS5wcm9taXNlLmdldCh0aGlzKS5maW5hbGx5KG4pfX1dKSxufSgpO3JldHVybiBwKHN0LnByb3RvdHlwZSx1ZikscChzdCxoZSksT2JqZWN0LmtleXModWYpLmZvckVhY2goZnVuY3Rpb24obil7c3Rbbl09ZnVuY3Rpb24oKXtpZih1aSlyZXR1cm4gdWlbbl0uYXBwbHkodWksYXJndW1lbnRzKX19KSxzdC5EaXNtaXNzUmVhc29uPWV0LHN0LnZlcnNpb249IjkuMTUuMyIsdXQ9c3QsdXQuZGVmYXVsdD11dH0pO3ZvaWQgMCE9PXRoaXMmJnRoaXMuU3dlZXRhbGVydDImJih0aGlzLnN3YWw9dGhpcy5zd2VldEFsZXJ0PXRoaXMuU3dhbD10aGlzLlN3ZWV0QWxlcnQ9dGhpcy5Td2VldGFsZXJ0Mik7InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCYmZnVuY3Rpb24obix0KXt2YXIgaT1uLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7aWYobi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGkpLGkuc3R5bGVTaGVldClpLnN0eWxlU2hlZXQuZGlzYWJsZWR8fChpLnN0eWxlU2hlZXQuY3NzVGV4dD10KTtlbHNlIHRyeXtpLmlubmVySFRNTD10fWNhdGNoKG4pe2kuaW5uZXJUZXh0PXR9fShkb2N1bWVudCwnLnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0e2ZsZXgtZGlyZWN0aW9uOnJvdzthbGlnbi1pdGVtczpjZW50ZXI7d2lkdGg6YXV0bztwYWRkaW5nOi42MjVlbTtvdmVyZmxvdy15OmhpZGRlbjtiYWNrZ3JvdW5kOiNmZmY7Ym94LXNoYWRvdzowIDAgLjYyNWVtICNkOWQ5ZDl9LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1oZWFkZXJ7ZmxleC1kaXJlY3Rpb246cm93fS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItdGl0bGV7ZmxleC1ncm93OjE7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7bWFyZ2luOjAgLjZlbTtmb250LXNpemU6MWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItZm9vdGVye21hcmdpbjouNWVtIDAgMDtwYWRkaW5nOi41ZW0gMCAwO2ZvbnQtc2l6ZTouOGVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItY2xvc2V7cG9zaXRpb246c3RhdGljO3dpZHRoOi44ZW07aGVpZ2h0Oi44ZW07bGluZS1oZWlnaHQ6Ljh9LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1jb250ZW50e2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0O2ZvbnQtc2l6ZToxZW19LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1pY29ue3dpZHRoOjJlbTttaW4td2lkdGg6MmVtO2hlaWdodDoyZW07bWFyZ2luOjB9LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1pY29uIC5zd2FsMi1pY29uLWNvbnRlbnR7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtmb250LXNpemU6MS44ZW07Zm9udC13ZWlnaHQ6NzAwfUBtZWRpYSBhbGwgYW5kICgtbXMtaGlnaC1jb250cmFzdDpub25lKSwoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsuc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWljb24gLnN3YWwyLWljb24tY29udGVudHtmb250LXNpemU6LjI1ZW19fS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIC5zd2FsMi1zdWNjZXNzLXJpbmd7d2lkdGg6MmVtO2hlaWdodDoyZW19LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1pY29uLnN3YWwyLWVycm9yIFtjbGFzc149c3dhbDIteC1tYXJrLWxpbmVde3RvcDouODc1ZW07d2lkdGg6MS4zNzVlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWljb24uc3dhbDItZXJyb3IgW2NsYXNzXj1zd2FsMi14LW1hcmstbGluZV1bY2xhc3MkPWxlZnRde2xlZnQ6LjMxMjVlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLWljb24uc3dhbDItZXJyb3IgW2NsYXNzXj1zd2FsMi14LW1hcmstbGluZV1bY2xhc3MkPXJpZ2h0XXtyaWdodDouMzEyNWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItYWN0aW9uc3tmbGV4LWJhc2lzOmF1dG8haW1wb3J0YW50O3dpZHRoOmF1dG87aGVpZ2h0OmF1dG87bWFyZ2luOjAgLjMxMjVlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN0eWxlZHttYXJnaW46MCAuMzEyNWVtO3BhZGRpbmc6LjMxMjVlbSAuNjI1ZW07Zm9udC1zaXplOjFlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN0eWxlZDpmb2N1c3tib3gtc2hhZG93OjAgMCAwIDFweCAjZmZmLDAgMCAwIDNweCByZ2JhKDUwLDEwMCwxNTAsLjQpfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2Vzc3tib3JkZXItY29sb3I6I2E1ZGM4Nn0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmVde3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEuNmVtO2hlaWdodDozZW07dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7Ym9yZGVyLXJhZGl1czo1MCV9LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0IC5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lXVtjbGFzcyQ9bGVmdF17dG9wOi0uOGVtO2xlZnQ6LS41ZW07dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybS1vcmlnaW46MmVtIDJlbTtib3JkZXItcmFkaXVzOjRlbSAwIDAgNGVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtY2lyY3VsYXItbGluZV1bY2xhc3MkPXJpZ2h0XXt0b3A6LS4yNWVtO2xlZnQ6LjkzNzVlbTt0cmFuc2Zvcm0tb3JpZ2luOjAgMS41ZW07Ym9yZGVyLXJhZGl1czowIDRlbSA0ZW0gMH0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgLnN3YWwyLXN1Y2Nlc3MtcmluZ3t3aWR0aDoyZW07aGVpZ2h0OjJlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgLnN3YWwyLXN1Y2Nlc3MtZml4e3RvcDowO2xlZnQ6LjQzNzVlbTt3aWR0aDouNDM3NWVtO2hlaWdodDoyLjY4NzVlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWxpbmVde2hlaWdodDouMzEyNWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtbGluZV1bY2xhc3MkPXRpcF17dG9wOjEuMTI1ZW07bGVmdDouMTg3NWVtO3dpZHRoOi43NWVtfS5zd2FsMi1wb3B1cC5zd2FsMi10b2FzdCAuc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtbGluZV1bY2xhc3MkPWxvbmdde3RvcDouOTM3NWVtO3JpZ2h0Oi4xODc1ZW07d2lkdGg6MS4zNzVlbX0uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3Muc3dhbDItaWNvbi1zaG93IC5zd2FsMi1zdWNjZXNzLWxpbmUtdGlwey13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLXRvYXN0LWFuaW1hdGUtc3VjY2Vzcy1saW5lLXRpcCAuNzVzO2FuaW1hdGlvbjpzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS10aXAgLjc1c30uc3dhbDItcG9wdXAuc3dhbDItdG9hc3QgLnN3YWwyLXN1Y2Nlc3Muc3dhbDItaWNvbi1zaG93IC5zd2FsMi1zdWNjZXNzLWxpbmUtbG9uZ3std2Via2l0LWFuaW1hdGlvbjpzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nIC43NXM7YW5pbWF0aW9uOnN3YWwyLXRvYXN0LWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmcgLjc1c30uc3dhbDItcG9wdXAuc3dhbDItdG9hc3Quc3dhbDItc2hvd3std2Via2l0LWFuaW1hdGlvbjpzd2FsMi10b2FzdC1zaG93IC41czthbmltYXRpb246c3dhbDItdG9hc3Qtc2hvdyAuNXN9LnN3YWwyLXBvcHVwLnN3YWwyLXRvYXN0LnN3YWwyLWhpZGV7LXdlYmtpdC1hbmltYXRpb246c3dhbDItdG9hc3QtaGlkZSAuMXMgZm9yd2FyZHM7YW5pbWF0aW9uOnN3YWwyLXRvYXN0LWhpZGUgLjFzIGZvcndhcmRzfS5zd2FsMi1jb250YWluZXJ7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MTA2MDt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6MDtmbGV4LWRpcmVjdGlvbjpyb3c7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFkZGluZzouNjI1ZW07b3ZlcmZsb3cteDpoaWRkZW47dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4xczstd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzp0b3VjaH0uc3dhbDItY29udGFpbmVyLnN3YWwyLWJhY2tkcm9wLXNob3csLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ub2FuaW1hdGlvbntiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjQpfS5zd2FsMi1jb250YWluZXIuc3dhbDItYmFja2Ryb3AtaGlkZXtiYWNrZ3JvdW5kOjAgMCFpbXBvcnRhbnR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3B7YWxpZ24taXRlbXM6ZmxleC1zdGFydH0uc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcC1sZWZ0LC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLXN0YXJ0e2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3AtZW5kLC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLXJpZ2h0e2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kfS5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVye2FsaWduLWl0ZW1zOmNlbnRlcn0uc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1sZWZ0LC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVyLXN0YXJ0e2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydH0uc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1lbmQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItcmlnaHR7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpmbGV4LWVuZH0uc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbXthbGlnbi1pdGVtczpmbGV4LWVuZH0uc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbS1sZWZ0LC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXN0YXJ0e2FsaWduLWl0ZW1zOmZsZXgtZW5kO2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0fS5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLWVuZCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbS1yaWdodHthbGlnbi1pdGVtczpmbGV4LWVuZDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmR9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tZW5kPjpmaXJzdC1jaGlsZCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbS1sZWZ0PjpmaXJzdC1jaGlsZCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWJvdHRvbS1yaWdodD46Zmlyc3QtY2hpbGQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tc3RhcnQ+OmZpcnN0LWNoaWxkLC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tPjpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOmF1dG99LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWZ1bGxzY3JlZW4+LnN3YWwyLW1vZGFse2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7ZmxleDoxO2FsaWduLXNlbGY6c3RyZXRjaDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1yb3c+LnN3YWwyLW1vZGFse2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7ZmxleDoxO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWNvbHVtbntmbGV4OjE7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItYm90dG9tLC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItY2VudGVyLC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItdG9we2FsaWduLWl0ZW1zOmNlbnRlcn0uc3dhbDItY29udGFpbmVyLnN3YWwyLWdyb3ctY29sdW1uLnN3YWwyLWJvdHRvbS1sZWZ0LC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItYm90dG9tLXN0YXJ0LC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItY2VudGVyLWxlZnQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWNvbHVtbi5zd2FsMi1jZW50ZXItc3RhcnQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWNvbHVtbi5zd2FsMi10b3AtbGVmdCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWdyb3ctY29sdW1uLnN3YWwyLXRvcC1zdGFydHthbGlnbi1pdGVtczpmbGV4LXN0YXJ0fS5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItYm90dG9tLWVuZCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWdyb3ctY29sdW1uLnN3YWwyLWJvdHRvbS1yaWdodCwuc3dhbDItY29udGFpbmVyLnN3YWwyLWdyb3ctY29sdW1uLnN3YWwyLWNlbnRlci1lbmQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWNvbHVtbi5zd2FsMi1jZW50ZXItcmlnaHQsLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ncm93LWNvbHVtbi5zd2FsMi10b3AtZW5kLC5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4uc3dhbDItdG9wLXJpZ2h0e2FsaWduLWl0ZW1zOmZsZXgtZW5kfS5zd2FsMi1jb250YWluZXIuc3dhbDItZ3Jvdy1jb2x1bW4+LnN3YWwyLW1vZGFse2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7ZmxleDoxO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnN3YWwyLWNvbnRhaW5lci5zd2FsMi1uby10cmFuc2l0aW9ue3RyYW5zaXRpb246bm9uZSFpbXBvcnRhbnR9LnN3YWwyLWNvbnRhaW5lcjpub3QoLnN3YWwyLXRvcCk6bm90KC5zd2FsMi10b3Atc3RhcnQpOm5vdCguc3dhbDItdG9wLWVuZCk6bm90KC5zd2FsMi10b3AtbGVmdCk6bm90KC5zd2FsMi10b3AtcmlnaHQpOm5vdCguc3dhbDItY2VudGVyLXN0YXJ0KTpub3QoLnN3YWwyLWNlbnRlci1lbmQpOm5vdCguc3dhbDItY2VudGVyLWxlZnQpOm5vdCguc3dhbDItY2VudGVyLXJpZ2h0KTpub3QoLnN3YWwyLWJvdHRvbSk6bm90KC5zd2FsMi1ib3R0b20tc3RhcnQpOm5vdCguc3dhbDItYm90dG9tLWVuZCk6bm90KC5zd2FsMi1ib3R0b20tbGVmdCk6bm90KC5zd2FsMi1ib3R0b20tcmlnaHQpOm5vdCguc3dhbDItZ3Jvdy1mdWxsc2NyZWVuKT4uc3dhbDItbW9kYWx7bWFyZ2luOmF1dG99QG1lZGlhIGFsbCBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0Om5vbmUpLCgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5zd2FsMi1jb250YWluZXIgLnN3YWwyLW1vZGFse21hcmdpbjowIWltcG9ydGFudH19LnN3YWwyLXBvcHVwe2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjpyZWxhdGl2ZTtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MzJlbTttYXgtd2lkdGg6MTAwJTtwYWRkaW5nOjEuMjVlbTtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOi4zMTI1ZW07YmFja2dyb3VuZDojZmZmO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOjFyZW19LnN3YWwyLXBvcHVwOmZvY3Vze291dGxpbmU6MH0uc3dhbDItcG9wdXAuc3dhbDItbG9hZGluZ3tvdmVyZmxvdy15OmhpZGRlbn0uc3dhbDItaGVhZGVye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyfS5zd2FsMi10aXRsZXtwb3NpdGlvbjpyZWxhdGl2ZTttYXgtd2lkdGg6MTAwJTttYXJnaW46MCAwIC40ZW07cGFkZGluZzowO2NvbG9yOiM1OTU5NTk7Zm9udC1zaXplOjEuODc1ZW07Zm9udC13ZWlnaHQ6NjAwO3RleHQtYWxpZ246Y2VudGVyO3RleHQtdHJhbnNmb3JtOm5vbmU7d29yZC13cmFwOmJyZWFrLXdvcmR9LnN3YWwyLWFjdGlvbnN7ZGlzcGxheTpmbGV4O3otaW5kZXg6MTtmbGV4LXdyYXA6d3JhcDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlO21hcmdpbjoxLjI1ZW0gYXV0byAwfS5zd2FsMi1hY3Rpb25zOm5vdCguc3dhbDItbG9hZGluZykgLnN3YWwyLXN0eWxlZFtkaXNhYmxlZF17b3BhY2l0eTouNH0uc3dhbDItYWN0aW9uczpub3QoLnN3YWwyLWxvYWRpbmcpIC5zd2FsMi1zdHlsZWQ6aG92ZXJ7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQocmdiYSgwLDAsMCwuMSkscmdiYSgwLDAsMCwuMSkpfS5zd2FsMi1hY3Rpb25zOm5vdCguc3dhbDItbG9hZGluZykgLnN3YWwyLXN0eWxlZDphY3RpdmV7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQocmdiYSgwLDAsMCwuMikscmdiYSgwLDAsMCwuMikpfS5zd2FsMi1hY3Rpb25zLnN3YWwyLWxvYWRpbmcgLnN3YWwyLXN0eWxlZC5zd2FsMi1jb25maXJte2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDoyLjVlbTtoZWlnaHQ6Mi41ZW07bWFyZ2luOi40Njg3NWVtO3BhZGRpbmc6MDstd2Via2l0LWFuaW1hdGlvbjpzd2FsMi1yb3RhdGUtbG9hZGluZyAxLjVzIGxpbmVhciAwcyBpbmZpbml0ZSBub3JtYWw7YW5pbWF0aW9uOnN3YWwyLXJvdGF0ZS1sb2FkaW5nIDEuNXMgbGluZWFyIDBzIGluZmluaXRlIG5vcm1hbDtib3JkZXI6LjI1ZW0gc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJhZGl1czoxMDAlO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudDtjb2xvcjp0cmFuc3BhcmVudCFpbXBvcnRhbnQ7Y3Vyc29yOmRlZmF1bHQ7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5zd2FsMi1hY3Rpb25zLnN3YWwyLWxvYWRpbmcgLnN3YWwyLXN0eWxlZC5zd2FsMi1jYW5jZWx7bWFyZ2luLXJpZ2h0OjMwcHg7bWFyZ2luLWxlZnQ6MzBweH0uc3dhbDItYWN0aW9ucy5zd2FsMi1sb2FkaW5nIDpub3QoLnN3YWwyLXN0eWxlZCkuc3dhbDItY29uZmlybTo6YWZ0ZXJ7Y29udGVudDoiIjtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O21hcmdpbi1sZWZ0OjVweDstd2Via2l0LWFuaW1hdGlvbjpzd2FsMi1yb3RhdGUtbG9hZGluZyAxLjVzIGxpbmVhciAwcyBpbmZpbml0ZSBub3JtYWw7YW5pbWF0aW9uOnN3YWwyLXJvdGF0ZS1sb2FkaW5nIDEuNXMgbGluZWFyIDBzIGluZmluaXRlIG5vcm1hbDtib3JkZXI6M3B4IHNvbGlkICM5OTk7Ym9yZGVyLXJhZGl1czo1MCU7Ym9yZGVyLXJpZ2h0LWNvbG9yOnRyYW5zcGFyZW50O2JveC1zaGFkb3c6MXB4IDFweCAxcHggI2ZmZn0uc3dhbDItc3R5bGVke21hcmdpbjouMzEyNWVtO3BhZGRpbmc6LjYyNWVtIDJlbTtib3gtc2hhZG93Om5vbmU7Zm9udC13ZWlnaHQ6NTAwfS5zd2FsMi1zdHlsZWQ6bm90KFtkaXNhYmxlZF0pe2N1cnNvcjpwb2ludGVyfS5zd2FsMi1zdHlsZWQuc3dhbDItY29uZmlybXtib3JkZXI6MDtib3JkZXItcmFkaXVzOi4yNWVtO2JhY2tncm91bmQ6aW5pdGlhbDtjb2xvcjojZmZmO2ZvbnQtc2l6ZToxLjA2MjVlbX0uc3dhbDItc3R5bGVkLnN3YWwyLWNhbmNlbHtib3JkZXI6MDtib3JkZXItcmFkaXVzOi4yNWVtO2JhY2tncm91bmQ6aW5pdGlhbDtmb250LXNpemU6MS4wNjI1ZW19LnN3YWwyLXN0eWxlZDpmb2N1c3tvdXRsaW5lOjA7Ym94LXNoYWRvdzowIDAgMCAxcHggI2ZmZiwwIDAgMCAzcHggcmdiYSg1MCwxMDAsMTUwLC40KX0uc3dhbDItc3R5bGVkOjotbW96LWZvY3VzLWlubmVye2JvcmRlcjowfS5zd2FsMi1mb290ZXJ7anVzdGlmeS1jb250ZW50OmNlbnRlcjttYXJnaW46MS4yNWVtIDAgMDtwYWRkaW5nOjFlbSAwIDA7Ym9yZGVyLXRvcDoxcHggc29saWQgI2VlZTtjb2xvcjojNTQ1NDU0O2ZvbnQtc2l6ZToxZW19LnN3YWwyLXRpbWVyLXByb2dyZXNzLWJhci1jb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDtib3R0b206MDtsZWZ0OjA7aGVpZ2h0Oi4yNWVtO292ZXJmbG93OmhpZGRlbjtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czouMzEyNWVtO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6LjMxMjVlbX0uc3dhbDItdGltZXItcHJvZ3Jlc3MtYmFye3dpZHRoOjEwMCU7aGVpZ2h0Oi4yNWVtO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuMil9LnN3YWwyLWltYWdle21heC13aWR0aDoxMDAlO21hcmdpbjoxLjI1ZW0gYXV0b30uc3dhbDItY2xvc2V7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyO3RvcDowO3JpZ2h0OjA7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MS4yZW07aGVpZ2h0OjEuMmVtO3BhZGRpbmc6MDtvdmVyZmxvdzpoaWRkZW47dHJhbnNpdGlvbjpjb2xvciAuMXMgZWFzZS1vdXQ7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czowO2JhY2tncm91bmQ6MCAwO2NvbG9yOiNjY2M7Zm9udC1mYW1pbHk6c2VyaWY7Zm9udC1zaXplOjIuNWVtO2xpbmUtaGVpZ2h0OjEuMjtjdXJzb3I6cG9pbnRlcn0uc3dhbDItY2xvc2U6aG92ZXJ7dHJhbnNmb3JtOm5vbmU7YmFja2dyb3VuZDowIDA7Y29sb3I6I2YyNzQ3NH0uc3dhbDItY2xvc2U6Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOjB9LnN3YWwyLWNvbnRlbnR7ei1pbmRleDoxO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luOjA7cGFkZGluZzowO2NvbG9yOiM1NDU0NTQ7Zm9udC1zaXplOjEuMTI1ZW07Zm9udC13ZWlnaHQ6NDAwO2xpbmUtaGVpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOmNlbnRlcjt3b3JkLXdyYXA6YnJlYWstd29yZH0uc3dhbDItY2hlY2tib3gsLnN3YWwyLWZpbGUsLnN3YWwyLWlucHV0LC5zd2FsMi1yYWRpbywuc3dhbDItc2VsZWN0LC5zd2FsMi10ZXh0YXJlYXttYXJnaW46MWVtIGF1dG99LnN3YWwyLWZpbGUsLnN3YWwyLWlucHV0LC5zd2FsMi10ZXh0YXJlYXtib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6MTAwJTt0cmFuc2l0aW9uOmJvcmRlci1jb2xvciAuM3MsYm94LXNoYWRvdyAuM3M7Ym9yZGVyOjFweCBzb2xpZCAjZDlkOWQ5O2JvcmRlci1yYWRpdXM6LjE4NzVlbTtiYWNrZ3JvdW5kOmluaGVyaXQ7Ym94LXNoYWRvdzppbnNldCAwIDFweCAxcHggcmdiYSgwLDAsMCwuMDYpO2NvbG9yOmluaGVyaXQ7Zm9udC1zaXplOjEuMTI1ZW19LnN3YWwyLWZpbGUuc3dhbDItaW5wdXRlcnJvciwuc3dhbDItaW5wdXQuc3dhbDItaW5wdXRlcnJvciwuc3dhbDItdGV4dGFyZWEuc3dhbDItaW5wdXRlcnJvcntib3JkZXItY29sb3I6I2YyNzQ3NCFpbXBvcnRhbnQ7Ym94LXNoYWRvdzowIDAgMnB4ICNmMjc0NzQhaW1wb3J0YW50fS5zd2FsMi1maWxlOmZvY3VzLC5zd2FsMi1pbnB1dDpmb2N1cywuc3dhbDItdGV4dGFyZWE6Zm9jdXN7Ym9yZGVyOjFweCBzb2xpZCAjYjRkYmVkO291dGxpbmU6MDtib3gtc2hhZG93OjAgMCAzcHggI2M0ZTZmNX0uc3dhbDItZmlsZTo6LW1vei1wbGFjZWhvbGRlciwuc3dhbDItaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIsLnN3YWwyLXRleHRhcmVhOjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiNjY2N9LnN3YWwyLWZpbGU6LW1zLWlucHV0LXBsYWNlaG9sZGVyLC5zd2FsMi1pbnB1dDotbXMtaW5wdXQtcGxhY2Vob2xkZXIsLnN3YWwyLXRleHRhcmVhOi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojY2NjfS5zd2FsMi1maWxlOjotbXMtaW5wdXQtcGxhY2Vob2xkZXIsLnN3YWwyLWlucHV0OjotbXMtaW5wdXQtcGxhY2Vob2xkZXIsLnN3YWwyLXRleHRhcmVhOjotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6I2NjY30uc3dhbDItZmlsZTo6cGxhY2Vob2xkZXIsLnN3YWwyLWlucHV0OjpwbGFjZWhvbGRlciwuc3dhbDItdGV4dGFyZWE6OnBsYWNlaG9sZGVye2NvbG9yOiNjY2N9LnN3YWwyLXJhbmdle21hcmdpbjoxZW0gYXV0bztiYWNrZ3JvdW5kOiNmZmZ9LnN3YWwyLXJhbmdlIGlucHV0e3dpZHRoOjgwJX0uc3dhbDItcmFuZ2Ugb3V0cHV0e3dpZHRoOjIwJTtjb2xvcjppbmhlcml0O2ZvbnQtd2VpZ2h0OjYwMDt0ZXh0LWFsaWduOmNlbnRlcn0uc3dhbDItcmFuZ2UgaW5wdXQsLnN3YWwyLXJhbmdlIG91dHB1dHtoZWlnaHQ6Mi42MjVlbTtwYWRkaW5nOjA7Zm9udC1zaXplOjEuMTI1ZW07bGluZS1oZWlnaHQ6Mi42MjVlbX0uc3dhbDItaW5wdXR7aGVpZ2h0OjIuNjI1ZW07cGFkZGluZzowIC43NWVtfS5zd2FsMi1pbnB1dFt0eXBlPW51bWJlcl17bWF4LXdpZHRoOjEwZW19LnN3YWwyLWZpbGV7YmFja2dyb3VuZDppbmhlcml0O2ZvbnQtc2l6ZToxLjEyNWVtfS5zd2FsMi10ZXh0YXJlYXtoZWlnaHQ6Ni43NWVtO3BhZGRpbmc6Ljc1ZW19LnN3YWwyLXNlbGVjdHttaW4td2lkdGg6NTAlO21heC13aWR0aDoxMDAlO3BhZGRpbmc6LjM3NWVtIC42MjVlbTtiYWNrZ3JvdW5kOmluaGVyaXQ7Y29sb3I6aW5oZXJpdDtmb250LXNpemU6MS4xMjVlbX0uc3dhbDItY2hlY2tib3gsLnN3YWwyLXJhZGlve2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2JhY2tncm91bmQ6I2ZmZjtjb2xvcjppbmhlcml0fS5zd2FsMi1jaGVja2JveCBsYWJlbCwuc3dhbDItcmFkaW8gbGFiZWx7bWFyZ2luOjAgLjZlbTtmb250LXNpemU6MS4xMjVlbX0uc3dhbDItY2hlY2tib3ggaW5wdXQsLnN3YWwyLXJhZGlvIGlucHV0e21hcmdpbjowIC40ZW19LnN3YWwyLXZhbGlkYXRpb24tbWVzc2FnZXtkaXNwbGF5Om5vbmU7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFkZGluZzouNjI1ZW07b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQ6I2YwZjBmMDtjb2xvcjojNjY2O2ZvbnQtc2l6ZToxZW07Zm9udC13ZWlnaHQ6MzAwfS5zd2FsMi12YWxpZGF0aW9uLW1lc3NhZ2U6OmJlZm9yZXtjb250ZW50OiIhIjtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoxLjVlbTttaW4td2lkdGg6MS41ZW07aGVpZ2h0OjEuNWVtO21hcmdpbjowIC42MjVlbTtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kLWNvbG9yOiNmMjc0NzQ7Y29sb3I6I2ZmZjtmb250LXdlaWdodDo2MDA7bGluZS1oZWlnaHQ6MS41ZW07dGV4dC1hbGlnbjpjZW50ZXJ9LnN3YWwyLWljb257cG9zaXRpb246cmVsYXRpdmU7Ym94LXNpemluZzpjb250ZW50LWJveDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjVlbTtoZWlnaHQ6NWVtO21hcmdpbjoxLjI1ZW0gYXV0byAxLjg3NWVtO2JvcmRlcjouMjVlbSBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItcmFkaXVzOjUwJTtmb250LWZhbWlseTppbmhlcml0O2xpbmUtaGVpZ2h0OjVlbTtjdXJzb3I6ZGVmYXVsdDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LnN3YWwyLWljb24gLnN3YWwyLWljb24tY29udGVudHtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2ZvbnQtc2l6ZTozLjc1ZW19LnN3YWwyLWljb24uc3dhbDItZXJyb3J7Ym9yZGVyLWNvbG9yOiNmMjc0NzQ7Y29sb3I6I2YyNzQ3NH0uc3dhbDItaWNvbi5zd2FsMi1lcnJvciAuc3dhbDIteC1tYXJre3Bvc2l0aW9uOnJlbGF0aXZlO2ZsZXgtZ3JvdzoxfS5zd2FsMi1pY29uLnN3YWwyLWVycm9yIFtjbGFzc149c3dhbDIteC1tYXJrLWxpbmVde2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7dG9wOjIuMzEyNWVtO3dpZHRoOjIuOTM3NWVtO2hlaWdodDouMzEyNWVtO2JvcmRlci1yYWRpdXM6LjEyNWVtO2JhY2tncm91bmQtY29sb3I6I2YyNzQ3NH0uc3dhbDItaWNvbi5zd2FsMi1lcnJvciBbY2xhc3NePXN3YWwyLXgtbWFyay1saW5lXVtjbGFzcyQ9bGVmdF17bGVmdDoxLjA2MjVlbTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKX0uc3dhbDItaWNvbi5zd2FsMi1lcnJvciBbY2xhc3NePXN3YWwyLXgtbWFyay1saW5lXVtjbGFzcyQ9cmlnaHRde3JpZ2h0OjFlbTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9LnN3YWwyLWljb24uc3dhbDItZXJyb3Iuc3dhbDItaWNvbi1zaG93ey13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtZXJyb3ItaWNvbiAuNXM7YW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtZXJyb3ItaWNvbiAuNXN9LnN3YWwyLWljb24uc3dhbDItZXJyb3Iuc3dhbDItaWNvbi1zaG93IC5zd2FsMi14LW1hcmt7LXdlYmtpdC1hbmltYXRpb246c3dhbDItYW5pbWF0ZS1lcnJvci14LW1hcmsgLjVzO2FuaW1hdGlvbjpzd2FsMi1hbmltYXRlLWVycm9yLXgtbWFyayAuNXN9LnN3YWwyLWljb24uc3dhbDItd2FybmluZ3tib3JkZXItY29sb3I6I2ZhY2VhODtjb2xvcjojZjhiYjg2fS5zd2FsMi1pY29uLnN3YWwyLWluZm97Ym9yZGVyLWNvbG9yOiM5ZGUwZjY7Y29sb3I6IzNmYzNlZX0uc3dhbDItaWNvbi5zd2FsMi1xdWVzdGlvbntib3JkZXItY29sb3I6I2M5ZGFlMTtjb2xvcjojODdhZGJkfS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3N7Ym9yZGVyLWNvbG9yOiNhNWRjODY7Y29sb3I6I2E1ZGM4Nn0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lXXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDozLjc1ZW07aGVpZ2h0OjcuNWVtO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO2JvcmRlci1yYWRpdXM6NTAlfS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmVdW2NsYXNzJD1sZWZ0XXt0b3A6LS40Mzc1ZW07bGVmdDotMi4wNjM1ZW07dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybS1vcmlnaW46My43NWVtIDMuNzVlbTtib3JkZXItcmFkaXVzOjcuNWVtIDAgMCA3LjVlbX0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lXVtjbGFzcyQ9cmlnaHRde3RvcDotLjY4NzVlbTtsZWZ0OjEuODc1ZW07dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybS1vcmlnaW46MCAzLjc1ZW07Ym9yZGVyLXJhZGl1czowIDcuNWVtIDcuNWVtIDB9LnN3YWwyLWljb24uc3dhbDItc3VjY2VzcyAuc3dhbDItc3VjY2Vzcy1yaW5ne3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6Mjt0b3A6LS4yNWVtO2xlZnQ6LS4yNWVtO2JveC1zaXppbmc6Y29udGVudC1ib3g7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtib3JkZXI6LjI1ZW0gc29saWQgcmdiYSgxNjUsMjIwLDEzNCwuMyk7Ym9yZGVyLXJhZGl1czo1MCV9LnN3YWwyLWljb24uc3dhbDItc3VjY2VzcyAuc3dhbDItc3VjY2Vzcy1maXh7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO3RvcDouNWVtO2xlZnQ6MS42MjVlbTt3aWR0aDouNDM3NWVtO2hlaWdodDo1LjYyNWVtO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzIFtjbGFzc149c3dhbDItc3VjY2Vzcy1saW5lXXtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MjtoZWlnaHQ6LjMxMjVlbTtib3JkZXItcmFkaXVzOi4xMjVlbTtiYWNrZ3JvdW5kLWNvbG9yOiNhNWRjODZ9LnN3YWwyLWljb24uc3dhbDItc3VjY2VzcyBbY2xhc3NePXN3YWwyLXN1Y2Nlc3MtbGluZV1bY2xhc3MkPXRpcF17dG9wOjIuODc1ZW07bGVmdDouODEyNWVtO3dpZHRoOjEuNTYyNWVtO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3MgW2NsYXNzXj1zd2FsMi1zdWNjZXNzLWxpbmVdW2NsYXNzJD1sb25nXXt0b3A6Mi4zNzVlbTtyaWdodDouNWVtO3dpZHRoOjIuOTM3NWVtO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0uc3dhbDItaWNvbi5zd2FsMi1zdWNjZXNzLnN3YWwyLWljb24tc2hvdyAuc3dhbDItc3VjY2Vzcy1saW5lLXRpcHstd2Via2l0LWFuaW1hdGlvbjpzd2FsMi1hbmltYXRlLXN1Y2Nlc3MtbGluZS10aXAgLjc1czthbmltYXRpb246c3dhbDItYW5pbWF0ZS1zdWNjZXNzLWxpbmUtdGlwIC43NXN9LnN3YWwyLWljb24uc3dhbDItc3VjY2Vzcy5zd2FsMi1pY29uLXNob3cgLnN3YWwyLXN1Y2Nlc3MtbGluZS1sb25ney13ZWJraXQtYW5pbWF0aW9uOnN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmcgLjc1czthbmltYXRpb246c3dhbDItYW5pbWF0ZS1zdWNjZXNzLWxpbmUtbG9uZyAuNzVzfS5zd2FsMi1pY29uLnN3YWwyLXN1Y2Nlc3Muc3dhbDItaWNvbi1zaG93IC5zd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmUtcmlnaHR7LXdlYmtpdC1hbmltYXRpb246c3dhbDItcm90YXRlLXN1Y2Nlc3MtY2lyY3VsYXItbGluZSA0LjI1cyBlYXNlLWluO2FuaW1hdGlvbjpzd2FsMi1yb3RhdGUtc3VjY2Vzcy1jaXJjdWxhci1saW5lIDQuMjVzIGVhc2UtaW59LnN3YWwyLXByb2dyZXNzLXN0ZXBze2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW46MCAwIDEuMjVlbTtwYWRkaW5nOjA7YmFja2dyb3VuZDppbmhlcml0O2ZvbnQtd2VpZ2h0OjYwMH0uc3dhbDItcHJvZ3Jlc3Mtc3RlcHMgbGl7ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmV9LnN3YWwyLXByb2dyZXNzLXN0ZXBzIC5zd2FsMi1wcm9ncmVzcy1zdGVwe3otaW5kZXg6MjA7d2lkdGg6MmVtO2hlaWdodDoyZW07Ym9yZGVyLXJhZGl1czoyZW07YmFja2dyb3VuZDojMzA4NWQ2O2NvbG9yOiNmZmY7bGluZS1oZWlnaHQ6MmVtO3RleHQtYWxpZ246Y2VudGVyfS5zd2FsMi1wcm9ncmVzcy1zdGVwcyAuc3dhbDItcHJvZ3Jlc3Mtc3RlcC5zd2FsMi1hY3RpdmUtcHJvZ3Jlc3Mtc3RlcHtiYWNrZ3JvdW5kOiMzMDg1ZDZ9LnN3YWwyLXByb2dyZXNzLXN0ZXBzIC5zd2FsMi1wcm9ncmVzcy1zdGVwLnN3YWwyLWFjdGl2ZS1wcm9ncmVzcy1zdGVwfi5zd2FsMi1wcm9ncmVzcy1zdGVwe2JhY2tncm91bmQ6I2FkZDhlNjtjb2xvcjojZmZmfS5zd2FsMi1wcm9ncmVzcy1zdGVwcyAuc3dhbDItcHJvZ3Jlc3Mtc3RlcC5zd2FsMi1hY3RpdmUtcHJvZ3Jlc3Mtc3RlcH4uc3dhbDItcHJvZ3Jlc3Mtc3RlcC1saW5le2JhY2tncm91bmQ6I2FkZDhlNn0uc3dhbDItcHJvZ3Jlc3Mtc3RlcHMgLnN3YWwyLXByb2dyZXNzLXN0ZXAtbGluZXt6LWluZGV4OjEwO3dpZHRoOjIuNWVtO2hlaWdodDouNGVtO21hcmdpbjowIC0xcHg7YmFja2dyb3VuZDojMzA4NWQ2fVtjbGFzc149c3dhbDJdey13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjp0cmFuc3BhcmVudH0uc3dhbDItc2hvd3std2Via2l0LWFuaW1hdGlvbjpzd2FsMi1zaG93IC4zczthbmltYXRpb246c3dhbDItc2hvdyAuM3N9LnN3YWwyLWhpZGV7LXdlYmtpdC1hbmltYXRpb246c3dhbDItaGlkZSAuMTVzIGZvcndhcmRzO2FuaW1hdGlvbjpzd2FsMi1oaWRlIC4xNXMgZm9yd2FyZHN9LnN3YWwyLW5vYW5pbWF0aW9ue3RyYW5zaXRpb246bm9uZX0uc3dhbDItc2Nyb2xsYmFyLW1lYXN1cmV7cG9zaXRpb246YWJzb2x1dGU7dG9wOi05OTk5cHg7d2lkdGg6NTBweDtoZWlnaHQ6NTBweDtvdmVyZmxvdzpzY3JvbGx9LnN3YWwyLXJ0bCAuc3dhbDItY2xvc2V7cmlnaHQ6YXV0bztsZWZ0OjB9LnN3YWwyLXJ0bCAuc3dhbDItdGltZXItcHJvZ3Jlc3MtYmFye3JpZ2h0OjA7bGVmdDphdXRvfUBzdXBwb3J0cyAoLW1zLWFjY2VsZXJhdG9yOnRydWUpey5zd2FsMi1yYW5nZSBpbnB1dHt3aWR0aDoxMDAlIWltcG9ydGFudH0uc3dhbDItcmFuZ2Ugb3V0cHV0e2Rpc3BsYXk6bm9uZX19QG1lZGlhIGFsbCBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0Om5vbmUpLCgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5zd2FsMi1yYW5nZSBpbnB1dHt3aWR0aDoxMDAlIWltcG9ydGFudH0uc3dhbDItcmFuZ2Ugb3V0cHV0e2Rpc3BsYXk6bm9uZX19QC1tb3otZG9jdW1lbnQgdXJsLXByZWZpeCgpey5zd2FsMi1jbG9zZTpmb2N1c3tvdXRsaW5lOjJweCBzb2xpZCByZ2JhKDUwLDEwMCwxNTAsLjQpfX1ALXdlYmtpdC1rZXlmcmFtZXMgc3dhbDItdG9hc3Qtc2hvd3swJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtLjYyNWVtKSByb3RhdGVaKDJkZWcpfTMzJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVaKC0yZGVnKX02NiV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLjMxMjVlbSkgcm90YXRlWigyZGVnKX0xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHJvdGF0ZVooMCl9fUBrZXlmcmFtZXMgc3dhbDItdG9hc3Qtc2hvd3swJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtLjYyNWVtKSByb3RhdGVaKDJkZWcpfTMzJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKSByb3RhdGVaKC0yZGVnKX02NiV7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLjMxMjVlbSkgcm90YXRlWigyZGVnKX0xMDAle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApIHJvdGF0ZVooMCl9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi10b2FzdC1oaWRlezEwMCV7dHJhbnNmb3JtOnJvdGF0ZVooMWRlZyk7b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIHN3YWwyLXRvYXN0LWhpZGV7MTAwJXt0cmFuc2Zvcm06cm90YXRlWigxZGVnKTtvcGFjaXR5OjB9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS10aXB7MCV7dG9wOi41NjI1ZW07bGVmdDouMDYyNWVtO3dpZHRoOjB9NTQle3RvcDouMTI1ZW07bGVmdDouMTI1ZW07d2lkdGg6MH03MCV7dG9wOi42MjVlbTtsZWZ0Oi0uMjVlbTt3aWR0aDoxLjYyNWVtfTg0JXt0b3A6MS4wNjI1ZW07bGVmdDouNzVlbTt3aWR0aDouNWVtfTEwMCV7dG9wOjEuMTI1ZW07bGVmdDouMTg3NWVtO3dpZHRoOi43NWVtfX1Aa2V5ZnJhbWVzIHN3YWwyLXRvYXN0LWFuaW1hdGUtc3VjY2Vzcy1saW5lLXRpcHswJXt0b3A6LjU2MjVlbTtsZWZ0Oi4wNjI1ZW07d2lkdGg6MH01NCV7dG9wOi4xMjVlbTtsZWZ0Oi4xMjVlbTt3aWR0aDowfTcwJXt0b3A6LjYyNWVtO2xlZnQ6LS4yNWVtO3dpZHRoOjEuNjI1ZW19ODQle3RvcDoxLjA2MjVlbTtsZWZ0Oi43NWVtO3dpZHRoOi41ZW19MTAwJXt0b3A6MS4xMjVlbTtsZWZ0Oi4xODc1ZW07d2lkdGg6Ljc1ZW19fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nezAle3RvcDoxLjYyNWVtO3JpZ2h0OjEuMzc1ZW07d2lkdGg6MH02NSV7dG9wOjEuMjVlbTtyaWdodDouOTM3NWVtO3dpZHRoOjB9ODQle3RvcDouOTM3NWVtO3JpZ2h0OjA7d2lkdGg6MS4xMjVlbX0xMDAle3RvcDouOTM3NWVtO3JpZ2h0Oi4xODc1ZW07d2lkdGg6MS4zNzVlbX19QGtleWZyYW1lcyBzd2FsMi10b2FzdC1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nezAle3RvcDoxLjYyNWVtO3JpZ2h0OjEuMzc1ZW07d2lkdGg6MH02NSV7dG9wOjEuMjVlbTtyaWdodDouOTM3NWVtO3dpZHRoOjB9ODQle3RvcDouOTM3NWVtO3JpZ2h0OjA7d2lkdGg6MS4xMjVlbX0xMDAle3RvcDouOTM3NWVtO3JpZ2h0Oi4xODc1ZW07d2lkdGg6MS4zNzVlbX19QC13ZWJraXQta2V5ZnJhbWVzIHN3YWwyLXNob3d7MCV7dHJhbnNmb3JtOnNjYWxlKC43KX00NSV7dHJhbnNmb3JtOnNjYWxlKDEuMDUpfTgwJXt0cmFuc2Zvcm06c2NhbGUoLjk1KX0xMDAle3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyBzd2FsMi1zaG93ezAle3RyYW5zZm9ybTpzY2FsZSguNyl9NDUle3RyYW5zZm9ybTpzY2FsZSgxLjA1KX04MCV7dHJhbnNmb3JtOnNjYWxlKC45NSl9MTAwJXt0cmFuc2Zvcm06c2NhbGUoMSl9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi1oaWRlezAle3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9MTAwJXt0cmFuc2Zvcm06c2NhbGUoLjUpO29wYWNpdHk6MH19QGtleWZyYW1lcyBzd2FsMi1oaWRlezAle3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9MTAwJXt0cmFuc2Zvcm06c2NhbGUoLjUpO29wYWNpdHk6MH19QC13ZWJraXQta2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLXRpcHswJXt0b3A6MS4xODc1ZW07bGVmdDouMDYyNWVtO3dpZHRoOjB9NTQle3RvcDoxLjA2MjVlbTtsZWZ0Oi4xMjVlbTt3aWR0aDowfTcwJXt0b3A6Mi4xODc1ZW07bGVmdDotLjM3NWVtO3dpZHRoOjMuMTI1ZW19ODQle3RvcDozZW07bGVmdDoxLjMxMjVlbTt3aWR0aDoxLjA2MjVlbX0xMDAle3RvcDoyLjgxMjVlbTtsZWZ0Oi44MTI1ZW07d2lkdGg6MS41NjI1ZW19fUBrZXlmcmFtZXMgc3dhbDItYW5pbWF0ZS1zdWNjZXNzLWxpbmUtdGlwezAle3RvcDoxLjE4NzVlbTtsZWZ0Oi4wNjI1ZW07d2lkdGg6MH01NCV7dG9wOjEuMDYyNWVtO2xlZnQ6LjEyNWVtO3dpZHRoOjB9NzAle3RvcDoyLjE4NzVlbTtsZWZ0Oi0uMzc1ZW07d2lkdGg6My4xMjVlbX04NCV7dG9wOjNlbTtsZWZ0OjEuMzEyNWVtO3dpZHRoOjEuMDYyNWVtfTEwMCV7dG9wOjIuODEyNWVtO2xlZnQ6LjgxMjVlbTt3aWR0aDoxLjU2MjVlbX19QC13ZWJraXQta2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtc3VjY2Vzcy1saW5lLWxvbmd7MCV7dG9wOjMuMzc1ZW07cmlnaHQ6Mi44NzVlbTt3aWR0aDowfTY1JXt0b3A6My4zNzVlbTtyaWdodDoyLjg3NWVtO3dpZHRoOjB9ODQle3RvcDoyLjE4NzVlbTtyaWdodDowO3dpZHRoOjMuNDM3NWVtfTEwMCV7dG9wOjIuMzc1ZW07cmlnaHQ6LjVlbTt3aWR0aDoyLjkzNzVlbX19QGtleWZyYW1lcyBzd2FsMi1hbmltYXRlLXN1Y2Nlc3MtbGluZS1sb25nezAle3RvcDozLjM3NWVtO3JpZ2h0OjIuODc1ZW07d2lkdGg6MH02NSV7dG9wOjMuMzc1ZW07cmlnaHQ6Mi44NzVlbTt3aWR0aDowfTg0JXt0b3A6Mi4xODc1ZW07cmlnaHQ6MDt3aWR0aDozLjQzNzVlbX0xMDAle3RvcDoyLjM3NWVtO3JpZ2h0Oi41ZW07d2lkdGg6Mi45Mzc1ZW19fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi1yb3RhdGUtc3VjY2Vzcy1jaXJjdWxhci1saW5lezAle3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX01JXt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9MTIle3RyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyl9MTAwJXt0cmFuc2Zvcm06cm90YXRlKC00MDVkZWcpfX1Aa2V5ZnJhbWVzIHN3YWwyLXJvdGF0ZS1zdWNjZXNzLWNpcmN1bGFyLWxpbmV7MCV7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfTUle3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0xMiV7dHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKX0xMDAle3RyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyl9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi1hbmltYXRlLWVycm9yLXgtbWFya3swJXttYXJnaW4tdG9wOjEuNjI1ZW07dHJhbnNmb3JtOnNjYWxlKC40KTtvcGFjaXR5OjB9NTAle21hcmdpbi10b3A6MS42MjVlbTt0cmFuc2Zvcm06c2NhbGUoLjQpO29wYWNpdHk6MH04MCV7bWFyZ2luLXRvcDotLjM3NWVtO3RyYW5zZm9ybTpzY2FsZSgxLjE1KX0xMDAle21hcmdpbi10b3A6MDt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIHN3YWwyLWFuaW1hdGUtZXJyb3IteC1tYXJrezAle21hcmdpbi10b3A6MS42MjVlbTt0cmFuc2Zvcm06c2NhbGUoLjQpO29wYWNpdHk6MH01MCV7bWFyZ2luLXRvcDoxLjYyNWVtO3RyYW5zZm9ybTpzY2FsZSguNCk7b3BhY2l0eTowfTgwJXttYXJnaW4tdG9wOi0uMzc1ZW07dHJhbnNmb3JtOnNjYWxlKDEuMTUpfTEwMCV7bWFyZ2luLXRvcDowO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9fUAtd2Via2l0LWtleWZyYW1lcyBzd2FsMi1hbmltYXRlLWVycm9yLWljb257MCV7dHJhbnNmb3JtOnJvdGF0ZVgoMTAwZGVnKTtvcGFjaXR5OjB9MTAwJXt0cmFuc2Zvcm06cm90YXRlWCgwKTtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgc3dhbDItYW5pbWF0ZS1lcnJvci1pY29uezAle3RyYW5zZm9ybTpyb3RhdGVYKDEwMGRlZyk7b3BhY2l0eTowfTEwMCV7dHJhbnNmb3JtOnJvdGF0ZVgoMCk7b3BhY2l0eToxfX1ALXdlYmtpdC1rZXlmcmFtZXMgc3dhbDItcm90YXRlLWxvYWRpbmd7MCV7dHJhbnNmb3JtOnJvdGF0ZSgwKX0xMDAle3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19QGtleWZyYW1lcyBzd2FsMi1yb3RhdGUtbG9hZGluZ3swJXt0cmFuc2Zvcm06cm90YXRlKDApfTEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1ib2R5LnN3YWwyLXNob3duOm5vdCguc3dhbDItbm8tYmFja2Ryb3ApOm5vdCguc3dhbDItdG9hc3Qtc2hvd24pe292ZXJmbG93OmhpZGRlbn1ib2R5LnN3YWwyLWhlaWdodC1hdXRve2hlaWdodDphdXRvIWltcG9ydGFudH1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXJ7dG9wOmF1dG87cmlnaHQ6YXV0bztib3R0b206YXV0bztsZWZ0OmF1dG87bWF4LXdpZHRoOmNhbGMoMTAwJSAtIC42MjVlbSAqIDIpO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQhaW1wb3J0YW50fWJvZHkuc3dhbDItbm8tYmFja2Ryb3AgLnN3YWwyLWNvbnRhaW5lcj4uc3dhbDItbW9kYWx7Ym94LXNoYWRvdzowIDAgMTBweCByZ2JhKDAsMCwwLC40KX1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9we3RvcDowO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfWJvZHkuc3dhbDItbm8tYmFja2Ryb3AgLnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3AtbGVmdCxib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLXN0YXJ0e3RvcDowO2xlZnQ6MH1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLWVuZCxib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItdG9wLXJpZ2h0e3RvcDowO3JpZ2h0OjB9Ym9keS5zd2FsMi1uby1iYWNrZHJvcCAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlcnt0b3A6NTAlO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKX1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVyLWxlZnQsYm9keS5zd2FsMi1uby1iYWNrZHJvcCAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1zdGFydHt0b3A6NTAlO2xlZnQ6MDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKX1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVyLWVuZCxib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVyLXJpZ2h0e3RvcDo1MCU7cmlnaHQ6MDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKX1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9te2JvdHRvbTowO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfWJvZHkuc3dhbDItbm8tYmFja2Ryb3AgLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tbGVmdCxib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXN0YXJ0e2JvdHRvbTowO2xlZnQ6MH1ib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLWVuZCxib2R5LnN3YWwyLW5vLWJhY2tkcm9wIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXJpZ2h0e3JpZ2h0OjA7Ym90dG9tOjB9QG1lZGlhIHByaW50e2JvZHkuc3dhbDItc2hvd246bm90KC5zd2FsMi1uby1iYWNrZHJvcCk6bm90KC5zd2FsMi10b2FzdC1zaG93bil7b3ZlcmZsb3cteTpzY3JvbGwhaW1wb3J0YW50fWJvZHkuc3dhbDItc2hvd246bm90KC5zd2FsMi1uby1iYWNrZHJvcCk6bm90KC5zd2FsMi10b2FzdC1zaG93bik+W2FyaWEtaGlkZGVuPXRydWVde2Rpc3BsYXk6bm9uZX1ib2R5LnN3YWwyLXNob3duOm5vdCguc3dhbDItbm8tYmFja2Ryb3ApOm5vdCguc3dhbDItdG9hc3Qtc2hvd24pIC5zd2FsMi1jb250YWluZXJ7cG9zaXRpb246c3RhdGljIWltcG9ydGFudH19Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVye2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcHt0b3A6MDtyaWdodDphdXRvO2JvdHRvbTphdXRvO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3AtZW5kLGJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3AtcmlnaHR7dG9wOjA7cmlnaHQ6MDtib3R0b206YXV0bztsZWZ0OmF1dG99Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLXRvcC1sZWZ0LGJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi10b3Atc3RhcnR7dG9wOjA7cmlnaHQ6YXV0bztib3R0b206YXV0bztsZWZ0OjB9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1sZWZ0LGJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1jZW50ZXItc3RhcnR7dG9wOjUwJTtyaWdodDphdXRvO2JvdHRvbTphdXRvO2xlZnQ6MDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKX1ib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItY2VudGVye3RvcDo1MCU7cmlnaHQ6YXV0bztib3R0b206YXV0bztsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSl9Ym9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1lbmQsYm9keS5zd2FsMi10b2FzdC1zaG93biAuc3dhbDItY29udGFpbmVyLnN3YWwyLWNlbnRlci1yaWdodHt0b3A6NTAlO3JpZ2h0OjA7Ym90dG9tOmF1dG87bGVmdDphdXRvO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b20tbGVmdCxib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXN0YXJ0e3RvcDphdXRvO3JpZ2h0OmF1dG87Ym90dG9tOjA7bGVmdDowfWJvZHkuc3dhbDItdG9hc3Qtc2hvd24gLnN3YWwyLWNvbnRhaW5lci5zd2FsMi1ib3R0b217dG9wOmF1dG87cmlnaHQ6YXV0bztib3R0b206MDtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKX1ib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLWVuZCxib2R5LnN3YWwyLXRvYXN0LXNob3duIC5zd2FsMi1jb250YWluZXIuc3dhbDItYm90dG9tLXJpZ2h0e3RvcDphdXRvO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDphdXRvfWJvZHkuc3dhbDItdG9hc3QtY29sdW1uIC5zd2FsMi10b2FzdHtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6c3RyZXRjaH1ib2R5LnN3YWwyLXRvYXN0LWNvbHVtbiAuc3dhbDItdG9hc3QgLnN3YWwyLWFjdGlvbnN7ZmxleDoxO2FsaWduLXNlbGY6c3RyZXRjaDtoZWlnaHQ6Mi4yZW07bWFyZ2luLXRvcDouMzEyNWVtfWJvZHkuc3dhbDItdG9hc3QtY29sdW1uIC5zd2FsMi10b2FzdCAuc3dhbDItbG9hZGluZ3tqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfWJvZHkuc3dhbDItdG9hc3QtY29sdW1uIC5zd2FsMi10b2FzdCAuc3dhbDItaW5wdXR7aGVpZ2h0OjJlbTttYXJnaW46LjMxMjVlbSBhdXRvO2ZvbnQtc2l6ZToxZW19Ym9keS5zd2FsMi10b2FzdC1jb2x1bW4gLnN3YWwyLXRvYXN0IC5zd2FsMi12YWxpZGF0aW9uLW1lc3NhZ2V7Zm9udC1zaXplOjFlbX0nKTskKHdpbmRvdykubG9hZChmdW5jdGlvbigpeyQoZnVuY3Rpb24oKXtpZigkKHRoaXMpLndpZHRoKCk8PTk5MSl7dmFyIG49JCgiI3NpZGViYXItYnV0dG9uIikudGV4dCgpO24udHJpbSgpPT09IkhpZGUgRmlsdGVycyImJiQoIiNzaWRlYmFyLWJ1dHRvbiIpLmh0bWwoIlNob3cgRmlsdGVycyIpfSQoIi5zaWRlYmFyLWJ1dHRvbiIpLmNsaWNrKGZ1bmN0aW9uKCl7JCgiLmdlbmVyYWxMZWZ0U2lkZSIpLnRvZ2dsZUNsYXNzKCJjb2wtc2lkZWJhciIpOyQoIi5nZW5lcmFsU2lkZVJpZ2h0IikudG9nZ2xlQ2xhc3MoImNvbC1mdWxsIik7dmFyIG49JCgiI3NpZGViYXItYnV0dG9uIikudGV4dCgpO24udHJpbSgpPT09IkhpZGUgRmlsdGVycyI/JCgiI3NpZGViYXItYnV0dG9uIikuaHRtbCgiU2hvdyBGaWx0ZXJzIik6JCgiI3NpZGViYXItYnV0dG9uIikuaHRtbCgiSGlkZSBGaWx0ZXJzIil9KTskKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7dmFyIG47JCh0aGlzKS53aWR0aCgpPD05OTE/KG49JCgiI3NpZGViYXItYnV0dG9uIikudGV4dCgpLG4udHJpbSgpPT09IkhpZGUgRmlsdGVycyImJiQoIiNzaWRlYmFyLWJ1dHRvbiIpLmh0bWwoIlNob3cgRmlsdGVycyIpKToobj0kKCIjc2lkZWJhci1idXR0b24iKS50ZXh0KCksbi50cmltKCk9PT0iU2hvdyBGaWx0ZXJzIiYmJCgiI3NpZGViYXItYnV0dG9uIikuaHRtbCgiSGlkZSBGaWx0ZXJzIikpfSl9KX0pOyQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7JCgiI3RvcGNhcnRsaW5rIikuY2xpY2soZnVuY3Rpb24oKXskKCIuZmx5b3V0LWNhcnQiKS5hZGRDbGFzcygic2xpZGVyaWdodCBhY3RpdmUiKTskKCIucHhfY2FydF9vdmVybGF5IikuYWRkQ2xhc3MoIm92ZXJsYXlhZGRlZCIpOyQoImJvZHkiKS5hZGRDbGFzcygib3ZlcmZsb3doaWRkZW4iKX0pOyQoIi5weF9taW5pX3Nob3BwaW5nX2NhcnRfdGl0bGUgLnBpLWNhcnQtY2FuY2VsIikuY2xpY2soZnVuY3Rpb24oKXskKCIuZmx5b3V0LWNhcnQiKS5yZW1vdmVDbGFzcygic2xpZGVyaWdodCBhY3RpdmUiKTskKCIucHhfY2FydF9vdmVybGF5IikucmVtb3ZlQ2xhc3MoIm92ZXJsYXlhZGRlZCIpOyQoImJvZHkiKS5yZW1vdmVDbGFzcygib3ZlcmZsb3doaWRkZW4iKX0pfSk7IWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQocil7aWYoaVtyXSlyZXR1cm4gaVtyXS5leHBvcnRzO3ZhciB1PWlbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBuW3JdLmNhbGwodS5leHBvcnRzLHUsdS5leHBvcnRzLHQpLHUubD0hMCx1LmV4cG9ydHN9dmFyIGk9e307dC5tPW47dC5jPWk7dC5kPWZ1bmN0aW9uKG4saSxyKXt0Lm8obixpKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KG4saSx7ZW51bWVyYWJsZTohMCxnZXQ6cn0pfTt0LnI9ZnVuY3Rpb24obil7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX07dC50PWZ1bmN0aW9uKG4saSl7dmFyIHIsdTtpZigoMSZpJiYobj10KG4pKSw4JmkpfHw0JmkmJiJvYmplY3QiPT10eXBlb2YgbiYmbiYmbi5fX2VzTW9kdWxlKXJldHVybiBuO2lmKHI9T2JqZWN0LmNyZWF0ZShudWxsKSx0LnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOm59KSwyJmkmJiJzdHJpbmciIT10eXBlb2Ygbilmb3IodSBpbiBuKXQuZChyLHUsZnVuY3Rpb24odCl7cmV0dXJuIG5bdF19LmJpbmQobnVsbCx1KSk7cmV0dXJuIHJ9O3Qubj1mdW5jdGlvbihuKXt2YXIgaT1uJiZuLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gbi5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBufTtyZXR1cm4gdC5kKGksImEiLGkpLGl9O3Qubz1mdW5jdGlvbihuLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KX07dC5wPSIiO3QodC5zPTApfShbZnVuY3Rpb24obix0LGkpe2koMSk7bi5leHBvcnRzPWkoMil9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQpe3ZhciBpPU9iamVjdC5rZXlzKG4pO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiZpLnB1c2guYXBwbHkoaSxPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG4pKSx0JiYoaT1pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpLmVudW1lcmFibGV9KSksaX1mdW5jdGlvbiByKG4sdCxpKXtyZXR1cm4gdCBpbiBuP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpuW3RdPWksbn1mdW5jdGlvbiB0KG4sdCl7Zm9yKHZhciBpLHI9MDtyPHQubGVuZ3RoO3IrKylpPXRbcl0saS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsInZhbHVlImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixpLmtleSxpKX1mdW5jdGlvbiBpKG4saSxyKXtyZXR1cm4gaSYmdChuLnByb3RvdHlwZSxpKSxyJiZ0KG4sciksbn0KLyoKICAgICAqIFNsaW5reQogICAgICogUmF0aGVyIHN3ZWV0IG1lbnVzCiAgICAgKiBAYXV0aG9yIEFsaSBaYWhpZCA8YWxpLnphaGlkQGxpdmUuY29tPgogICAgICogQGxpY2Vuc2UgTUlUCiAgICAgKi8KdmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGkpe3ZhciB1PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTshZnVuY3Rpb24obix0KXtpZighKG4gaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTt9KHRoaXMsdCk7dGhpcy5zZXR0aW5ncz1mdW5jdGlvbih0KXtmb3IodmFyIHUsaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspdT1udWxsIT1hcmd1bWVudHNbaV0/YXJndW1lbnRzW2ldOnt9LGklMj9uKHUsITApLmZvckVhY2goZnVuY3Rpb24obil7cih0LG4sdVtuXSl9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHUpKTpuKHUpLmZvckVhY2goZnVuY3Rpb24obil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHUsbikpfSk7cmV0dXJuIHR9KHt9LHRoaXMub3B0aW9ucyx7fSx1KTt0aGlzLl9pbml0KGkpfXJldHVybiBpKHQsW3trZXk6Im9wdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybntyZXNpemU6ITAsc3BlZWQ6MzAwLHRoZW1lOiJzbGlua3ktdGhlbWUtZGVmYXVsdCIsdGl0bGU6ITF9fX1dKSxpKHQsW3trZXk6Il9pbml0Iix2YWx1ZTpmdW5jdGlvbihuKXt2YXIgdCxpLHIsdTt0aGlzLm1lbnU9alF1ZXJ5KG4pO3RoaXMuYmFzZT10aGlzLm1lbnUuY2hpbGRyZW4oKS5maXJzdCgpO3Q9dGhpcy5tZW51O2k9dGhpcy5zZXR0aW5nczt0LmFkZENsYXNzKCJzbGlua3ktbWVudSIpLmFkZENsYXNzKGkudGhlbWUpO3RoaXMuX3RyYW5zaXRpb24oaS5zcGVlZCk7alF1ZXJ5KCJhICsgdWwiLHQpLnNpYmxpbmdzKCJhLnN1Ymxpc3QtdG9nZ2xlIikuYWRkQ2xhc3MoIm5leHQiKTtqUXVlcnkoImxpID4gYSIsdCkud3JhcElubmVyKCI8c3Bhbj4iKTtyPWpRdWVyeSgiPGxpPiIpLmFkZENsYXNzKCJoZWFkZXIiKTtqUXVlcnkoImxpID4gdWwiLHQpLnByZXBlbmQocik7dT1qUXVlcnkoIjxhPiIpLnByb3AoImhyZWYiLCIjIikuYWRkQ2xhc3MoImJhY2siKTtqUXVlcnkoIi5oZWFkZXIiLHQpLnByZXBlbmQodSk7aS50aXRsZSYmalF1ZXJ5KCJsaSA+IHVsIix0KS5lYWNoKGZ1bmN0aW9uKG4sdCl7dmFyIGk9alF1ZXJ5KHQpLnBhcmVudCgpLmZpbmQoImEiKS5maXJzdCgpLnRleHQoKSxyO2kmJihyPWpRdWVyeSgiPGhlYWRlcj4iKS5hZGRDbGFzcygidGl0bGUiKS50ZXh0KGkpLGpRdWVyeSgiPiAuaGVhZGVyIix0KS5hcHBlbmQocikpfSk7dGhpcy5fYWRkTGlzdGVuZXJzKCk7dGhpcy5fanVtcFRvSW5pdGlhbCgpfX0se2tleToiX2FkZExpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9dGhpcy5tZW51LGk9dGhpcy5zZXR0aW5ncztqUXVlcnkoImEiLHQpLm9uKCJjbGljayIsZnVuY3Rpb24ocil7aWYobi5fY2xpY2tlZCtpLnNwZWVkPkRhdGUubm93KCkpcmV0dXJuITE7bi5fY2xpY2tlZD1EYXRlLm5vdygpO3ZhciB1PWpRdWVyeShyLmN1cnJlbnRUYXJnZXQpOygwPT09dS5hdHRyKCJocmVmIikuaW5kZXhPZigiIyIpfHx1Lmhhc0NsYXNzKCJuZXh0Iil8fHUuaGFzQ2xhc3MoImJhY2siKSkmJnIucHJldmVudERlZmF1bHQoKTt1Lmhhc0NsYXNzKCJuZXh0Iik/KHQuZmluZCgiLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx1Lm5leHQoKS5zaG93KCkuYWRkQ2xhc3MoImFjdGl2ZSIpLG4uX21vdmUoMSksaS5yZXNpemUmJm4uX3Jlc2l6ZSh1Lm5leHQoKSkpOnUuaGFzQ2xhc3MoImJhY2siKSYmKG4uX21vdmUoLTEsZnVuY3Rpb24oKXt0LmZpbmQoIi5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIik7dS5wYXJlbnQoKS5wYXJlbnQoKS5oaWRlKCkucGFyZW50c1VudGlsKHQsInVsIikuZmlyc3QoKS5hZGRDbGFzcygiYWN0aXZlIil9KSxpLnJlc2l6ZSYmbi5fcmVzaXplKHUucGFyZW50KCkucGFyZW50KCkucGFyZW50c1VudGlsKHQsInVsIikpKX0pfX0se2tleToiX2p1bXBUb0luaXRpYWwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5tZW51LGk9dGhpcy5zZXR0aW5ncyx0PW4uZmluZCgiLmFjdGl2ZSIpO3QubGVuZ3RoPjAmJih0LnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLmp1bXAodCwhMSkpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gbi5oZWlnaHQobi5vdXRlckhlaWdodCgpKX0saS5zcGVlZCl9fSx7a2V5OiJfbW92ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpmdW5jdGlvbigpe307aWYoMCE9PW4pe3ZhciByPXRoaXMuc2V0dGluZ3MsaT10aGlzLmJhc2UsdT1NYXRoLnJvdW5kKHBhcnNlSW50KGkuZ2V0KDApLnN0eWxlLmxlZnQpKXx8MDtpLmNzcygibGVmdCIsIiIuY29uY2F0KHUtMTAwKm4sIiUiKSk7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnNldFRpbWVvdXQodCxyLnNwZWVkKX19fSx7a2V5OiJfcmVzaXplIix2YWx1ZTpmdW5jdGlvbihuKXt0aGlzLm1lbnUuaGVpZ2h0KG4ub3V0ZXJIZWlnaHQoKSl9fSx7a2V5OiJfdHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MzAwLHQ9dGhpcy5tZW51LGk9dGhpcy5iYXNlO3QuY3NzKCJ0cmFuc2l0aW9uLWR1cmF0aW9uIiwiIi5jb25jYXQobiwibXMiKSk7aS5jc3MoInRyYW5zaXRpb24tZHVyYXRpb24iLCIiLmNvbmNhdChuLCJtcyIpKX19LHtrZXk6Imp1bXAiLHZhbHVlOmZ1bmN0aW9uKG4pe3ZhciB1PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0scjtpZihuKXt2YXIgdD10aGlzLm1lbnUsZj10aGlzLnNldHRpbmdzLGk9alF1ZXJ5KG4pLGU9dC5maW5kKCIuYWN0aXZlIiksbz0wO2UubGVuZ3RoPjAmJihvPWUucGFyZW50c1VudGlsKHQsInVsIikubGVuZ3RoKTt0LmZpbmQoInVsIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLmhpZGUoKTtyPWkucGFyZW50c1VudGlsKHQsInVsIik7ci5zaG93KCk7aS5zaG93KCkuYWRkQ2xhc3MoImFjdGl2ZSIpO3V8fHRoaXMuX3RyYW5zaXRpb24oMCk7dGhpcy5fbW92ZShyLmxlbmd0aC1vKTtmLnJlc2l6ZSYmdGhpcy5fcmVzaXplKGkpO3V8fHRoaXMuX3RyYW5zaXRpb24oZi5zcGVlZCl9fX0se2tleToiaG9tZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgaT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdLHI9dGhpcy5iYXNlLHU9dGhpcy5tZW51LGY9dGhpcy5zZXR0aW5ncyxuLHQ7aXx8dGhpcy5fdHJhbnNpdGlvbigwKTtuPXUuZmluZCgiLmFjdGl2ZSIpO3Q9bi5wYXJlbnRzVW50aWwodSwidWwiKTt0aGlzLl9tb3ZlKC10Lmxlbmd0aCxmdW5jdGlvbigpe24ucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLmhpZGUoKTt0Lm5vdChyKS5oaWRlKCl9KTtmLnJlc2l6ZSYmdGhpcy5fcmVzaXplKHIpOyExPT09aSYmdGhpcy5fdHJhbnNpdGlvbihmLnNwZWVkKX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPXRoaXMuYmFzZSxuPXRoaXMubWVudTtqUXVlcnkoIi5oZWFkZXIiLG4pLnJlbW92ZSgpO2pRdWVyeSgiYSIsbikucmVtb3ZlQ2xhc3MoIm5leHQiKS5vZmYoImNsaWNrIik7bi5jc3Moe2hlaWdodDoiIiwidHJhbnNpdGlvbi1kdXJhdGlvbiI6IiJ9KTtpLmNzcyh7bGVmdDoiIiwidHJhbnNpdGlvbi1kdXJhdGlvbiI6IiJ9KTtqUXVlcnkoImxpID4gYSA+IHNwYW4iLG4pLmNvbnRlbnRzKCkudW53cmFwKCk7bi5maW5kKCIuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO24uYXR0cigiY2xhc3MiKS5zcGxpdCgiICIpLmZvckVhY2goZnVuY3Rpb24odCl7MD09PXQuaW5kZXhPZigic2xpbmt5IikmJm4ucmVtb3ZlQ2xhc3ModCl9KTtbInNldHRpbmdzIiwibWVudSIsImJhc2UiXS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBkZWxldGUgdFtuXX0pfX1dKSx0fSgpO2pRdWVyeS5mbi5zbGlua3k9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyB1KHRoaXMsbil9fSxmdW5jdGlvbigpe31dKTshZnVuY3Rpb24obil7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sbik6InVuZGVmaW5lZCIhPXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPW4ocmVxdWlyZSgianF1ZXJ5IikpOm4oalF1ZXJ5KX0oZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciB0PXdpbmRvdy5TbGlja3x8e307KHQ9ZnVuY3Rpb24oKXt2YXIgdD0wO3JldHVybiBmdW5jdGlvbihpLHIpe3ZhciBmLHU9dGhpczt1LmRlZmF1bHRzPXthY2Nlc3NpYmlsaXR5OiEwLGFkYXB0aXZlSGVpZ2h0OiExLGFwcGVuZEFycm93czpuKGkpLGFwcGVuZERvdHM6bihpKSxhcnJvd3M6ITAsYXNOYXZGb3I6bnVsbCxwcmV2QXJyb3c6JzxidXR0b24gY2xhc3M9InNsaWNrLXByZXYiIGFyaWEtbGFiZWw9IlByZXZpb3VzIiB0eXBlPSJidXR0b24iPlByZXZpb3VzPFwvYnV0dG9uPicsbmV4dEFycm93Oic8YnV0dG9uIGNsYXNzPSJzbGljay1uZXh0IiBhcmlhLWxhYmVsPSJOZXh0IiB0eXBlPSJidXR0b24iPk5leHQ8XC9idXR0b24+JyxhdXRvcGxheTohMSxhdXRvcGxheVNwZWVkOjNlMyxjZW50ZXJNb2RlOiExLGNlbnRlclBhZGRpbmc6IjUwcHgiLGNzc0Vhc2U6ImVhc2UiLGN1c3RvbVBhZ2luZzpmdW5jdGlvbih0LGkpe3JldHVybiBuKCc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgLz4nKS50ZXh0KGkrMSl9LGRvdHM6ITEsZG90c0NsYXNzOiJzbGljay1kb3RzIixkcmFnZ2FibGU6ITAsZWFzaW5nOiJsaW5lYXIiLGVkZ2VGcmljdGlvbjouMzUsZmFkZTohMSxmb2N1c09uU2VsZWN0OiExLGZvY3VzT25DaGFuZ2U6ITEsaW5maW5pdGU6ITAsaW5pdGlhbFNsaWRlOjAsbGF6eUxvYWQ6Im9uZGVtYW5kIixtb2JpbGVGaXJzdDohMSxwYXVzZU9uSG92ZXI6ITAscGF1c2VPbkZvY3VzOiEwLHBhdXNlT25Eb3RzSG92ZXI6ITEscmVzcG9uZFRvOiJ3aW5kb3ciLHJlc3BvbnNpdmU6bnVsbCxyb3dzOjEscnRsOiExLHNsaWRlOiIiLHNsaWRlc1BlclJvdzoxLHNsaWRlc1RvU2hvdzoxLHNsaWRlc1RvU2Nyb2xsOjEsc3BlZWQ6NTAwLHN3aXBlOiEwLHN3aXBlVG9TbGlkZTohMSx0b3VjaE1vdmU6ITAsdG91Y2hUaHJlc2hvbGQ6NSx1c2VDU1M6ITAsdXNlVHJhbnNmb3JtOiEwLHZhcmlhYmxlV2lkdGg6ITEsdmVydGljYWw6ITEsdmVydGljYWxTd2lwaW5nOiExLHdhaXRGb3JBbmltYXRlOiEwLHpJbmRleDoxZTN9O3UuaW5pdGlhbHM9e2FuaW1hdGluZzohMSxkcmFnZ2luZzohMSxhdXRvUGxheVRpbWVyOm51bGwsY3VycmVudERpcmVjdGlvbjowLGN1cnJlbnRMZWZ0Om51bGwsY3VycmVudFNsaWRlOjAsZGlyZWN0aW9uOjEsJGRvdHM6bnVsbCxsaXN0V2lkdGg6bnVsbCxsaXN0SGVpZ2h0Om51bGwsbG9hZEluZGV4OjAsJG5leHRBcnJvdzpudWxsLCRwcmV2QXJyb3c6bnVsbCxzY3JvbGxpbmc6ITEsc2xpZGVDb3VudDpudWxsLHNsaWRlV2lkdGg6bnVsbCwkc2xpZGVUcmFjazpudWxsLCRzbGlkZXM6bnVsbCxzbGlkaW5nOiExLHNsaWRlT2Zmc2V0OjAsc3dpcGVMZWZ0Om51bGwsc3dpcGluZzohMSwkbGlzdDpudWxsLHRvdWNoT2JqZWN0Ont9LHRyYW5zZm9ybXNFbmFibGVkOiExLHVuc2xpY2tlZDohMX07bi5leHRlbmQodSx1LmluaXRpYWxzKTt1LmFjdGl2ZUJyZWFrcG9pbnQ9bnVsbDt1LmFuaW1UeXBlPW51bGw7dS5hbmltUHJvcD1udWxsO3UuYnJlYWtwb2ludHM9W107dS5icmVha3BvaW50U2V0dGluZ3M9W107dS5jc3NUcmFuc2l0aW9ucz0hMTt1LmZvY3Vzc2VkPSExO3UuaW50ZXJydXB0ZWQ9ITE7dS5oaWRkZW49ImhpZGRlbiI7dS5wYXVzZWQ9ITA7dS5wb3NpdGlvblByb3A9bnVsbDt1LnJlc3BvbmRUbz1udWxsO3Uucm93Q291bnQ9MTt1LnNob3VsZENsaWNrPSEwO3UuJHNsaWRlcj1uKGkpO3UuJHNsaWRlc0NhY2hlPW51bGw7dS50cmFuc2Zvcm1UeXBlPW51bGw7dS50cmFuc2l0aW9uVHlwZT1udWxsO3UudmlzaWJpbGl0eUNoYW5nZT0idmlzaWJpbGl0eWNoYW5nZSI7dS53aW5kb3dXaWR0aD0wO3Uud2luZG93VGltZXI9bnVsbDtmPW4oaSkuZGF0YSgic2xpY2siKXx8e307dS5vcHRpb25zPW4uZXh0ZW5kKHt9LHUuZGVmYXVsdHMscixmKTt1LmN1cnJlbnRTbGlkZT11Lm9wdGlvbnMuaW5pdGlhbFNsaWRlO3Uub3JpZ2luYWxTZXR0aW5ncz11Lm9wdGlvbnM7dm9pZCAwIT09ZG9jdW1lbnQubW96SGlkZGVuPyh1LmhpZGRlbj0ibW96SGlkZGVuIix1LnZpc2liaWxpdHlDaGFuZ2U9Im1venZpc2liaWxpdHljaGFuZ2UiKTp2b2lkIDAhPT1kb2N1bWVudC53ZWJraXRIaWRkZW4mJih1LmhpZGRlbj0id2Via2l0SGlkZGVuIix1LnZpc2liaWxpdHlDaGFuZ2U9IndlYmtpdHZpc2liaWxpdHljaGFuZ2UiKTt1LmF1dG9QbGF5PW4ucHJveHkodS5hdXRvUGxheSx1KTt1LmF1dG9QbGF5Q2xlYXI9bi5wcm94eSh1LmF1dG9QbGF5Q2xlYXIsdSk7dS5hdXRvUGxheUl0ZXJhdG9yPW4ucHJveHkodS5hdXRvUGxheUl0ZXJhdG9yLHUpO3UuY2hhbmdlU2xpZGU9bi5wcm94eSh1LmNoYW5nZVNsaWRlLHUpO3UuY2xpY2tIYW5kbGVyPW4ucHJveHkodS5jbGlja0hhbmRsZXIsdSk7dS5zZWxlY3RIYW5kbGVyPW4ucHJveHkodS5zZWxlY3RIYW5kbGVyLHUpO3Uuc2V0UG9zaXRpb249bi5wcm94eSh1LnNldFBvc2l0aW9uLHUpO3Uuc3dpcGVIYW5kbGVyPW4ucHJveHkodS5zd2lwZUhhbmRsZXIsdSk7dS5kcmFnSGFuZGxlcj1uLnByb3h5KHUuZHJhZ0hhbmRsZXIsdSk7dS5rZXlIYW5kbGVyPW4ucHJveHkodS5rZXlIYW5kbGVyLHUpO3UuaW5zdGFuY2VVaWQ9dCsrO3UuaHRtbEV4cHI9L14oPzpccyooPFtcd1xXXSs+KVtePl0qKSQvO3UucmVnaXN0ZXJCcmVha3BvaW50cygpO3UuaW5pdCghMCl9fSgpKS5wcm90b3R5cGUuYWN0aXZhdGVBREE9ZnVuY3Rpb24oKXt0aGlzLiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1hY3RpdmUiKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJmYWxzZSJ9KS5maW5kKCJhLCBpbnB1dCwgYnV0dG9uLCBzZWxlY3QiKS5hdHRyKHt0YWJpbmRleDoiMCJ9KX07dC5wcm90b3R5cGUuYWRkU2xpZGU9dC5wcm90b3R5cGUuc2xpY2tBZGQ9ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXRoaXM7aWYoImJvb2xlYW4iPT10eXBlb2YgaSlyPWksaT1udWxsO2Vsc2UgaWYoaTwwfHxpPj11LnNsaWRlQ291bnQpcmV0dXJuITE7dS51bmxvYWQoKTsibnVtYmVyIj09dHlwZW9mIGk/MD09PWkmJjA9PT11LiRzbGlkZXMubGVuZ3RoP24odCkuYXBwZW5kVG8odS4kc2xpZGVUcmFjayk6cj9uKHQpLmluc2VydEJlZm9yZSh1LiRzbGlkZXMuZXEoaSkpOm4odCkuaW5zZXJ0QWZ0ZXIodS4kc2xpZGVzLmVxKGkpKTohMD09PXI/bih0KS5wcmVwZW5kVG8odS4kc2xpZGVUcmFjayk6bih0KS5hcHBlbmRUbyh1LiRzbGlkZVRyYWNrKTt1LiRzbGlkZXM9dS4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpO3UuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKTt1LiRzbGlkZVRyYWNrLmFwcGVuZCh1LiRzbGlkZXMpO3UuJHNsaWRlcy5lYWNoKGZ1bmN0aW9uKHQsaSl7bihpKS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4Iix0KX0pO3UuJHNsaWRlc0NhY2hlPXUuJHNsaWRlczt1LnJlaW5pdCgpfTt0LnByb3RvdHlwZS5hbmltYXRlSGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0OzE9PT1uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYhMD09PW4ub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCYmITE9PT1uLm9wdGlvbnMudmVydGljYWwmJih0PW4uJHNsaWRlcy5lcShuLmN1cnJlbnRTbGlkZSkub3V0ZXJIZWlnaHQoITApLG4uJGxpc3QuYW5pbWF0ZSh7aGVpZ2h0OnR9LG4ub3B0aW9ucy5zcGVlZCkpfTt0LnByb3RvdHlwZS5hbmltYXRlU2xpZGU9ZnVuY3Rpb24odCxpKXt2YXIgdT17fSxyPXRoaXM7ci5hbmltYXRlSGVpZ2h0KCk7ITA9PT1yLm9wdGlvbnMucnRsJiYhMT09PXIub3B0aW9ucy52ZXJ0aWNhbCYmKHQ9LXQpOyExPT09ci50cmFuc2Zvcm1zRW5hYmxlZD8hMT09PXIub3B0aW9ucy52ZXJ0aWNhbD9yLiRzbGlkZVRyYWNrLmFuaW1hdGUoe2xlZnQ6dH0sci5vcHRpb25zLnNwZWVkLHIub3B0aW9ucy5lYXNpbmcsaSk6ci4kc2xpZGVUcmFjay5hbmltYXRlKHt0b3A6dH0sci5vcHRpb25zLnNwZWVkLHIub3B0aW9ucy5lYXNpbmcsaSk6ITE9PT1yLmNzc1RyYW5zaXRpb25zPyghMD09PXIub3B0aW9ucy5ydGwmJihyLmN1cnJlbnRMZWZ0PS1yLmN1cnJlbnRMZWZ0KSxuKHthbmltU3RhcnQ6ci5jdXJyZW50TGVmdH0pLmFuaW1hdGUoe2FuaW1TdGFydDp0fSx7ZHVyYXRpb246ci5vcHRpb25zLnNwZWVkLGVhc2luZzpyLm9wdGlvbnMuZWFzaW5nLHN0ZXA6ZnVuY3Rpb24obil7bj1NYXRoLmNlaWwobik7ITE9PT1yLm9wdGlvbnMudmVydGljYWw/KHVbci5hbmltVHlwZV09InRyYW5zbGF0ZSgiK24rInB4LCAwcHgpIixyLiRzbGlkZVRyYWNrLmNzcyh1KSk6KHVbci5hbmltVHlwZV09InRyYW5zbGF0ZSgwcHgsIituKyJweCkiLHIuJHNsaWRlVHJhY2suY3NzKHUpKX0sY29tcGxldGU6ZnVuY3Rpb24oKXtpJiZpLmNhbGwoKX19KSk6KHIuYXBwbHlUcmFuc2l0aW9uKCksdD1NYXRoLmNlaWwodCksdVtyLmFuaW1UeXBlXT0hMT09PXIub3B0aW9ucy52ZXJ0aWNhbD8idHJhbnNsYXRlM2QoIit0KyJweCwgMHB4LCAwcHgpIjoidHJhbnNsYXRlM2QoMHB4LCIrdCsicHgsIDBweCkiLHIuJHNsaWRlVHJhY2suY3NzKHUpLGkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLmRpc2FibGVUcmFuc2l0aW9uKCk7aS5jYWxsKCl9LHIub3B0aW9ucy5zcGVlZCkpfTt0LnByb3RvdHlwZS5nZXROYXZUYXJnZXQ9ZnVuY3Rpb24oKXt2YXIgaT10aGlzLHQ9aS5vcHRpb25zLmFzTmF2Rm9yO3JldHVybiB0JiZudWxsIT09dCYmKHQ9bih0KS5ub3QoaS4kc2xpZGVyKSksdH07dC5wcm90b3R5cGUuYXNOYXZGb3I9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5nZXROYXZUYXJnZXQoKTtudWxsIT09aSYmIm9iamVjdCI9PXR5cGVvZiBpJiZpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLnNsaWNrKCJnZXRTbGljayIpO2kudW5zbGlja2VkfHxpLnNsaWRlSGFuZGxlcih0LCEwKX0pfTt0LnByb3RvdHlwZS5hcHBseVRyYW5zaXRpb249ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPXt9O2lbdC50cmFuc2l0aW9uVHlwZV09ITE9PT10Lm9wdGlvbnMuZmFkZT90LnRyYW5zZm9ybVR5cGUrIiAiK3Qub3B0aW9ucy5zcGVlZCsibXMgIit0Lm9wdGlvbnMuY3NzRWFzZToib3BhY2l0eSAiK3Qub3B0aW9ucy5zcGVlZCsibXMgIit0Lm9wdGlvbnMuY3NzRWFzZTshMT09PXQub3B0aW9ucy5mYWRlP3QuJHNsaWRlVHJhY2suY3NzKGkpOnQuJHNsaWRlcy5lcShuKS5jc3MoaSl9O3QucHJvdG90eXBlLmF1dG9QbGF5PWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmF1dG9QbGF5Q2xlYXIoKTtuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKG4uYXV0b1BsYXlUaW1lcj1zZXRJbnRlcnZhbChuLmF1dG9QbGF5SXRlcmF0b3Isbi5vcHRpb25zLmF1dG9wbGF5U3BlZWQpKX07dC5wcm90b3R5cGUuYXV0b1BsYXlDbGVhcj1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5hdXRvUGxheVRpbWVyJiZjbGVhckludGVydmFsKG4uYXV0b1BsYXlUaW1lcil9O3QucHJvdG90eXBlLmF1dG9QbGF5SXRlcmF0b3I9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9bi5jdXJyZW50U2xpZGUrbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO24ucGF1c2VkfHxuLmludGVycnVwdGVkfHxuLmZvY3Vzc2VkfHwoITE9PT1uLm9wdGlvbnMuaW5maW5pdGUmJigxPT09bi5kaXJlY3Rpb24mJm4uY3VycmVudFNsaWRlKzE9PT1uLnNsaWRlQ291bnQtMT9uLmRpcmVjdGlvbj0wOjA9PT1uLmRpcmVjdGlvbiYmKHQ9bi5jdXJyZW50U2xpZGUtbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLG4uY3VycmVudFNsaWRlLTE9PTAmJihuLmRpcmVjdGlvbj0xKSkpLG4uc2xpZGVIYW5kbGVyKHQpKX07dC5wcm90b3R5cGUuYnVpbGRBcnJvd3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzOyEwPT09dC5vcHRpb25zLmFycm93cyYmKHQuJHByZXZBcnJvdz1uKHQub3B0aW9ucy5wcmV2QXJyb3cpLmFkZENsYXNzKCJzbGljay1hcnJvdyIpLHQuJG5leHRBcnJvdz1uKHQub3B0aW9ucy5uZXh0QXJyb3cpLmFkZENsYXNzKCJzbGljay1hcnJvdyIpLHQuc2xpZGVDb3VudD50Lm9wdGlvbnMuc2xpZGVzVG9TaG93Pyh0LiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIHRhYmluZGV4IiksdC4kbmV4dEFycm93LnJlbW92ZUNsYXNzKCJzbGljay1oaWRkZW4iKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiB0YWJpbmRleCIpLHQuaHRtbEV4cHIudGVzdCh0Lm9wdGlvbnMucHJldkFycm93KSYmdC4kcHJldkFycm93LnByZXBlbmRUbyh0Lm9wdGlvbnMuYXBwZW5kQXJyb3dzKSx0Lmh0bWxFeHByLnRlc3QodC5vcHRpb25zLm5leHRBcnJvdykmJnQuJG5leHRBcnJvdy5hcHBlbmRUbyh0Lm9wdGlvbnMuYXBwZW5kQXJyb3dzKSwhMCE9PXQub3B0aW9ucy5pbmZpbml0ZSYmdC4kcHJldkFycm93LmFkZENsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIikpOnQuJHByZXZBcnJvdy5hZGQodC4kbmV4dEFycm93KS5hZGRDbGFzcygic2xpY2staGlkZGVuIikuYXR0cih7ImFyaWEtZGlzYWJsZWQiOiJ0cnVlIix0YWJpbmRleDoiLTEifSkpfTt0LnByb3RvdHlwZS5idWlsZERvdHM9ZnVuY3Rpb24oKXt2YXIgaSxyLHQ9dGhpcztpZighMD09PXQub3B0aW9ucy5kb3RzKXtmb3IodC4kc2xpZGVyLmFkZENsYXNzKCJzbGljay1kb3R0ZWQiKSxyPW4oIjx1bCAvPiIpLmFkZENsYXNzKHQub3B0aW9ucy5kb3RzQ2xhc3MpLGk9MDtpPD10LmdldERvdENvdW50KCk7aSs9MSlyLmFwcGVuZChuKCI8bGkgLz4iKS5hcHBlbmQodC5vcHRpb25zLmN1c3RvbVBhZ2luZy5jYWxsKHRoaXMsdCxpKSkpO3QuJGRvdHM9ci5hcHBlbmRUbyh0Lm9wdGlvbnMuYXBwZW5kRG90cyk7dC4kZG90cy5maW5kKCJsaSIpLmZpcnN0KCkuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpfX07dC5wcm90b3R5cGUuYnVpbGRPdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuJHNsaWRlcz10LiRzbGlkZXIuY2hpbGRyZW4odC5vcHRpb25zLnNsaWRlKyI6bm90KC5zbGljay1jbG9uZWQpIikuYWRkQ2xhc3MoInNsaWNrLXNsaWRlIik7dC5zbGlkZUNvdW50PXQuJHNsaWRlcy5sZW5ndGg7dC4kc2xpZGVzLmVhY2goZnVuY3Rpb24odCxpKXtuKGkpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiLHQpLmRhdGEoIm9yaWdpbmFsU3R5bGluZyIsbihpKS5hdHRyKCJzdHlsZSIpfHwiIil9KTt0LiRzbGlkZXIuYWRkQ2xhc3MoInNsaWNrLXNsaWRlciIpO3QuJHNsaWRlVHJhY2s9MD09PXQuc2xpZGVDb3VudD9uKCc8ZGl2IGNsYXNzPSJzbGljay10cmFjayIvPicpLmFwcGVuZFRvKHQuJHNsaWRlcik6dC4kc2xpZGVzLndyYXBBbGwoJzxkaXYgY2xhc3M9InNsaWNrLXRyYWNrIi8+JykucGFyZW50KCk7dC4kbGlzdD10LiRzbGlkZVRyYWNrLndyYXAoJzxkaXYgY2xhc3M9InNsaWNrLWxpc3QiLz4nKS5wYXJlbnQoKTt0LiRzbGlkZVRyYWNrLmNzcygib3BhY2l0eSIsMCk7ITAhPT10Lm9wdGlvbnMuY2VudGVyTW9kZSYmITAhPT10Lm9wdGlvbnMuc3dpcGVUb1NsaWRlfHwodC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPTEpO24oImltZ1tkYXRhLWxhenldIix0LiRzbGlkZXIpLm5vdCgiW3NyY10iKS5hZGRDbGFzcygic2xpY2stbG9hZGluZyIpO3Quc2V0dXBJbmZpbml0ZSgpO3QuYnVpbGRBcnJvd3MoKTt0LmJ1aWxkRG90cygpO3QudXBkYXRlRG90cygpO3Quc2V0U2xpZGVDbGFzc2VzKCJudW1iZXIiPT10eXBlb2YgdC5jdXJyZW50U2xpZGU/dC5jdXJyZW50U2xpZGU6MCk7ITA9PT10Lm9wdGlvbnMuZHJhZ2dhYmxlJiZ0LiRsaXN0LmFkZENsYXNzKCJkcmFnZ2FibGUiKX07dC5wcm90b3R5cGUuYnVpbGRSb3dzPWZ1bmN0aW9uKCl7dmFyIHQsaSxyLGYsYyx1LGUsbj10aGlzLG8scyxoO2lmKGY9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHU9bi4kc2xpZGVyLmNoaWxkcmVuKCksbi5vcHRpb25zLnJvd3M+MSl7Zm9yKGU9bi5vcHRpb25zLnNsaWRlc1BlclJvdypuLm9wdGlvbnMucm93cyxjPU1hdGguY2VpbCh1Lmxlbmd0aC9lKSx0PTA7dDxjO3QrKyl7Zm9yKG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksaT0wO2k8bi5vcHRpb25zLnJvd3M7aSsrKXtmb3Iocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPTA7cjxuLm9wdGlvbnMuc2xpZGVzUGVyUm93O3IrKyloPXQqZSsoaSpuLm9wdGlvbnMuc2xpZGVzUGVyUm93K3IpLHUuZ2V0KGgpJiZzLmFwcGVuZENoaWxkKHUuZ2V0KGgpKTtvLmFwcGVuZENoaWxkKHMpfWYuYXBwZW5kQ2hpbGQobyl9bi4kc2xpZGVyLmVtcHR5KCkuYXBwZW5kKGYpO24uJHNsaWRlci5jaGlsZHJlbigpLmNoaWxkcmVuKCkuY2hpbGRyZW4oKS5jc3Moe3dpZHRoOjEwMC9uLm9wdGlvbnMuc2xpZGVzUGVyUm93KyIlIixkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSl9fTt0LnByb3RvdHlwZS5jaGVja1Jlc3BvbnNpdmU9ZnVuY3Rpb24odCxpKXt2YXIgZix1LGUscj10aGlzLG89ITEscz1yLiRzbGlkZXIud2lkdGgoKSxoPXdpbmRvdy5pbm5lcldpZHRofHxuKHdpbmRvdykud2lkdGgoKTtpZigid2luZG93Ij09PXIucmVzcG9uZFRvP2U9aDoic2xpZGVyIj09PXIucmVzcG9uZFRvP2U9czoibWluIj09PXIucmVzcG9uZFRvJiYoZT1NYXRoLm1pbihoLHMpKSxyLm9wdGlvbnMucmVzcG9uc2l2ZSYmci5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoJiZudWxsIT09ci5vcHRpb25zLnJlc3BvbnNpdmUpe3U9bnVsbDtmb3IoZiBpbiByLmJyZWFrcG9pbnRzKXIuYnJlYWtwb2ludHMuaGFzT3duUHJvcGVydHkoZikmJighMT09PXIub3JpZ2luYWxTZXR0aW5ncy5tb2JpbGVGaXJzdD9lPHIuYnJlYWtwb2ludHNbZl0mJih1PXIuYnJlYWtwb2ludHNbZl0pOmU+ci5icmVha3BvaW50c1tmXSYmKHU9ci5icmVha3BvaW50c1tmXSkpO251bGwhPT11P251bGwhPT1yLmFjdGl2ZUJyZWFrcG9pbnQ/KHUhPT1yLmFjdGl2ZUJyZWFrcG9pbnR8fGkpJiYoci5hY3RpdmVCcmVha3BvaW50PXUsInVuc2xpY2siPT09ci5icmVha3BvaW50U2V0dGluZ3NbdV0/ci51bnNsaWNrKHUpOihyLm9wdGlvbnM9bi5leHRlbmQoe30sci5vcmlnaW5hbFNldHRpbmdzLHIuYnJlYWtwb2ludFNldHRpbmdzW3VdKSwhMD09PXQmJihyLmN1cnJlbnRTbGlkZT1yLm9wdGlvbnMuaW5pdGlhbFNsaWRlKSxyLnJlZnJlc2godCkpLG89dSk6KHIuYWN0aXZlQnJlYWtwb2ludD11LCJ1bnNsaWNrIj09PXIuYnJlYWtwb2ludFNldHRpbmdzW3VdP3IudW5zbGljayh1KTooci5vcHRpb25zPW4uZXh0ZW5kKHt9LHIub3JpZ2luYWxTZXR0aW5ncyxyLmJyZWFrcG9pbnRTZXR0aW5nc1t1XSksITA9PT10JiYoci5jdXJyZW50U2xpZGU9ci5vcHRpb25zLmluaXRpYWxTbGlkZSksci5yZWZyZXNoKHQpKSxvPXUpOm51bGwhPT1yLmFjdGl2ZUJyZWFrcG9pbnQmJihyLmFjdGl2ZUJyZWFrcG9pbnQ9bnVsbCxyLm9wdGlvbnM9ci5vcmlnaW5hbFNldHRpbmdzLCEwPT09dCYmKHIuY3VycmVudFNsaWRlPXIub3B0aW9ucy5pbml0aWFsU2xpZGUpLHIucmVmcmVzaCh0KSxvPXUpO3R8fCExPT09b3x8ci4kc2xpZGVyLnRyaWdnZXIoImJyZWFrcG9pbnQiLFtyLG9dKX19O3QucHJvdG90eXBlLmNoYW5nZVNsaWRlPWZ1bmN0aW9uKHQsaSl7dmFyIGYsZSxvLHI9dGhpcyx1PW4odC5jdXJyZW50VGFyZ2V0KSxzO3N3aXRjaCh1LmlzKCJhIikmJnQucHJldmVudERlZmF1bHQoKSx1LmlzKCJsaSIpfHwodT11LmNsb3Nlc3QoImxpIikpLG89ci5zbGlkZUNvdW50JXIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCE9MCxmPW8/MDooci5zbGlkZUNvdW50LXIuY3VycmVudFNsaWRlKSVyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsdC5kYXRhLm1lc3NhZ2Upe2Nhc2UicHJldmlvdXMiOmU9MD09PWY/ci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOnIub3B0aW9ucy5zbGlkZXNUb1Nob3ctZjtyLnNsaWRlQ291bnQ+ci5vcHRpb25zLnNsaWRlc1RvU2hvdyYmci5zbGlkZUhhbmRsZXIoci5jdXJyZW50U2xpZGUtZSwhMSxpKTticmVhaztjYXNlIm5leHQiOmU9MD09PWY/ci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOmY7ci5zbGlkZUNvdW50PnIub3B0aW9ucy5zbGlkZXNUb1Nob3cmJnIuc2xpZGVIYW5kbGVyKHIuY3VycmVudFNsaWRlK2UsITEsaSk7YnJlYWs7Y2FzZSJpbmRleCI6cz0wPT09dC5kYXRhLmluZGV4PzA6dC5kYXRhLmluZGV4fHx1LmluZGV4KCkqci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO3Iuc2xpZGVIYW5kbGVyKHIuY2hlY2tOYXZpZ2FibGUocyksITEsaSk7dS5jaGlsZHJlbigpLnRyaWdnZXIoImZvY3VzIik7YnJlYWs7ZGVmYXVsdDpyZXR1cm59fTt0LnByb3RvdHlwZS5jaGVja05hdmlnYWJsZT1mdW5jdGlvbihuKXt2YXIgdCxpLHI7aWYodD10aGlzLmdldE5hdmlnYWJsZUluZGV4ZXMoKSxpPTAsbj50W3QubGVuZ3RoLTFdKW49dFt0Lmxlbmd0aC0xXTtlbHNlIGZvcihyIGluIHQpe2lmKG48dFtyXSl7bj1pO2JyZWFrfWk9dFtyXX1yZXR1cm4gbn07dC5wcm90b3R5cGUuY2xlYW5VcEV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5vcHRpb25zLmRvdHMmJm51bGwhPT10LiRkb3RzJiYobigibGkiLHQuJGRvdHMpLm9mZigiY2xpY2suc2xpY2siLHQuY2hhbmdlU2xpZGUpLm9mZigibW91c2VlbnRlci5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCEwKSkub2ZmKCJtb3VzZWxlYXZlLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITEpKSwhMD09PXQub3B0aW9ucy5hY2Nlc3NpYmlsaXR5JiZ0LiRkb3RzLm9mZigia2V5ZG93bi5zbGljayIsdC5rZXlIYW5kbGVyKSk7dC4kc2xpZGVyLm9mZigiZm9jdXMuc2xpY2sgYmx1ci5zbGljayIpOyEwPT09dC5vcHRpb25zLmFycm93cyYmdC5zbGlkZUNvdW50PnQub3B0aW9ucy5zbGlkZXNUb1Nob3cmJih0LiRwcmV2QXJyb3cmJnQuJHByZXZBcnJvdy5vZmYoImNsaWNrLnNsaWNrIix0LmNoYW5nZVNsaWRlKSx0LiRuZXh0QXJyb3cmJnQuJG5leHRBcnJvdy5vZmYoImNsaWNrLnNsaWNrIix0LmNoYW5nZVNsaWRlKSwhMD09PXQub3B0aW9ucy5hY2Nlc3NpYmlsaXR5JiYodC4kcHJldkFycm93JiZ0LiRwcmV2QXJyb3cub2ZmKCJrZXlkb3duLnNsaWNrIix0LmtleUhhbmRsZXIpLHQuJG5leHRBcnJvdyYmdC4kbmV4dEFycm93Lm9mZigia2V5ZG93bi5zbGljayIsdC5rZXlIYW5kbGVyKSkpO3QuJGxpc3Qub2ZmKCJ0b3VjaHN0YXJ0LnNsaWNrIG1vdXNlZG93bi5zbGljayIsdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub2ZmKCJ0b3VjaG1vdmUuc2xpY2sgbW91c2Vtb3ZlLnNsaWNrIix0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vZmYoInRvdWNoZW5kLnNsaWNrIG1vdXNldXAuc2xpY2siLHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9mZigidG91Y2hjYW5jZWwuc2xpY2sgbW91c2VsZWF2ZS5zbGljayIsdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub2ZmKCJjbGljay5zbGljayIsdC5jbGlja0hhbmRsZXIpO24oZG9jdW1lbnQpLm9mZih0LnZpc2liaWxpdHlDaGFuZ2UsdC52aXNpYmlsaXR5KTt0LmNsZWFuVXBTbGlkZUV2ZW50cygpOyEwPT09dC5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJnQuJGxpc3Qub2ZmKCJrZXlkb3duLnNsaWNrIix0LmtleUhhbmRsZXIpOyEwPT09dC5vcHRpb25zLmZvY3VzT25TZWxlY3QmJm4odC4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vZmYoImNsaWNrLnNsaWNrIix0LnNlbGVjdEhhbmRsZXIpO24od2luZG93KS5vZmYoIm9yaWVudGF0aW9uY2hhbmdlLnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCx0Lm9yaWVudGF0aW9uQ2hhbmdlKTtuKHdpbmRvdykub2ZmKCJyZXNpemUuc2xpY2suc2xpY2stIit0Lmluc3RhbmNlVWlkLHQucmVzaXplKTtuKCJbZHJhZ2dhYmxlIT10cnVlXSIsdC4kc2xpZGVUcmFjaykub2ZmKCJkcmFnc3RhcnQiLHQucHJldmVudERlZmF1bHQpO24od2luZG93KS5vZmYoImxvYWQuc2xpY2suc2xpY2stIit0Lmluc3RhbmNlVWlkLHQuc2V0UG9zaXRpb24pfTt0LnByb3RvdHlwZS5jbGVhblVwU2xpZGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuJGxpc3Qub2ZmKCJtb3VzZWVudGVyLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITApKTt0LiRsaXN0Lm9mZigibW91c2VsZWF2ZS5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCExKSl9O3QucHJvdG90eXBlLmNsZWFuVXBSb3dzPWZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzO24ub3B0aW9ucy5yb3dzPjEmJigodD1uLiRzbGlkZXMuY2hpbGRyZW4oKS5jaGlsZHJlbigpKS5yZW1vdmVBdHRyKCJzdHlsZSIpLG4uJHNsaWRlci5lbXB0eSgpLmFwcGVuZCh0KSl9O3QucHJvdG90eXBlLmNsaWNrSGFuZGxlcj1mdW5jdGlvbihuKXshMT09PXRoaXMuc2hvdWxkQ2xpY2smJihuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLG4uc3RvcFByb3BhZ2F0aW9uKCksbi5wcmV2ZW50RGVmYXVsdCgpKX07dC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXt2YXIgaT10aGlzO2kuYXV0b1BsYXlDbGVhcigpO2kudG91Y2hPYmplY3Q9e307aS5jbGVhblVwRXZlbnRzKCk7bigiLnNsaWNrLWNsb25lZCIsaS4kc2xpZGVyKS5kZXRhY2goKTtpLiRkb3RzJiZpLiRkb3RzLnJlbW92ZSgpO2kuJHByZXZBcnJvdyYmaS4kcHJldkFycm93Lmxlbmd0aCYmKGkuJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQgc2xpY2stYXJyb3cgc2xpY2staGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJpbmRleCIpLmNzcygiZGlzcGxheSIsIiIpLGkuaHRtbEV4cHIudGVzdChpLm9wdGlvbnMucHJldkFycm93KSYmaS4kcHJldkFycm93LnJlbW92ZSgpKTtpLiRuZXh0QXJyb3cmJmkuJG5leHRBcnJvdy5sZW5ndGgmJihpLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIHNsaWNrLWFycm93IHNsaWNrLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIGFyaWEtZGlzYWJsZWQgdGFiaW5kZXgiKS5jc3MoImRpc3BsYXkiLCIiKSxpLmh0bWxFeHByLnRlc3QoaS5vcHRpb25zLm5leHRBcnJvdykmJmkuJG5leHRBcnJvdy5yZW1vdmUoKSk7aS4kc2xpZGVzJiYoaS4kc2xpZGVzLnJlbW92ZUNsYXNzKCJzbGljay1zbGlkZSBzbGljay1hY3RpdmUgc2xpY2stY2VudGVyIHNsaWNrLXZpc2libGUgc2xpY2stY3VycmVudCIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIikucmVtb3ZlQXR0cigiZGF0YS1zbGljay1pbmRleCIpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmF0dHIoInN0eWxlIixuKHRoaXMpLmRhdGEoIm9yaWdpbmFsU3R5bGluZyIpKX0pLGkuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSxpLiRzbGlkZVRyYWNrLmRldGFjaCgpLGkuJGxpc3QuZGV0YWNoKCksaS4kc2xpZGVyLmFwcGVuZChpLiRzbGlkZXMpKTtpLmNsZWFuVXBSb3dzKCk7aS4kc2xpZGVyLnJlbW92ZUNsYXNzKCJzbGljay1zbGlkZXIiKTtpLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLWluaXRpYWxpemVkIik7aS4kc2xpZGVyLnJlbW92ZUNsYXNzKCJzbGljay1kb3R0ZWQiKTtpLnVuc2xpY2tlZD0hMDt0fHxpLiRzbGlkZXIudHJpZ2dlcigiZGVzdHJveSIsW2ldKX07dC5wcm90b3R5cGUuZGlzYWJsZVRyYW5zaXRpb249ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPXt9O2lbdC50cmFuc2l0aW9uVHlwZV09IiI7ITE9PT10Lm9wdGlvbnMuZmFkZT90LiRzbGlkZVRyYWNrLmNzcyhpKTp0LiRzbGlkZXMuZXEobikuY3NzKGkpfTt0LnByb3RvdHlwZS5mYWRlU2xpZGU9ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzOyExPT09aS5jc3NUcmFuc2l0aW9ucz8oaS4kc2xpZGVzLmVxKG4pLmNzcyh7ekluZGV4Omkub3B0aW9ucy56SW5kZXh9KSxpLiRzbGlkZXMuZXEobikuYW5pbWF0ZSh7b3BhY2l0eToxfSxpLm9wdGlvbnMuc3BlZWQsaS5vcHRpb25zLmVhc2luZyx0KSk6KGkuYXBwbHlUcmFuc2l0aW9uKG4pLGkuJHNsaWRlcy5lcShuKS5jc3Moe29wYWNpdHk6MSx6SW5kZXg6aS5vcHRpb25zLnpJbmRleH0pLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmRpc2FibGVUcmFuc2l0aW9uKG4pO3QuY2FsbCgpfSxpLm9wdGlvbnMuc3BlZWQpKX07dC5wcm90b3R5cGUuZmFkZVNsaWRlT3V0PWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7ITE9PT10LmNzc1RyYW5zaXRpb25zP3QuJHNsaWRlcy5lcShuKS5hbmltYXRlKHtvcGFjaXR5OjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMn0sdC5vcHRpb25zLnNwZWVkLHQub3B0aW9ucy5lYXNpbmcpOih0LmFwcGx5VHJhbnNpdGlvbihuKSx0LiRzbGlkZXMuZXEobikuY3NzKHtvcGFjaXR5OjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMn0pKX07dC5wcm90b3R5cGUuZmlsdGVyU2xpZGVzPXQucHJvdG90eXBlLnNsaWNrRmlsdGVyPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7bnVsbCE9PW4mJih0LiRzbGlkZXNDYWNoZT10LiRzbGlkZXMsdC51bmxvYWQoKSx0LiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCksdC4kc2xpZGVzQ2FjaGUuZmlsdGVyKG4pLmFwcGVuZFRvKHQuJHNsaWRlVHJhY2spLHQucmVpbml0KCkpfTt0LnByb3RvdHlwZS5mb2N1c0hhbmRsZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuJHNsaWRlci5vZmYoImZvY3VzLnNsaWNrIGJsdXIuc2xpY2siKS5vbigiZm9jdXMuc2xpY2sgYmx1ci5zbGljayIsIioiLGZ1bmN0aW9uKGkpe2kuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIHI9bih0aGlzKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5vcHRpb25zLnBhdXNlT25Gb2N1cyYmKHQuZm9jdXNzZWQ9ci5pcygiOmZvY3VzIiksdC5hdXRvUGxheSgpKX0sMCl9KX07dC5wcm90b3R5cGUuZ2V0Q3VycmVudD10LnByb3RvdHlwZS5zbGlja0N1cnJlbnRTbGlkZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRTbGlkZX07dC5wcm90b3R5cGUuZ2V0RG90Q291bnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLGk9MCxyPTAsdD0wO2lmKCEwPT09bi5vcHRpb25zLmluZmluaXRlKWlmKG4uc2xpZGVDb3VudDw9bi5vcHRpb25zLnNsaWRlc1RvU2hvdykrK3Q7ZWxzZSBmb3IoO2k8bi5zbGlkZUNvdW50OykrK3QsaT1yK24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxyKz1uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw8PW4ub3B0aW9ucy5zbGlkZXNUb1Nob3c/bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOm4ub3B0aW9ucy5zbGlkZXNUb1Nob3c7ZWxzZSBpZighMD09PW4ub3B0aW9ucy5jZW50ZXJNb2RlKXQ9bi5zbGlkZUNvdW50O2Vsc2UgaWYobi5vcHRpb25zLmFzTmF2Rm9yKWZvcig7aTxuLnNsaWRlQ291bnQ7KSsrdCxpPXIrbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLHIrPW4ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDw9bi5vcHRpb25zLnNsaWRlc1RvU2hvdz9uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6bi5vcHRpb25zLnNsaWRlc1RvU2hvdztlbHNlIHQ9MStNYXRoLmNlaWwoKG4uc2xpZGVDb3VudC1uLm9wdGlvbnMuc2xpZGVzVG9TaG93KS9uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpO3JldHVybiB0LTF9O3QucHJvdG90eXBlLmdldExlZnQ9ZnVuY3Rpb24obil7dmFyIGYscixpLGUsdD10aGlzLHU9MDtyZXR1cm4gdC5zbGlkZU9mZnNldD0wLHI9dC4kc2xpZGVzLmZpcnN0KCkub3V0ZXJIZWlnaHQoITApLCEwPT09dC5vcHRpb25zLmluZmluaXRlPyh0LnNsaWRlQ291bnQ+dC5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKHQuc2xpZGVPZmZzZXQ9dC5zbGlkZVdpZHRoKnQub3B0aW9ucy5zbGlkZXNUb1Nob3cqLTEsZT0tMSwhMD09PXQub3B0aW9ucy52ZXJ0aWNhbCYmITA9PT10Lm9wdGlvbnMuY2VudGVyTW9kZSYmKDI9PT10Lm9wdGlvbnMuc2xpZGVzVG9TaG93P2U9LTEuNToxPT09dC5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKGU9LTIpKSx1PXIqdC5vcHRpb25zLnNsaWRlc1RvU2hvdyplKSx0LnNsaWRlQ291bnQldC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIT0wJiZuK3Qub3B0aW9ucy5zbGlkZXNUb1Njcm9sbD50LnNsaWRlQ291bnQmJnQuc2xpZGVDb3VudD50Lm9wdGlvbnMuc2xpZGVzVG9TaG93JiYobj50LnNsaWRlQ291bnQ/KHQuc2xpZGVPZmZzZXQ9KHQub3B0aW9ucy5zbGlkZXNUb1Nob3ctKG4tdC5zbGlkZUNvdW50KSkqdC5zbGlkZVdpZHRoKi0xLHU9KHQub3B0aW9ucy5zbGlkZXNUb1Nob3ctKG4tdC5zbGlkZUNvdW50KSkqciotMSk6KHQuc2xpZGVPZmZzZXQ9dC5zbGlkZUNvdW50JXQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCp0LnNsaWRlV2lkdGgqLTEsdT10LnNsaWRlQ291bnQldC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKnIqLTEpKSk6bit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93PnQuc2xpZGVDb3VudCYmKHQuc2xpZGVPZmZzZXQ9KG4rdC5vcHRpb25zLnNsaWRlc1RvU2hvdy10LnNsaWRlQ291bnQpKnQuc2xpZGVXaWR0aCx1PShuK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3ctdC5zbGlkZUNvdW50KSpyKSx0LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3cmJih0LnNsaWRlT2Zmc2V0PTAsdT0wKSwhMD09PXQub3B0aW9ucy5jZW50ZXJNb2RlJiZ0LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3c/dC5zbGlkZU9mZnNldD10LnNsaWRlV2lkdGgqTWF0aC5mbG9vcih0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KS8yLXQuc2xpZGVXaWR0aCp0LnNsaWRlQ291bnQvMjohMD09PXQub3B0aW9ucy5jZW50ZXJNb2RlJiYhMD09PXQub3B0aW9ucy5pbmZpbml0ZT90LnNsaWRlT2Zmc2V0Kz10LnNsaWRlV2lkdGgqTWF0aC5mbG9vcih0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LzIpLXQuc2xpZGVXaWR0aDohMD09PXQub3B0aW9ucy5jZW50ZXJNb2RlJiYodC5zbGlkZU9mZnNldD0wLHQuc2xpZGVPZmZzZXQrPXQuc2xpZGVXaWR0aCpNYXRoLmZsb29yKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMikpLGY9ITE9PT10Lm9wdGlvbnMudmVydGljYWw/bip0LnNsaWRlV2lkdGgqLTErdC5zbGlkZU9mZnNldDpuKnIqLTErdSwhMD09PXQub3B0aW9ucy52YXJpYWJsZVdpZHRoJiYoaT10LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3d8fCExPT09dC5vcHRpb25zLmluZmluaXRlP3QuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmVxKG4pOnQuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmVxKG4rdC5vcHRpb25zLnNsaWRlc1RvU2hvdyksZj0hMD09PXQub3B0aW9ucy5ydGw/aVswXT8tMSoodC4kc2xpZGVUcmFjay53aWR0aCgpLWlbMF0ub2Zmc2V0TGVmdC1pLndpZHRoKCkpOjA6aVswXT8tMSppWzBdLm9mZnNldExlZnQ6MCwhMD09PXQub3B0aW9ucy5jZW50ZXJNb2RlJiYoaT10LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3d8fCExPT09dC5vcHRpb25zLmluZmluaXRlP3QuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmVxKG4pOnQuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmVxKG4rdC5vcHRpb25zLnNsaWRlc1RvU2hvdysxKSxmPSEwPT09dC5vcHRpb25zLnJ0bD9pWzBdPy0xKih0LiRzbGlkZVRyYWNrLndpZHRoKCktaVswXS5vZmZzZXRMZWZ0LWkud2lkdGgoKSk6MDppWzBdPy0xKmlbMF0ub2Zmc2V0TGVmdDowLGYrPSh0LiRsaXN0LndpZHRoKCktaS5vdXRlcldpZHRoKCkpLzIpKSxmfTt0LnByb3RvdHlwZS5nZXRPcHRpb249dC5wcm90b3R5cGUuc2xpY2tHZXRPcHRpb249ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMub3B0aW9uc1tuXX07dC5wcm90b3R5cGUuZ2V0TmF2aWdhYmxlSW5kZXhlcz1mdW5jdGlvbigpe3ZhciBpLG49dGhpcyx0PTAscj0wLHU9W107Zm9yKCExPT09bi5vcHRpb25zLmluZmluaXRlP2k9bi5zbGlkZUNvdW50Oih0PS0xKm4ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxyPS0xKm4ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxpPTIqbi5zbGlkZUNvdW50KTt0PGk7KXUucHVzaCh0KSx0PXIrbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLHIrPW4ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDw9bi5vcHRpb25zLnNsaWRlc1RvU2hvdz9uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6bi5vcHRpb25zLnNsaWRlc1RvU2hvdztyZXR1cm4gdX07dC5wcm90b3R5cGUuZ2V0U2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5wcm90b3R5cGUuZ2V0U2xpZGVDb3VudD1mdW5jdGlvbigpe3ZhciBpLHIsdD10aGlzO3JldHVybiByPSEwPT09dC5vcHRpb25zLmNlbnRlck1vZGU/dC5zbGlkZVdpZHRoKk1hdGguZmxvb3IodC5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKTowLCEwPT09dC5vcHRpb25zLnN3aXBlVG9TbGlkZT8odC4kc2xpZGVUcmFjay5maW5kKCIuc2xpY2stc2xpZGUiKS5lYWNoKGZ1bmN0aW9uKHUsZil7aWYoZi5vZmZzZXRMZWZ0LXIrbihmKS5vdXRlcldpZHRoKCkvMj4tMSp0LnN3aXBlTGVmdClyZXR1cm4gaT1mLCExfSksTWF0aC5hYnMobihpKS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4IiktdC5jdXJyZW50U2xpZGUpfHwxKTp0Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGx9O3QucHJvdG90eXBlLmdvVG89dC5wcm90b3R5cGUuc2xpY2tHb1RvPWZ1bmN0aW9uKG4sdCl7dGhpcy5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZToiaW5kZXgiLGluZGV4OnBhcnNlSW50KG4pfX0sdCl9O3QucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztuKGkuJHNsaWRlcikuaGFzQ2xhc3MoInNsaWNrLWluaXRpYWxpemVkIil8fChuKGkuJHNsaWRlcikuYWRkQ2xhc3MoInNsaWNrLWluaXRpYWxpemVkIiksaS5idWlsZFJvd3MoKSxpLmJ1aWxkT3V0KCksaS5zZXRQcm9wcygpLGkuc3RhcnRMb2FkKCksaS5sb2FkU2xpZGVyKCksaS5pbml0aWFsaXplRXZlbnRzKCksaS51cGRhdGVBcnJvd3MoKSxpLnVwZGF0ZURvdHMoKSxpLmNoZWNrUmVzcG9uc2l2ZSghMCksaS5mb2N1c0hhbmRsZXIoKSk7dCYmaS4kc2xpZGVyLnRyaWdnZXIoImluaXQiLFtpXSk7ITA9PT1pLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSYmaS5pbml0QURBKCk7aS5vcHRpb25zLmF1dG9wbGF5JiYoaS5wYXVzZWQ9ITEsaS5hdXRvUGxheSgpKX07dC5wcm90b3R5cGUuaW5pdEFEQT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZj1NYXRoLmNlaWwodC5zbGlkZUNvdW50L3Qub3B0aW9ucy5zbGlkZXNUb1Nob3cpLHI9dC5nZXROYXZpZ2FibGVJbmRleGVzKCkuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBuPj0wJiZuPHQuc2xpZGVDb3VudH0pLGksdTtmb3IodC4kc2xpZGVzLmFkZCh0LiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1jbG9uZWQiKSkuYXR0cih7ImFyaWEtaGlkZGVuIjoidHJ1ZSIsdGFiaW5kZXg6Ii0xIn0pLmZpbmQoImEsIGlucHV0LCBidXR0b24sIHNlbGVjdCIpLmF0dHIoe3RhYmluZGV4OiItMSJ9KSxudWxsIT09dC4kZG90cyYmKHQuJHNsaWRlcy5ub3QodC4kc2xpZGVUcmFjay5maW5kKCIuc2xpY2stY2xvbmVkIikpLmVhY2goZnVuY3Rpb24oaSl7dmFyIHU9ci5pbmRleE9mKGkpO24odGhpcykuYXR0cih7cm9sZToidGFicGFuZWwiLGlkOiJzbGljay1zbGlkZSIrdC5pbnN0YW5jZVVpZCtpLHRhYmluZGV4Oi0xfSk7LTEhPT11JiZuKHRoaXMpLmF0dHIoeyJhcmlhLWRlc2NyaWJlZGJ5Ijoic2xpY2stc2xpZGUtY29udHJvbCIrdC5pbnN0YW5jZVVpZCt1fSl9KSx0LiRkb3RzLmF0dHIoInJvbGUiLCJ0YWJsaXN0IikuZmluZCgibGkiKS5lYWNoKGZ1bmN0aW9uKGkpe3ZhciB1PXJbaV07bih0aGlzKS5hdHRyKHtyb2xlOiJwcmVzZW50YXRpb24ifSk7bih0aGlzKS5maW5kKCJidXR0b24iKS5maXJzdCgpLmF0dHIoe3JvbGU6InRhYiIsaWQ6InNsaWNrLXNsaWRlLWNvbnRyb2wiK3QuaW5zdGFuY2VVaWQraSwiYXJpYS1jb250cm9scyI6InNsaWNrLXNsaWRlIit0Lmluc3RhbmNlVWlkK3UsImFyaWEtbGFiZWwiOmkrMSsiIG9mICIrZiwiYXJpYS1zZWxlY3RlZCI6bnVsbCx0YWJpbmRleDoiLTEifSl9KS5lcSh0LmN1cnJlbnRTbGlkZSkuZmluZCgiYnV0dG9uIikuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIix0YWJpbmRleDoiMCJ9KS5lbmQoKSksaT10LmN1cnJlbnRTbGlkZSx1PWkrdC5vcHRpb25zLnNsaWRlc1RvU2hvdztpPHU7aSsrKXQuJHNsaWRlcy5lcShpKS5hdHRyKCJ0YWJpbmRleCIsMCk7dC5hY3RpdmF0ZUFEQSgpfTt0LnByb3RvdHlwZS5pbml0QXJyb3dFdmVudHM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzOyEwPT09bi5vcHRpb25zLmFycm93cyYmbi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihuLiRwcmV2QXJyb3cub2ZmKCJjbGljay5zbGljayIpLm9uKCJjbGljay5zbGljayIse21lc3NhZ2U6InByZXZpb3VzIn0sbi5jaGFuZ2VTbGlkZSksbi4kbmV4dEFycm93Lm9mZigiY2xpY2suc2xpY2siKS5vbigiY2xpY2suc2xpY2siLHttZXNzYWdlOiJuZXh0In0sbi5jaGFuZ2VTbGlkZSksITA9PT1uLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSYmKG4uJHByZXZBcnJvdy5vbigia2V5ZG93bi5zbGljayIsbi5rZXlIYW5kbGVyKSxuLiRuZXh0QXJyb3cub24oImtleWRvd24uc2xpY2siLG4ua2V5SGFuZGxlcikpKX07dC5wcm90b3R5cGUuaW5pdERvdEV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7ITA9PT10Lm9wdGlvbnMuZG90cyYmKG4oImxpIix0LiRkb3RzKS5vbigiY2xpY2suc2xpY2siLHttZXNzYWdlOiJpbmRleCJ9LHQuY2hhbmdlU2xpZGUpLCEwPT09dC5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJnQuJGRvdHMub24oImtleWRvd24uc2xpY2siLHQua2V5SGFuZGxlcikpOyEwPT09dC5vcHRpb25zLmRvdHMmJiEwPT09dC5vcHRpb25zLnBhdXNlT25Eb3RzSG92ZXImJm4oImxpIix0LiRkb3RzKS5vbigibW91c2VlbnRlci5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCEwKSkub24oIm1vdXNlbGVhdmUuc2xpY2siLG4ucHJveHkodC5pbnRlcnJ1cHQsdCwhMSkpfTt0LnByb3RvdHlwZS5pbml0U2xpZGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3Qub3B0aW9ucy5wYXVzZU9uSG92ZXImJih0LiRsaXN0Lm9uKCJtb3VzZWVudGVyLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITApKSx0LiRsaXN0Lm9uKCJtb3VzZWxlYXZlLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITEpKSl9O3QucHJvdG90eXBlLmluaXRpYWxpemVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuaW5pdEFycm93RXZlbnRzKCk7dC5pbml0RG90RXZlbnRzKCk7dC5pbml0U2xpZGVFdmVudHMoKTt0LiRsaXN0Lm9uKCJ0b3VjaHN0YXJ0LnNsaWNrIG1vdXNlZG93bi5zbGljayIse2FjdGlvbjoic3RhcnQifSx0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vbigidG91Y2htb3ZlLnNsaWNrIG1vdXNlbW92ZS5zbGljayIse2FjdGlvbjoibW92ZSJ9LHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9uKCJ0b3VjaGVuZC5zbGljayBtb3VzZXVwLnNsaWNrIix7YWN0aW9uOiJlbmQifSx0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vbigidG91Y2hjYW5jZWwuc2xpY2sgbW91c2VsZWF2ZS5zbGljayIse2FjdGlvbjoiZW5kIn0sdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub24oImNsaWNrLnNsaWNrIix0LmNsaWNrSGFuZGxlcik7bihkb2N1bWVudCkub24odC52aXNpYmlsaXR5Q2hhbmdlLG4ucHJveHkodC52aXNpYmlsaXR5LHQpKTshMD09PXQub3B0aW9ucy5hY2Nlc3NpYmlsaXR5JiZ0LiRsaXN0Lm9uKCJrZXlkb3duLnNsaWNrIix0LmtleUhhbmRsZXIpOyEwPT09dC5vcHRpb25zLmZvY3VzT25TZWxlY3QmJm4odC4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vbigiY2xpY2suc2xpY2siLHQuc2VsZWN0SGFuZGxlcik7bih3aW5kb3cpLm9uKCJvcmllbnRhdGlvbmNoYW5nZS5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsbi5wcm94eSh0Lm9yaWVudGF0aW9uQ2hhbmdlLHQpKTtuKHdpbmRvdykub24oInJlc2l6ZS5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsbi5wcm94eSh0LnJlc2l6ZSx0KSk7bigiW2RyYWdnYWJsZSE9dHJ1ZV0iLHQuJHNsaWRlVHJhY2spLm9uKCJkcmFnc3RhcnQiLHQucHJldmVudERlZmF1bHQpO24od2luZG93KS5vbigibG9hZC5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsdC5zZXRQb3NpdGlvbik7bih0LnNldFBvc2l0aW9uKX07dC5wcm90b3R5cGUuaW5pdFVJPWZ1bmN0aW9uKCl7dmFyIG49dGhpczshMD09PW4ub3B0aW9ucy5hcnJvd3MmJm4uc2xpZGVDb3VudD5uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYobi4kcHJldkFycm93LnNob3coKSxuLiRuZXh0QXJyb3cuc2hvdygpKTshMD09PW4ub3B0aW9ucy5kb3RzJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmbi4kZG90cy5zaG93KCl9O3QucHJvdG90eXBlLmtleUhhbmRsZXI9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztuLnRhcmdldC50YWdOYW1lLm1hdGNoKCJURVhUQVJFQXxJTlBVVHxTRUxFQ1QiKXx8KDM3PT09bi5rZXlDb2RlJiYhMD09PXQub3B0aW9ucy5hY2Nlc3NpYmlsaXR5P3QuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6ITA9PT10Lm9wdGlvbnMucnRsPyJuZXh0IjoicHJldmlvdXMifX0pOjM5PT09bi5rZXlDb2RlJiYhMD09PXQub3B0aW9ucy5hY2Nlc3NpYmlsaXR5JiZ0LmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOiEwPT09dC5vcHRpb25zLnJ0bD8icHJldmlvdXMiOiJuZXh0In19KSl9O3QucHJvdG90eXBlLmxhenlMb2FkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZihpKXtuKCJpbWdbZGF0YS1sYXp5XSIsaSkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscj1uKHRoaXMpLmF0dHIoImRhdGEtbGF6eSIpLGY9bih0aGlzKS5hdHRyKCJkYXRhLXNyY3NldCIpLGU9bih0aGlzKS5hdHRyKCJkYXRhLXNpemVzIil8fHQuJHNsaWRlci5hdHRyKCJkYXRhLXNpemVzIiksdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTt1Lm9ubG9hZD1mdW5jdGlvbigpe2kuYW5pbWF0ZSh7b3BhY2l0eTowfSwxMDAsZnVuY3Rpb24oKXtmJiYoaS5hdHRyKCJzcmNzZXQiLGYpLGUmJmkuYXR0cigic2l6ZXMiLGUpKTtpLmF0dHIoInNyYyIscikuYW5pbWF0ZSh7b3BhY2l0eToxfSwyMDAsZnVuY3Rpb24oKXtpLnJlbW92ZUF0dHIoImRhdGEtbGF6eSBkYXRhLXNyY3NldCBkYXRhLXNpemVzIikucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKX0pO3QuJHNsaWRlci50cmlnZ2VyKCJsYXp5TG9hZGVkIixbdCxpLHJdKX0pfTt1Lm9uZXJyb3I9ZnVuY3Rpb24oKXtpLnJlbW92ZUF0dHIoImRhdGEtbGF6eSIpLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIikuYWRkQ2xhc3MoInNsaWNrLWxhenlsb2FkLWVycm9yIik7dC4kc2xpZGVyLnRyaWdnZXIoImxhenlMb2FkRXJyb3IiLFt0LGkscl0pfTt1LnNyYz1yfSl9dmFyIHUsaSxyLHQ9dGhpcztpZighMD09PXQub3B0aW9ucy5jZW50ZXJNb2RlPyEwPT09dC5vcHRpb25zLmluZmluaXRlP3I9KGk9dC5jdXJyZW50U2xpZGUrKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMisxKSkrdC5vcHRpb25zLnNsaWRlc1RvU2hvdysyOihpPU1hdGgubWF4KDAsdC5jdXJyZW50U2xpZGUtKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMisxKSkscj10Lm9wdGlvbnMuc2xpZGVzVG9TaG93LzIrMSsyK3QuY3VycmVudFNsaWRlKTooaT10Lm9wdGlvbnMuaW5maW5pdGU/dC5vcHRpb25zLnNsaWRlc1RvU2hvdyt0LmN1cnJlbnRTbGlkZTp0LmN1cnJlbnRTbGlkZSxyPU1hdGguY2VpbChpK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3cpLCEwPT09dC5vcHRpb25zLmZhZGUmJihpPjAmJmktLSxyPD10LnNsaWRlQ291bnQmJnIrKykpLHU9dC4kc2xpZGVyLmZpbmQoIi5zbGljay1zbGlkZSIpLnNsaWNlKGksciksImFudGljaXBhdGVkIj09PXQub3B0aW9ucy5sYXp5TG9hZClmb3IodmFyIGU9aS0xLG89cixzPXQuJHNsaWRlci5maW5kKCIuc2xpY2stc2xpZGUiKSxoPTA7aDx0Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7aCsrKWU8MCYmKGU9dC5zbGlkZUNvdW50LTEpLHU9KHU9dS5hZGQocy5lcShlKSkpLmFkZChzLmVxKG8pKSxlLS0sbysrO2YodSk7dC5zbGlkZUNvdW50PD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93P2YodC4kc2xpZGVyLmZpbmQoIi5zbGljay1zbGlkZSIpKTp0LmN1cnJlbnRTbGlkZT49dC5zbGlkZUNvdW50LXQub3B0aW9ucy5zbGlkZXNUb1Nob3c/Zih0LiRzbGlkZXIuZmluZCgiLnNsaWNrLWNsb25lZCIpLnNsaWNlKDAsdC5vcHRpb25zLnNsaWRlc1RvU2hvdykpOjA9PT10LmN1cnJlbnRTbGlkZSYmZih0LiRzbGlkZXIuZmluZCgiLnNsaWNrLWNsb25lZCIpLnNsaWNlKC0xKnQub3B0aW9ucy5zbGlkZXNUb1Nob3cpKX07dC5wcm90b3R5cGUubG9hZFNsaWRlcj1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5zZXRQb3NpdGlvbigpO24uJHNsaWRlVHJhY2suY3NzKHtvcGFjaXR5OjF9KTtuLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKTtuLmluaXRVSSgpOyJwcm9ncmVzc2l2ZSI9PT1uLm9wdGlvbnMubGF6eUxvYWQmJm4ucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpfTt0LnByb3RvdHlwZS5uZXh0PXQucHJvdG90eXBlLnNsaWNrTmV4dD1mdW5jdGlvbigpe3RoaXMuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6Im5leHQifX0pfTt0LnByb3RvdHlwZS5vcmllbnRhdGlvbkNoYW5nZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5jaGVja1Jlc3BvbnNpdmUoKTtuLnNldFBvc2l0aW9uKCl9O3QucHJvdG90eXBlLnBhdXNlPXQucHJvdG90eXBlLnNsaWNrUGF1c2U9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uYXV0b1BsYXlDbGVhcigpO24ucGF1c2VkPSEwfTt0LnByb3RvdHlwZS5wbGF5PXQucHJvdG90eXBlLnNsaWNrUGxheT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5hdXRvUGxheSgpO24ub3B0aW9ucy5hdXRvcGxheT0hMDtuLnBhdXNlZD0hMTtuLmZvY3Vzc2VkPSExO24uaW50ZXJydXB0ZWQ9ITF9O3QucHJvdG90eXBlLnBvc3RTbGlkZT1mdW5jdGlvbih0KXt2YXIgaT10aGlzO2kudW5zbGlja2VkfHwoaS4kc2xpZGVyLnRyaWdnZXIoImFmdGVyQ2hhbmdlIixbaSx0XSksaS5hbmltYXRpbmc9ITEsaS5zbGlkZUNvdW50Pmkub3B0aW9ucy5zbGlkZXNUb1Nob3cmJmkuc2V0UG9zaXRpb24oKSxpLnN3aXBlTGVmdD1udWxsLGkub3B0aW9ucy5hdXRvcGxheSYmaS5hdXRvUGxheSgpLCEwPT09aS5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJihpLmluaXRBREEoKSxpLm9wdGlvbnMuZm9jdXNPbkNoYW5nZSYmbihpLiRzbGlkZXMuZ2V0KGkuY3VycmVudFNsaWRlKSkuYXR0cigidGFiaW5kZXgiLDApLmZvY3VzKCkpKX07dC5wcm90b3R5cGUucHJldj10LnByb3RvdHlwZS5zbGlja1ByZXY9ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOiJwcmV2aW91cyJ9fSl9O3QucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX07dC5wcm90b3R5cGUucHJvZ3Jlc3NpdmVMYXp5TG9hZD1mdW5jdGlvbih0KXt0PXR8fDE7dmFyIHIsdSxmLGUsbyxpPXRoaXMscz1uKCJpbWdbZGF0YS1sYXp5XSIsaS4kc2xpZGVyKTtzLmxlbmd0aD8ocj1zLmZpcnN0KCksdT1yLmF0dHIoImRhdGEtbGF6eSIpLGY9ci5hdHRyKCJkYXRhLXNyY3NldCIpLGU9ci5hdHRyKCJkYXRhLXNpemVzIil8fGkuJHNsaWRlci5hdHRyKCJkYXRhLXNpemVzIiksKG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpLm9ubG9hZD1mdW5jdGlvbigpe2YmJihyLmF0dHIoInNyY3NldCIsZiksZSYmci5hdHRyKCJzaXplcyIsZSkpO3IuYXR0cigic3JjIix1KS5yZW1vdmVBdHRyKCJkYXRhLWxhenkgZGF0YS1zcmNzZXQgZGF0YS1zaXplcyIpLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIik7ITA9PT1pLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQmJmkuc2V0UG9zaXRpb24oKTtpLiRzbGlkZXIudHJpZ2dlcigibGF6eUxvYWRlZCIsW2kscix1XSk7aS5wcm9ncmVzc2l2ZUxhenlMb2FkKCl9LG8ub25lcnJvcj1mdW5jdGlvbigpe3Q8Mz9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5wcm9ncmVzc2l2ZUxhenlMb2FkKHQrMSl9LDUwMCk6KHIucmVtb3ZlQXR0cigiZGF0YS1sYXp5IikucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKS5hZGRDbGFzcygic2xpY2stbGF6eWxvYWQtZXJyb3IiKSxpLiRzbGlkZXIudHJpZ2dlcigibGF6eUxvYWRFcnJvciIsW2kscix1XSksaS5wcm9ncmVzc2l2ZUxhenlMb2FkKCkpfSxvLnNyYz11KTppLiRzbGlkZXIudHJpZ2dlcigiYWxsSW1hZ2VzTG9hZGVkIixbaV0pfTt0LnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKHQpe3ZhciByLHUsaT10aGlzO3U9aS5zbGlkZUNvdW50LWkub3B0aW9ucy5zbGlkZXNUb1Nob3c7IWkub3B0aW9ucy5pbmZpbml0ZSYmaS5jdXJyZW50U2xpZGU+dSYmKGkuY3VycmVudFNsaWRlPXUpO2kuc2xpZGVDb3VudDw9aS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKGkuY3VycmVudFNsaWRlPTApO3I9aS5jdXJyZW50U2xpZGU7aS5kZXN0cm95KCEwKTtuLmV4dGVuZChpLGkuaW5pdGlhbHMse2N1cnJlbnRTbGlkZTpyfSk7aS5pbml0KCk7dHx8aS5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZToiaW5kZXgiLGluZGV4OnJ9fSwhMSl9O3QucHJvdG90eXBlLnJlZ2lzdGVyQnJlYWtwb2ludHM9ZnVuY3Rpb24oKXt2YXIgdSxmLGksdD10aGlzLHI9dC5vcHRpb25zLnJlc3BvbnNpdmV8fG51bGw7aWYoImFycmF5Ij09PW4udHlwZShyKSYmci5sZW5ndGgpe3QucmVzcG9uZFRvPXQub3B0aW9ucy5yZXNwb25kVG98fCJ3aW5kb3ciO2Zvcih1IGluIHIpaWYoaT10LmJyZWFrcG9pbnRzLmxlbmd0aC0xLHIuaGFzT3duUHJvcGVydHkodSkpe2ZvcihmPXJbdV0uYnJlYWtwb2ludDtpPj0wOyl0LmJyZWFrcG9pbnRzW2ldJiZ0LmJyZWFrcG9pbnRzW2ldPT09ZiYmdC5icmVha3BvaW50cy5zcGxpY2UoaSwxKSxpLS07dC5icmVha3BvaW50cy5wdXNoKGYpO3QuYnJlYWtwb2ludFNldHRpbmdzW2ZdPXJbdV0uc2V0dGluZ3N9dC5icmVha3BvaW50cy5zb3J0KGZ1bmN0aW9uKG4saSl7cmV0dXJuIHQub3B0aW9ucy5tb2JpbGVGaXJzdD9uLWk6aS1ufSl9fTt0LnByb3RvdHlwZS5yZWluaXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuJHNsaWRlcz10LiRzbGlkZVRyYWNrLmNoaWxkcmVuKHQub3B0aW9ucy5zbGlkZSkuYWRkQ2xhc3MoInNsaWNrLXNsaWRlIik7dC5zbGlkZUNvdW50PXQuJHNsaWRlcy5sZW5ndGg7dC5jdXJyZW50U2xpZGU+PXQuc2xpZGVDb3VudCYmMCE9PXQuY3VycmVudFNsaWRlJiYodC5jdXJyZW50U2xpZGU9dC5jdXJyZW50U2xpZGUtdC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKTt0LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3cmJih0LmN1cnJlbnRTbGlkZT0wKTt0LnJlZ2lzdGVyQnJlYWtwb2ludHMoKTt0LnNldFByb3BzKCk7dC5zZXR1cEluZmluaXRlKCk7dC5idWlsZEFycm93cygpO3QudXBkYXRlQXJyb3dzKCk7dC5pbml0QXJyb3dFdmVudHMoKTt0LmJ1aWxkRG90cygpO3QudXBkYXRlRG90cygpO3QuaW5pdERvdEV2ZW50cygpO3QuY2xlYW5VcFNsaWRlRXZlbnRzKCk7dC5pbml0U2xpZGVFdmVudHMoKTt0LmNoZWNrUmVzcG9uc2l2ZSghMSwhMCk7ITA9PT10Lm9wdGlvbnMuZm9jdXNPblNlbGVjdCYmbih0LiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9uKCJjbGljay5zbGljayIsdC5zZWxlY3RIYW5kbGVyKTt0LnNldFNsaWRlQ2xhc3NlcygibnVtYmVyIj09dHlwZW9mIHQuY3VycmVudFNsaWRlP3QuY3VycmVudFNsaWRlOjApO3Quc2V0UG9zaXRpb24oKTt0LmZvY3VzSGFuZGxlcigpO3QucGF1c2VkPSF0Lm9wdGlvbnMuYXV0b3BsYXk7dC5hdXRvUGxheSgpO3QuJHNsaWRlci50cmlnZ2VyKCJyZUluaXQiLFt0XSl9O3QucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7bih3aW5kb3cpLndpZHRoKCkhPT10LndpbmRvd1dpZHRoJiYoY2xlYXJUaW1lb3V0KHQud2luZG93RGVsYXkpLHQud2luZG93RGVsYXk9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LndpbmRvd1dpZHRoPW4od2luZG93KS53aWR0aCgpO3QuY2hlY2tSZXNwb25zaXZlKCk7dC51bnNsaWNrZWR8fHQuc2V0UG9zaXRpb24oKX0sNTApKX07dC5wcm90b3R5cGUucmVtb3ZlU2xpZGU9dC5wcm90b3R5cGUuc2xpY2tSZW1vdmU9ZnVuY3Rpb24obix0LGkpe3ZhciByPXRoaXM7aWYobj0iYm9vbGVhbiI9PXR5cGVvZiBuPyEwPT09KHQ9bik/MDpyLnNsaWRlQ291bnQtMTohMD09PXQ/LS1uOm4sci5zbGlkZUNvdW50PDF8fG48MHx8bj5yLnNsaWRlQ291bnQtMSlyZXR1cm4hMTtyLnVubG9hZCgpOyEwPT09aT9yLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCkucmVtb3ZlKCk6ci4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmVxKG4pLnJlbW92ZSgpO3IuJHNsaWRlcz1yLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSk7ci4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpO3IuJHNsaWRlVHJhY2suYXBwZW5kKHIuJHNsaWRlcyk7ci4kc2xpZGVzQ2FjaGU9ci4kc2xpZGVzO3IucmVpbml0KCl9O3QucHJvdG90eXBlLnNldENTUz1mdW5jdGlvbihuKXt2YXIgcix1LHQ9dGhpcyxpPXt9OyEwPT09dC5vcHRpb25zLnJ0bCYmKG49LW4pO3I9ImxlZnQiPT10LnBvc2l0aW9uUHJvcD9NYXRoLmNlaWwobikrInB4IjoiMHB4Ijt1PSJ0b3AiPT10LnBvc2l0aW9uUHJvcD9NYXRoLmNlaWwobikrInB4IjoiMHB4IjtpW3QucG9zaXRpb25Qcm9wXT1uOyExPT09dC50cmFuc2Zvcm1zRW5hYmxlZD90LiRzbGlkZVRyYWNrLmNzcyhpKTooaT17fSwhMT09PXQuY3NzVHJhbnNpdGlvbnM/KGlbdC5hbmltVHlwZV09InRyYW5zbGF0ZSgiK3IrIiwgIit1KyIpIix0LiRzbGlkZVRyYWNrLmNzcyhpKSk6KGlbdC5hbmltVHlwZV09InRyYW5zbGF0ZTNkKCIrcisiLCAiK3UrIiwgMHB4KSIsdC4kc2xpZGVUcmFjay5jc3MoaSkpKX07dC5wcm90b3R5cGUuc2V0RGltZW5zaW9ucz1mdW5jdGlvbigpe3ZhciBuPXRoaXMsdDshMT09PW4ub3B0aW9ucy52ZXJ0aWNhbD8hMD09PW4ub3B0aW9ucy5jZW50ZXJNb2RlJiZuLiRsaXN0LmNzcyh7cGFkZGluZzoiMHB4ICIrbi5vcHRpb25zLmNlbnRlclBhZGRpbmd9KToobi4kbGlzdC5oZWlnaHQobi4kc2xpZGVzLmZpcnN0KCkub3V0ZXJIZWlnaHQoITApKm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cpLCEwPT09bi5vcHRpb25zLmNlbnRlck1vZGUmJm4uJGxpc3QuY3NzKHtwYWRkaW5nOm4ub3B0aW9ucy5jZW50ZXJQYWRkaW5nKyIgMHB4In0pKTtuLmxpc3RXaWR0aD1uLiRsaXN0LndpZHRoKCk7bi5saXN0SGVpZ2h0PW4uJGxpc3QuaGVpZ2h0KCk7ITE9PT1uLm9wdGlvbnMudmVydGljYWwmJiExPT09bi5vcHRpb25zLnZhcmlhYmxlV2lkdGg/KG4uc2xpZGVXaWR0aD1NYXRoLmNlaWwobi5saXN0V2lkdGgvbi5vcHRpb25zLnNsaWRlc1RvU2hvdyksbi4kc2xpZGVUcmFjay53aWR0aChNYXRoLmNlaWwobi5zbGlkZVdpZHRoKm4uJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmxlbmd0aCkpKTohMD09PW4ub3B0aW9ucy52YXJpYWJsZVdpZHRoP24uJHNsaWRlVHJhY2sud2lkdGgoNWUzKm4uc2xpZGVDb3VudCk6KG4uc2xpZGVXaWR0aD1NYXRoLmNlaWwobi5saXN0V2lkdGgpLG4uJHNsaWRlVHJhY2suaGVpZ2h0KE1hdGguY2VpbChuLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCghMCkqbi4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikubGVuZ3RoKSkpO3Q9bi4kc2xpZGVzLmZpcnN0KCkub3V0ZXJXaWR0aCghMCktbi4kc2xpZGVzLmZpcnN0KCkud2lkdGgoKTshMT09PW4ub3B0aW9ucy52YXJpYWJsZVdpZHRoJiZuLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS53aWR0aChuLnNsaWRlV2lkdGgtdCl9O3QucHJvdG90eXBlLnNldEZhZGU9ZnVuY3Rpb24oKXt2YXIgaSx0PXRoaXM7dC4kc2xpZGVzLmVhY2goZnVuY3Rpb24ocix1KXtpPXQuc2xpZGVXaWR0aCpyKi0xOyEwPT09dC5vcHRpb25zLnJ0bD9uKHUpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixyaWdodDppLHRvcDowLHpJbmRleDp0Lm9wdGlvbnMuekluZGV4LTIsb3BhY2l0eTowfSk6bih1KS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsbGVmdDppLHRvcDowLHpJbmRleDp0Lm9wdGlvbnMuekluZGV4LTIsb3BhY2l0eTowfSl9KTt0LiRzbGlkZXMuZXEodC5jdXJyZW50U2xpZGUpLmNzcyh7ekluZGV4OnQub3B0aW9ucy56SW5kZXgtMSxvcGFjaXR5OjF9KX07dC5wcm90b3R5cGUuc2V0SGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0OzE9PT1uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYhMD09PW4ub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCYmITE9PT1uLm9wdGlvbnMudmVydGljYWwmJih0PW4uJHNsaWRlcy5lcShuLmN1cnJlbnRTbGlkZSkub3V0ZXJIZWlnaHQoITApLG4uJGxpc3QuY3NzKCJoZWlnaHQiLHQpKX07dC5wcm90b3R5cGUuc2V0T3B0aW9uPXQucHJvdG90eXBlLnNsaWNrU2V0T3B0aW9uPWZ1bmN0aW9uKCl7dmFyIHUsZixlLGkscix0PXRoaXMsbz0hMTtpZigib2JqZWN0Ij09PW4udHlwZShhcmd1bWVudHNbMF0pPyhlPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxyPSJtdWx0aXBsZSIpOiJzdHJpbmciPT09bi50eXBlKGFyZ3VtZW50c1swXSkmJihlPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXSwicmVzcG9uc2l2ZSI9PT1hcmd1bWVudHNbMF0mJiJhcnJheSI9PT1uLnR5cGUoYXJndW1lbnRzWzFdKT9yPSJyZXNwb25zaXZlIjp2b2lkIDAhPT1hcmd1bWVudHNbMV0mJihyPSJzaW5nbGUiKSksInNpbmdsZSI9PT1yKXQub3B0aW9uc1tlXT1pO2Vsc2UgaWYoIm11bHRpcGxlIj09PXIpbi5lYWNoKGUsZnVuY3Rpb24obixpKXt0Lm9wdGlvbnNbbl09aX0pO2Vsc2UgaWYoInJlc3BvbnNpdmUiPT09cilmb3IoZiBpbiBpKWlmKCJhcnJheSIhPT1uLnR5cGUodC5vcHRpb25zLnJlc3BvbnNpdmUpKXQub3B0aW9ucy5yZXNwb25zaXZlPVtpW2ZdXTtlbHNle2Zvcih1PXQub3B0aW9ucy5yZXNwb25zaXZlLmxlbmd0aC0xO3U+PTA7KXQub3B0aW9ucy5yZXNwb25zaXZlW3VdLmJyZWFrcG9pbnQ9PT1pW2ZdLmJyZWFrcG9pbnQmJnQub3B0aW9ucy5yZXNwb25zaXZlLnNwbGljZSh1LDEpLHUtLTt0Lm9wdGlvbnMucmVzcG9uc2l2ZS5wdXNoKGlbZl0pfW8mJih0LnVubG9hZCgpLHQucmVpbml0KCkpfTt0LnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5zZXREaW1lbnNpb25zKCk7bi5zZXRIZWlnaHQoKTshMT09PW4ub3B0aW9ucy5mYWRlP24uc2V0Q1NTKG4uZ2V0TGVmdChuLmN1cnJlbnRTbGlkZSkpOm4uc2V0RmFkZSgpO24uJHNsaWRlci50cmlnZ2VyKCJzZXRQb3NpdGlvbiIsW25dKX07dC5wcm90b3R5cGUuc2V0UHJvcHM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9ZG9jdW1lbnQuYm9keS5zdHlsZTtuLnBvc2l0aW9uUHJvcD0hMD09PW4ub3B0aW9ucy52ZXJ0aWNhbD8idG9wIjoibGVmdCI7InRvcCI9PT1uLnBvc2l0aW9uUHJvcD9uLiRzbGlkZXIuYWRkQ2xhc3MoInNsaWNrLXZlcnRpY2FsIik6bi4kc2xpZGVyLnJlbW92ZUNsYXNzKCJzbGljay12ZXJ0aWNhbCIpO3ZvaWQgMD09PXQuV2Via2l0VHJhbnNpdGlvbiYmdm9pZCAwPT09dC5Nb3pUcmFuc2l0aW9uJiZ2b2lkIDA9PT10Lm1zVHJhbnNpdGlvbnx8ITA9PT1uLm9wdGlvbnMudXNlQ1NTJiYobi5jc3NUcmFuc2l0aW9ucz0hMCk7bi5vcHRpb25zLmZhZGUmJigibnVtYmVyIj09dHlwZW9mIG4ub3B0aW9ucy56SW5kZXg/bi5vcHRpb25zLnpJbmRleDwzJiYobi5vcHRpb25zLnpJbmRleD0zKTpuLm9wdGlvbnMuekluZGV4PW4uZGVmYXVsdHMuekluZGV4KTt2b2lkIDAhPT10Lk9UcmFuc2Zvcm0mJihuLmFuaW1UeXBlPSJPVHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9Ii1vLXRyYW5zZm9ybSIsbi50cmFuc2l0aW9uVHlwZT0iT1RyYW5zaXRpb24iLHZvaWQgMD09PXQucGVyc3BlY3RpdmVQcm9wZXJ0eSYmdm9pZCAwPT09dC53ZWJraXRQZXJzcGVjdGl2ZSYmKG4uYW5pbVR5cGU9ITEpKTt2b2lkIDAhPT10Lk1velRyYW5zZm9ybSYmKG4uYW5pbVR5cGU9Ik1velRyYW5zZm9ybSIsbi50cmFuc2Zvcm1UeXBlPSItbW96LXRyYW5zZm9ybSIsbi50cmFuc2l0aW9uVHlwZT0iTW96VHJhbnNpdGlvbiIsdm9pZCAwPT09dC5wZXJzcGVjdGl2ZVByb3BlcnR5JiZ2b2lkIDA9PT10Lk1velBlcnNwZWN0aXZlJiYobi5hbmltVHlwZT0hMSkpO3ZvaWQgMCE9PXQud2Via2l0VHJhbnNmb3JtJiYobi5hbmltVHlwZT0id2Via2l0VHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9Ii13ZWJraXQtdHJhbnNmb3JtIixuLnRyYW5zaXRpb25UeXBlPSJ3ZWJraXRUcmFuc2l0aW9uIix2b2lkIDA9PT10LnBlcnNwZWN0aXZlUHJvcGVydHkmJnZvaWQgMD09PXQud2Via2l0UGVyc3BlY3RpdmUmJihuLmFuaW1UeXBlPSExKSk7dm9pZCAwIT09dC5tc1RyYW5zZm9ybSYmKG4uYW5pbVR5cGU9Im1zVHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9Ii1tcy10cmFuc2Zvcm0iLG4udHJhbnNpdGlvblR5cGU9Im1zVHJhbnNpdGlvbiIsdm9pZCAwPT09dC5tc1RyYW5zZm9ybSYmKG4uYW5pbVR5cGU9ITEpKTt2b2lkIDAhPT10LnRyYW5zZm9ybSYmITEhPT1uLmFuaW1UeXBlJiYobi5hbmltVHlwZT0idHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9InRyYW5zZm9ybSIsbi50cmFuc2l0aW9uVHlwZT0idHJhbnNpdGlvbiIpO24udHJhbnNmb3Jtc0VuYWJsZWQ9bi5vcHRpb25zLnVzZVRyYW5zZm9ybSYmbnVsbCE9PW4uYW5pbVR5cGUmJiExIT09bi5hbmltVHlwZX07dC5wcm90b3R5cGUuc2V0U2xpZGVDbGFzc2VzPWZ1bmN0aW9uKG4pe3ZhciB1LGkscixmLHQ9dGhpcyxlOyhpPXQuJHNsaWRlci5maW5kKCIuc2xpY2stc2xpZGUiKS5yZW1vdmVDbGFzcygic2xpY2stYWN0aXZlIHNsaWNrLWNlbnRlciBzbGljay1jdXJyZW50IikuYXR0cigiYXJpYS1oaWRkZW4iLCJ0cnVlIiksdC4kc2xpZGVzLmVxKG4pLmFkZENsYXNzKCJzbGljay1jdXJyZW50IiksITA9PT10Lm9wdGlvbnMuY2VudGVyTW9kZSk/KGU9dC5vcHRpb25zLnNsaWRlc1RvU2hvdyUyPT0wPzE6MCx1PU1hdGguZmxvb3IodC5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKSwhMD09PXQub3B0aW9ucy5pbmZpbml0ZSYmKG4+PXUmJm48PXQuc2xpZGVDb3VudC0xLXU/dC4kc2xpZGVzLnNsaWNlKG4tdStlLG4rdSsxKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpOihyPXQub3B0aW9ucy5zbGlkZXNUb1Nob3crbixpLnNsaWNlKHItdSsxK2Uscit1KzIpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikpLDA9PT1uP2kuZXEoaS5sZW5ndGgtMS10Lm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcygic2xpY2stY2VudGVyIik6bj09PXQuc2xpZGVDb3VudC0xJiZpLmVxKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1jZW50ZXIiKSksdC4kc2xpZGVzLmVxKG4pLmFkZENsYXNzKCJzbGljay1jZW50ZXIiKSk6bj49MCYmbjw9dC5zbGlkZUNvdW50LXQub3B0aW9ucy5zbGlkZXNUb1Nob3c/dC4kc2xpZGVzLnNsaWNlKG4sbit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpOmkubGVuZ3RoPD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93P2kuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKTooZj10LnNsaWRlQ291bnQldC5vcHRpb25zLnNsaWRlc1RvU2hvdyxyPSEwPT09dC5vcHRpb25zLmluZmluaXRlP3Qub3B0aW9ucy5zbGlkZXNUb1Nob3crbjpuLHQub3B0aW9ucy5zbGlkZXNUb1Nob3c9PXQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCYmdC5zbGlkZUNvdW50LW48dC5vcHRpb25zLnNsaWRlc1RvU2hvdz9pLnNsaWNlKHItKHQub3B0aW9ucy5zbGlkZXNUb1Nob3ctZikscitmKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpOmkuc2xpY2UocixyK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikpOyJvbmRlbWFuZCIhPT10Lm9wdGlvbnMubGF6eUxvYWQmJiJhbnRpY2lwYXRlZCIhPT10Lm9wdGlvbnMubGF6eUxvYWR8fHQubGF6eUxvYWQoKX07dC5wcm90b3R5cGUuc2V0dXBJbmZpbml0ZT1mdW5jdGlvbigpe3ZhciBpLHIsdSx0PXRoaXM7aWYoITA9PT10Lm9wdGlvbnMuZmFkZSYmKHQub3B0aW9ucy5jZW50ZXJNb2RlPSExKSwhMD09PXQub3B0aW9ucy5pbmZpbml0ZSYmITE9PT10Lm9wdGlvbnMuZmFkZSYmKHI9bnVsbCx0LnNsaWRlQ291bnQ+dC5vcHRpb25zLnNsaWRlc1RvU2hvdykpe2Zvcih1PSEwPT09dC5vcHRpb25zLmNlbnRlck1vZGU/dC5vcHRpb25zLnNsaWRlc1RvU2hvdysxOnQub3B0aW9ucy5zbGlkZXNUb1Nob3csaT10LnNsaWRlQ291bnQ7aT50LnNsaWRlQ291bnQtdTtpLT0xKXI9aS0xLG4odC4kc2xpZGVzW3JdKS5jbG9uZSghMCkuYXR0cigiaWQiLCIiKS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4IixyLXQuc2xpZGVDb3VudCkucHJlcGVuZFRvKHQuJHNsaWRlVHJhY2spLmFkZENsYXNzKCJzbGljay1jbG9uZWQiKTtmb3IoaT0wO2k8dSt0LnNsaWRlQ291bnQ7aSs9MSlyPWksbih0LiRzbGlkZXNbcl0pLmNsb25lKCEwKS5hdHRyKCJpZCIsIiIpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiLHIrdC5zbGlkZUNvdW50KS5hcHBlbmRUbyh0LiRzbGlkZVRyYWNrKS5hZGRDbGFzcygic2xpY2stY2xvbmVkIik7dC4kc2xpZGVUcmFjay5maW5kKCIuc2xpY2stY2xvbmVkIikuZmluZCgiW2lkXSIpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmF0dHIoImlkIiwiIil9KX19O3QucHJvdG90eXBlLmludGVycnVwdD1mdW5jdGlvbihuKXt2YXIgdD10aGlzO258fHQuYXV0b1BsYXkoKTt0LmludGVycnVwdGVkPW59O3QucHJvdG90eXBlLnNlbGVjdEhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcyx1PW4odC50YXJnZXQpLmlzKCIuc2xpY2stc2xpZGUiKT9uKHQudGFyZ2V0KTpuKHQudGFyZ2V0KS5wYXJlbnRzKCIuc2xpY2stc2xpZGUiKSxyPXBhcnNlSW50KHUuYXR0cigiZGF0YS1zbGljay1pbmRleCIpKTtyfHwocj0wKTtpLnNsaWRlQ291bnQ8PWkub3B0aW9ucy5zbGlkZXNUb1Nob3c/aS5zbGlkZUhhbmRsZXIociwhMSwhMCk6aS5zbGlkZUhhbmRsZXIocil9O3QucHJvdG90eXBlLnNsaWRlSGFuZGxlcj1mdW5jdGlvbihuLHQsaSl7dmFyIHUsZixzLGUsbyxoPW51bGwscj10aGlzO2lmKHQ9dHx8ITEsISghMD09PXIuYW5pbWF0aW5nJiYhMD09PXIub3B0aW9ucy53YWl0Rm9yQW5pbWF0ZXx8ITA9PT1yLm9wdGlvbnMuZmFkZSYmci5jdXJyZW50U2xpZGU9PT1uKSlpZighMT09PXQmJnIuYXNOYXZGb3IobiksdT1uLGg9ci5nZXRMZWZ0KHUpLGU9ci5nZXRMZWZ0KHIuY3VycmVudFNsaWRlKSxyLmN1cnJlbnRMZWZ0PW51bGw9PT1yLnN3aXBlTGVmdD9lOnIuc3dpcGVMZWZ0LCExPT09ci5vcHRpb25zLmluZmluaXRlJiYhMT09PXIub3B0aW9ucy5jZW50ZXJNb2RlJiYobjwwfHxuPnIuZ2V0RG90Q291bnQoKSpyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpKSExPT09ci5vcHRpb25zLmZhZGUmJih1PXIuY3VycmVudFNsaWRlLCEwIT09aT9yLmFuaW1hdGVTbGlkZShlLGZ1bmN0aW9uKCl7ci5wb3N0U2xpZGUodSl9KTpyLnBvc3RTbGlkZSh1KSk7ZWxzZSBpZighMT09PXIub3B0aW9ucy5pbmZpbml0ZSYmITA9PT1yLm9wdGlvbnMuY2VudGVyTW9kZSYmKG48MHx8bj5yLnNsaWRlQ291bnQtci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSkhMT09PXIub3B0aW9ucy5mYWRlJiYodT1yLmN1cnJlbnRTbGlkZSwhMCE9PWk/ci5hbmltYXRlU2xpZGUoZSxmdW5jdGlvbigpe3IucG9zdFNsaWRlKHUpfSk6ci5wb3N0U2xpZGUodSkpO2Vsc2V7aWYoci5vcHRpb25zLmF1dG9wbGF5JiZjbGVhckludGVydmFsKHIuYXV0b1BsYXlUaW1lciksZj11PDA/ci5zbGlkZUNvdW50JXIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCE9MD9yLnNsaWRlQ291bnQtci5zbGlkZUNvdW50JXIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDpyLnNsaWRlQ291bnQrdTp1Pj1yLnNsaWRlQ291bnQ/ci5zbGlkZUNvdW50JXIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCE9MD8wOnUtci5zbGlkZUNvdW50OnUsci5hbmltYXRpbmc9ITAsci4kc2xpZGVyLnRyaWdnZXIoImJlZm9yZUNoYW5nZSIsW3Isci5jdXJyZW50U2xpZGUsZl0pLHM9ci5jdXJyZW50U2xpZGUsci5jdXJyZW50U2xpZGU9ZixyLnNldFNsaWRlQ2xhc3NlcyhyLmN1cnJlbnRTbGlkZSksci5vcHRpb25zLmFzTmF2Rm9yJiYobz0obz1yLmdldE5hdlRhcmdldCgpKS5zbGljaygiZ2V0U2xpY2siKSkuc2xpZGVDb3VudDw9by5vcHRpb25zLnNsaWRlc1RvU2hvdyYmby5zZXRTbGlkZUNsYXNzZXMoci5jdXJyZW50U2xpZGUpLHIudXBkYXRlRG90cygpLHIudXBkYXRlQXJyb3dzKCksITA9PT1yLm9wdGlvbnMuZmFkZSlyZXR1cm4hMCE9PWk/KHIuZmFkZVNsaWRlT3V0KHMpLHIuZmFkZVNsaWRlKGYsZnVuY3Rpb24oKXtyLnBvc3RTbGlkZShmKX0pKTpyLnBvc3RTbGlkZShmKSx2b2lkIHIuYW5pbWF0ZUhlaWdodCgpOyEwIT09aT9yLmFuaW1hdGVTbGlkZShoLGZ1bmN0aW9uKCl7ci5wb3N0U2xpZGUoZil9KTpyLnBvc3RTbGlkZShmKX19O3QucHJvdG90eXBlLnN0YXJ0TG9hZD1mdW5jdGlvbigpe3ZhciBuPXRoaXM7ITA9PT1uLm9wdGlvbnMuYXJyb3dzJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKG4uJHByZXZBcnJvdy5oaWRlKCksbi4kbmV4dEFycm93LmhpZGUoKSk7ITA9PT1uLm9wdGlvbnMuZG90cyYmbi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJm4uJGRvdHMuaGlkZSgpO24uJHNsaWRlci5hZGRDbGFzcygic2xpY2stbG9hZGluZyIpfTt0LnByb3RvdHlwZS5zd2lwZURpcmVjdGlvbj1mdW5jdGlvbigpe3ZhciBpLHIsdSxuLHQ9dGhpcztyZXR1cm4gaT10LnRvdWNoT2JqZWN0LnN0YXJ0WC10LnRvdWNoT2JqZWN0LmN1clgscj10LnRvdWNoT2JqZWN0LnN0YXJ0WS10LnRvdWNoT2JqZWN0LmN1clksdT1NYXRoLmF0YW4yKHIsaSksKG49TWF0aC5yb3VuZCgxODAqdS9NYXRoLlBJKSk8MCYmKG49MzYwLU1hdGguYWJzKG4pKSxuPD00NSYmbj49MD8hMT09PXQub3B0aW9ucy5ydGw/ImxlZnQiOiJyaWdodCI6bjw9MzYwJiZuPj0zMTU/ITE9PT10Lm9wdGlvbnMucnRsPyJsZWZ0IjoicmlnaHQiOm4+PTEzNSYmbjw9MjI1PyExPT09dC5vcHRpb25zLnJ0bD8icmlnaHQiOiJsZWZ0IjohMD09PXQub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmc/bj49MzUmJm48PTEzNT8iZG93biI6InVwIjoidmVydGljYWwifTt0LnByb3RvdHlwZS5zd2lwZUVuZD1mdW5jdGlvbigpe3ZhciB0LGksbj10aGlzO2lmKG4uZHJhZ2dpbmc9ITEsbi5zd2lwaW5nPSExLG4uc2Nyb2xsaW5nKXJldHVybiBuLnNjcm9sbGluZz0hMSwhMTtpZihuLmludGVycnVwdGVkPSExLG4uc2hvdWxkQ2xpY2s9IShuLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoPjEwKSx2b2lkIDA9PT1uLnRvdWNoT2JqZWN0LmN1clgpcmV0dXJuITE7aWYoITA9PT1uLnRvdWNoT2JqZWN0LmVkZ2VIaXQmJm4uJHNsaWRlci50cmlnZ2VyKCJlZGdlIixbbixuLnN3aXBlRGlyZWN0aW9uKCldKSxuLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoPj1uLnRvdWNoT2JqZWN0Lm1pblN3aXBlKXtzd2l0Y2goaT1uLnN3aXBlRGlyZWN0aW9uKCkpe2Nhc2UibGVmdCI6Y2FzZSJkb3duIjp0PW4ub3B0aW9ucy5zd2lwZVRvU2xpZGU/bi5jaGVja05hdmlnYWJsZShuLmN1cnJlbnRTbGlkZStuLmdldFNsaWRlQ291bnQoKSk6bi5jdXJyZW50U2xpZGUrbi5nZXRTbGlkZUNvdW50KCk7bi5jdXJyZW50RGlyZWN0aW9uPTA7YnJlYWs7Y2FzZSJyaWdodCI6Y2FzZSJ1cCI6dD1uLm9wdGlvbnMuc3dpcGVUb1NsaWRlP24uY2hlY2tOYXZpZ2FibGUobi5jdXJyZW50U2xpZGUtbi5nZXRTbGlkZUNvdW50KCkpOm4uY3VycmVudFNsaWRlLW4uZ2V0U2xpZGVDb3VudCgpO24uY3VycmVudERpcmVjdGlvbj0xfSJ2ZXJ0aWNhbCIhPWkmJihuLnNsaWRlSGFuZGxlcih0KSxuLnRvdWNoT2JqZWN0PXt9LG4uJHNsaWRlci50cmlnZ2VyKCJzd2lwZSIsW24saV0pKX1lbHNlIG4udG91Y2hPYmplY3Quc3RhcnRYIT09bi50b3VjaE9iamVjdC5jdXJYJiYobi5zbGlkZUhhbmRsZXIobi5jdXJyZW50U2xpZGUpLG4udG91Y2hPYmplY3Q9e30pfTt0LnByb3RvdHlwZS5zd2lwZUhhbmRsZXI9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztpZighKCExPT09dC5vcHRpb25zLnN3aXBlfHwib250b3VjaGVuZCJpbiBkb2N1bWVudCYmITE9PT10Lm9wdGlvbnMuc3dpcGV8fCExPT09dC5vcHRpb25zLmRyYWdnYWJsZSYmLTEhPT1uLnR5cGUuaW5kZXhPZigibW91c2UiKSkpc3dpdGNoKHQudG91Y2hPYmplY3QuZmluZ2VyQ291bnQ9bi5vcmlnaW5hbEV2ZW50JiZ2b2lkIDAhPT1uLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9uLm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGg6MSx0LnRvdWNoT2JqZWN0Lm1pblN3aXBlPXQubGlzdFdpZHRoL3Qub3B0aW9ucy50b3VjaFRocmVzaG9sZCwhMD09PXQub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcmJih0LnRvdWNoT2JqZWN0Lm1pblN3aXBlPXQubGlzdEhlaWdodC90Lm9wdGlvbnMudG91Y2hUaHJlc2hvbGQpLG4uZGF0YS5hY3Rpb24pe2Nhc2Uic3RhcnQiOnQuc3dpcGVTdGFydChuKTticmVhaztjYXNlIm1vdmUiOnQuc3dpcGVNb3ZlKG4pO2JyZWFrO2Nhc2UiZW5kIjp0LnN3aXBlRW5kKG4pfX07dC5wcm90b3R5cGUuc3dpcGVNb3ZlPWZ1bmN0aW9uKG4pe3ZhciBmLGUscix1LGksbyx0PXRoaXM7cmV0dXJuIGk9dm9pZCAwIT09bi5vcmlnaW5hbEV2ZW50P24ub3JpZ2luYWxFdmVudC50b3VjaGVzOm51bGwsISghdC5kcmFnZ2luZ3x8dC5zY3JvbGxpbmd8fGkmJjEhPT1pLmxlbmd0aCkmJihmPXQuZ2V0TGVmdCh0LmN1cnJlbnRTbGlkZSksdC50b3VjaE9iamVjdC5jdXJYPXZvaWQgMCE9PWk/aVswXS5wYWdlWDpuLmNsaWVudFgsdC50b3VjaE9iamVjdC5jdXJZPXZvaWQgMCE9PWk/aVswXS5wYWdlWTpuLmNsaWVudFksdC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD1NYXRoLnJvdW5kKE1hdGguc3FydChNYXRoLnBvdyh0LnRvdWNoT2JqZWN0LmN1clgtdC50b3VjaE9iamVjdC5zdGFydFgsMikpKSxvPU1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KHQudG91Y2hPYmplY3QuY3VyWS10LnRvdWNoT2JqZWN0LnN0YXJ0WSwyKSkpLCF0Lm9wdGlvbnMudmVydGljYWxTd2lwaW5nJiYhdC5zd2lwaW5nJiZvPjQ/KHQuc2Nyb2xsaW5nPSEwLCExKTooITA9PT10Lm9wdGlvbnMudmVydGljYWxTd2lwaW5nJiYodC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD1vKSxlPXQuc3dpcGVEaXJlY3Rpb24oKSx2b2lkIDAhPT1uLm9yaWdpbmFsRXZlbnQmJnQudG91Y2hPYmplY3Quc3dpcGVMZW5ndGg+NCYmKHQuc3dpcGluZz0hMCxuLnByZXZlbnREZWZhdWx0KCkpLHU9KCExPT09dC5vcHRpb25zLnJ0bD8xOi0xKSoodC50b3VjaE9iamVjdC5jdXJYPnQudG91Y2hPYmplY3Quc3RhcnRYPzE6LTEpLCEwPT09dC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyYmKHU9dC50b3VjaE9iamVjdC5jdXJZPnQudG91Y2hPYmplY3Quc3RhcnRZPzE6LTEpLHI9dC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCx0LnRvdWNoT2JqZWN0LmVkZ2VIaXQ9ITEsITE9PT10Lm9wdGlvbnMuaW5maW5pdGUmJigwPT09dC5jdXJyZW50U2xpZGUmJiJyaWdodCI9PT1lfHx0LmN1cnJlbnRTbGlkZT49dC5nZXREb3RDb3VudCgpJiYibGVmdCI9PT1lKSYmKHI9dC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCp0Lm9wdGlvbnMuZWRnZUZyaWN0aW9uLHQudG91Y2hPYmplY3QuZWRnZUhpdD0hMCksdC5zd2lwZUxlZnQ9ITE9PT10Lm9wdGlvbnMudmVydGljYWw/ZityKnU6ZityKih0LiRsaXN0LmhlaWdodCgpL3QubGlzdFdpZHRoKSp1LCEwPT09dC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyYmKHQuc3dpcGVMZWZ0PWYrcip1KSwhMCE9PXQub3B0aW9ucy5mYWRlJiYhMSE9PXQub3B0aW9ucy50b3VjaE1vdmUmJighMD09PXQuYW5pbWF0aW5nPyh0LnN3aXBlTGVmdD1udWxsLCExKTp2b2lkIHQuc2V0Q1NTKHQuc3dpcGVMZWZ0KSkpKX07dC5wcm90b3R5cGUuc3dpcGVTdGFydD1mdW5jdGlvbihuKXt2YXIgaSx0PXRoaXM7aWYodC5pbnRlcnJ1cHRlZD0hMCwxIT09dC50b3VjaE9iamVjdC5maW5nZXJDb3VudHx8dC5zbGlkZUNvdW50PD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93KXJldHVybiB0LnRvdWNoT2JqZWN0PXt9LCExO3ZvaWQgMCE9PW4ub3JpZ2luYWxFdmVudCYmdm9pZCAwIT09bi5vcmlnaW5hbEV2ZW50LnRvdWNoZXMmJihpPW4ub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdKTt0LnRvdWNoT2JqZWN0LnN0YXJ0WD10LnRvdWNoT2JqZWN0LmN1clg9dm9pZCAwIT09aT9pLnBhZ2VYOm4uY2xpZW50WDt0LnRvdWNoT2JqZWN0LnN0YXJ0WT10LnRvdWNoT2JqZWN0LmN1clk9dm9pZCAwIT09aT9pLnBhZ2VZOm4uY2xpZW50WTt0LmRyYWdnaW5nPSEwfTt0LnByb3RvdHlwZS51bmZpbHRlclNsaWRlcz10LnByb3RvdHlwZS5zbGlja1VuZmlsdGVyPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztudWxsIT09bi4kc2xpZGVzQ2FjaGUmJihuLnVubG9hZCgpLG4uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSxuLiRzbGlkZXNDYWNoZS5hcHBlbmRUbyhuLiRzbGlkZVRyYWNrKSxuLnJlaW5pdCgpKX07dC5wcm90b3R5cGUudW5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztuKCIuc2xpY2stY2xvbmVkIix0LiRzbGlkZXIpLnJlbW92ZSgpO3QuJGRvdHMmJnQuJGRvdHMucmVtb3ZlKCk7dC4kcHJldkFycm93JiZ0Lmh0bWxFeHByLnRlc3QodC5vcHRpb25zLnByZXZBcnJvdykmJnQuJHByZXZBcnJvdy5yZW1vdmUoKTt0LiRuZXh0QXJyb3cmJnQuaHRtbEV4cHIudGVzdCh0Lm9wdGlvbnMubmV4dEFycm93KSYmdC4kbmV4dEFycm93LnJlbW92ZSgpO3QuJHNsaWRlcy5yZW1vdmVDbGFzcygic2xpY2stc2xpZGUgc2xpY2stYWN0aXZlIHNsaWNrLXZpc2libGUgc2xpY2stY3VycmVudCIpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLmNzcygid2lkdGgiLCIiKX07dC5wcm90b3R5cGUudW5zbGljaz1mdW5jdGlvbihuKXt2YXIgdD10aGlzO3QuJHNsaWRlci50cmlnZ2VyKCJ1bnNsaWNrIixbdCxuXSk7dC5kZXN0cm95KCl9O3QucHJvdG90eXBlLnVwZGF0ZUFycm93cz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7TWF0aC5mbG9vcihuLm9wdGlvbnMuc2xpZGVzVG9TaG93LzIpOyEwPT09bi5vcHRpb25zLmFycm93cyYmbi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJiFuLm9wdGlvbnMuaW5maW5pdGUmJihuLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsImZhbHNlIiksbi4kbmV4dEFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJmYWxzZSIpLDA9PT1uLmN1cnJlbnRTbGlkZT8obi4kcHJldkFycm93LmFkZENsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksbi4kbmV4dEFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJmYWxzZSIpKTpuLmN1cnJlbnRTbGlkZT49bi5zbGlkZUNvdW50LW4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJiExPT09bi5vcHRpb25zLmNlbnRlck1vZGU/KG4uJG5leHRBcnJvdy5hZGRDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwidHJ1ZSIpLG4uJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwiZmFsc2UiKSk6bi5jdXJyZW50U2xpZGU+PW4uc2xpZGVDb3VudC0xJiYhMD09PW4ub3B0aW9ucy5jZW50ZXJNb2RlJiYobi4kbmV4dEFycm93LmFkZENsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksbi4kcHJldkFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJmYWxzZSIpKSl9O3QucHJvdG90eXBlLnVwZGF0ZURvdHM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO251bGwhPT1uLiRkb3RzJiYobi4kZG90cy5maW5kKCJsaSIpLnJlbW92ZUNsYXNzKCJzbGljay1hY3RpdmUiKS5lbmQoKSxuLiRkb3RzLmZpbmQoImxpIikuZXEoTWF0aC5mbG9vcihuLmN1cnJlbnRTbGlkZS9uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikpfTt0LnByb3RvdHlwZS52aXNpYmlsaXR5PWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLm9wdGlvbnMuYXV0b3BsYXkmJihuLmludGVycnVwdGVkPWRvY3VtZW50W24uaGlkZGVuXT8hMDohMSl9O24uZm4uc2xpY2s9ZnVuY3Rpb24oKXtmb3IodmFyIHUsaT10aGlzLHI9YXJndW1lbnRzWzBdLGY9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGU9aS5sZW5ndGgsbj0wO248ZTtuKyspaWYoIm9iamVjdCI9PXR5cGVvZiByfHx2b2lkIDA9PT1yP2lbbl0uc2xpY2s9bmV3IHQoaVtuXSxyKTp1PWlbbl0uc2xpY2tbcl0uYXBwbHkoaVtuXS5zbGljayxmKSx2b2lkIDAhPT11KXJldHVybiB1O3JldHVybiBpfX0pO3ZhciBBamF4Q2FydD17bG9hZFdhaXRpbmc6ITEsdXNlcG9wdXBub3RpZmljYXRpb25zOiExLHRvcGNhcnRzZWxlY3RvcjoiIix0b3B3aXNobGlzdHNlbGVjdG9yOiIiLGZseW91dGNhcnRzZWxlY3RvcjoiIixsb2NhbGl6ZWRfZGF0YTohMSxpbml0OmZ1bmN0aW9uKG4sdCxpLHIsdSl7dGhpcy5sb2FkV2FpdGluZz0hMTt0aGlzLnVzZXBvcHVwbm90aWZpY2F0aW9ucz1uO3RoaXMudG9wY2FydHNlbGVjdG9yPXQ7dGhpcy50b3B3aXNobGlzdHNlbGVjdG9yPWk7dGhpcy5mbHlvdXRjYXJ0c2VsZWN0b3I9cjt0aGlzLmxvY2FsaXplZF9kYXRhPXV9LHNldExvYWRXYWl0aW5nOmZ1bmN0aW9uKG4pe2Rpc3BsYXlBamF4TG9hZGluZyhuKTt0aGlzLmxvYWRXYWl0aW5nPW59LGFkZHByb2R1Y3R0b2NhcnRfY2F0YWxvZzpmdW5jdGlvbihuKXtpZih0aGlzLmxvYWRXYWl0aW5nPT09ITEpe3RoaXMuc2V0TG9hZFdhaXRpbmcoITApO3ZhciB0PXt9O2FkZEFudGlGb3JnZXJ5VG9rZW4odCk7JC5hamF4KHtjYWNoZTohMSx1cmw6bix0eXBlOiJQT1NUIixkYXRhOnQsc3VjY2Vzczp0aGlzLnN1Y2Nlc3NfcHJvY2Vzcyxjb21wbGV0ZTp0aGlzLnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6dGhpcy5hamF4RmFpbHVyZX0pfX0sYWRkcHJvZHVjdHRvY2FydF9kZXRhaWxzOmZ1bmN0aW9uKG4sdCl7dGhpcy5sb2FkV2FpdGluZz09PSExJiYodGhpcy5zZXRMb2FkV2FpdGluZyghMCksJC5hamF4KHtjYWNoZTohMSx1cmw6bixkYXRhOiQodCkuc2VyaWFsaXplKCksdHlwZToiUE9TVCIsc3VjY2Vzczp0aGlzLnN1Y2Nlc3NfcHJvY2Vzcyxjb21wbGV0ZTp0aGlzLnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6dGhpcy5hamF4RmFpbHVyZX0pKX0sYWRkcHJvZHVjdHRvY29tcGFyZWxpc3Q6ZnVuY3Rpb24obil7aWYodGhpcy5sb2FkV2FpdGluZz09PSExKXt0aGlzLnNldExvYWRXYWl0aW5nKCEwKTt2YXIgdD17fTthZGRBbnRpRm9yZ2VyeVRva2VuKHQpOyQuYWpheCh7Y2FjaGU6ITEsdXJsOm4sdHlwZToiUE9TVCIsZGF0YTp0LHN1Y2Nlc3M6dGhpcy5zdWNjZXNzX3Byb2Nlc3MsY29tcGxldGU6dGhpcy5yZXNldExvYWRXYWl0aW5nLGVycm9yOnRoaXMuYWpheEZhaWx1cmV9KX19LHN1Y2Nlc3NfcHJvY2VzczpmdW5jdGlvbihuKXtyZXR1cm4obi51cGRhdGV0b3BjYXJ0c2VjdGlvbmh0bWwmJiQoQWpheENhcnQudG9wY2FydHNlbGVjdG9yKS5odG1sKG4udXBkYXRldG9wY2FydHNlY3Rpb25odG1sKSxuLnVwZGF0ZXRvcHdpc2hsaXN0c2VjdGlvbmh0bWwmJiQoQWpheENhcnQudG9wd2lzaGxpc3RzZWxlY3RvcikuaHRtbChuLnVwZGF0ZXRvcHdpc2hsaXN0c2VjdGlvbmh0bWwpLG4udXBkYXRlZmx5b3V0Y2FydHNlY3Rpb25odG1sJiYkKEFqYXhDYXJ0LmZseW91dGNhcnRzZWxlY3RvcikucmVwbGFjZVdpdGgobi51cGRhdGVmbHlvdXRjYXJ0c2VjdGlvbmh0bWwpLG4ubWVzc2FnZSk/KG4uc3VjY2Vzcz09PSEwP0FqYXhDYXJ0LnVzZXBvcHVwbm90aWZpY2F0aW9ucz09PSEwP2Rpc3BsYXlQb3B1cE5vdGlmaWNhdGlvbihuLm1lc3NhZ2UsInN1Y2Nlc3MiLCEwKTpkaXNwbGF5QmFyTm90aWZpY2F0aW9uKG4ubWVzc2FnZSwic3VjY2VzcyIsMzUwMCk6QWpheENhcnQudXNlcG9wdXBub3RpZmljYXRpb25zPT09ITA/ZGlzcGxheVBvcHVwTm90aWZpY2F0aW9uKG4ubWVzc2FnZSwiZXJyb3IiLCEwKTpkaXNwbGF5QmFyTm90aWZpY2F0aW9uKG4ubWVzc2FnZSwiZXJyb3IiLDApLCExKTpuLnJlZGlyZWN0Pyhsb2NhdGlvbi5ocmVmPW4ucmVkaXJlY3QsITApOiExfSxyZXNldExvYWRXYWl0aW5nOmZ1bmN0aW9uKCl7QWpheENhcnQuc2V0TG9hZFdhaXRpbmcoITEpfSxhamF4RmFpbHVyZTpmdW5jdGlvbigpe2FsZXJ0KHRoaXMubG9jYWxpemVkX2RhdGEuQWpheENhcnRGYWlsdXJlKX19OytmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCgpe3ZhciB0PW4odGhpcyksdT10LnZhbCgpLGk9bih0LmRhdGEoInN0YXRlcHJvdmluY2UiKSkscjtpLmxlbmd0aCE9MCYmKHI9bih0LmRhdGEoImxvYWRpbmciKSksci5zaG93KCksbi5hamF4KHtjYWNoZTohMSx0eXBlOiJHRVQiLHVybDp0LmRhdGEoInVybCIpLGRhdGE6e2NvdW50cnlJZDp1LGFkZFNlbGVjdFN0YXRlSXRlbToidHJ1ZSJ9LHN1Y2Nlc3M6ZnVuY3Rpb24odCl7aS5odG1sKCIiKTtuLmVhY2godCxmdW5jdGlvbih0LHIpe2kuYXBwZW5kKG4oIjxvcHRpb24+PFwvb3B0aW9uPiIpLnZhbChyLmlkKS5odG1sKHIubmFtZSkpfSl9LGVycm9yOmZ1bmN0aW9uKCl7YWxlcnQoIkZhaWxlZCB0byByZXRyaWV2ZSBzdGF0ZXMuIil9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dHlwZW9mIEJpbGxpbmchPSJ1bmRlZmluZWQiP0JpbGxpbmcuc2VsZWN0ZWRTdGF0ZUlkOnR5cGVvZiBDaGVja291dEJpbGxpbmchPSJ1bmRlZmluZWQiP0NoZWNrb3V0QmlsbGluZy5zZWxlY3RlZFN0YXRlSWQ6MDtuKCIjIitpWzBdLmlkKyIgb3B0aW9uW3ZhbHVlPSIrdCsiXSIpLnByb3AoInNlbGVjdGVkIiwhMCk7ci5oaWRlKCl9fSkpfWlmKCJ1bmRlZmluZWQiPT10eXBlb2YgalF1ZXJ5KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IEpTIHJlcXVpcmVkIik7bihkb2N1bWVudCkuaGFzKCdbZGF0YS10cmlnZ2VyPSJjb3VudHJ5LXNlbGVjdCJdJykmJm4oJ3NlbGVjdFtkYXRhLXRyaWdnZXI9ImNvdW50cnktc2VsZWN0Il0nKS5jaGFuZ2UodCk7bi5mbi5jb3VudHJ5U2VsZWN0PWZ1bmN0aW9uKCl7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jaGFuZ2UodCl9KX19KGpRdWVyeSk7IWZ1bmN0aW9uKG4sdCxpLHIpe2Z1bmN0aW9uIHUodCxpKXt0aGlzLnNldHRpbmdzPW51bGw7dGhpcy5vcHRpb25zPW4uZXh0ZW5kKHt9LHUuRGVmYXVsdHMsaSk7dGhpcy4kZWxlbWVudD1uKHQpO3RoaXMuX2hhbmRsZXJzPXt9O3RoaXMuX3BsdWdpbnM9e307dGhpcy5fc3VwcmVzcz17fTt0aGlzLl9jdXJyZW50PW51bGw7dGhpcy5fc3BlZWQ9bnVsbDt0aGlzLl9jb29yZGluYXRlcz1bXTt0aGlzLl9icmVha3BvaW50PW51bGw7dGhpcy5fd2lkdGg9bnVsbDt0aGlzLl9pdGVtcz1bXTt0aGlzLl9jbG9uZXM9W107dGhpcy5fbWVyZ2Vycz1bXTt0aGlzLl93aWR0aHM9W107dGhpcy5faW52YWxpZGF0ZWQ9e307dGhpcy5fcGlwZT1bXTt0aGlzLl9kcmFnPXt0aW1lOm51bGwsdGFyZ2V0Om51bGwscG9pbnRlcjpudWxsLHN0YWdlOntzdGFydDpudWxsLGN1cnJlbnQ6bnVsbH0sZGlyZWN0aW9uOm51bGx9O3RoaXMuX3N0YXRlcz17Y3VycmVudDp7fSx0YWdzOntpbml0aWFsaXppbmc6WyJidXN5Il0sYW5pbWF0aW5nOlsiYnVzeSJdLGRyYWdnaW5nOlsiaW50ZXJhY3RpbmciXX19O24uZWFjaChbIm9uUmVzaXplIiwib25UaHJvdHRsZWRSZXNpemUiXSxuLnByb3h5KGZ1bmN0aW9uKHQsaSl7dGhpcy5faGFuZGxlcnNbaV09bi5wcm94eSh0aGlzW2ldLHRoaXMpfSx0aGlzKSk7bi5lYWNoKHUuUGx1Z2lucyxuLnByb3h5KGZ1bmN0aW9uKG4sdCl7dGhpcy5fcGx1Z2luc1tuLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK24uc2xpY2UoMSldPW5ldyB0KHRoaXMpfSx0aGlzKSk7bi5lYWNoKHUuV29ya2VycyxuLnByb3h5KGZ1bmN0aW9uKHQsaSl7dGhpcy5fcGlwZS5wdXNoKHtmaWx0ZXI6aS5maWx0ZXIscnVuOm4ucHJveHkoaS5ydW4sdGhpcyl9KX0sdGhpcykpO3RoaXMuc2V0dXAoKTt0aGlzLmluaXRpYWxpemUoKX11LkRlZmF1bHRzPXtpdGVtczozLGxvb3A6ITEsY2VudGVyOiExLHJld2luZDohMSxjaGVja1Zpc2liaWxpdHk6ITAsbW91c2VEcmFnOiEwLHRvdWNoRHJhZzohMCxwdWxsRHJhZzohMCxmcmVlRHJhZzohMSxtYXJnaW46MCxzdGFnZVBhZGRpbmc6MCxtZXJnZTohMSxtZXJnZUZpdDohMCxhdXRvV2lkdGg6ITEsc3RhcnRQb3NpdGlvbjowLHJ0bDohMSxzbWFydFNwZWVkOjI1MCxmbHVpZFNwZWVkOiExLGRyYWdFbmRTcGVlZDohMSxyZXNwb25zaXZlOnt9LHJlc3BvbnNpdmVSZWZyZXNoUmF0ZToyMDAscmVzcG9uc2l2ZUJhc2VFbGVtZW50OnQsZmFsbGJhY2tFYXNpbmc6InN3aW5nIixzbGlkZVRyYW5zaXRpb246IiIsaW5mbzohMSxuZXN0ZWRJdGVtU2VsZWN0b3I6ITEsaXRlbUVsZW1lbnQ6ImRpdiIsc3RhZ2VFbGVtZW50OiJkaXYiLHJlZnJlc2hDbGFzczoib3dsLXJlZnJlc2giLGxvYWRlZENsYXNzOiJvd2wtbG9hZGVkIixsb2FkaW5nQ2xhc3M6Im93bC1sb2FkaW5nIixydGxDbGFzczoib3dsLXJ0bCIscmVzcG9uc2l2ZUNsYXNzOiJvd2wtcmVzcG9uc2l2ZSIsZHJhZ0NsYXNzOiJvd2wtZHJhZyIsaXRlbUNsYXNzOiJvd2wtaXRlbSIsc3RhZ2VDbGFzczoib3dsLXN0YWdlIixzdGFnZU91dGVyQ2xhc3M6Im93bC1zdGFnZS1vdXRlciIsZ3JhYkNsYXNzOiJvd2wtZ3JhYiJ9O3UuV2lkdGg9e0RlZmF1bHQ6ImRlZmF1bHQiLElubmVyOiJpbm5lciIsT3V0ZXI6Im91dGVyIn07dS5UeXBlPXtFdmVudDoiZXZlbnQiLFN0YXRlOiJzdGF0ZSJ9O3UuUGx1Z2lucz17fTt1LldvcmtlcnM9W3tmaWx0ZXI6WyJ3aWR0aCIsInNldHRpbmdzIl0scnVuOmZ1bmN0aW9uKCl7dGhpcy5fd2lkdGg9dGhpcy4kZWxlbWVudC53aWR0aCgpfX0se2ZpbHRlcjpbIndpZHRoIiwiaXRlbXMiLCJzZXR0aW5ncyJdLHJ1bjpmdW5jdGlvbihuKXtuLmN1cnJlbnQ9dGhpcy5faXRlbXMmJnRoaXMuX2l0ZW1zW3RoaXMucmVsYXRpdmUodGhpcy5fY3VycmVudCldfX0se2ZpbHRlcjpbIml0ZW1zIiwic2V0dGluZ3MiXSxydW46ZnVuY3Rpb24oKXt0aGlzLiRzdGFnZS5jaGlsZHJlbigiLmNsb25lZCIpLnJlbW92ZSgpfX0se2ZpbHRlcjpbIndpZHRoIiwiaXRlbXMiLCJzZXR0aW5ncyJdLHJ1bjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLnNldHRpbmdzLm1hcmdpbnx8IiIsdT0hdGhpcy5zZXR0aW5ncy5hdXRvV2lkdGgsaT10aGlzLnNldHRpbmdzLnJ0bCxyPXt3aWR0aDoiYXV0byIsIm1hcmdpbi1sZWZ0IjppP3Q6IiIsIm1hcmdpbi1yaWdodCI6aT8iIjp0fTt1fHx0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmNzcyhyKTtuLmNzcz1yfX0se2ZpbHRlcjpbIndpZHRoIiwiaXRlbXMiLCJzZXR0aW5ncyJdLHJ1bjpmdW5jdGlvbihuKXt2YXIgcj0odGhpcy53aWR0aCgpL3RoaXMuc2V0dGluZ3MuaXRlbXMpLnRvRml4ZWQoMyktdGhpcy5zZXR0aW5ncy5tYXJnaW4sdD1udWxsLGk9dGhpcy5faXRlbXMubGVuZ3RoLGY9IXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLHU9W107Zm9yKG4uaXRlbXM9e21lcmdlOiExLHdpZHRoOnJ9O2ktLTspdD10aGlzLl9tZXJnZXJzW2ldLHQ9dGhpcy5zZXR0aW5ncy5tZXJnZUZpdCYmTWF0aC5taW4odCx0aGlzLnNldHRpbmdzLml0ZW1zKXx8dCxuLml0ZW1zLm1lcmdlPXQ+MXx8bi5pdGVtcy5tZXJnZSx1W2ldPWY/cip0OnRoaXMuX2l0ZW1zW2ldLndpZHRoKCk7dGhpcy5fd2lkdGhzPXV9fSx7ZmlsdGVyOlsiaXRlbXMiLCJzZXR0aW5ncyJdLHJ1bjpmdW5jdGlvbigpe3ZhciB0PVtdLGk9dGhpcy5faXRlbXMscj10aGlzLnNldHRpbmdzLGU9TWF0aC5tYXgoMipyLml0ZW1zLDQpLHM9MipNYXRoLmNlaWwoaS5sZW5ndGgvMiksdT1yLmxvb3AmJmkubGVuZ3RoP3IucmV3aW5kP2U6TWF0aC5tYXgoZSxzKTowLG89IiIsZj0iIjtmb3IodS89Mjt1PjA7KXQucHVzaCh0aGlzLm5vcm1hbGl6ZSh0Lmxlbmd0aC8yLCEwKSksbys9aVt0W3QubGVuZ3RoLTFdXVswXS5vdXRlckhUTUwsdC5wdXNoKHRoaXMubm9ybWFsaXplKGkubGVuZ3RoLTEtKHQubGVuZ3RoLTEpLzIsITApKSxmPWlbdFt0Lmxlbmd0aC0xXV1bMF0ub3V0ZXJIVE1MK2YsdS09MTt0aGlzLl9jbG9uZXM9dDtuKG8pLmFkZENsYXNzKCJjbG9uZWQiKS5hcHBlbmRUbyh0aGlzLiRzdGFnZSk7bihmKS5hZGRDbGFzcygiY2xvbmVkIikucHJlcGVuZFRvKHRoaXMuJHN0YWdlKX19LHtmaWx0ZXI6WyJ3aWR0aCIsIml0ZW1zIiwic2V0dGluZ3MiXSxydW46ZnVuY3Rpb24oKXtmb3IodmFyIHU9dGhpcy5zZXR0aW5ncy5ydGw/MTotMSxmPXRoaXMuX2Nsb25lcy5sZW5ndGgrdGhpcy5faXRlbXMubGVuZ3RoLG49LTEsaT0wLHI9MCx0PVtdOysrbjxmOylpPXRbbi0xXXx8MCxyPXRoaXMuX3dpZHRoc1t0aGlzLnJlbGF0aXZlKG4pXSt0aGlzLnNldHRpbmdzLm1hcmdpbix0LnB1c2goaStyKnUpO3RoaXMuX2Nvb3JkaW5hdGVzPXR9fSx7ZmlsdGVyOlsid2lkdGgiLCJpdGVtcyIsInNldHRpbmdzIl0scnVuOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcsdD10aGlzLl9jb29yZGluYXRlcyxpPXt3aWR0aDpNYXRoLmNlaWwoTWF0aC5hYnModFt0Lmxlbmd0aC0xXSkpKzIqbiwicGFkZGluZy1sZWZ0IjpufHwiIiwicGFkZGluZy1yaWdodCI6bnx8IiJ9O3RoaXMuJHN0YWdlLmNzcyhpKX19LHtmaWx0ZXI6WyJ3aWR0aCIsIml0ZW1zIiwic2V0dGluZ3MiXSxydW46ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoLGk9IXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLHI9dGhpcy4kc3RhZ2UuY2hpbGRyZW4oKTtpZihpJiZuLml0ZW1zLm1lcmdlKWZvcig7dC0tOyluLmNzcy53aWR0aD10aGlzLl93aWR0aHNbdGhpcy5yZWxhdGl2ZSh0KV0sci5lcSh0KS5jc3Mobi5jc3MpO2Vsc2UgaSYmKG4uY3NzLndpZHRoPW4uaXRlbXMud2lkdGgsci5jc3Mobi5jc3MpKX19LHtmaWx0ZXI6WyJpdGVtcyJdLHJ1bjpmdW5jdGlvbigpe3RoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aDwxJiZ0aGlzLiRzdGFnZS5yZW1vdmVBdHRyKCJzdHlsZSIpfX0se2ZpbHRlcjpbIndpZHRoIiwiaXRlbXMiLCJzZXR0aW5ncyJdLHJ1bjpmdW5jdGlvbihuKXtuLmN1cnJlbnQ9bi5jdXJyZW50P3RoaXMuJHN0YWdlLmNoaWxkcmVuKCkuaW5kZXgobi5jdXJyZW50KTowO24uY3VycmVudD1NYXRoLm1heCh0aGlzLm1pbmltdW0oKSxNYXRoLm1pbih0aGlzLm1heGltdW0oKSxuLmN1cnJlbnQpKTt0aGlzLnJlc2V0KG4uY3VycmVudCl9fSx7ZmlsdGVyOlsicG9zaXRpb24iXSxydW46ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGUodGhpcy5jb29yZGluYXRlcyh0aGlzLl9jdXJyZW50KSl9fSx7ZmlsdGVyOlsid2lkdGgiLCJwb3NpdGlvbiIsIml0ZW1zIiwic2V0dGluZ3MiXSxydW46ZnVuY3Rpb24oKXtmb3IodmFyIHQsaSxmPXRoaXMuc2V0dGluZ3MucnRsPzE6LTEsZT0yKnRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nLHI9dGhpcy5jb29yZGluYXRlcyh0aGlzLmN1cnJlbnQoKSkrZSxvPXIrdGhpcy53aWR0aCgpKmYscz1bXSxuPTAsdT10aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7bjx1O24rKyl0PXRoaXMuX2Nvb3JkaW5hdGVzW24tMV18fDAsaT1NYXRoLmFicyh0aGlzLl9jb29yZGluYXRlc1tuXSkrZSpmLCh0aGlzLm9wKHQsIjw9IixyKSYmdGhpcy5vcCh0LCI+IixvKXx8dGhpcy5vcChpLCI8IixyKSYmdGhpcy5vcChpLCI+IixvKSkmJnMucHVzaChuKTt0aGlzLiRzdGFnZS5jaGlsZHJlbigiLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTt0aGlzLiRzdGFnZS5jaGlsZHJlbigiOmVxKCIrcy5qb2luKCIpLCA6ZXEoIikrIikiKS5hZGRDbGFzcygiYWN0aXZlIik7dGhpcy4kc3RhZ2UuY2hpbGRyZW4oIi5jZW50ZXIiKS5yZW1vdmVDbGFzcygiY2VudGVyIik7dGhpcy5zZXR0aW5ncy5jZW50ZXImJnRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5jdXJyZW50KCkpLmFkZENsYXNzKCJjZW50ZXIiKX19XTt1LnByb3RvdHlwZS5pbml0aWFsaXplU3RhZ2U9ZnVuY3Rpb24oKXt0aGlzLiRzdGFnZT10aGlzLiRlbGVtZW50LmZpbmQoIi4iK3RoaXMuc2V0dGluZ3Muc3RhZ2VDbGFzcyk7dGhpcy4kc3RhZ2UubGVuZ3RofHwodGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGluZ0NsYXNzKSx0aGlzLiRzdGFnZT1uKCI8Iit0aGlzLnNldHRpbmdzLnN0YWdlRWxlbWVudCsiPiIseyJjbGFzcyI6dGhpcy5zZXR0aW5ncy5zdGFnZUNsYXNzfSkud3JhcChuKCI8ZGl2Lz4iLHsiY2xhc3MiOnRoaXMuc2V0dGluZ3Muc3RhZ2VPdXRlckNsYXNzfSkpLHRoaXMuJGVsZW1lbnQuYXBwZW5kKHRoaXMuJHN0YWdlLnBhcmVudCgpKSl9O3UucHJvdG90eXBlLmluaXRpYWxpemVJdGVtcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuJGVsZW1lbnQuZmluZCgiLm93bC1pdGVtIik7aWYodC5sZW5ndGgpcmV0dXJuIHRoaXMuX2l0ZW1zPXQuZ2V0KCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuKHQpfSksdGhpcy5fbWVyZ2Vycz10aGlzLl9pdGVtcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gMX0pLHZvaWQgdGhpcy5yZWZyZXNoKCk7dGhpcy5yZXBsYWNlKHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy4kc3RhZ2UucGFyZW50KCkpKTt0aGlzLmlzVmlzaWJsZSgpP3RoaXMucmVmcmVzaCgpOnRoaXMuaW52YWxpZGF0ZSgid2lkdGgiKTt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sb2FkaW5nQ2xhc3MpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5sb2FkZWRDbGFzcyl9O3UucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtpZih0aGlzLmVudGVyKCJpbml0aWFsaXppbmciKSx0aGlzLnRyaWdnZXIoImluaXRpYWxpemUiKSx0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKHRoaXMuc2V0dGluZ3MucnRsQ2xhc3MsdGhpcy5zZXR0aW5ncy5ydGwpLHRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoJiYhdGhpcy5pcygicHJlLWxvYWRpbmciKSl7dmFyIG4sdCxpO249dGhpcy4kZWxlbWVudC5maW5kKCJpbWciKTt0PXRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yPyIuIit0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvcjpyO2k9dGhpcy4kZWxlbWVudC5jaGlsZHJlbih0KS53aWR0aCgpO24ubGVuZ3RoJiZpPD0wJiZ0aGlzLnByZWxvYWRBdXRvV2lkdGhJbWFnZXMobil9dGhpcy5pbml0aWFsaXplU3RhZ2UoKTt0aGlzLmluaXRpYWxpemVJdGVtcygpO3RoaXMucmVnaXN0ZXJFdmVudEhhbmRsZXJzKCk7dGhpcy5sZWF2ZSgiaW5pdGlhbGl6aW5nIik7dGhpcy50cmlnZ2VyKCJpbml0aWFsaXplZCIpfTt1LnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5zZXR0aW5ncy5jaGVja1Zpc2liaWxpdHl8fHRoaXMuJGVsZW1lbnQuaXMoIjp2aXNpYmxlIil9O3UucHJvdG90eXBlLnNldHVwPWZ1bmN0aW9uKCl7dmFyIHU9dGhpcy52aWV3cG9ydCgpLHI9dGhpcy5vcHRpb25zLnJlc3BvbnNpdmUsaT0tMSx0PW51bGw7cj8obi5lYWNoKHIsZnVuY3Rpb24obil7bjw9dSYmbj5pJiYoaT1OdW1iZXIobikpfSksdD1uLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMscltpXSksImZ1bmN0aW9uIj09dHlwZW9mIHQuc3RhZ2VQYWRkaW5nJiYodC5zdGFnZVBhZGRpbmc9dC5zdGFnZVBhZGRpbmcoKSksZGVsZXRlIHQucmVzcG9uc2l2ZSx0LnJlc3BvbnNpdmVDbGFzcyYmdGhpcy4kZWxlbWVudC5hdHRyKCJjbGFzcyIsdGhpcy4kZWxlbWVudC5hdHRyKCJjbGFzcyIpLnJlcGxhY2UobmV3IFJlZ0V4cCgiKCIrdGhpcy5vcHRpb25zLnJlc3BvbnNpdmVDbGFzcysiLSlcXFMrXFxzIiwiZyIpLCIkMSIraSkpKTp0PW4uZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7dGhpcy50cmlnZ2VyKCJjaGFuZ2UiLHtwcm9wZXJ0eTp7bmFtZToic2V0dGluZ3MiLHZhbHVlOnR9fSk7dGhpcy5fYnJlYWtwb2ludD1pO3RoaXMuc2V0dGluZ3M9dDt0aGlzLmludmFsaWRhdGUoInNldHRpbmdzIik7dGhpcy50cmlnZ2VyKCJjaGFuZ2VkIix7cHJvcGVydHk6e25hbWU6InNldHRpbmdzIix2YWx1ZTp0aGlzLnNldHRpbmdzfX0pfTt1LnByb3RvdHlwZS5vcHRpb25zTG9naWM9ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCYmKHRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nPSExLHRoaXMuc2V0dGluZ3MubWVyZ2U9ITEpfTt1LnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMudHJpZ2dlcigicHJlcGFyZSIse2NvbnRlbnQ6dH0pO3JldHVybiBpLmRhdGF8fChpLmRhdGE9bigiPCIrdGhpcy5zZXR0aW5ncy5pdGVtRWxlbWVudCsiLz4iKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaXRlbUNsYXNzKS5hcHBlbmQodCkpLHRoaXMudHJpZ2dlcigicHJlcGFyZWQiLHtjb250ZW50OmkuZGF0YX0pLGkuZGF0YX07dS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsaT10aGlzLl9waXBlLmxlbmd0aCxyPW4ucHJveHkoZnVuY3Rpb24obil7cmV0dXJuIHRoaXNbbl19LHRoaXMuX2ludmFsaWRhdGVkKSx1PXt9O3Q8aTspKHRoaXMuX2ludmFsaWRhdGVkLmFsbHx8bi5ncmVwKHRoaXMuX3BpcGVbdF0uZmlsdGVyLHIpLmxlbmd0aD4wKSYmdGhpcy5fcGlwZVt0XS5ydW4odSksdCsrO3RoaXMuX2ludmFsaWRhdGVkPXt9O3RoaXMuaXMoInZhbGlkIil8fHRoaXMuZW50ZXIoInZhbGlkIil9O3UucHJvdG90eXBlLndpZHRoPWZ1bmN0aW9uKG4pe3N3aXRjaChuPW58fHUuV2lkdGguRGVmYXVsdCl7Y2FzZSB1LldpZHRoLklubmVyOmNhc2UgdS5XaWR0aC5PdXRlcjpyZXR1cm4gdGhpcy5fd2lkdGg7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fd2lkdGgtMip0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyt0aGlzLnNldHRpbmdzLm1hcmdpbn19O3UucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLmVudGVyKCJyZWZyZXNoaW5nIik7dGhpcy50cmlnZ2VyKCJyZWZyZXNoIik7dGhpcy5zZXR1cCgpO3RoaXMub3B0aW9uc0xvZ2ljKCk7dGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucmVmcmVzaENsYXNzKTt0aGlzLnVwZGF0ZSgpO3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnJlZnJlc2hDbGFzcyk7dGhpcy5sZWF2ZSgicmVmcmVzaGluZyIpO3RoaXMudHJpZ2dlcigicmVmcmVzaGVkIil9O3UucHJvdG90eXBlLm9uVGhyb3R0bGVkUmVzaXplPWZ1bmN0aW9uKCl7dC5jbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lcik7dGhpcy5yZXNpemVUaW1lcj10LnNldFRpbWVvdXQodGhpcy5faGFuZGxlcnMub25SZXNpemUsdGhpcy5zZXR0aW5ncy5yZXNwb25zaXZlUmVmcmVzaFJhdGUpfTt1LnByb3RvdHlwZS5vblJlc2l6ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5faXRlbXMubGVuZ3RoJiZ0aGlzLl93aWR0aCE9PXRoaXMuJGVsZW1lbnQud2lkdGgoKSYmISF0aGlzLmlzVmlzaWJsZSgpJiYodGhpcy5lbnRlcigicmVzaXppbmciKSx0aGlzLnRyaWdnZXIoInJlc2l6ZSIpLmlzRGVmYXVsdFByZXZlbnRlZCgpPyh0aGlzLmxlYXZlKCJyZXNpemluZyIpLCExKToodGhpcy5pbnZhbGlkYXRlKCJ3aWR0aCIpLHRoaXMucmVmcmVzaCgpLHRoaXMubGVhdmUoInJlc2l6aW5nIiksdm9pZCB0aGlzLnRyaWdnZXIoInJlc2l6ZWQiKSkpfTt1LnByb3RvdHlwZS5yZWdpc3RlckV2ZW50SGFuZGxlcnM9ZnVuY3Rpb24oKXtuLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kc3RhZ2Uub24obi5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKyIub3dsLmNvcmUiLG4ucHJveHkodGhpcy5vblRyYW5zaXRpb25FbmQsdGhpcykpOyExIT09dGhpcy5zZXR0aW5ncy5yZXNwb25zaXZlJiZ0aGlzLm9uKHQsInJlc2l6ZSIsdGhpcy5faGFuZGxlcnMub25UaHJvdHRsZWRSZXNpemUpO3RoaXMuc2V0dGluZ3MubW91c2VEcmFnJiYodGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZHJhZ0NsYXNzKSx0aGlzLiRzdGFnZS5vbigibW91c2Vkb3duLm93bC5jb3JlIixuLnByb3h5KHRoaXMub25EcmFnU3RhcnQsdGhpcykpLHRoaXMuJHN0YWdlLm9uKCJkcmFnc3RhcnQub3dsLmNvcmUgc2VsZWN0c3RhcnQub3dsLmNvcmUiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KSk7dGhpcy5zZXR0aW5ncy50b3VjaERyYWcmJih0aGlzLiRzdGFnZS5vbigidG91Y2hzdGFydC5vd2wuY29yZSIsbi5wcm94eSh0aGlzLm9uRHJhZ1N0YXJ0LHRoaXMpKSx0aGlzLiRzdGFnZS5vbigidG91Y2hjYW5jZWwub3dsLmNvcmUiLG4ucHJveHkodGhpcy5vbkRyYWdFbmQsdGhpcykpKX07dS5wcm90b3R5cGUub25EcmFnU3RhcnQ9ZnVuY3Rpb24odCl7dmFyIHI9bnVsbDszIT09dC53aGljaCYmKG4uc3VwcG9ydC50cmFuc2Zvcm0/KHI9dGhpcy4kc3RhZ2UuY3NzKCJ0cmFuc2Zvcm0iKS5yZXBsYWNlKC8uKlwofFwpfCAvZywiIikuc3BsaXQoIiwiKSxyPXt4OnJbMTY9PT1yLmxlbmd0aD8xMjo0XSx5OnJbMTY9PT1yLmxlbmd0aD8xMzo1XX0pOihyPXRoaXMuJHN0YWdlLnBvc2l0aW9uKCkscj17eDp0aGlzLnNldHRpbmdzLnJ0bD9yLmxlZnQrdGhpcy4kc3RhZ2Uud2lkdGgoKS10aGlzLndpZHRoKCkrdGhpcy5zZXR0aW5ncy5tYXJnaW46ci5sZWZ0LHk6ci50b3B9KSx0aGlzLmlzKCJhbmltYXRpbmciKSYmKG4uc3VwcG9ydC50cmFuc2Zvcm0/dGhpcy5hbmltYXRlKHIueCk6dGhpcy4kc3RhZ2Uuc3RvcCgpLHRoaXMuaW52YWxpZGF0ZSgicG9zaXRpb24iKSksdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzLCJtb3VzZWRvd24iPT09dC50eXBlKSx0aGlzLnNwZWVkKDApLHRoaXMuX2RyYWcudGltZT0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9kcmFnLnRhcmdldD1uKHQudGFyZ2V0KSx0aGlzLl9kcmFnLnN0YWdlLnN0YXJ0PXIsdGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50PXIsdGhpcy5fZHJhZy5wb2ludGVyPXRoaXMucG9pbnRlcih0KSxuKGkpLm9uKCJtb3VzZXVwLm93bC5jb3JlIHRvdWNoZW5kLm93bC5jb3JlIixuLnByb3h5KHRoaXMub25EcmFnRW5kLHRoaXMpKSxuKGkpLm9uZSgibW91c2Vtb3ZlLm93bC5jb3JlIHRvdWNobW92ZS5vd2wuY29yZSIsbi5wcm94eShmdW5jdGlvbih0KXt2YXIgcj10aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLHRoaXMucG9pbnRlcih0KSk7bihpKS5vbigibW91c2Vtb3ZlLm93bC5jb3JlIHRvdWNobW92ZS5vd2wuY29yZSIsbi5wcm94eSh0aGlzLm9uRHJhZ01vdmUsdGhpcykpO01hdGguYWJzKHIueCk8TWF0aC5hYnMoci55KSYmdGhpcy5pcygidmFsaWQiKXx8KHQucHJldmVudERlZmF1bHQoKSx0aGlzLmVudGVyKCJkcmFnZ2luZyIpLHRoaXMudHJpZ2dlcigiZHJhZyIpKX0sdGhpcykpKX07dS5wcm90b3R5cGUub25EcmFnTW92ZT1mdW5jdGlvbihuKXt2YXIgdD1udWxsLGk9bnVsbCx1PW51bGwsZj10aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLHRoaXMucG9pbnRlcihuKSkscj10aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5zdGFnZS5zdGFydCxmKTt0aGlzLmlzKCJkcmFnZ2luZyIpJiYobi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuc2V0dGluZ3MubG9vcD8odD10aGlzLmNvb3JkaW5hdGVzKHRoaXMubWluaW11bSgpKSxpPXRoaXMuY29vcmRpbmF0ZXModGhpcy5tYXhpbXVtKCkrMSktdCxyLng9KChyLngtdCklaStpKSVpK3QpOih0PXRoaXMuc2V0dGluZ3MucnRsP3RoaXMuY29vcmRpbmF0ZXModGhpcy5tYXhpbXVtKCkpOnRoaXMuY29vcmRpbmF0ZXModGhpcy5taW5pbXVtKCkpLGk9dGhpcy5zZXR0aW5ncy5ydGw/dGhpcy5jb29yZGluYXRlcyh0aGlzLm1pbmltdW0oKSk6dGhpcy5jb29yZGluYXRlcyh0aGlzLm1heGltdW0oKSksdT10aGlzLnNldHRpbmdzLnB1bGxEcmFnP2YueC8tNTowLHIueD1NYXRoLm1heChNYXRoLm1pbihyLngsdCt1KSxpK3UpKSx0aGlzLl9kcmFnLnN0YWdlLmN1cnJlbnQ9cix0aGlzLmFuaW1hdGUoci54KSl9O3UucHJvdG90eXBlLm9uRHJhZ0VuZD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLHRoaXMucG9pbnRlcih0KSksZj10aGlzLl9kcmFnLnN0YWdlLmN1cnJlbnQsdT1yLng+MF50aGlzLnNldHRpbmdzLnJ0bD8ibGVmdCI6InJpZ2h0IjtuKGkpLm9mZigiLm93bC5jb3JlIik7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzKTsoMCE9PXIueCYmdGhpcy5pcygiZHJhZ2dpbmciKXx8IXRoaXMuaXMoInZhbGlkIikpJiYodGhpcy5zcGVlZCh0aGlzLnNldHRpbmdzLmRyYWdFbmRTcGVlZHx8dGhpcy5zZXR0aW5ncy5zbWFydFNwZWVkKSx0aGlzLmN1cnJlbnQodGhpcy5jbG9zZXN0KGYueCwwIT09ci54P3U6dGhpcy5fZHJhZy5kaXJlY3Rpb24pKSx0aGlzLmludmFsaWRhdGUoInBvc2l0aW9uIiksdGhpcy51cGRhdGUoKSx0aGlzLl9kcmFnLmRpcmVjdGlvbj11LChNYXRoLmFicyhyLngpPjN8fChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuX2RyYWcudGltZT4zMDApJiZ0aGlzLl9kcmFnLnRhcmdldC5vbmUoImNsaWNrLm93bC5jb3JlIixmdW5jdGlvbigpe3JldHVybiExfSkpO3RoaXMuaXMoImRyYWdnaW5nIikmJih0aGlzLmxlYXZlKCJkcmFnZ2luZyIpLHRoaXMudHJpZ2dlcigiZHJhZ2dlZCIpKX07dS5wcm90b3R5cGUuY2xvc2VzdD1mdW5jdGlvbih0LGkpe3ZhciB1PS0xLGU9MzAsbz10aGlzLndpZHRoKCksZj10aGlzLmNvb3JkaW5hdGVzKCk7cmV0dXJuIHRoaXMuc2V0dGluZ3MuZnJlZURyYWd8fG4uZWFjaChmLG4ucHJveHkoZnVuY3Rpb24obixzKXtyZXR1cm4ibGVmdCI9PT1pJiZ0PnMtZSYmdDxzK2U/dT1uOiJyaWdodCI9PT1pJiZ0PnMtby1lJiZ0PHMtbytlP3U9bisxOnRoaXMub3AodCwiPCIscykmJnRoaXMub3AodCwiPiIsZltuKzFdIT09cj9mW24rMV06cy1vKSYmKHU9ImxlZnQiPT09aT9uKzE6biksLTE9PT11fSx0aGlzKSksdGhpcy5zZXR0aW5ncy5sb29wfHwodGhpcy5vcCh0LCI+IixmW3RoaXMubWluaW11bSgpXSk/dT10PXRoaXMubWluaW11bSgpOnRoaXMub3AodCwiPCIsZlt0aGlzLm1heGltdW0oKV0pJiYodT10PXRoaXMubWF4aW11bSgpKSksdX07dS5wcm90b3R5cGUuYW5pbWF0ZT1mdW5jdGlvbih0KXt2YXIgaT10aGlzLnNwZWVkKCk+MDt0aGlzLmlzKCJhbmltYXRpbmciKSYmdGhpcy5vblRyYW5zaXRpb25FbmQoKTtpJiYodGhpcy5lbnRlcigiYW5pbWF0aW5nIiksdGhpcy50cmlnZ2VyKCJ0cmFuc2xhdGUiKSk7bi5zdXBwb3J0LnRyYW5zZm9ybTNkJiZuLnN1cHBvcnQudHJhbnNpdGlvbj90aGlzLiRzdGFnZS5jc3Moe3RyYW5zZm9ybToidHJhbnNsYXRlM2QoIit0KyJweCwwcHgsMHB4KSIsdHJhbnNpdGlvbjp0aGlzLnNwZWVkKCkvMWUzKyJzIisodGhpcy5zZXR0aW5ncy5zbGlkZVRyYW5zaXRpb24/IiAiK3RoaXMuc2V0dGluZ3Muc2xpZGVUcmFuc2l0aW9uOiIiKX0pOmk/dGhpcy4kc3RhZ2UuYW5pbWF0ZSh7bGVmdDp0KyJweCJ9LHRoaXMuc3BlZWQoKSx0aGlzLnNldHRpbmdzLmZhbGxiYWNrRWFzaW5nLG4ucHJveHkodGhpcy5vblRyYW5zaXRpb25FbmQsdGhpcykpOnRoaXMuJHN0YWdlLmNzcyh7bGVmdDp0KyJweCJ9KX07dS5wcm90b3R5cGUuaXM9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3N0YXRlcy5jdXJyZW50W25dJiZ0aGlzLl9zdGF0ZXMuY3VycmVudFtuXT4wfTt1LnByb3RvdHlwZS5jdXJyZW50PWZ1bmN0aW9uKG4pe2lmKG49PT1yKXJldHVybiB0aGlzLl9jdXJyZW50O2lmKDA9PT10aGlzLl9pdGVtcy5sZW5ndGgpcmV0dXJuIHI7aWYobj10aGlzLm5vcm1hbGl6ZShuKSx0aGlzLl9jdXJyZW50IT09bil7dmFyIHQ9dGhpcy50cmlnZ2VyKCJjaGFuZ2UiLHtwcm9wZXJ0eTp7bmFtZToicG9zaXRpb24iLHZhbHVlOm59fSk7dC5kYXRhIT09ciYmKG49dGhpcy5ub3JtYWxpemUodC5kYXRhKSk7dGhpcy5fY3VycmVudD1uO3RoaXMuaW52YWxpZGF0ZSgicG9zaXRpb24iKTt0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHtwcm9wZXJ0eTp7bmFtZToicG9zaXRpb24iLHZhbHVlOnRoaXMuX2N1cnJlbnR9fSl9cmV0dXJuIHRoaXMuX2N1cnJlbnR9O3UucHJvdG90eXBlLmludmFsaWRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PT1uLnR5cGUodCkmJih0aGlzLl9pbnZhbGlkYXRlZFt0XT0hMCx0aGlzLmlzKCJ2YWxpZCIpJiZ0aGlzLmxlYXZlKCJ2YWxpZCIpKSxuLm1hcCh0aGlzLl9pbnZhbGlkYXRlZCxmdW5jdGlvbihuLHQpe3JldHVybiB0fSl9O3UucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKG4peyhuPXRoaXMubm9ybWFsaXplKG4pKSE9PXImJih0aGlzLl9zcGVlZD0wLHRoaXMuX2N1cnJlbnQ9bix0aGlzLnN1cHByZXNzKFsidHJhbnNsYXRlIiwidHJhbnNsYXRlZCJdKSx0aGlzLmFuaW1hdGUodGhpcy5jb29yZGluYXRlcyhuKSksdGhpcy5yZWxlYXNlKFsidHJhbnNsYXRlIiwidHJhbnNsYXRlZCJdKSl9O3UucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2l0ZW1zLmxlbmd0aCx1PXQ/MDp0aGlzLl9jbG9uZXMubGVuZ3RoO3JldHVybiF0aGlzLmlzTnVtZXJpYyhuKXx8aTwxP249cjoobjwwfHxuPj1pK3UpJiYobj0oKG4tdS8yKSVpK2kpJWkrdS8yKSxufTt1LnByb3RvdHlwZS5yZWxhdGl2ZT1mdW5jdGlvbihuKXtyZXR1cm4gbi09dGhpcy5fY2xvbmVzLmxlbmd0aC8yLHRoaXMubm9ybWFsaXplKG4sITApfTt1LnByb3RvdHlwZS5tYXhpbXVtPWZ1bmN0aW9uKG4pe3ZhciB0LHUsZixpPXRoaXMuc2V0dGluZ3Mscj10aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7aWYoaS5sb29wKXI9dGhpcy5fY2xvbmVzLmxlbmd0aC8yK3RoaXMuX2l0ZW1zLmxlbmd0aC0xO2Vsc2UgaWYoaS5hdXRvV2lkdGh8fGkubWVyZ2Upe2lmKHQ9dGhpcy5faXRlbXMubGVuZ3RoKWZvcih1PXRoaXMuX2l0ZW1zWy0tdF0ud2lkdGgoKSxmPXRoaXMuJGVsZW1lbnQud2lkdGgoKTt0LS0mJiEoKHUrPXRoaXMuX2l0ZW1zW3RdLndpZHRoKCkrdGhpcy5zZXR0aW5ncy5tYXJnaW4pPmYpOyk7cj10KzF9ZWxzZSByPWkuY2VudGVyP3RoaXMuX2l0ZW1zLmxlbmd0aC0xOnRoaXMuX2l0ZW1zLmxlbmd0aC1pLml0ZW1zO3JldHVybiBuJiYoci09dGhpcy5fY2xvbmVzLmxlbmd0aC8yKSxNYXRoLm1heChyLDApfTt1LnByb3RvdHlwZS5taW5pbXVtPWZ1bmN0aW9uKG4pe3JldHVybiBuPzA6dGhpcy5fY2xvbmVzLmxlbmd0aC8yfTt1LnByb3RvdHlwZS5pdGVtcz1mdW5jdGlvbihuKXtyZXR1cm4gbj09PXI/dGhpcy5faXRlbXMuc2xpY2UoKToobj10aGlzLm5vcm1hbGl6ZShuLCEwKSx0aGlzLl9pdGVtc1tuXSl9O3UucHJvdG90eXBlLm1lcmdlcnM9ZnVuY3Rpb24obil7cmV0dXJuIG49PT1yP3RoaXMuX21lcmdlcnMuc2xpY2UoKToobj10aGlzLm5vcm1hbGl6ZShuLCEwKSx0aGlzLl9tZXJnZXJzW25dKX07dS5wcm90b3R5cGUuY2xvbmVzPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuX2Nsb25lcy5sZW5ndGgvMixmPWkrdGhpcy5faXRlbXMubGVuZ3RoLHU9ZnVuY3Rpb24obil7cmV0dXJuIG4lMj09MD9mK24vMjppLShuKzEpLzJ9O3JldHVybiB0PT09cj9uLm1hcCh0aGlzLl9jbG9uZXMsZnVuY3Rpb24obix0KXtyZXR1cm4gdSh0KX0pOm4ubWFwKHRoaXMuX2Nsb25lcyxmdW5jdGlvbihuLGkpe3JldHVybiBuPT09dD91KGkpOm51bGx9KX07dS5wcm90b3R5cGUuc3BlZWQ9ZnVuY3Rpb24obil7cmV0dXJuIG4hPT1yJiYodGhpcy5fc3BlZWQ9biksdGhpcy5fc3BlZWR9O3UucHJvdG90eXBlLmNvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe3ZhciBpLGY9MSx1PXQtMTtyZXR1cm4gdD09PXI/bi5tYXAodGhpcy5fY29vcmRpbmF0ZXMsbi5wcm94eShmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVzKHQpfSx0aGlzKSk6KHRoaXMuc2V0dGluZ3MuY2VudGVyPyh0aGlzLnNldHRpbmdzLnJ0bCYmKGY9LTEsdT10KzEpLGk9dGhpcy5fY29vcmRpbmF0ZXNbdF0saSs9KHRoaXMud2lkdGgoKS1pKyh0aGlzLl9jb29yZGluYXRlc1t1XXx8MCkpLzIqZik6aT10aGlzLl9jb29yZGluYXRlc1t1XXx8MCxpPU1hdGguY2VpbChpKSl9O3UucHJvdG90eXBlLmR1cmF0aW9uPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gMD09PWk/MDpNYXRoLm1pbihNYXRoLm1heChNYXRoLmFicyh0LW4pLDEpLDYpKk1hdGguYWJzKGl8fHRoaXMuc2V0dGluZ3Muc21hcnRTcGVlZCl9O3UucHJvdG90eXBlLnRvPWZ1bmN0aW9uKG4sdCl7dmFyIHU9dGhpcy5jdXJyZW50KCksZj1udWxsLGk9bi10aGlzLnJlbGF0aXZlKHUpLHM9KGk+MCktKGk8MCksZT10aGlzLl9pdGVtcy5sZW5ndGgsbz10aGlzLm1pbmltdW0oKSxyPXRoaXMubWF4aW11bSgpO3RoaXMuc2V0dGluZ3MubG9vcD8oIXRoaXMuc2V0dGluZ3MucmV3aW5kJiZNYXRoLmFicyhpKT5lLzImJihpKz0tMSpzKmUpLG49dStpLChmPSgobi1vKSVlK2UpJWUrbykhPT1uJiZmLWk8PXImJmYtaT4wJiYodT1mLWksbj1mLHRoaXMucmVzZXQodSkpKTp0aGlzLnNldHRpbmdzLnJld2luZD8ocis9MSxuPShuJXIrciklcik6bj1NYXRoLm1heChvLE1hdGgubWluKHIsbikpO3RoaXMuc3BlZWQodGhpcy5kdXJhdGlvbih1LG4sdCkpO3RoaXMuY3VycmVudChuKTt0aGlzLmlzVmlzaWJsZSgpJiZ0aGlzLnVwZGF0ZSgpfTt1LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKG4pe249bnx8ITE7dGhpcy50byh0aGlzLnJlbGF0aXZlKHRoaXMuY3VycmVudCgpKSsxLG4pfTt1LnByb3RvdHlwZS5wcmV2PWZ1bmN0aW9uKG4pe249bnx8ITE7dGhpcy50byh0aGlzLnJlbGF0aXZlKHRoaXMuY3VycmVudCgpKS0xLG4pfTt1LnByb3RvdHlwZS5vblRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24obil7aWYobiE9PXImJihuLnN0b3BQcm9wYWdhdGlvbigpLChuLnRhcmdldHx8bi5zcmNFbGVtZW50fHxuLm9yaWdpbmFsVGFyZ2V0KSE9PXRoaXMuJHN0YWdlLmdldCgwKSkpcmV0dXJuITE7dGhpcy5sZWF2ZSgiYW5pbWF0aW5nIik7dGhpcy50cmlnZ2VyKCJ0cmFuc2xhdGVkIil9O3UucHJvdG90eXBlLnZpZXdwb3J0PWZ1bmN0aW9uKCl7dmFyIHI7cmV0dXJuIHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQmFzZUVsZW1lbnQhPT10P3I9bih0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUJhc2VFbGVtZW50KS53aWR0aCgpOnQuaW5uZXJXaWR0aD9yPXQuaW5uZXJXaWR0aDppLmRvY3VtZW50RWxlbWVudCYmaS5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg/cj1pLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDpjb25zb2xlLndhcm4oIkNhbiBub3QgZGV0ZWN0IHZpZXdwb3J0IHdpZHRoLiIpLHJ9O3UucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCl7dGhpcy4kc3RhZ2UuZW1wdHkoKTt0aGlzLl9pdGVtcz1bXTt0JiYodD10IGluc3RhbmNlb2YgalF1ZXJ5P3Q6bih0KSk7dGhpcy5zZXR0aW5ncy5uZXN0ZWRJdGVtU2VsZWN0b3ImJih0PXQuZmluZCgiLiIrdGhpcy5zZXR0aW5ncy5uZXN0ZWRJdGVtU2VsZWN0b3IpKTt0LmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5ub2RlVHlwZX0pLmVhY2gobi5wcm94eShmdW5jdGlvbihuLHQpe3Q9dGhpcy5wcmVwYXJlKHQpO3RoaXMuJHN0YWdlLmFwcGVuZCh0KTt0aGlzLl9pdGVtcy5wdXNoKHQpO3RoaXMuX21lcmdlcnMucHVzaCgxKnQuZmluZCgiW2RhdGEtbWVyZ2VdIikuYWRkQmFjaygiW2RhdGEtbWVyZ2VdIikuYXR0cigiZGF0YS1tZXJnZSIpfHwxKX0sdGhpcykpO3RoaXMucmVzZXQodGhpcy5pc051bWVyaWModGhpcy5zZXR0aW5ncy5zdGFydFBvc2l0aW9uKT90aGlzLnNldHRpbmdzLnN0YXJ0UG9zaXRpb246MCk7dGhpcy5pbnZhbGlkYXRlKCJpdGVtcyIpfTt1LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxpKXt2YXIgdT10aGlzLnJlbGF0aXZlKHRoaXMuX2N1cnJlbnQpO2k9aT09PXI/dGhpcy5faXRlbXMubGVuZ3RoOnRoaXMubm9ybWFsaXplKGksITApO3Q9dCBpbnN0YW5jZW9mIGpRdWVyeT90Om4odCk7dGhpcy50cmlnZ2VyKCJhZGQiLHtjb250ZW50OnQscG9zaXRpb246aX0pO3Q9dGhpcy5wcmVwYXJlKHQpOzA9PT10aGlzLl9pdGVtcy5sZW5ndGh8fGk9PT10aGlzLl9pdGVtcy5sZW5ndGg/KDA9PT10aGlzLl9pdGVtcy5sZW5ndGgmJnRoaXMuJHN0YWdlLmFwcGVuZCh0KSwwIT09dGhpcy5faXRlbXMubGVuZ3RoJiZ0aGlzLl9pdGVtc1tpLTFdLmFmdGVyKHQpLHRoaXMuX2l0ZW1zLnB1c2godCksdGhpcy5fbWVyZ2Vycy5wdXNoKDEqdC5maW5kKCJbZGF0YS1tZXJnZV0iKS5hZGRCYWNrKCJbZGF0YS1tZXJnZV0iKS5hdHRyKCJkYXRhLW1lcmdlIil8fDEpKToodGhpcy5faXRlbXNbaV0uYmVmb3JlKHQpLHRoaXMuX2l0ZW1zLnNwbGljZShpLDAsdCksdGhpcy5fbWVyZ2Vycy5zcGxpY2UoaSwwLDEqdC5maW5kKCJbZGF0YS1tZXJnZV0iKS5hZGRCYWNrKCJbZGF0YS1tZXJnZV0iKS5hdHRyKCJkYXRhLW1lcmdlIil8fDEpKTt0aGlzLl9pdGVtc1t1XSYmdGhpcy5yZXNldCh0aGlzLl9pdGVtc1t1XS5pbmRleCgpKTt0aGlzLmludmFsaWRhdGUoIml0ZW1zIik7dGhpcy50cmlnZ2VyKCJhZGRlZCIse2NvbnRlbnQ6dCxwb3NpdGlvbjppfSl9O3UucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihuKXsobj10aGlzLm5vcm1hbGl6ZShuLCEwKSkhPT1yJiYodGhpcy50cmlnZ2VyKCJyZW1vdmUiLHtjb250ZW50OnRoaXMuX2l0ZW1zW25dLHBvc2l0aW9uOm59KSx0aGlzLl9pdGVtc1tuXS5yZW1vdmUoKSx0aGlzLl9pdGVtcy5zcGxpY2UobiwxKSx0aGlzLl9tZXJnZXJzLnNwbGljZShuLDEpLHRoaXMuaW52YWxpZGF0ZSgiaXRlbXMiKSx0aGlzLnRyaWdnZXIoInJlbW92ZWQiLHtjb250ZW50Om51bGwscG9zaXRpb246bn0pKX07dS5wcm90b3R5cGUucHJlbG9hZEF1dG9XaWR0aEltYWdlcz1mdW5jdGlvbih0KXt0LmVhY2gobi5wcm94eShmdW5jdGlvbih0LGkpe3RoaXMuZW50ZXIoInByZS1sb2FkaW5nIik7aT1uKGkpO24obmV3IEltYWdlKS5vbmUoImxvYWQiLG4ucHJveHkoZnVuY3Rpb24obil7aS5hdHRyKCJzcmMiLG4udGFyZ2V0LnNyYyk7aS5jc3MoIm9wYWNpdHkiLDEpO3RoaXMubGVhdmUoInByZS1sb2FkaW5nIik7IXRoaXMuaXMoInByZS1sb2FkaW5nIikmJiF0aGlzLmlzKCJpbml0aWFsaXppbmciKSYmdGhpcy5yZWZyZXNoKCl9LHRoaXMpKS5hdHRyKCJzcmMiLGkuYXR0cigic3JjIil8fGkuYXR0cigiZGF0YS1zcmMiKXx8aS5hdHRyKCJkYXRhLXNyYy1yZXRpbmEiKSl9LHRoaXMpKX07dS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub2ZmKCIub3dsLmNvcmUiKTt0aGlzLiRzdGFnZS5vZmYoIi5vd2wuY29yZSIpO24oaSkub2ZmKCIub3dsLmNvcmUiKTshMSE9PXRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZSYmKHQuY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZXIpLHRoaXMub2ZmKHQsInJlc2l6ZSIsdGhpcy5faGFuZGxlcnMub25UaHJvdHRsZWRSZXNpemUpKTtmb3IodmFyIHIgaW4gdGhpcy5fcGx1Z2lucyl0aGlzLl9wbHVnaW5zW3JdLmRlc3Ryb3koKTt0aGlzLiRzdGFnZS5jaGlsZHJlbigiLmNsb25lZCIpLnJlbW92ZSgpO3RoaXMuJHN0YWdlLnVud3JhcCgpO3RoaXMuJHN0YWdlLmNoaWxkcmVuKCkuY29udGVudHMoKS51bndyYXAoKTt0aGlzLiRzdGFnZS5jaGlsZHJlbigpLnVud3JhcCgpO3RoaXMuJHN0YWdlLnJlbW92ZSgpO3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnJlZnJlc2hDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRpbmdDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRlZENsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucnRsQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5kcmFnQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ncmFiQ2xhc3MpLmF0dHIoImNsYXNzIix0aGlzLiRlbGVtZW50LmF0dHIoImNsYXNzIikucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQ2xhc3MrIi1cXFMrXFxzIiwiZyIpLCIiKSkucmVtb3ZlRGF0YSgib3dsLmNhcm91c2VsIil9O3UucHJvdG90eXBlLm9wPWZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10aGlzLnNldHRpbmdzLnJ0bDtzd2l0Y2godCl7Y2FzZSI8IjpyZXR1cm4gcj9uPmk6bjxpO2Nhc2UiPiI6cmV0dXJuIHI/bjxpOm4+aTtjYXNlIj49IjpyZXR1cm4gcj9uPD1pOm4+PWk7Y2FzZSI8PSI6cmV0dXJuIHI/bj49aTpuPD1pfX07dS5wcm90b3R5cGUub249ZnVuY3Rpb24obix0LGkscil7bi5hZGRFdmVudExpc3RlbmVyP24uYWRkRXZlbnRMaXN0ZW5lcih0LGkscik6bi5hdHRhY2hFdmVudCYmbi5hdHRhY2hFdmVudCgib24iK3QsaSl9O3UucHJvdG90eXBlLm9mZj1mdW5jdGlvbihuLHQsaSxyKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXI/bi5yZW1vdmVFdmVudExpc3RlbmVyKHQsaSxyKTpuLmRldGFjaEV2ZW50JiZuLmRldGFjaEV2ZW50KCJvbiIrdCxpKX07dS5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbih0LGkscil7dmFyIG89e2l0ZW06e2NvdW50OnRoaXMuX2l0ZW1zLmxlbmd0aCxpbmRleDp0aGlzLmN1cnJlbnQoKX19LGU9bi5jYW1lbENhc2Uobi5ncmVwKFsib24iLHQscl0sZnVuY3Rpb24obil7cmV0dXJuIG59KS5qb2luKCItIikudG9Mb3dlckNhc2UoKSksZj1uLkV2ZW50KFt0LCJvd2wiLHJ8fCJjYXJvdXNlbCJdLmpvaW4oIi4iKS50b0xvd2VyQ2FzZSgpLG4uZXh0ZW5kKHtyZWxhdGVkVGFyZ2V0OnRoaXN9LG8saSkpO3JldHVybiB0aGlzLl9zdXByZXNzW3RdfHwobi5lYWNoKHRoaXMuX3BsdWdpbnMsZnVuY3Rpb24obix0KXt0Lm9uVHJpZ2dlciYmdC5vblRyaWdnZXIoZil9KSx0aGlzLnJlZ2lzdGVyKHt0eXBlOnUuVHlwZS5FdmVudCxuYW1lOnR9KSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoZiksdGhpcy5zZXR0aW5ncyYmImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuc2V0dGluZ3NbZV0mJnRoaXMuc2V0dGluZ3NbZV0uY2FsbCh0aGlzLGYpKSxmfTt1LnByb3RvdHlwZS5lbnRlcj1mdW5jdGlvbih0KXtuLmVhY2goW3RdLmNvbmNhdCh0aGlzLl9zdGF0ZXMudGFnc1t0XXx8W10pLG4ucHJveHkoZnVuY3Rpb24obix0KXt0aGlzLl9zdGF0ZXMuY3VycmVudFt0XT09PXImJih0aGlzLl9zdGF0ZXMuY3VycmVudFt0XT0wKTt0aGlzLl9zdGF0ZXMuY3VycmVudFt0XSsrfSx0aGlzKSl9O3UucHJvdG90eXBlLmxlYXZlPWZ1bmN0aW9uKHQpe24uZWFjaChbdF0uY29uY2F0KHRoaXMuX3N0YXRlcy50YWdzW3RdfHxbXSksbi5wcm94eShmdW5jdGlvbihuLHQpe3RoaXMuX3N0YXRlcy5jdXJyZW50W3RdLS19LHRoaXMpKX07dS5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24odCl7aWYodC50eXBlPT09dS5UeXBlLkV2ZW50KXtpZihuLmV2ZW50LnNwZWNpYWxbdC5uYW1lXXx8KG4uZXZlbnQuc3BlY2lhbFt0Lm5hbWVdPXt9KSwhbi5ldmVudC5zcGVjaWFsW3QubmFtZV0ub3dsKXt2YXIgaT1uLmV2ZW50LnNwZWNpYWxbdC5uYW1lXS5fZGVmYXVsdDtuLmV2ZW50LnNwZWNpYWxbdC5uYW1lXS5fZGVmYXVsdD1mdW5jdGlvbihuKXtyZXR1cm4haXx8IWkuYXBwbHl8fG4ubmFtZXNwYWNlJiYtMSE9PW4ubmFtZXNwYWNlLmluZGV4T2YoIm93bCIpP24ubmFtZXNwYWNlJiZuLm5hbWVzcGFjZS5pbmRleE9mKCJvd2wiKT4tMTppLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bi5ldmVudC5zcGVjaWFsW3QubmFtZV0ub3dsPSEwfX1lbHNlIHQudHlwZT09PXUuVHlwZS5TdGF0ZSYmKHRoaXMuX3N0YXRlcy50YWdzW3QubmFtZV09dGhpcy5fc3RhdGVzLnRhZ3NbdC5uYW1lXT90aGlzLl9zdGF0ZXMudGFnc1t0Lm5hbWVdLmNvbmNhdCh0LnRhZ3MpOnQudGFncyx0aGlzLl9zdGF0ZXMudGFnc1t0Lm5hbWVdPW4uZ3JlcCh0aGlzLl9zdGF0ZXMudGFnc1t0Lm5hbWVdLG4ucHJveHkoZnVuY3Rpb24oaSxyKXtyZXR1cm4gbi5pbkFycmF5KGksdGhpcy5fc3RhdGVzLnRhZ3NbdC5uYW1lXSk9PT1yfSx0aGlzKSkpfTt1LnByb3RvdHlwZS5zdXBwcmVzcz1mdW5jdGlvbih0KXtuLmVhY2godCxuLnByb3h5KGZ1bmN0aW9uKG4sdCl7dGhpcy5fc3VwcmVzc1t0XT0hMH0sdGhpcykpfTt1LnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKHQpe24uZWFjaCh0LG4ucHJveHkoZnVuY3Rpb24obix0KXtkZWxldGUgdGhpcy5fc3VwcmVzc1t0XX0sdGhpcykpfTt1LnByb3RvdHlwZS5wb2ludGVyPWZ1bmN0aW9uKG4pe3ZhciBpPXt4Om51bGwseTpudWxsfTtyZXR1cm4gbj1uLm9yaWdpbmFsRXZlbnR8fG58fHQuZXZlbnQsbj1uLnRvdWNoZXMmJm4udG91Y2hlcy5sZW5ndGg/bi50b3VjaGVzWzBdOm4uY2hhbmdlZFRvdWNoZXMmJm4uY2hhbmdlZFRvdWNoZXMubGVuZ3RoP24uY2hhbmdlZFRvdWNoZXNbMF06bixuLnBhZ2VYPyhpLng9bi5wYWdlWCxpLnk9bi5wYWdlWSk6KGkueD1uLmNsaWVudFgsaS55PW4uY2xpZW50WSksaX07dS5wcm90b3R5cGUuaXNOdW1lcmljPWZ1bmN0aW9uKG4pe3JldHVybiFpc05hTihwYXJzZUZsb2F0KG4pKX07dS5wcm90b3R5cGUuZGlmZmVyZW5jZT1mdW5jdGlvbihuLHQpe3JldHVybnt4Om4ueC10LngseTpuLnktdC55fX07bi5mbi5vd2xDYXJvdXNlbD1mdW5jdGlvbih0KXt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBmPW4odGhpcykscj1mLmRhdGEoIm93bC5jYXJvdXNlbCIpO3J8fChyPW5ldyB1KHRoaXMsIm9iamVjdCI9PXR5cGVvZiB0JiZ0KSxmLmRhdGEoIm93bC5jYXJvdXNlbCIsciksbi5lYWNoKFsibmV4dCIsInByZXYiLCJ0byIsImRlc3Ryb3kiLCJyZWZyZXNoIiwicmVwbGFjZSIsImFkZCIsInJlbW92ZSJdLGZ1bmN0aW9uKHQsaSl7ci5yZWdpc3Rlcih7dHlwZTp1LlR5cGUuRXZlbnQsbmFtZTppfSk7ci4kZWxlbWVudC5vbihpKyIub3dsLmNhcm91c2VsLmNvcmUiLG4ucHJveHkoZnVuY3Rpb24obil7bi5uYW1lc3BhY2UmJm4ucmVsYXRlZFRhcmdldCE9PXRoaXMmJih0aGlzLnN1cHByZXNzKFtpXSkscltpXS5hcHBseSh0aGlzLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSx0aGlzLnJlbGVhc2UoW2ldKSl9LHIpKX0pKTsic3RyaW5nIj09dHlwZW9mIHQmJiJfIiE9PXQuY2hhckF0KDApJiZyW3RdLmFwcGx5KHIsaSl9KX07bi5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvcj11fSh3aW5kb3cuWmVwdG98fHdpbmRvdy5qUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihuLHQpe3ZhciBpPWZ1bmN0aW9uKHQpe3RoaXMuX2NvcmU9dDt0aGlzLl9pbnRlcnZhbD1udWxsO3RoaXMuX3Zpc2libGU9bnVsbDt0aGlzLl9oYW5kbGVycz17ImluaXRpYWxpemVkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvUmVmcmVzaCYmdGhpcy53YXRjaCgpfSx0aGlzKX07dGhpcy5fY29yZS5vcHRpb25zPW4uZXh0ZW5kKHt9LGkuRGVmYXVsdHMsdGhpcy5fY29yZS5vcHRpb25zKTt0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKX07aS5EZWZhdWx0cz17YXV0b1JlZnJlc2g6ITAsYXV0b1JlZnJlc2hJbnRlcnZhbDo1MDB9O2kucHJvdG90eXBlLndhdGNoPWZ1bmN0aW9uKCl7dGhpcy5faW50ZXJ2YWx8fCh0aGlzLl92aXNpYmxlPXRoaXMuX2NvcmUuaXNWaXNpYmxlKCksdGhpcy5faW50ZXJ2YWw9dC5zZXRJbnRlcnZhbChuLnByb3h5KHRoaXMucmVmcmVzaCx0aGlzKSx0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9SZWZyZXNoSW50ZXJ2YWwpKX07aS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3RoaXMuX2NvcmUuaXNWaXNpYmxlKCkhPT10aGlzLl92aXNpYmxlJiYodGhpcy5fdmlzaWJsZT0hdGhpcy5fdmlzaWJsZSx0aGlzLl9jb3JlLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCJvd2wtaGlkZGVuIiwhdGhpcy5fdmlzaWJsZSksdGhpcy5fdmlzaWJsZSYmdGhpcy5fY29yZS5pbnZhbGlkYXRlKCJ3aWR0aCIpJiZ0aGlzLl9jb3JlLnJlZnJlc2goKSl9O2kucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgbixpO3QuY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7Zm9yKG4gaW4gdGhpcy5faGFuZGxlcnMpdGhpcy5fY29yZS4kZWxlbWVudC5vZmYobix0aGlzLl9oYW5kbGVyc1tuXSk7Zm9yKGkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXNbaV0mJih0aGlzW2ldPW51bGwpfTtuLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuQXV0b1JlZnJlc2g9aX0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24obix0LGkscil7dmFyIHU9ZnVuY3Rpb24odCl7dGhpcy5fY29yZT10O3RoaXMuX2xvYWRlZD1bXTt0aGlzLl9oYW5kbGVycz17ImluaXRpYWxpemVkLm93bC5jYXJvdXNlbCBjaGFuZ2Uub3dsLmNhcm91c2VsIHJlc2l6ZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKHQpe2lmKHQubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzJiZ0aGlzLl9jb3JlLnNldHRpbmdzLmxhenlMb2FkJiYodC5wcm9wZXJ0eSYmInBvc2l0aW9uIj09dC5wcm9wZXJ0eS5uYW1lfHwiaW5pdGlhbGl6ZWQiPT10LnR5cGUpKXt2YXIgaT10aGlzLl9jb3JlLnNldHRpbmdzLHU9aS5jZW50ZXImJk1hdGguY2VpbChpLml0ZW1zLzIpfHxpLml0ZW1zLGU9aS5jZW50ZXImJi0xKnV8fDAsZj0odC5wcm9wZXJ0eSYmdC5wcm9wZXJ0eS52YWx1ZSE9PXI/dC5wcm9wZXJ0eS52YWx1ZTp0aGlzLl9jb3JlLmN1cnJlbnQoKSkrZSxvPXRoaXMuX2NvcmUuY2xvbmVzKCkubGVuZ3RoLHM9bi5wcm94eShmdW5jdGlvbihuLHQpe3RoaXMubG9hZCh0KX0sdGhpcyk7Zm9yKGkubGF6eUxvYWRFYWdlcj4wJiYodSs9aS5sYXp5TG9hZEVhZ2VyLGkubG9vcCYmKGYtPWkubGF6eUxvYWRFYWdlcix1KyspKTtlKys8dTspdGhpcy5sb2FkKG8vMit0aGlzLl9jb3JlLnJlbGF0aXZlKGYpKSxvJiZuLmVhY2godGhpcy5fY29yZS5jbG9uZXModGhpcy5fY29yZS5yZWxhdGl2ZShmKSkscyksZisrfX0sdGhpcyl9O3RoaXMuX2NvcmUub3B0aW9ucz1uLmV4dGVuZCh7fSx1LkRlZmF1bHRzLHRoaXMuX2NvcmUub3B0aW9ucyk7dGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyl9O3UuRGVmYXVsdHM9e2xhenlMb2FkOiExLGxhenlMb2FkRWFnZXI6MH07dS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihpKXt2YXIgcj10aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKGkpLHU9ciYmci5maW5kKCIub3dsLWxhenkiKTshdXx8bi5pbkFycmF5KHIuZ2V0KDApLHRoaXMuX2xvYWRlZCk+LTF8fCh1LmVhY2gobi5wcm94eShmdW5jdGlvbihpLHIpe3ZhciBlLHU9bihyKSxmPXQuZGV2aWNlUGl4ZWxSYXRpbz4xJiZ1LmF0dHIoImRhdGEtc3JjLXJldGluYSIpfHx1LmF0dHIoImRhdGEtc3JjIil8fHUuYXR0cigiZGF0YS1zcmNzZXQiKTt0aGlzLl9jb3JlLnRyaWdnZXIoImxvYWQiLHtlbGVtZW50OnUsdXJsOmZ9LCJsYXp5Iik7dS5pcygiaW1nIik/dS5vbmUoImxvYWQub3dsLmxhenkiLG4ucHJveHkoZnVuY3Rpb24oKXt1LmNzcygib3BhY2l0eSIsMSk7dGhpcy5fY29yZS50cmlnZ2VyKCJsb2FkZWQiLHtlbGVtZW50OnUsdXJsOmZ9LCJsYXp5Iil9LHRoaXMpKS5hdHRyKCJzcmMiLGYpOnUuaXMoInNvdXJjZSIpP3Uub25lKCJsb2FkLm93bC5sYXp5IixuLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fY29yZS50cmlnZ2VyKCJsb2FkZWQiLHtlbGVtZW50OnUsdXJsOmZ9LCJsYXp5Iil9LHRoaXMpKS5hdHRyKCJzcmNzZXQiLGYpOihlPW5ldyBJbWFnZSxlLm9ubG9hZD1uLnByb3h5KGZ1bmN0aW9uKCl7dS5jc3MoeyJiYWNrZ3JvdW5kLWltYWdlIjondXJsKCInK2YrJyIpJyxvcGFjaXR5OiIxIn0pO3RoaXMuX2NvcmUudHJpZ2dlcigibG9hZGVkIix7ZWxlbWVudDp1LHVybDpmfSwibGF6eSIpfSx0aGlzKSxlLnNyYz1mKX0sdGhpcykpLHRoaXMuX2xvYWRlZC5wdXNoKHIuZ2V0KDApKSl9O3UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgbix0O2ZvcihuIGluIHRoaXMuaGFuZGxlcnMpdGhpcy5fY29yZS4kZWxlbWVudC5vZmYobix0aGlzLmhhbmRsZXJzW25dKTtmb3IodCBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkiZnVuY3Rpb24iIT10eXBlb2YgdGhpc1t0XSYmKHRoaXNbdF09bnVsbCl9O24uZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5MYXp5PXV9KHdpbmRvdy5aZXB0b3x8d2luZG93LmpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKG4sdCl7dmFyIGk9ZnVuY3Rpb24ocil7dGhpcy5fY29yZT1yO3RoaXMuX3ByZXZpb3VzSGVpZ2h0PW51bGw7dGhpcy5faGFuZGxlcnM9eyJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgcmVmcmVzaGVkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0JiZ0aGlzLnVwZGF0ZSgpfSx0aGlzKSwiY2hhbmdlZC5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24obil7bi5uYW1lc3BhY2UmJnRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodCYmInBvc2l0aW9uIj09PW4ucHJvcGVydHkubmFtZSYmdGhpcy51cGRhdGUoKX0sdGhpcyksImxvYWRlZC5vd2wubGF6eSI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0JiZuLmVsZW1lbnQuY2xvc2VzdCgiLiIrdGhpcy5fY29yZS5zZXR0aW5ncy5pdGVtQ2xhc3MpLmluZGV4KCk9PT10aGlzLl9jb3JlLmN1cnJlbnQoKSYmdGhpcy51cGRhdGUoKX0sdGhpcyl9O3RoaXMuX2NvcmUub3B0aW9ucz1uLmV4dGVuZCh7fSxpLkRlZmF1bHRzLHRoaXMuX2NvcmUub3B0aW9ucyk7dGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7dGhpcy5faW50ZXJ2YWxJZD1udWxsO3ZhciB1PXRoaXM7bih0KS5vbigibG9hZCIsZnVuY3Rpb24oKXt1Ll9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQmJnUudXBkYXRlKCl9KTtuKHQpLnJlc2l6ZShmdW5jdGlvbigpe3UuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodCYmKG51bGwhPXUuX2ludGVydmFsSWQmJmNsZWFyVGltZW91dCh1Ll9pbnRlcnZhbElkKSx1Ll9pbnRlcnZhbElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt1LnVwZGF0ZSgpfSwyNTApKX0pfTtpLkRlZmF1bHRzPXthdXRvSGVpZ2h0OiExLGF1dG9IZWlnaHRDbGFzczoib3dsLWhlaWdodCJ9O2kucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBpPXRoaXMuX2NvcmUuX2N1cnJlbnQsdT1pK3RoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbXMsZj10aGlzLl9jb3JlLnNldHRpbmdzLmxhenlMb2FkLGU9dGhpcy5fY29yZS4kc3RhZ2UuY2hpbGRyZW4oKS50b0FycmF5KCkuc2xpY2UoaSx1KSxyPVtdLHQ9MDtuLmVhY2goZSxmdW5jdGlvbih0LGkpe3IucHVzaChuKGkpLmhlaWdodCgpKX0pO3Q9TWF0aC5tYXguYXBwbHkobnVsbCxyKTt0PD0xJiZmJiZ0aGlzLl9wcmV2aW91c0hlaWdodCYmKHQ9dGhpcy5fcHJldmlvdXNIZWlnaHQpO3RoaXMuX3ByZXZpb3VzSGVpZ2h0PXQ7dGhpcy5fY29yZS4kc3RhZ2UucGFyZW50KCkuaGVpZ2h0KHQpLmFkZENsYXNzKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodENsYXNzKX07aS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBuLHQ7Zm9yKG4gaW4gdGhpcy5faGFuZGxlcnMpdGhpcy5fY29yZS4kZWxlbWVudC5vZmYobix0aGlzLl9oYW5kbGVyc1tuXSk7Zm9yKHQgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXNbdF0mJih0aGlzW3RdPW51bGwpfTtuLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuQXV0b0hlaWdodD1pfSh3aW5kb3cuWmVwdG98fHdpbmRvdy5qUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihuLHQsaSl7dmFyIHI9ZnVuY3Rpb24odCl7dGhpcy5fY29yZT10O3RoaXMuX3ZpZGVvcz17fTt0aGlzLl9wbGF5aW5nPW51bGw7dGhpcy5faGFuZGxlcnM9eyJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24obil7bi5uYW1lc3BhY2UmJnRoaXMuX2NvcmUucmVnaXN0ZXIoe3R5cGU6InN0YXRlIixuYW1lOiJwbGF5aW5nIix0YWdzOlsiaW50ZXJhY3RpbmciXX0pfSx0aGlzKSwicmVzaXplLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5fY29yZS5zZXR0aW5ncy52aWRlbyYmdGhpcy5pc0luRnVsbFNjcmVlbigpJiZuLnByZXZlbnREZWZhdWx0KCl9LHRoaXMpLCJyZWZyZXNoZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLmlzKCJyZXNpemluZyIpJiZ0aGlzLl9jb3JlLiRzdGFnZS5maW5kKCIuY2xvbmVkIC5vd2wtdmlkZW8tZnJhbWUiKS5yZW1vdmUoKX0sdGhpcyksImNoYW5nZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiYicG9zaXRpb24iPT09bi5wcm9wZXJ0eS5uYW1lJiZ0aGlzLl9wbGF5aW5nJiZ0aGlzLnN0b3AoKX0sdGhpcyksInByZXBhcmVkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbih0KXtpZih0Lm5hbWVzcGFjZSl7dmFyIGk9bih0LmNvbnRlbnQpLmZpbmQoIi5vd2wtdmlkZW8iKTtpLmxlbmd0aCYmKGkuY3NzKCJkaXNwbGF5Iiwibm9uZSIpLHRoaXMuZmV0Y2goaSxuKHQuY29udGVudCkpKX19LHRoaXMpfTt0aGlzLl9jb3JlLm9wdGlvbnM9bi5leHRlbmQoe30sci5EZWZhdWx0cyx0aGlzLl9jb3JlLm9wdGlvbnMpO3RoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO3RoaXMuX2NvcmUuJGVsZW1lbnQub24oImNsaWNrLm93bC52aWRlbyIsIi5vd2wtdmlkZW8tcGxheS1pY29uIixuLnByb3h5KGZ1bmN0aW9uKG4pe3RoaXMucGxheShuKX0sdGhpcykpfTtyLkRlZmF1bHRzPXt2aWRlbzohMSx2aWRlb0hlaWdodDohMSx2aWRlb1dpZHRoOiExfTtyLnByb3RvdHlwZS5mZXRjaD1mdW5jdGlvbihuLHQpe3ZhciB1PWZ1bmN0aW9uKCl7cmV0dXJuIG4uYXR0cigiZGF0YS12aW1lby1pZCIpPyJ2aW1lbyI6bi5hdHRyKCJkYXRhLXZ6YWFyLWlkIik/InZ6YWFyIjoieW91dHViZSJ9KCksaT1uLmF0dHIoImRhdGEtdmltZW8taWQiKXx8bi5hdHRyKCJkYXRhLXlvdXR1YmUtaWQiKXx8bi5hdHRyKCJkYXRhLXZ6YWFyLWlkIiksZj1uLmF0dHIoImRhdGEtd2lkdGgiKXx8dGhpcy5fY29yZS5zZXR0aW5ncy52aWRlb1dpZHRoLGU9bi5hdHRyKCJkYXRhLWhlaWdodCIpfHx0aGlzLl9jb3JlLnNldHRpbmdzLnZpZGVvSGVpZ2h0LHI9bi5hdHRyKCJocmVmIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIHZpZGVvIFVSTC4iKTtpZihpPXIubWF0Y2goLyhodHRwOnxodHRwczp8KVwvXC8ocGxheWVyLnx3d3cufGFwcC4pPyh2aW1lb1wuY29tfHlvdXR1KGJlXC5jb218XC5iZXxiZVwuZ29vZ2xlYXBpc1wuY29tfGJlXC1ub2Nvb2tpZVwuY29tKXx2emFhclwuY29tKVwvKHZpZGVvXC98dmlkZW9zXC98ZW1iZWRcL3xjaGFubmVsc1wvLitcL3xncm91cHNcLy4rXC98d2F0Y2hcP3Y9fHZcLyk/KFtBLVphLXowLTkuXyUtXSopKFwmXFMrKT8vKSxpWzNdLmluZGV4T2YoInlvdXR1Iik+LTEpdT0ieW91dHViZSI7ZWxzZSBpZihpWzNdLmluZGV4T2YoInZpbWVvIik+LTEpdT0idmltZW8iO2Vsc2V7aWYoIShpWzNdLmluZGV4T2YoInZ6YWFyIik+LTEpKXRocm93IG5ldyBFcnJvcigiVmlkZW8gVVJMIG5vdCBzdXBwb3J0ZWQuIik7dT0idnphYXIifWk9aVs2XTt0aGlzLl92aWRlb3Nbcl09e3R5cGU6dSxpZDppLHdpZHRoOmYsaGVpZ2h0OmV9O3QuYXR0cigiZGF0YS12aWRlbyIscik7dGhpcy50aHVtYm5haWwobix0aGlzLl92aWRlb3Nbcl0pfTtyLnByb3RvdHlwZS50aHVtYm5haWw9ZnVuY3Rpb24odCxpKXt2YXIgZSxvLHIsYz1pLndpZHRoJiZpLmhlaWdodD8id2lkdGg6IitpLndpZHRoKyJweDtoZWlnaHQ6IitpLmhlaWdodCsicHg7IjoiIixmPXQuZmluZCgiaW1nIikscz0ic3JjIixoPSIiLGw9dGhpcy5fY29yZS5zZXR0aW5ncyx1PWZ1bmN0aW9uKGkpe289JzxkaXYgY2xhc3M9Im93bC12aWRlby1wbGF5LWljb24iPjxcL2Rpdj4nO2U9bC5sYXp5TG9hZD9uKCI8ZGl2Lz4iLHsiY2xhc3MiOiJvd2wtdmlkZW8tdG4gIitoLHNyY1R5cGU6aX0pOm4oIjxkaXYvPiIseyJjbGFzcyI6Im93bC12aWRlby10biIsc3R5bGU6Im9wYWNpdHk6MTtiYWNrZ3JvdW5kLWltYWdlOnVybCgiK2krIikifSk7dC5hZnRlcihlKTt0LmFmdGVyKG8pfTtpZih0LndyYXAobigiPGRpdi8+Iix7ImNsYXNzIjoib3dsLXZpZGVvLXdyYXBwZXIiLHN0eWxlOmN9KSksdGhpcy5fY29yZS5zZXR0aW5ncy5sYXp5TG9hZCYmKHM9ImRhdGEtc3JjIixoPSJvd2wtbGF6eSIpLGYubGVuZ3RoKXJldHVybiB1KGYuYXR0cihzKSksZi5yZW1vdmUoKSwhMTsieW91dHViZSI9PT1pLnR5cGU/KHI9Ii8vaW1nLnlvdXR1YmUuY29tL3ZpLyIraS5pZCsiL2hxZGVmYXVsdC5qcGciLHUocikpOiJ2aW1lbyI9PT1pLnR5cGU/bi5hamF4KHt0eXBlOiJHRVQiLHVybDoiLy92aW1lby5jb20vYXBpL3YyL3ZpZGVvLyIraS5pZCsiLmpzb24iLGpzb25wOiJjYWxsYmFjayIsZGF0YVR5cGU6Impzb25wIixzdWNjZXNzOmZ1bmN0aW9uKG4pe3I9blswXS50aHVtYm5haWxfbGFyZ2U7dShyKX19KToidnphYXIiPT09aS50eXBlJiZuLmFqYXgoe3R5cGU6IkdFVCIsdXJsOiIvL3Z6YWFyLmNvbS9hcGkvdmlkZW9zLyIraS5pZCsiLmpzb24iLGpzb25wOiJjYWxsYmFjayIsZGF0YVR5cGU6Impzb25wIixzdWNjZXNzOmZ1bmN0aW9uKG4pe3I9bi5mcmFtZWdyYWJfdXJsO3Uocil9fSl9O3IucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLnRyaWdnZXIoInN0b3AiLG51bGwsInZpZGVvIik7dGhpcy5fcGxheWluZy5maW5kKCIub3dsLXZpZGVvLWZyYW1lIikucmVtb3ZlKCk7dGhpcy5fcGxheWluZy5yZW1vdmVDbGFzcygib3dsLXZpZGVvLXBsYXlpbmciKTt0aGlzLl9wbGF5aW5nPW51bGw7dGhpcy5fY29yZS5sZWF2ZSgicGxheWluZyIpO3RoaXMuX2NvcmUudHJpZ2dlcigic3RvcHBlZCIsbnVsbCwidmlkZW8iKX07ci5wcm90b3R5cGUucGxheT1mdW5jdGlvbih0KXt2YXIgcixmPW4odC50YXJnZXQpLHU9Zi5jbG9zZXN0KCIuIit0aGlzLl9jb3JlLnNldHRpbmdzLml0ZW1DbGFzcyksaT10aGlzLl92aWRlb3NbdS5hdHRyKCJkYXRhLXZpZGVvIildLGU9aS53aWR0aHx8IjEwMCUiLG89aS5oZWlnaHR8fHRoaXMuX2NvcmUuJHN0YWdlLmhlaWdodCgpO3RoaXMuX3BsYXlpbmd8fCh0aGlzLl9jb3JlLmVudGVyKCJwbGF5aW5nIiksdGhpcy5fY29yZS50cmlnZ2VyKCJwbGF5IixudWxsLCJ2aWRlbyIpLHU9dGhpcy5fY29yZS5pdGVtcyh0aGlzLl9jb3JlLnJlbGF0aXZlKHUuaW5kZXgoKSkpLHRoaXMuX2NvcmUucmVzZXQodS5pbmRleCgpKSxyPW4oJzxpZnJhbWUgZnJhbWVib3JkZXI9IjAiIGFsbG93ZnVsbHNjcmVlbiBtb3phbGxvd2Z1bGxzY3JlZW4gd2Via2l0QWxsb3dGdWxsU2NyZWVuID48XC9pZnJhbWU+Jyksci5hdHRyKCJoZWlnaHQiLG8pLHIuYXR0cigid2lkdGgiLGUpLCJ5b3V0dWJlIj09PWkudHlwZT9yLmF0dHIoInNyYyIsIi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyIraS5pZCsiP2F1dG9wbGF5PTEmcmVsPTAmdj0iK2kuaWQpOiJ2aW1lbyI9PT1pLnR5cGU/ci5hdHRyKCJzcmMiLCIvL3BsYXllci52aW1lby5jb20vdmlkZW8vIitpLmlkKyI/YXV0b3BsYXk9MSIpOiJ2emFhciI9PT1pLnR5cGUmJnIuYXR0cigic3JjIiwiLy92aWV3LnZ6YWFyLmNvbS8iK2kuaWQrIi9wbGF5ZXI/YXV0b3BsYXk9dHJ1ZSIpLG4ocikud3JhcCgnPGRpdiBjbGFzcz0ib3dsLXZpZGVvLWZyYW1lIiAvPicpLmluc2VydEFmdGVyKHUuZmluZCgiLm93bC12aWRlbyIpKSx0aGlzLl9wbGF5aW5nPXUuYWRkQ2xhc3MoIm93bC12aWRlby1wbGF5aW5nIikpfTtyLnByb3RvdHlwZS5pc0luRnVsbFNjcmVlbj1mdW5jdGlvbigpe3ZhciB0PWkuZnVsbHNjcmVlbkVsZW1lbnR8fGkubW96RnVsbFNjcmVlbkVsZW1lbnR8fGkud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQ7cmV0dXJuIHQmJm4odCkucGFyZW50KCkuaGFzQ2xhc3MoIm93bC12aWRlby1mcmFtZSIpfTtyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIG4sdDt0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZigiY2xpY2sub3dsLnZpZGVvIik7Zm9yKG4gaW4gdGhpcy5faGFuZGxlcnMpdGhpcy5fY29yZS4kZWxlbWVudC5vZmYobix0aGlzLl9oYW5kbGVyc1tuXSk7Zm9yKHQgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXNbdF0mJih0aGlzW3RdPW51bGwpfTtuLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuVmlkZW89cn0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24obix0LGkscil7dmFyIHU9ZnVuY3Rpb24odCl7dGhpcy5jb3JlPXQ7dGhpcy5jb3JlLm9wdGlvbnM9bi5leHRlbmQoe30sdS5EZWZhdWx0cyx0aGlzLmNvcmUub3B0aW9ucyk7dGhpcy5zd2FwcGluZz0hMDt0aGlzLnByZXZpb3VzPXI7dGhpcy5uZXh0PXI7dGhpcy5oYW5kbGVycz17ImNoYW5nZS5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24obil7bi5uYW1lc3BhY2UmJiJwb3NpdGlvbiI9PW4ucHJvcGVydHkubmFtZSYmKHRoaXMucHJldmlvdXM9dGhpcy5jb3JlLmN1cnJlbnQoKSx0aGlzLm5leHQ9bi5wcm9wZXJ0eS52YWx1ZSl9LHRoaXMpLCJkcmFnLm93bC5jYXJvdXNlbCBkcmFnZ2VkLm93bC5jYXJvdXNlbCB0cmFuc2xhdGVkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmKHRoaXMuc3dhcHBpbmc9InRyYW5zbGF0ZWQiPT1uLnR5cGUpfSx0aGlzKSwidHJhbnNsYXRlLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5zd2FwcGluZyYmKHRoaXMuY29yZS5vcHRpb25zLmFuaW1hdGVPdXR8fHRoaXMuY29yZS5vcHRpb25zLmFuaW1hdGVJbikmJnRoaXMuc3dhcCgpfSx0aGlzKX07dGhpcy5jb3JlLiRlbGVtZW50Lm9uKHRoaXMuaGFuZGxlcnMpfTt1LkRlZmF1bHRzPXthbmltYXRlT3V0OiExLGFuaW1hdGVJbjohMX07dS5wcm90b3R5cGUuc3dhcD1mdW5jdGlvbigpe2lmKDE9PT10aGlzLmNvcmUuc2V0dGluZ3MuaXRlbXMmJm4uc3VwcG9ydC5hbmltYXRpb24mJm4uc3VwcG9ydC50cmFuc2l0aW9uKXt0aGlzLmNvcmUuc3BlZWQoMCk7dmFyIHQsaT1uLnByb3h5KHRoaXMuY2xlYXIsdGhpcyksZj10aGlzLmNvcmUuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5wcmV2aW91cyksZT10aGlzLmNvcmUuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5uZXh0KSxyPXRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlSW4sdT10aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZU91dDt0aGlzLmNvcmUuY3VycmVudCgpIT09dGhpcy5wcmV2aW91cyYmKHUmJih0PXRoaXMuY29yZS5jb29yZGluYXRlcyh0aGlzLnByZXZpb3VzKS10aGlzLmNvcmUuY29vcmRpbmF0ZXModGhpcy5uZXh0KSxmLm9uZShuLnN1cHBvcnQuYW5pbWF0aW9uLmVuZCxpKS5jc3Moe2xlZnQ6dCsicHgifSkuYWRkQ2xhc3MoImFuaW1hdGVkIG93bC1hbmltYXRlZC1vdXQiKS5hZGRDbGFzcyh1KSksciYmZS5vbmUobi5zdXBwb3J0LmFuaW1hdGlvbi5lbmQsaSkuYWRkQ2xhc3MoImFuaW1hdGVkIG93bC1hbmltYXRlZC1pbiIpLmFkZENsYXNzKHIpKX19O3UucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQpe24odC50YXJnZXQpLmNzcyh7bGVmdDoiIn0pLnJlbW92ZUNsYXNzKCJhbmltYXRlZCBvd2wtYW5pbWF0ZWQtb3V0IG93bC1hbmltYXRlZC1pbiIpLnJlbW92ZUNsYXNzKHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlSW4pLnJlbW92ZUNsYXNzKHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlT3V0KTt0aGlzLmNvcmUub25UcmFuc2l0aW9uRW5kKCl9O3UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgbix0O2ZvcihuIGluIHRoaXMuaGFuZGxlcnMpdGhpcy5jb3JlLiRlbGVtZW50Lm9mZihuLHRoaXMuaGFuZGxlcnNbbl0pO2Zvcih0IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSJmdW5jdGlvbiIhPXR5cGVvZiB0aGlzW3RdJiYodGhpc1t0XT1udWxsKX07bi5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkFuaW1hdGU9dX0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24obix0LGkpe3ZhciByPWZ1bmN0aW9uKHQpe3RoaXMuX2NvcmU9dDt0aGlzLl9jYWxsPW51bGw7dGhpcy5fdGltZT0wO3RoaXMuX3RpbWVvdXQ9MDt0aGlzLl9wYXVzZWQ9ITA7dGhpcy5faGFuZGxlcnM9eyJjaGFuZ2VkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmInNldHRpbmdzIj09PW4ucHJvcGVydHkubmFtZT90aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5P3RoaXMucGxheSgpOnRoaXMuc3RvcCgpOm4ubmFtZXNwYWNlJiYicG9zaXRpb24iPT09bi5wcm9wZXJ0eS5uYW1lJiZ0aGlzLl9wYXVzZWQmJih0aGlzLl90aW1lPTApfSx0aGlzKSwiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5JiZ0aGlzLnBsYXkoKX0sdGhpcyksInBsYXkub3dsLmF1dG9wbGF5IjpuLnByb3h5KGZ1bmN0aW9uKG4sdCxpKXtuLm5hbWVzcGFjZSYmdGhpcy5wbGF5KHQsaSl9LHRoaXMpLCJzdG9wLm93bC5hdXRvcGxheSI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5zdG9wKCl9LHRoaXMpLCJtb3VzZW92ZXIub3dsLmF1dG9wbGF5IjpuLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UmJnRoaXMuX2NvcmUuaXMoInJvdGF0aW5nIikmJnRoaXMucGF1c2UoKX0sdGhpcyksIm1vdXNlbGVhdmUub3dsLmF1dG9wbGF5IjpuLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UmJnRoaXMuX2NvcmUuaXMoInJvdGF0aW5nIikmJnRoaXMucGxheSgpfSx0aGlzKSwidG91Y2hzdGFydC5vd2wuY29yZSI6bi5wcm94eShmdW5jdGlvbigpe3RoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlJiZ0aGlzLl9jb3JlLmlzKCJyb3RhdGluZyIpJiZ0aGlzLnBhdXNlKCl9LHRoaXMpLCJ0b3VjaGVuZC5vd2wuY29yZSI6bi5wcm94eShmdW5jdGlvbigpe3RoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlJiZ0aGlzLnBsYXkoKX0sdGhpcyl9O3RoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO3RoaXMuX2NvcmUub3B0aW9ucz1uLmV4dGVuZCh7fSxyLkRlZmF1bHRzLHRoaXMuX2NvcmUub3B0aW9ucyl9O3IuRGVmYXVsdHM9e2F1dG9wbGF5OiExLGF1dG9wbGF5VGltZW91dDo1ZTMsYXV0b3BsYXlIb3ZlclBhdXNlOiExLGF1dG9wbGF5U3BlZWQ6ITF9O3IucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKHIpe3RoaXMuX2NhbGw9dC5zZXRUaW1lb3V0KG4ucHJveHkodGhpcy5fbmV4dCx0aGlzLHIpLHRoaXMuX3RpbWVvdXQqKE1hdGgucm91bmQodGhpcy5yZWFkKCkvdGhpcy5fdGltZW91dCkrMSktdGhpcy5yZWFkKCkpO3RoaXMuX2NvcmUuaXMoImludGVyYWN0aW5nIil8fGkuaGlkZGVufHx0aGlzLl9jb3JlLm5leHQocnx8dGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheVNwZWVkKX07ci5wcm90b3R5cGUucmVhZD1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuX3RpbWV9O3IucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24oaSxyKXt2YXIgdTt0aGlzLl9jb3JlLmlzKCJyb3RhdGluZyIpfHx0aGlzLl9jb3JlLmVudGVyKCJyb3RhdGluZyIpO2k9aXx8dGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheVRpbWVvdXQ7dT1NYXRoLm1pbih0aGlzLl90aW1lJSh0aGlzLl90aW1lb3V0fHxpKSxpKTt0aGlzLl9wYXVzZWQ/KHRoaXMuX3RpbWU9dGhpcy5yZWFkKCksdGhpcy5fcGF1c2VkPSExKTp0LmNsZWFyVGltZW91dCh0aGlzLl9jYWxsKTt0aGlzLl90aW1lKz10aGlzLnJlYWQoKSVpLXU7dGhpcy5fdGltZW91dD1pO3RoaXMuX2NhbGw9dC5zZXRUaW1lb3V0KG4ucHJveHkodGhpcy5fbmV4dCx0aGlzLHIpLGktdSl9O3IucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLmlzKCJyb3RhdGluZyIpJiYodGhpcy5fdGltZT0wLHRoaXMuX3BhdXNlZD0hMCx0LmNsZWFyVGltZW91dCh0aGlzLl9jYWxsKSx0aGlzLl9jb3JlLmxlYXZlKCJyb3RhdGluZyIpKX07ci5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLmlzKCJyb3RhdGluZyIpJiYhdGhpcy5fcGF1c2VkJiYodGhpcy5fdGltZT10aGlzLnJlYWQoKSx0aGlzLl9wYXVzZWQ9ITAsdC5jbGVhclRpbWVvdXQodGhpcy5fY2FsbCkpfTtyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIG4sdDt0aGlzLnN0b3AoKTtmb3IobiBpbiB0aGlzLl9oYW5kbGVycyl0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihuLHRoaXMuX2hhbmRsZXJzW25dKTtmb3IodCBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkiZnVuY3Rpb24iIT10eXBlb2YgdGhpc1t0XSYmKHRoaXNbdF09bnVsbCl9O24uZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5hdXRvcGxheT1yfSh3aW5kb3cuWmVwdG98fHdpbmRvdy5qUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIHQ9ZnVuY3Rpb24oaSl7dGhpcy5fY29yZT1pO3RoaXMuX2luaXRpYWxpemVkPSExO3RoaXMuX3BhZ2VzPVtdO3RoaXMuX2NvbnRyb2xzPXt9O3RoaXMuX3RlbXBsYXRlcz1bXTt0aGlzLiRlbGVtZW50PXRoaXMuX2NvcmUuJGVsZW1lbnQ7dGhpcy5fb3ZlcnJpZGVzPXtuZXh0OnRoaXMuX2NvcmUubmV4dCxwcmV2OnRoaXMuX2NvcmUucHJldix0bzp0aGlzLl9jb3JlLnRvfTt0aGlzLl9oYW5kbGVycz17InByZXBhcmVkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbih0KXt0Lm5hbWVzcGFjZSYmdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSYmdGhpcy5fdGVtcGxhdGVzLnB1c2goJzxkaXYgY2xhc3M9IicrdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RDbGFzcysnIj4nK24odC5jb250ZW50KS5maW5kKCJbZGF0YS1kb3RdIikuYWRkQmFjaygiW2RhdGEtZG90XSIpLmF0dHIoImRhdGEtZG90IikrIjxcL2Rpdj4iKX0sdGhpcyksImFkZGVkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSYmdGhpcy5fdGVtcGxhdGVzLnNwbGljZShuLnBvc2l0aW9uLDAsdGhpcy5fdGVtcGxhdGVzLnBvcCgpKX0sdGhpcyksInJlbW92ZS5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24obil7bi5uYW1lc3BhY2UmJnRoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEmJnRoaXMuX3RlbXBsYXRlcy5zcGxpY2Uobi5wb3NpdGlvbiwxKX0sdGhpcyksImNoYW5nZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiYicG9zaXRpb24iPT1uLnByb3BlcnR5Lm5hbWUmJnRoaXMuZHJhdygpfSx0aGlzKSwiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiYhdGhpcy5faW5pdGlhbGl6ZWQmJih0aGlzLl9jb3JlLnRyaWdnZXIoImluaXRpYWxpemUiLG51bGwsIm5hdmlnYXRpb24iKSx0aGlzLmluaXRpYWxpemUoKSx0aGlzLnVwZGF0ZSgpLHRoaXMuZHJhdygpLHRoaXMuX2luaXRpYWxpemVkPSEwLHRoaXMuX2NvcmUudHJpZ2dlcigiaW5pdGlhbGl6ZWQiLG51bGwsIm5hdmlnYXRpb24iKSl9LHRoaXMpLCJyZWZyZXNoZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiZ0aGlzLl9pbml0aWFsaXplZCYmKHRoaXMuX2NvcmUudHJpZ2dlcigicmVmcmVzaCIsbnVsbCwibmF2aWdhdGlvbiIpLHRoaXMudXBkYXRlKCksdGhpcy5kcmF3KCksdGhpcy5fY29yZS50cmlnZ2VyKCJyZWZyZXNoZWQiLG51bGwsIm5hdmlnYXRpb24iKSl9LHRoaXMpfTt0aGlzLl9jb3JlLm9wdGlvbnM9bi5leHRlbmQoe30sdC5EZWZhdWx0cyx0aGlzLl9jb3JlLm9wdGlvbnMpO3RoaXMuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpfTt0LkRlZmF1bHRzPXtuYXY6ITEsbmF2VGV4dDpbJzxzcGFuIGFyaWEtbGFiZWw9IlByZXZpb3VzIj4mI3gyMDM5OzxcL3NwYW4+JywnPHNwYW4gYXJpYS1sYWJlbD0iTmV4dCI+JiN4MjAzYTs8XC9zcGFuPiddLG5hdlNwZWVkOiExLG5hdkVsZW1lbnQ6J2J1dHRvbiB0eXBlPSJidXR0b24iIHJvbGU9InByZXNlbnRhdGlvbiInLG5hdkNvbnRhaW5lcjohMSxuYXZDb250YWluZXJDbGFzczoib3dsLW5hdiIsbmF2Q2xhc3M6WyJvd2wtcHJldiIsIm93bC1uZXh0Il0sc2xpZGVCeToxLGRvdENsYXNzOiJvd2wtZG90Iixkb3RzQ2xhc3M6Im93bC1kb3RzIixkb3RzOiEwLGRvdHNFYWNoOiExLGRvdHNEYXRhOiExLGRvdHNTcGVlZDohMSxkb3RzQ29udGFpbmVyOiExfTt0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIGksdD10aGlzLl9jb3JlLnNldHRpbmdzO3RoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZT0odC5uYXZDb250YWluZXI/bih0Lm5hdkNvbnRhaW5lcik6bigiPGRpdj4iKS5hZGRDbGFzcyh0Lm5hdkNvbnRhaW5lckNsYXNzKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KSkuYWRkQ2xhc3MoImRpc2FibGVkIik7dGhpcy5fY29udHJvbHMuJHByZXZpb3VzPW4oIjwiK3QubmF2RWxlbWVudCsiPiIpLmFkZENsYXNzKHQubmF2Q2xhc3NbMF0pLmh0bWwodC5uYXZUZXh0WzBdKS5wcmVwZW5kVG8odGhpcy5fY29udHJvbHMuJHJlbGF0aXZlKS5vbigiY2xpY2siLG4ucHJveHkoZnVuY3Rpb24oKXt0aGlzLnByZXYodC5uYXZTcGVlZCl9LHRoaXMpKTt0aGlzLl9jb250cm9scy4kbmV4dD1uKCI8Iit0Lm5hdkVsZW1lbnQrIj4iKS5hZGRDbGFzcyh0Lm5hdkNsYXNzWzFdKS5odG1sKHQubmF2VGV4dFsxXSkuYXBwZW5kVG8odGhpcy5fY29udHJvbHMuJHJlbGF0aXZlKS5vbigiY2xpY2siLG4ucHJveHkoZnVuY3Rpb24oKXt0aGlzLm5leHQodC5uYXZTcGVlZCl9LHRoaXMpKTt0LmRvdHNEYXRhfHwodGhpcy5fdGVtcGxhdGVzPVtuKCc8YnV0dG9uIHJvbGU9ImJ1dHRvbiI+JykuYWRkQ2xhc3ModC5kb3RDbGFzcykuYXBwZW5kKG4oIjxzcGFuPiIpKS5wcm9wKCJvdXRlckhUTUwiKV0pO3RoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZT0odC5kb3RzQ29udGFpbmVyP24odC5kb3RzQ29udGFpbmVyKTpuKCI8ZGl2PiIpLmFkZENsYXNzKHQuZG90c0NsYXNzKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KSkuYWRkQ2xhc3MoImRpc2FibGVkIik7dGhpcy5fY29udHJvbHMuJGFic29sdXRlLm9uKCJjbGljayIsImJ1dHRvbiIsbi5wcm94eShmdW5jdGlvbihpKXt2YXIgcj1uKGkudGFyZ2V0KS5wYXJlbnQoKS5pcyh0aGlzLl9jb250cm9scy4kYWJzb2x1dGUpP24oaS50YXJnZXQpLmluZGV4KCk6bihpLnRhcmdldCkucGFyZW50KCkuaW5kZXgoKTtpLnByZXZlbnREZWZhdWx0KCk7dGhpcy50byhyLHQuZG90c1NwZWVkKX0sdGhpcykpO2ZvcihpIGluIHRoaXMuX292ZXJyaWRlcyl0aGlzLl9jb3JlW2ldPW4ucHJveHkodGhpc1tpXSx0aGlzKX07dC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0LG4saSxyLHU9dGhpcy5fY29yZS5zZXR0aW5ncztmb3IodCBpbiB0aGlzLl9oYW5kbGVycyl0aGlzLiRlbGVtZW50Lm9mZih0LHRoaXMuX2hhbmRsZXJzW3RdKTtmb3IobiBpbiB0aGlzLl9jb250cm9scykiJHJlbGF0aXZlIj09PW4mJnUubmF2Q29udGFpbmVyP3RoaXMuX2NvbnRyb2xzW25dLmh0bWwoIiIpOnRoaXMuX2NvbnRyb2xzW25dLnJlbW92ZSgpO2ZvcihyIGluIHRoaXMub3ZlcmlkZXMpdGhpcy5fY29yZVtyXT10aGlzLl9vdmVycmlkZXNbcl07Zm9yKGkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXNbaV0mJih0aGlzW2ldPW51bGwpfTt0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgdCxpLGYscj10aGlzLl9jb3JlLmNsb25lcygpLmxlbmd0aC8yLG89cit0aGlzLl9jb3JlLml0ZW1zKCkubGVuZ3RoLHU9dGhpcy5fY29yZS5tYXhpbXVtKCEwKSxuPXRoaXMuX2NvcmUuc2V0dGluZ3MsZT1uLmNlbnRlcnx8bi5hdXRvV2lkdGh8fG4uZG90c0RhdGE/MTpuLmRvdHNFYWNofHxuLml0ZW1zO2lmKCJwYWdlIiE9PW4uc2xpZGVCeSYmKG4uc2xpZGVCeT1NYXRoLm1pbihuLnNsaWRlQnksbi5pdGVtcykpLG4uZG90c3x8InBhZ2UiPT1uLnNsaWRlQnkpZm9yKHRoaXMuX3BhZ2VzPVtdLHQ9cixpPTAsZj0wO3Q8bzt0Kyspe2lmKGk+PWV8fDA9PT1pKXtpZih0aGlzLl9wYWdlcy5wdXNoKHtzdGFydDpNYXRoLm1pbih1LHQtciksZW5kOnQtcitlLTF9KSxNYXRoLm1pbih1LHQtcik9PT11KWJyZWFrO2k9MDsrK2Z9aSs9dGhpcy5fY29yZS5tZXJnZXJzKHRoaXMuX2NvcmUucmVsYXRpdmUodCkpfX07dC5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbigpe3ZhciBpLHQ9dGhpcy5fY29yZS5zZXR0aW5ncyxyPXRoaXMuX2NvcmUuaXRlbXMoKS5sZW5ndGg8PXQuaXRlbXMsdT10aGlzLl9jb3JlLnJlbGF0aXZlKHRoaXMuX2NvcmUuY3VycmVudCgpKSxmPXQubG9vcHx8dC5yZXdpbmQ7dGhpcy5fY29udHJvbHMuJHJlbGF0aXZlLnRvZ2dsZUNsYXNzKCJkaXNhYmxlZCIsIXQubmF2fHxyKTt0Lm5hdiYmKHRoaXMuX2NvbnRyb2xzLiRwcmV2aW91cy50b2dnbGVDbGFzcygiZGlzYWJsZWQiLCFmJiZ1PD10aGlzLl9jb3JlLm1pbmltdW0oITApKSx0aGlzLl9jb250cm9scy4kbmV4dC50b2dnbGVDbGFzcygiZGlzYWJsZWQiLCFmJiZ1Pj10aGlzLl9jb3JlLm1heGltdW0oITApKSk7dGhpcy5fY29udHJvbHMuJGFic29sdXRlLnRvZ2dsZUNsYXNzKCJkaXNhYmxlZCIsIXQuZG90c3x8cik7dC5kb3RzJiYoaT10aGlzLl9wYWdlcy5sZW5ndGgtdGhpcy5fY29udHJvbHMuJGFic29sdXRlLmNoaWxkcmVuKCkubGVuZ3RoLHQuZG90c0RhdGEmJjAhPT1pP3RoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5odG1sKHRoaXMuX3RlbXBsYXRlcy5qb2luKCIiKSk6aT4wP3RoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5hcHBlbmQobmV3IEFycmF5KGkrMSkuam9pbih0aGlzLl90ZW1wbGF0ZXNbMF0pKTppPDAmJnRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5jaGlsZHJlbigpLnNsaWNlKGkpLnJlbW92ZSgpLHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5maW5kKCIuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5jaGlsZHJlbigpLmVxKG4uaW5BcnJheSh0aGlzLmN1cnJlbnQoKSx0aGlzLl9wYWdlcykpLmFkZENsYXNzKCJhY3RpdmUiKSl9O3QucHJvdG90eXBlLm9uVHJpZ2dlcj1mdW5jdGlvbih0KXt2YXIgaT10aGlzLl9jb3JlLnNldHRpbmdzO3QucGFnZT17aW5kZXg6bi5pbkFycmF5KHRoaXMuY3VycmVudCgpLHRoaXMuX3BhZ2VzKSxjb3VudDp0aGlzLl9wYWdlcy5sZW5ndGgsc2l6ZTppJiYoaS5jZW50ZXJ8fGkuYXV0b1dpZHRofHxpLmRvdHNEYXRhPzE6aS5kb3RzRWFjaHx8aS5pdGVtcyl9fTt0LnByb3RvdHlwZS5jdXJyZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSk7cmV0dXJuIG4uZ3JlcCh0aGlzLl9wYWdlcyxuLnByb3h5KGZ1bmN0aW9uKG4pe3JldHVybiBuLnN0YXJ0PD10JiZuLmVuZD49dH0sdGhpcykpLnBvcCgpfTt0LnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgaSxyLHU9dGhpcy5fY29yZS5zZXR0aW5ncztyZXR1cm4icGFnZSI9PXUuc2xpZGVCeT8oaT1uLmluQXJyYXkodGhpcy5jdXJyZW50KCksdGhpcy5fcGFnZXMpLHI9dGhpcy5fcGFnZXMubGVuZ3RoLHQ/KytpOi0taSxpPXRoaXMuX3BhZ2VzWyhpJXIrciklcl0uc3RhcnQpOihpPXRoaXMuX2NvcmUucmVsYXRpdmUodGhpcy5fY29yZS5jdXJyZW50KCkpLHI9dGhpcy5fY29yZS5pdGVtcygpLmxlbmd0aCx0P2krPXUuc2xpZGVCeTppLT11LnNsaWRlQnkpLGl9O3QucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24odCl7bi5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sdGhpcy5fY29yZSkodGhpcy5nZXRQb3NpdGlvbighMCksdCl9O3QucHJvdG90eXBlLnByZXY9ZnVuY3Rpb24odCl7bi5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sdGhpcy5fY29yZSkodGhpcy5nZXRQb3NpdGlvbighMSksdCl9O3QucHJvdG90eXBlLnRvPWZ1bmN0aW9uKHQsaSxyKXt2YXIgdTshciYmdGhpcy5fcGFnZXMubGVuZ3RoPyh1PXRoaXMuX3BhZ2VzLmxlbmd0aCxuLnByb3h5KHRoaXMuX292ZXJyaWRlcy50byx0aGlzLl9jb3JlKSh0aGlzLl9wYWdlc1sodCV1K3UpJXVdLnN0YXJ0LGkpKTpuLnByb3h5KHRoaXMuX292ZXJyaWRlcy50byx0aGlzLl9jb3JlKSh0LGkpfTtuLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuTmF2aWdhdGlvbj10fSh3aW5kb3cuWmVwdG98fHdpbmRvdy5qUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihuLHQsaSxyKXsidXNlIHN0cmljdCI7dmFyIHU9ZnVuY3Rpb24oaSl7dGhpcy5fY29yZT1pO3RoaXMuX2hhc2hlcz17fTt0aGlzLiRlbGVtZW50PXRoaXMuX2NvcmUuJGVsZW1lbnQ7dGhpcy5faGFuZGxlcnM9eyJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24oaSl7aS5uYW1lc3BhY2UmJiJVUkxIYXNoIj09PXRoaXMuX2NvcmUuc2V0dGluZ3Muc3RhcnRQb3NpdGlvbiYmbih0KS50cmlnZ2VyKCJoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uIil9LHRoaXMpLCJwcmVwYXJlZC5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24odCl7aWYodC5uYW1lc3BhY2Upe3ZhciBpPW4odC5jb250ZW50KS5maW5kKCJbZGF0YS1oYXNoXSIpLmFkZEJhY2soIltkYXRhLWhhc2hdIikuYXR0cigiZGF0YS1oYXNoIik7aWYoIWkpcmV0dXJuO3RoaXMuX2hhc2hlc1tpXT10LmNvbnRlbnR9fSx0aGlzKSwiY2hhbmdlZC5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24oaSl7aWYoaS5uYW1lc3BhY2UmJiJwb3NpdGlvbiI9PT1pLnByb3BlcnR5Lm5hbWUpe3ZhciB1PXRoaXMuX2NvcmUuaXRlbXModGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSkpLHI9bi5tYXAodGhpcy5faGFzaGVzLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49PT11P3Q6bnVsbH0pLmpvaW4oKTtpZighcnx8dC5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpPT09cilyZXR1cm47dC5sb2NhdGlvbi5oYXNoPXJ9fSx0aGlzKX07dGhpcy5fY29yZS5vcHRpb25zPW4uZXh0ZW5kKHt9LHUuRGVmYXVsdHMsdGhpcy5fY29yZS5vcHRpb25zKTt0aGlzLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTtuKHQpLm9uKCJoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uIixuLnByb3h5KGZ1bmN0aW9uKCl7dmFyIGk9dC5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSx1PXRoaXMuX2NvcmUuJHN0YWdlLmNoaWxkcmVuKCksbj10aGlzLl9oYXNoZXNbaV0mJnUuaW5kZXgodGhpcy5faGFzaGVzW2ldKTtuIT09ciYmbiE9PXRoaXMuX2NvcmUuY3VycmVudCgpJiZ0aGlzLl9jb3JlLnRvKHRoaXMuX2NvcmUucmVsYXRpdmUobiksITEsITApfSx0aGlzKSl9O3UuRGVmYXVsdHM9e1VSTGhhc2hMaXN0ZW5lcjohMX07dS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBpLHI7bih0KS5vZmYoImhhc2hjaGFuZ2Uub3dsLm5hdmlnYXRpb24iKTtmb3IoaSBpbiB0aGlzLl9oYW5kbGVycyl0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihpLHRoaXMuX2hhbmRsZXJzW2ldKTtmb3IociBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkiZnVuY3Rpb24iIT10eXBlb2YgdGhpc1tyXSYmKHRoaXNbcl09bnVsbCl9O24uZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5IYXNoPXV9KHdpbmRvdy5aZXB0b3x8d2luZG93LmpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKG4sdCxpLHIpe2Z1bmN0aW9uIHUodCxpKXt2YXIgdT0hMSxmPXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtyZXR1cm4gbi5lYWNoKCh0KyIgIitoLmpvaW4oZisiICIpK2YpLnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtpZihzW3RdIT09cilyZXR1cm4gdT0haXx8dCwhMX0pLHV9ZnVuY3Rpb24gZShuKXtyZXR1cm4gdShuLCEwKX12YXIgcz1uKCI8c3VwcG9ydD4iKS5nZXQoMCkuc3R5bGUsaD0iV2Via2l0IE1veiBPIG1zIi5zcGxpdCgiICIpLG89e3RyYW5zaXRpb246e2VuZDp7V2Via2l0VHJhbnNpdGlvbjoid2Via2l0VHJhbnNpdGlvbkVuZCIsTW96VHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCIsT1RyYW5zaXRpb246Im9UcmFuc2l0aW9uRW5kIix0cmFuc2l0aW9uOiJ0cmFuc2l0aW9uZW5kIn19LGFuaW1hdGlvbjp7ZW5kOntXZWJraXRBbmltYXRpb246IndlYmtpdEFuaW1hdGlvbkVuZCIsTW96QW5pbWF0aW9uOiJhbmltYXRpb25lbmQiLE9BbmltYXRpb246Im9BbmltYXRpb25FbmQiLGFuaW1hdGlvbjoiYW5pbWF0aW9uZW5kIn19fSxmPXtjc3N0cmFuc2Zvcm1zOmZ1bmN0aW9uKCl7cmV0dXJuISF1KCJ0cmFuc2Zvcm0iKX0sY3NzdHJhbnNmb3JtczNkOmZ1bmN0aW9uKCl7cmV0dXJuISF1KCJwZXJzcGVjdGl2ZSIpfSxjc3N0cmFuc2l0aW9uczpmdW5jdGlvbigpe3JldHVybiEhdSgidHJhbnNpdGlvbiIpfSxjc3NhbmltYXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuISF1KCJhbmltYXRpb24iKX19O2YuY3NzdHJhbnNpdGlvbnMoKSYmKG4uc3VwcG9ydC50cmFuc2l0aW9uPW5ldyBTdHJpbmcoZSgidHJhbnNpdGlvbiIpKSxuLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQ9by50cmFuc2l0aW9uLmVuZFtuLnN1cHBvcnQudHJhbnNpdGlvbl0pO2YuY3NzYW5pbWF0aW9ucygpJiYobi5zdXBwb3J0LmFuaW1hdGlvbj1uZXcgU3RyaW5nKGUoImFuaW1hdGlvbiIpKSxuLnN1cHBvcnQuYW5pbWF0aW9uLmVuZD1vLmFuaW1hdGlvbi5lbmRbbi5zdXBwb3J0LmFuaW1hdGlvbl0pO2YuY3NzdHJhbnNmb3JtcygpJiYobi5zdXBwb3J0LnRyYW5zZm9ybT1uZXcgU3RyaW5nKGUoInRyYW5zZm9ybSIpKSxuLnN1cHBvcnQudHJhbnNmb3JtM2Q9Zi5jc3N0cmFuc2Zvcm1zM2QoKSl9KHdpbmRvdy5aZXB0b3x8d2luZG93LmpRdWVyeSx3aW5kb3csZG9jdW1lbnQpOwovKiEgTWFnbmlmaWMgUG9wdXAgLSB2MS4xLjAgLSAyMDE2LTAyLTIwCiogaHR0cDovL2RpbXNlbWVub3YuY29tL3BsdWdpbnMvbWFnbmlmaWMtcG9wdXAvCiogQ29weXJpZ2h0IChjKSAyMDE2IERtaXRyeSBTZW1lbm92OyAqLwohZnVuY3Rpb24obil7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxuKTpuKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9yZXF1aXJlKCJqcXVlcnkiKTp3aW5kb3cualF1ZXJ5fHx3aW5kb3cuWmVwdG8pfShmdW5jdGlvbihuKXt2YXIgdCxpdCxmLHAsbyxwdCxzPSJDbG9zZSIsd3Q9IkJlZm9yZUNsb3NlIix0aT0iQWZ0ZXJDbG9zZSIsaWk9IkJlZm9yZUFwcGVuZCIscnQ9Ik1hcmt1cFBhcnNlIix1dD0iT3BlbiIsYnQ9IkNoYW5nZSIsZnQ9Im1mcCIsdT0iLiIrZnQsdz0ibWZwLXJlYWR5IixrdD0ibWZwLXJlbW92aW5nIixldD0ibWZwLXByZXZlbnQtY2xvc2UiLGI9ZnVuY3Rpb24oKXt9LG90PSEhd2luZG93LmpRdWVyeSxoPW4od2luZG93KSxyPWZ1bmN0aW9uKG4saSl7dC5ldi5vbihmdCtuK3UsaSl9LGw9ZnVuY3Rpb24odCxpLHIsdSl7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGYuY2xhc3NOYW1lPSJtZnAtIit0LHImJihmLmlubmVySFRNTD1yKSx1P2kmJmkuYXBwZW5kQ2hpbGQoZik6KGY9bihmKSxpJiZmLmFwcGVuZFRvKGkpKSxmfSxpPWZ1bmN0aW9uKGkscil7dC5ldi50cmlnZ2VySGFuZGxlcihmdCtpLHIpO3Quc3QuY2FsbGJhY2tzJiYoaT1pLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2kuc2xpY2UoMSksdC5zdC5jYWxsYmFja3NbaV0mJnQuc3QuY2FsbGJhY2tzW2ldLmFwcGx5KHQsbi5pc0FycmF5KHIpP3I6W3JdKSl9LHN0PWZ1bmN0aW9uKGkpe3JldHVybiBpPT09cHQmJnQuY3VyclRlbXBsYXRlLmNsb3NlQnRufHwodC5jdXJyVGVtcGxhdGUuY2xvc2VCdG49bih0LnN0LmNsb3NlTWFya3VwLnJlcGxhY2UoIiV0aXRsZSUiLHQuc3QudENsb3NlKSkscHQ9aSksdC5jdXJyVGVtcGxhdGUuY2xvc2VCdG59LGh0PWZ1bmN0aW9uKCl7bi5tYWduaWZpY1BvcHVwLmluc3RhbmNlfHwodD1uZXcgYix0LmluaXQoKSxuLm1hZ25pZmljUG9wdXAuaW5zdGFuY2U9dCl9LHJpPWZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpLnN0eWxlLHQ9WyJtcyIsIk8iLCJNb3oiLCJXZWJraXQiXTtpZih2b2lkIDAhPT1uLnRyYW5zaXRpb24pcmV0dXJuITA7Zm9yKDt0Lmxlbmd0aDspaWYodC5wb3AoKSsiVHJhbnNpdGlvbiJpbiBuKXJldHVybiEwO3JldHVybiExfSxhLGssZCxnLGN0LGUsZ3QsYXQsbmksbnQseXQsdHQ7Yi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmIsaW5pdDpmdW5jdGlvbigpe3ZhciBpPW5hdmlnYXRvci5hcHBWZXJzaW9uO3QuaXNMb3dJRT10LmlzSUU4PWRvY3VtZW50LmFsbCYmIWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI7dC5pc0FuZHJvaWQ9L2FuZHJvaWQvZ2kudGVzdChpKTt0LmlzSU9TPS9pcGhvbmV8aXBhZHxpcG9kL2dpLnRlc3QoaSk7dC5zdXBwb3J0c1RyYW5zaXRpb249cmkoKTt0LnByb2JhYmx5TW9iaWxlPXQuaXNBbmRyb2lkfHx0LmlzSU9TfHwvKE9wZXJhIE1pbmkpfEtpbmRsZXx3ZWJPU3xCbGFja0JlcnJ5fChPcGVyYSBNb2JpKXwoV2luZG93cyBQaG9uZSl8SUVNb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO2Y9bihkb2N1bWVudCk7dC5wb3B1cHNDYWNoZT17fX0sb3BlbjpmdW5jdGlvbihlKXt2YXIgcyxjLHAsYixhLGssdixkLHk7aWYoZS5pc09iaj09PSExKXtmb3IodC5pdGVtcz1lLml0ZW1zLnRvQXJyYXkoKSx0LmluZGV4PTAscD1lLml0ZW1zLHM9MDtzPHAubGVuZ3RoO3MrKylpZihjPXBbc10sYy5wYXJzZWQmJihjPWMuZWxbMF0pLGM9PT1lLmVsWzBdKXt0LmluZGV4PXM7YnJlYWt9fWVsc2UgdC5pdGVtcz1uLmlzQXJyYXkoZS5pdGVtcyk/ZS5pdGVtczpbZS5pdGVtc10sdC5pbmRleD1lLmluZGV4fHwwO2lmKHQuaXNPcGVuKXJldHVybiB2b2lkIHQudXBkYXRlSXRlbUhUTUwoKTtmb3IodC50eXBlcz1bXSxvPSIiLHQuZXY9ZS5tYWluRWwmJmUubWFpbkVsLmxlbmd0aD9lLm1haW5FbC5lcSgwKTpmLGUua2V5Pyh0LnBvcHVwc0NhY2hlW2Uua2V5XXx8KHQucG9wdXBzQ2FjaGVbZS5rZXldPXt9KSx0LmN1cnJUZW1wbGF0ZT10LnBvcHVwc0NhY2hlW2Uua2V5XSk6dC5jdXJyVGVtcGxhdGU9e30sdC5zdD1uLmV4dGVuZCghMCx7fSxuLm1hZ25pZmljUG9wdXAuZGVmYXVsdHMsZSksdC5maXhlZENvbnRlbnRQb3M9ImF1dG8iPT09dC5zdC5maXhlZENvbnRlbnRQb3M/IXQucHJvYmFibHlNb2JpbGU6dC5zdC5maXhlZENvbnRlbnRQb3MsdC5zdC5tb2RhbCYmKHQuc3QuY2xvc2VPbkNvbnRlbnRDbGljaz0hMSx0LnN0LmNsb3NlT25CZ0NsaWNrPSExLHQuc3Quc2hvd0Nsb3NlQnRuPSExLHQuc3QuZW5hYmxlRXNjYXBlS2V5PSExKSx0LmJnT3ZlcmxheXx8KHQuYmdPdmVybGF5PWwoImJnIikub24oImNsaWNrIit1LGZ1bmN0aW9uKCl7dC5jbG9zZSgpfSksdC53cmFwPWwoIndyYXAiKS5hdHRyKCJ0YWJpbmRleCIsLTEpLm9uKCJjbGljayIrdSxmdW5jdGlvbihuKXt0Ll9jaGVja0lmQ2xvc2Uobi50YXJnZXQpJiZ0LmNsb3NlKCl9KSx0LmNvbnRhaW5lcj1sKCJjb250YWluZXIiLHQud3JhcCkpLHQuY29udGVudENvbnRhaW5lcj1sKCJjb250ZW50IiksdC5zdC5wcmVsb2FkZXImJih0LnByZWxvYWRlcj1sKCJwcmVsb2FkZXIiLHQuY29udGFpbmVyLHQuc3QudExvYWRpbmcpKSxiPW4ubWFnbmlmaWNQb3B1cC5tb2R1bGVzLHM9MDtzPGIubGVuZ3RoO3MrKylhPWJbc10sYT1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSksdFsiaW5pdCIrYV0uY2FsbCh0KTtyZXR1cm4gaSgiQmVmb3JlT3BlbiIpLHQuc3Quc2hvd0Nsb3NlQnRuJiYodC5zdC5jbG9zZUJ0bkluc2lkZT8ocihydCxmdW5jdGlvbihuLHQsaSxyKXtpLmNsb3NlX3JlcGxhY2VXaXRoPXN0KHIudHlwZSl9KSxvKz0iIG1mcC1jbG9zZS1idG4taW4iKTp0LndyYXAuYXBwZW5kKHN0KCkpKSx0LnN0LmFsaWduVG9wJiYobys9IiBtZnAtYWxpZ24tdG9wIiksdC5maXhlZENvbnRlbnRQb3M/dC53cmFwLmNzcyh7b3ZlcmZsb3c6dC5zdC5vdmVyZmxvd1ksb3ZlcmZsb3dYOiJoaWRkZW4iLG92ZXJmbG93WTp0LnN0Lm92ZXJmbG93WX0pOnQud3JhcC5jc3Moe3RvcDpoLnNjcm9sbFRvcCgpLHBvc2l0aW9uOiJhYnNvbHV0ZSJ9KSwodC5zdC5maXhlZEJnUG9zPT09ITF8fCJhdXRvIj09PXQuc3QuZml4ZWRCZ1BvcyYmIXQuZml4ZWRDb250ZW50UG9zKSYmdC5iZ092ZXJsYXkuY3NzKHtoZWlnaHQ6Zi5oZWlnaHQoKSxwb3NpdGlvbjoiYWJzb2x1dGUifSksdC5zdC5lbmFibGVFc2NhcGVLZXkmJmYub24oImtleXVwIit1LGZ1bmN0aW9uKG4pezI3PT09bi5rZXlDb2RlJiZ0LmNsb3NlKCl9KSxoLm9uKCJyZXNpemUiK3UsZnVuY3Rpb24oKXt0LnVwZGF0ZVNpemUoKX0pLHQuc3QuY2xvc2VPbkNvbnRlbnRDbGlja3x8KG8rPSIgbWZwLWF1dG8tY3Vyc29yIiksbyYmdC53cmFwLmFkZENsYXNzKG8pLGs9dC53SD1oLmhlaWdodCgpLHY9e30sdC5maXhlZENvbnRlbnRQb3MmJnQuX2hhc1Njcm9sbEJhcihrKSYmKGQ9dC5fZ2V0U2Nyb2xsYmFyU2l6ZSgpLGQmJih2Lm1hcmdpblJpZ2h0PWQpKSx0LmZpeGVkQ29udGVudFBvcyYmKHQuaXNJRTc/bigiYm9keSwgaHRtbCIpLmNzcygib3ZlcmZsb3ciLCJoaWRkZW4iKTp2Lm92ZXJmbG93PSJoaWRkZW4iKSx5PXQuc3QubWFpbkNsYXNzLHQuaXNJRTcmJih5Kz0iIG1mcC1pZTciKSx5JiZ0Ll9hZGRDbGFzc1RvTUZQKHkpLHQudXBkYXRlSXRlbUhUTUwoKSxpKCJCdWlsZENvbnRyb2xzIiksbigiaHRtbCIpLmNzcyh2KSx0LmJnT3ZlcmxheS5hZGQodC53cmFwKS5wcmVwZW5kVG8odC5zdC5wcmVwZW5kVG98fG4oZG9jdW1lbnQuYm9keSkpLHQuX2xhc3RGb2N1c2VkRWw9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5jb250ZW50Pyh0Ll9hZGRDbGFzc1RvTUZQKHcpLHQuX3NldEZvY3VzKCkpOnQuYmdPdmVybGF5LmFkZENsYXNzKHcpO2Yub24oImZvY3VzaW4iK3UsdC5fb25Gb2N1c0luKX0sMTYpLHQuaXNPcGVuPSEwLHQudXBkYXRlU2l6ZShrKSxpKHV0KSxlfSxjbG9zZTpmdW5jdGlvbigpe3QuaXNPcGVuJiYoaSh3dCksdC5pc09wZW49ITEsdC5zdC5yZW1vdmFsRGVsYXkmJiF0LmlzTG93SUUmJnQuc3VwcG9ydHNUcmFuc2l0aW9uPyh0Ll9hZGRDbGFzc1RvTUZQKGt0KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fY2xvc2UoKX0sdC5zdC5yZW1vdmFsRGVsYXkpKTp0Ll9jbG9zZSgpKX0sX2Nsb3NlOmZ1bmN0aW9uKCl7dmFyIHIsZTtpKHMpO3I9a3QrIiAiK3crIiAiOyh0LmJnT3ZlcmxheS5kZXRhY2goKSx0LndyYXAuZGV0YWNoKCksdC5jb250YWluZXIuZW1wdHkoKSx0LnN0Lm1haW5DbGFzcyYmKHIrPXQuc3QubWFpbkNsYXNzKyIgIiksdC5fcmVtb3ZlQ2xhc3NGcm9tTUZQKHIpLHQuZml4ZWRDb250ZW50UG9zKSYmKGU9e21hcmdpblJpZ2h0OiIifSx0LmlzSUU3P24oImJvZHksIGh0bWwiKS5jc3MoIm92ZXJmbG93IiwiIik6ZS5vdmVyZmxvdz0iIixuKCJodG1sIikuY3NzKGUpKTtmLm9mZigia2V5dXAiK3UrIiBmb2N1c2luIit1KTt0LmV2Lm9mZih1KTt0LndyYXAuYXR0cigiY2xhc3MiLCJtZnAtd3JhcCIpLnJlbW92ZUF0dHIoInN0eWxlIik7dC5iZ092ZXJsYXkuYXR0cigiY2xhc3MiLCJtZnAtYmciKTt0LmNvbnRhaW5lci5hdHRyKCJjbGFzcyIsIm1mcC1jb250YWluZXIiKTshdC5zdC5zaG93Q2xvc2VCdG58fHQuc3QuY2xvc2VCdG5JbnNpZGUmJnQuY3VyclRlbXBsYXRlW3QuY3Vyckl0ZW0udHlwZV0hPT0hMHx8dC5jdXJyVGVtcGxhdGUuY2xvc2VCdG4mJnQuY3VyclRlbXBsYXRlLmNsb3NlQnRuLmRldGFjaCgpO3Quc3QuYXV0b0ZvY3VzTGFzdCYmdC5fbGFzdEZvY3VzZWRFbCYmbih0Ll9sYXN0Rm9jdXNlZEVsKS5mb2N1cygpO3QuY3Vyckl0ZW09bnVsbDt0LmNvbnRlbnQ9bnVsbDt0LmN1cnJUZW1wbGF0ZT1udWxsO3QucHJldkhlaWdodD0wO2kodGkpfSx1cGRhdGVTaXplOmZ1bmN0aW9uKG4pe2lmKHQuaXNJT1Mpe3ZhciB1PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aC93aW5kb3cuaW5uZXJXaWR0aCxyPXdpbmRvdy5pbm5lckhlaWdodCp1O3Qud3JhcC5jc3MoImhlaWdodCIscik7dC53SD1yfWVsc2UgdC53SD1ufHxoLmhlaWdodCgpO3QuZml4ZWRDb250ZW50UG9zfHx0LndyYXAuY3NzKCJoZWlnaHQiLHQud0gpO2koIlJlc2l6ZSIpfSx1cGRhdGVJdGVtSFRNTDpmdW5jdGlvbigpe3ZhciB1PXQuaXRlbXNbdC5pbmRleF0scixmLGU7dC5jb250ZW50Q29udGFpbmVyLmRldGFjaCgpO3QuY29udGVudCYmdC5jb250ZW50LmRldGFjaCgpO3UucGFyc2VkfHwodT10LnBhcnNlRWwodC5pbmRleCkpO3I9dS50eXBlOyhpKCJCZWZvcmVDaGFuZ2UiLFt0LmN1cnJJdGVtP3QuY3Vyckl0ZW0udHlwZToiIixyXSksdC5jdXJySXRlbT11LHQuY3VyclRlbXBsYXRlW3JdKXx8KGY9dC5zdFtyXT90LnN0W3JdLm1hcmt1cDohMSxpKCJGaXJzdE1hcmt1cFBhcnNlIixmKSx0LmN1cnJUZW1wbGF0ZVtyXT1mP24oZik6ITApO3AmJnAhPT11LnR5cGUmJnQuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJtZnAtIitwKyItaG9sZGVyIik7ZT10WyJnZXQiK3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrci5zbGljZSgxKV0odSx0LmN1cnJUZW1wbGF0ZVtyXSk7dC5hcHBlbmRDb250ZW50KGUscik7dS5wcmVsb2FkZWQ9ITA7aShidCx1KTtwPXUudHlwZTt0LmNvbnRhaW5lci5wcmVwZW5kKHQuY29udGVudENvbnRhaW5lcik7aSgiQWZ0ZXJDaGFuZ2UiKX0sYXBwZW5kQ29udGVudDpmdW5jdGlvbihuLHIpe3QuY29udGVudD1uO24/dC5zdC5zaG93Q2xvc2VCdG4mJnQuc3QuY2xvc2VCdG5JbnNpZGUmJnQuY3VyclRlbXBsYXRlW3JdPT09ITA/dC5jb250ZW50LmZpbmQoIi5tZnAtY2xvc2UiKS5sZW5ndGh8fHQuY29udGVudC5hcHBlbmQoc3QoKSk6dC5jb250ZW50PW46dC5jb250ZW50PSIiO2koaWkpO3QuY29udGFpbmVyLmFkZENsYXNzKCJtZnAtIityKyItaG9sZGVyIik7dC5jb250ZW50Q29udGFpbmVyLmFwcGVuZCh0LmNvbnRlbnQpfSxwYXJzZUVsOmZ1bmN0aW9uKHIpe3ZhciBvLHU9dC5pdGVtc1tyXSxlLGY7aWYodS50YWdOYW1lP3U9e2VsOm4odSl9OihvPXUudHlwZSx1PXtkYXRhOnUsc3JjOnUuc3JjfSksdS5lbCl7Zm9yKGU9dC50eXBlcyxmPTA7ZjxlLmxlbmd0aDtmKyspaWYodS5lbC5oYXNDbGFzcygibWZwLSIrZVtmXSkpe289ZVtmXTticmVha311LnNyYz11LmVsLmF0dHIoImRhdGEtbWZwLXNyYyIpO3Uuc3JjfHwodS5zcmM9dS5lbC5hdHRyKCJocmVmIikpfXJldHVybiB1LnR5cGU9b3x8dC5zdC50eXBlfHwiaW5saW5lIix1LmluZGV4PXIsdS5wYXJzZWQ9ITAsdC5pdGVtc1tyXT11LGkoIkVsZW1lbnRQYXJzZSIsdSksdC5pdGVtc1tyXX0sYWRkR3JvdXA6ZnVuY3Rpb24obixpKXt2YXIgdT1mdW5jdGlvbihyKXtyLm1mcEVsPXRoaXM7dC5fb3BlbkNsaWNrKHIsbixpKX0scjtpfHwoaT17fSk7cj0iY2xpY2subWFnbmlmaWNQb3B1cCI7aS5tYWluRWw9bjtpLml0ZW1zPyhpLmlzT2JqPSEwLG4ub2ZmKHIpLm9uKHIsdSkpOihpLmlzT2JqPSExLGkuZGVsZWdhdGU/bi5vZmYocikub24ocixpLmRlbGVnYXRlLHUpOihpLml0ZW1zPW4sbi5vZmYocikub24ocix1KSkpfSxfb3BlbkNsaWNrOmZ1bmN0aW9uKGkscix1KXt2YXIgZT12b2lkIDAhPT11Lm1pZENsaWNrP3UubWlkQ2xpY2s6bi5tYWduaWZpY1BvcHVwLmRlZmF1bHRzLm1pZENsaWNrLGY7aWYoZXx8ISgyPT09aS53aGljaHx8aS5jdHJsS2V5fHxpLm1ldGFLZXl8fGkuYWx0S2V5fHxpLnNoaWZ0S2V5KSl7aWYoZj12b2lkIDAhPT11LmRpc2FibGVPbj91LmRpc2FibGVPbjpuLm1hZ25pZmljUG9wdXAuZGVmYXVsdHMuZGlzYWJsZU9uLGYpaWYobi5pc0Z1bmN0aW9uKGYpKXtpZighZi5jYWxsKHQpKXJldHVybiEwfWVsc2UgaWYoaC53aWR0aCgpPGYpcmV0dXJuITA7aS50eXBlJiYoaS5wcmV2ZW50RGVmYXVsdCgpLHQuaXNPcGVuJiZpLnN0b3BQcm9wYWdhdGlvbigpKTt1LmVsPW4oaS5tZnBFbCk7dS5kZWxlZ2F0ZSYmKHUuaXRlbXM9ci5maW5kKHUuZGVsZWdhdGUpKTt0Lm9wZW4odSl9fSx1cGRhdGVTdGF0dXM6ZnVuY3Rpb24obixyKXtpZih0LnByZWxvYWRlcil7aXQhPT1uJiZ0LmNvbnRhaW5lci5yZW1vdmVDbGFzcygibWZwLXMtIitpdCk7cnx8ImxvYWRpbmciIT09bnx8KHI9dC5zdC50TG9hZGluZyk7dmFyIHU9e3N0YXR1czpuLHRleHQ6cn07aSgiVXBkYXRlU3RhdHVzIix1KTtuPXUuc3RhdHVzO3I9dS50ZXh0O3QucHJlbG9hZGVyLmh0bWwocik7dC5wcmVsb2FkZXIuZmluZCgiYSIpLm9uKCJjbGljayIsZnVuY3Rpb24obil7bi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pO3QuY29udGFpbmVyLmFkZENsYXNzKCJtZnAtcy0iK24pO2l0PW59fSxfY2hlY2tJZkNsb3NlOmZ1bmN0aW9uKGkpe2lmKCFuKGkpLmhhc0NsYXNzKGV0KSl7dmFyIHI9dC5zdC5jbG9zZU9uQ29udGVudENsaWNrLHU9dC5zdC5jbG9zZU9uQmdDbGljaztpZihyJiZ1fHwhdC5jb250ZW50fHxuKGkpLmhhc0NsYXNzKCJtZnAtY2xvc2UiKXx8dC5wcmVsb2FkZXImJmk9PT10LnByZWxvYWRlclswXSlyZXR1cm4hMDtpZihpPT09dC5jb250ZW50WzBdfHxuLmNvbnRhaW5zKHQuY29udGVudFswXSxpKSl7aWYocilyZXR1cm4hMH1lbHNlIGlmKHUmJm4uY29udGFpbnMoZG9jdW1lbnQsaSkpcmV0dXJuITA7cmV0dXJuITF9fSxfYWRkQ2xhc3NUb01GUDpmdW5jdGlvbihuKXt0LmJnT3ZlcmxheS5hZGRDbGFzcyhuKTt0LndyYXAuYWRkQ2xhc3Mobil9LF9yZW1vdmVDbGFzc0Zyb21NRlA6ZnVuY3Rpb24obil7dGhpcy5iZ092ZXJsYXkucmVtb3ZlQ2xhc3Mobik7dC53cmFwLnJlbW92ZUNsYXNzKG4pfSxfaGFzU2Nyb2xsQmFyOmZ1bmN0aW9uKG4pe3JldHVybih0LmlzSUU3P2YuaGVpZ2h0KCk6ZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpPihufHxoLmhlaWdodCgpKX0sX3NldEZvY3VzOmZ1bmN0aW9uKCl7KHQuc3QuZm9jdXM/dC5jb250ZW50LmZpbmQodC5zdC5mb2N1cykuZXEoMCk6dC53cmFwKS5mb2N1cygpfSxfb25Gb2N1c0luOmZ1bmN0aW9uKGkpe2lmKGkudGFyZ2V0IT09dC53cmFwWzBdJiYhbi5jb250YWlucyh0LndyYXBbMF0saS50YXJnZXQpKXJldHVybih0Ll9zZXRGb2N1cygpLCExKX0sX3BhcnNlTWFya3VwOmZ1bmN0aW9uKHQscixmKXt2YXIgZTtmLmRhdGEmJihyPW4uZXh0ZW5kKGYuZGF0YSxyKSk7aShydCxbdCxyLGZdKTtuLmVhY2gocixmdW5jdGlvbihpLHIpe3ZhciBmLG87aWYodm9pZCAwPT09cnx8cj09PSExKXJldHVybiEwOyhlPWkuc3BsaXQoIl8iKSxlLmxlbmd0aD4xKT8oZj10LmZpbmQodSsiLSIrZVswXSksZi5sZW5ndGg+MCYmKG89ZVsxXSwicmVwbGFjZVdpdGgiPT09bz9mWzBdIT09clswXSYmZi5yZXBsYWNlV2l0aChyKToiaW1nIj09PW8/Zi5pcygiaW1nIik/Zi5hdHRyKCJzcmMiLHIpOmYucmVwbGFjZVdpdGgobigiPGltZz4iKS5hdHRyKCJzcmMiLHIpLmF0dHIoImNsYXNzIixmLmF0dHIoImNsYXNzIikpKTpmLmF0dHIoZVsxXSxyKSkpOnQuZmluZCh1KyItIitpKS5odG1sKHIpfSl9LF9nZXRTY3JvbGxiYXJTaXplOmZ1bmN0aW9uKCl7aWYodm9pZCAwPT09dC5zY3JvbGxiYXJTaXplKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtuLnN0eWxlLmNzc1RleHQ9IndpZHRoOiA5OXB4OyBoZWlnaHQ6IDk5cHg7IG92ZXJmbG93OiBzY3JvbGw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtOTk5OXB4OyI7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKTt0LnNjcm9sbGJhclNpemU9bi5vZmZzZXRXaWR0aC1uLmNsaWVudFdpZHRoO2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobil9cmV0dXJuIHQuc2Nyb2xsYmFyU2l6ZX19O24ubWFnbmlmaWNQb3B1cD17aW5zdGFuY2U6bnVsbCxwcm90bzpiLnByb3RvdHlwZSxtb2R1bGVzOltdLG9wZW46ZnVuY3Rpb24odCxpKXtyZXR1cm4gaHQoKSx0PXQ/bi5leHRlbmQoITAse30sdCk6e30sdC5pc09iaj0hMCx0LmluZGV4PWl8fDAsdGhpcy5pbnN0YW5jZS5vcGVuKHQpfSxjbG9zZTpmdW5jdGlvbigpe3JldHVybiBuLm1hZ25pZmljUG9wdXAuaW5zdGFuY2UmJm4ubWFnbmlmaWNQb3B1cC5pbnN0YW5jZS5jbG9zZSgpfSxyZWdpc3Rlck1vZHVsZTpmdW5jdGlvbih0LGkpe2kub3B0aW9ucyYmKG4ubWFnbmlmaWNQb3B1cC5kZWZhdWx0c1t0XT1pLm9wdGlvbnMpO24uZXh0ZW5kKHRoaXMucHJvdG8saS5wcm90byk7dGhpcy5tb2R1bGVzLnB1c2godCl9LGRlZmF1bHRzOntkaXNhYmxlT246MCxrZXk6bnVsbCxtaWRDbGljazohMSxtYWluQ2xhc3M6IiIscHJlbG9hZGVyOiEwLGZvY3VzOiIiLGNsb3NlT25Db250ZW50Q2xpY2s6ITEsY2xvc2VPbkJnQ2xpY2s6ITAsY2xvc2VCdG5JbnNpZGU6ITAsc2hvd0Nsb3NlQnRuOiEwLGVuYWJsZUVzY2FwZUtleTohMCxtb2RhbDohMSxhbGlnblRvcDohMSxyZW1vdmFsRGVsYXk6MCxwcmVwZW5kVG86bnVsbCxmaXhlZENvbnRlbnRQb3M6ImF1dG8iLGZpeGVkQmdQb3M6ImF1dG8iLG92ZXJmbG93WToiYXV0byIsY2xvc2VNYXJrdXA6JzxidXR0b24gdGl0bGU9IiV0aXRsZSUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9Im1mcC1jbG9zZSI+JiMyMTU7PFwvYnV0dG9uPicsdENsb3NlOiJDbG9zZSAoRXNjKSIsdExvYWRpbmc6IkxvYWRpbmcuLi4iLGF1dG9Gb2N1c0xhc3Q6ITB9fTtuLmZuLm1hZ25pZmljUG9wdXA9ZnVuY3Rpb24oaSl7dmFyIHIsdSxmLGU7cmV0dXJuIGh0KCkscj1uKHRoaXMpLCJzdHJpbmciPT10eXBlb2YgaT8ib3BlbiI9PT1pPyhmPW90P3IuZGF0YSgibWFnbmlmaWNQb3B1cCIpOnJbMF0ubWFnbmlmaWNQb3B1cCxlPXBhcnNlSW50KGFyZ3VtZW50c1sxXSwxMCl8fDAsZi5pdGVtcz91PWYuaXRlbXNbZV06KHU9cixmLmRlbGVnYXRlJiYodT11LmZpbmQoZi5kZWxlZ2F0ZSkpLHU9dS5lcShlKSksdC5fb3BlbkNsaWNrKHttZnBFbDp1fSxyLGYpKTp0LmlzT3BlbiYmdFtpXS5hcHBseSh0LEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk6KGk9bi5leHRlbmQoITAse30saSksb3Q/ci5kYXRhKCJtYWduaWZpY1BvcHVwIixpKTpyWzBdLm1hZ25pZmljUG9wdXA9aSx0LmFkZEdyb3VwKHIsaSkpLHJ9O2c9ImlubGluZSI7Y3Q9ZnVuY3Rpb24oKXtkJiYoay5hZnRlcihkLmFkZENsYXNzKGEpKS5kZXRhY2goKSxkPW51bGwpfTtuLm1hZ25pZmljUG9wdXAucmVnaXN0ZXJNb2R1bGUoZyx7b3B0aW9uczp7aGlkZGVuQ2xhc3M6ImhpZGUiLG1hcmt1cDoiIix0Tm90Rm91bmQ6IkNvbnRlbnQgbm90IGZvdW5kIn0scHJvdG86e2luaXRJbmxpbmU6ZnVuY3Rpb24oKXt0LnR5cGVzLnB1c2goZyk7cihzKyIuIitnLGZ1bmN0aW9uKCl7Y3QoKX0pfSxnZXRJbmxpbmU6ZnVuY3Rpb24oaSxyKXt2YXIgZix1LGU7cmV0dXJuKGN0KCksaS5zcmMpPyhmPXQuc3QuaW5saW5lLHU9bihpLnNyYyksdS5sZW5ndGg/KGU9dVswXS5wYXJlbnROb2RlLGUmJmUudGFnTmFtZSYmKGt8fChhPWYuaGlkZGVuQ2xhc3Msaz1sKGEpLGE9Im1mcC0iK2EpLGQ9dS5hZnRlcihrKS5kZXRhY2goKS5yZW1vdmVDbGFzcyhhKSksdC51cGRhdGVTdGF0dXMoInJlYWR5IikpOih0LnVwZGF0ZVN0YXR1cygiZXJyb3IiLGYudE5vdEZvdW5kKSx1PW4oIjxkaXY+IikpLGkuaW5saW5lRWxlbWVudD11LHUpOih0LnVwZGF0ZVN0YXR1cygicmVhZHkiKSx0Ll9wYXJzZU1hcmt1cChyLHt9LGkpLHIpfX19KTt2YXIgdix5PSJhamF4IixsdD1mdW5jdGlvbigpe3YmJm4oZG9jdW1lbnQuYm9keSkucmVtb3ZlQ2xhc3Modil9LGR0PWZ1bmN0aW9uKCl7bHQoKTt0LnJlcSYmdC5yZXEuYWJvcnQoKX07bi5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKHkse29wdGlvbnM6e3NldHRpbmdzOm51bGwsY3Vyc29yOiJtZnAtYWpheC1jdXIiLHRFcnJvcjonPGEgaHJlZj0iJXVybCUiPlRoZSBjb250ZW50PFwvYT4gY291bGQgbm90IGJlIGxvYWRlZC4nfSxwcm90bzp7aW5pdEFqYXg6ZnVuY3Rpb24oKXt0LnR5cGVzLnB1c2goeSk7dj10LnN0LmFqYXguY3Vyc29yO3IocysiLiIreSxkdCk7cigiQmVmb3JlQ2hhbmdlLiIreSxkdCl9LGdldEFqYXg6ZnVuY3Rpb24ocil7diYmbihkb2N1bWVudC5ib2R5KS5hZGRDbGFzcyh2KTt0LnVwZGF0ZVN0YXR1cygibG9hZGluZyIpO3ZhciB1PW4uZXh0ZW5kKHt1cmw6ci5zcmMsc3VjY2VzczpmdW5jdGlvbih1LGYsZSl7dmFyIG89e2RhdGE6dSx4aHI6ZX07aSgiUGFyc2VBamF4IixvKTt0LmFwcGVuZENvbnRlbnQobihvLmRhdGEpLHkpO3IuZmluaXNoZWQ9ITA7bHQoKTt0Ll9zZXRGb2N1cygpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LndyYXAuYWRkQ2xhc3Modyl9LDE2KTt0LnVwZGF0ZVN0YXR1cygicmVhZHkiKTtpKCJBamF4Q29udGVudEFkZGVkIil9LGVycm9yOmZ1bmN0aW9uKCl7bHQoKTtyLmZpbmlzaGVkPXIubG9hZEVycm9yPSEwO3QudXBkYXRlU3RhdHVzKCJlcnJvciIsdC5zdC5hamF4LnRFcnJvci5yZXBsYWNlKCIldXJsJSIsci5zcmMpKX19LHQuc3QuYWpheC5zZXR0aW5ncyk7cmV0dXJuIHQucmVxPW4uYWpheCh1KSwiIn19fSk7Z3Q9ZnVuY3Rpb24oaSl7aWYoaS5kYXRhJiZ2b2lkIDAhPT1pLmRhdGEudGl0bGUpcmV0dXJuIGkuZGF0YS50aXRsZTt2YXIgcj10LnN0LmltYWdlLnRpdGxlU3JjO2lmKHIpe2lmKG4uaXNGdW5jdGlvbihyKSlyZXR1cm4gci5jYWxsKHQsaSk7aWYoaS5lbClyZXR1cm4gaS5lbC5hdHRyKHIpfHwiIn1yZXR1cm4iIn07bi5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKCJpbWFnZSIse29wdGlvbnM6e21hcmt1cDonPGRpdiBjbGFzcz0ibWZwLWZpZ3VyZSI+PGRpdiBjbGFzcz0ibWZwLWNsb3NlIj48XC9kaXY+PGZpZ3VyZT48ZGl2IGNsYXNzPSJtZnAtaW1nIj48XC9kaXY+PGZpZ2NhcHRpb24+PGRpdiBjbGFzcz0ibWZwLWJvdHRvbS1iYXIiPjxkaXYgY2xhc3M9Im1mcC10aXRsZSI+PFwvZGl2PjxkaXYgY2xhc3M9Im1mcC1jb3VudGVyIj48XC9kaXY+PFwvZGl2PjxcL2ZpZ2NhcHRpb24+PFwvZmlndXJlPjxcL2Rpdj4nLGN1cnNvcjoibWZwLXpvb20tb3V0LWN1ciIsdGl0bGVTcmM6InRpdGxlIix2ZXJ0aWNhbEZpdDohMCx0RXJyb3I6JzxhIGhyZWY9IiV1cmwlIj5UaGUgaW1hZ2U8XC9hPiBjb3VsZCBub3QgYmUgbG9hZGVkLid9LHByb3RvOntpbml0SW1hZ2U6ZnVuY3Rpb24oKXt2YXIgaT10LnN0LmltYWdlLGY9Ii5pbWFnZSI7dC50eXBlcy5wdXNoKCJpbWFnZSIpO3IodXQrZixmdW5jdGlvbigpeyJpbWFnZSI9PT10LmN1cnJJdGVtLnR5cGUmJmkuY3Vyc29yJiZuKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKGkuY3Vyc29yKX0pO3IocytmLGZ1bmN0aW9uKCl7aS5jdXJzb3ImJm4oZG9jdW1lbnQuYm9keSkucmVtb3ZlQ2xhc3MoaS5jdXJzb3IpO2gub2ZmKCJyZXNpemUiK3UpfSk7cigiUmVzaXplIitmLHQucmVzaXplSW1hZ2UpO3QuaXNMb3dJRSYmcigiQWZ0ZXJDaGFuZ2UiLHQucmVzaXplSW1hZ2UpfSxyZXNpemVJbWFnZTpmdW5jdGlvbigpe3ZhciBuPXQuY3Vyckl0ZW0saTtuJiZuLmltZyYmdC5zdC5pbWFnZS52ZXJ0aWNhbEZpdCYmKGk9MCx0LmlzTG93SUUmJihpPXBhcnNlSW50KG4uaW1nLmNzcygicGFkZGluZy10b3AiKSwxMCkrcGFyc2VJbnQobi5pbWcuY3NzKCJwYWRkaW5nLWJvdHRvbSIpLDEwKSksbi5pbWcuY3NzKCJtYXgtaGVpZ2h0Iix0LndILWkpKX0sX29uSW1hZ2VIYXNTaXplOmZ1bmN0aW9uKG4pe24uaW1nJiYobi5oYXNTaXplPSEwLGUmJmNsZWFySW50ZXJ2YWwoZSksbi5pc0NoZWNraW5nSW1nU2l6ZT0hMSxpKCJJbWFnZUhhc1NpemUiLG4pLG4uaW1nSGlkZGVuJiYodC5jb250ZW50JiZ0LmNvbnRlbnQucmVtb3ZlQ2xhc3MoIm1mcC1sb2FkaW5nIiksbi5pbWdIaWRkZW49ITEpKX0sZmluZEltYWdlU2l6ZTpmdW5jdGlvbihuKXt2YXIgaT0wLHU9bi5pbWdbMF0scj1mdW5jdGlvbihmKXtlJiZjbGVhckludGVydmFsKGUpO2U9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtyZXR1cm4gdS5uYXR1cmFsV2lkdGg+MD92b2lkIHQuX29uSW1hZ2VIYXNTaXplKG4pOihpPjIwMCYmY2xlYXJJbnRlcnZhbChlKSxpKyssdm9pZCgzPT09aT9yKDEwKTo0MD09PWk/cig1MCk6MTAwPT09aSYmcig1MDApKSl9LGYpfTtyKDEpfSxnZXRJbWFnZTpmdW5jdGlvbihyLHUpe3ZhciBvPTAscz1mdW5jdGlvbigpe3ImJihyLmltZ1swXS5jb21wbGV0ZT8oci5pbWcub2ZmKCIubWZwbG9hZGVyIikscj09PXQuY3Vyckl0ZW0mJih0Ll9vbkltYWdlSGFzU2l6ZShyKSx0LnVwZGF0ZVN0YXR1cygicmVhZHkiKSksci5oYXNTaXplPSEwLHIubG9hZGVkPSEwLGkoIkltYWdlTG9hZENvbXBsZXRlIikpOihvKyssMjAwPm8/c2V0VGltZW91dChzLDEwMCk6aCgpKSl9LGg9ZnVuY3Rpb24oKXtyJiYoci5pbWcub2ZmKCIubWZwbG9hZGVyIikscj09PXQuY3Vyckl0ZW0mJih0Ll9vbkltYWdlSGFzU2l6ZShyKSx0LnVwZGF0ZVN0YXR1cygiZXJyb3IiLGMudEVycm9yLnJlcGxhY2UoIiV1cmwlIixyLnNyYykpKSxyLmhhc1NpemU9ITAsci5sb2FkZWQ9ITAsci5sb2FkRXJyb3I9ITApfSxjPXQuc3QuaW1hZ2UsbD11LmZpbmQoIi5tZnAtaW1nIiksZjtyZXR1cm4gbC5sZW5ndGgmJihmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLGYuY2xhc3NOYW1lPSJtZnAtaW1nIixyLmVsJiZyLmVsLmZpbmQoImltZyIpLmxlbmd0aCYmKGYuYWx0PXIuZWwuZmluZCgiaW1nIikuYXR0cigiYWx0IikpLHIuaW1nPW4oZikub24oImxvYWQubWZwbG9hZGVyIixzKS5vbigiZXJyb3IubWZwbG9hZGVyIixoKSxmLnNyYz1yLnNyYyxsLmlzKCJpbWciKSYmKHIuaW1nPXIuaW1nLmNsb25lKCkpLGY9ci5pbWdbMF0sZi5uYXR1cmFsV2lkdGg+MD9yLmhhc1NpemU9ITA6Zi53aWR0aHx8KHIuaGFzU2l6ZT0hMSkpLHQuX3BhcnNlTWFya3VwKHUse3RpdGxlOmd0KHIpLGltZ19yZXBsYWNlV2l0aDpyLmltZ30sciksdC5yZXNpemVJbWFnZSgpLHIuaGFzU2l6ZT8oZSYmY2xlYXJJbnRlcnZhbChlKSxyLmxvYWRFcnJvcj8odS5hZGRDbGFzcygibWZwLWxvYWRpbmciKSx0LnVwZGF0ZVN0YXR1cygiZXJyb3IiLGMudEVycm9yLnJlcGxhY2UoIiV1cmwlIixyLnNyYykpKToodS5yZW1vdmVDbGFzcygibWZwLWxvYWRpbmciKSx0LnVwZGF0ZVN0YXR1cygicmVhZHkiKSksdSk6KHQudXBkYXRlU3RhdHVzKCJsb2FkaW5nIiksci5sb2FkaW5nPSEwLHIuaGFzU2l6ZXx8KHIuaW1nSGlkZGVuPSEwLHUuYWRkQ2xhc3MoIm1mcC1sb2FkaW5nIiksdC5maW5kSW1hZ2VTaXplKHIpKSx1KX19fSk7bmk9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09YXQmJihhdD12b2lkIDAhPT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIikuc3R5bGUuTW96VHJhbnNmb3JtKSxhdH07bi5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKCJ6b29tIix7b3B0aW9uczp7ZW5hYmxlZDohMSxlYXNpbmc6ImVhc2UtaW4tb3V0IixkdXJhdGlvbjozMDAsb3BlbmVyOmZ1bmN0aW9uKG4pe3JldHVybiBuLmlzKCJpbWciKT9uOm4uZmluZCgiaW1nIil9fSxwcm90bzp7aW5pdFpvb206ZnVuY3Rpb24oKXt2YXIgdSxmPXQuc3Quem9vbSxvPSIuem9vbSI7aWYoZi5lbmFibGVkJiZ0LnN1cHBvcnRzVHJhbnNpdGlvbil7dmFyIGUsbixjPWYuZHVyYXRpb24sbD1mdW5jdGlvbihuKXt2YXIgcj1uLmNsb25lKCkucmVtb3ZlQXR0cigic3R5bGUiKS5yZW1vdmVBdHRyKCJjbGFzcyIpLmFkZENsYXNzKCJtZnAtYW5pbWF0ZWQtaW1hZ2UiKSx1PSJhbGwgIitmLmR1cmF0aW9uLzFlMysicyAiK2YuZWFzaW5nLHQ9e3Bvc2l0aW9uOiJmaXhlZCIsekluZGV4Ojk5OTksbGVmdDowLHRvcDowLCItd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHkiOiJoaWRkZW4ifSxpPSJ0cmFuc2l0aW9uIjtyZXR1cm4gdFsiLXdlYmtpdC0iK2ldPXRbIi1tb3otIitpXT10WyItby0iK2ldPXRbaV09dSxyLmNzcyh0KSxyfSxoPWZ1bmN0aW9uKCl7dC5jb250ZW50LmNzcygidmlzaWJpbGl0eSIsInZpc2libGUiKX07cigiQnVpbGRDb250cm9scyIrbyxmdW5jdGlvbigpe2lmKHQuX2FsbG93Wm9vbSgpKXtpZihjbGVhclRpbWVvdXQoZSksdC5jb250ZW50LmNzcygidmlzaWJpbGl0eSIsImhpZGRlbiIpLHU9dC5fZ2V0SXRlbVRvWm9vbSgpLCF1KXJldHVybiB2b2lkIGgoKTtuPWwodSk7bi5jc3ModC5fZ2V0T2Zmc2V0KCkpO3Qud3JhcC5hcHBlbmQobik7ZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5jc3ModC5fZ2V0T2Zmc2V0KCEwKSk7ZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aCgpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnJlbW92ZSgpO3U9bj1udWxsO2koIlpvb21BbmltYXRpb25FbmRlZCIpfSwxNil9LGMpfSwxNil9fSk7cih3dCtvLGZ1bmN0aW9uKCl7aWYodC5fYWxsb3dab29tKCkpe2lmKGNsZWFyVGltZW91dChlKSx0LnN0LnJlbW92YWxEZWxheT1jLCF1KXtpZih1PXQuX2dldEl0ZW1Ub1pvb20oKSwhdSlyZXR1cm47bj1sKHUpfW4uY3NzKHQuX2dldE9mZnNldCghMCkpO3Qud3JhcC5hcHBlbmQobik7dC5jb250ZW50LmNzcygidmlzaWJpbGl0eSIsImhpZGRlbiIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmNzcyh0Ll9nZXRPZmZzZXQoKSl9LDE2KX19KTtyKHMrbyxmdW5jdGlvbigpe3QuX2FsbG93Wm9vbSgpJiYoaCgpLG4mJm4ucmVtb3ZlKCksdT1udWxsKX0pfX0sX2FsbG93Wm9vbTpmdW5jdGlvbigpe3JldHVybiJpbWFnZSI9PT10LmN1cnJJdGVtLnR5cGV9LF9nZXRJdGVtVG9ab29tOmZ1bmN0aW9uKCl7cmV0dXJuIHQuY3Vyckl0ZW0uaGFzU2l6ZT90LmN1cnJJdGVtLmltZzohMX0sX2dldE9mZnNldDpmdW5jdGlvbihpKXt2YXIgcix1O3I9aT90LmN1cnJJdGVtLmltZzp0LnN0Lnpvb20ub3BlbmVyKHQuY3Vyckl0ZW0uZWx8fHQuY3Vyckl0ZW0pO3ZhciBmPXIub2Zmc2V0KCksZT1wYXJzZUludChyLmNzcygicGFkZGluZy10b3AiKSwxMCksbz1wYXJzZUludChyLmNzcygicGFkZGluZy1ib3R0b20iKSwxMCk7cmV0dXJuIGYudG9wLT1uKHdpbmRvdykuc2Nyb2xsVG9wKCktZSx1PXt3aWR0aDpyLndpZHRoKCksaGVpZ2h0OihvdD9yLmlubmVySGVpZ2h0KCk6clswXS5vZmZzZXRIZWlnaHQpLW8tZX0sbmkoKT91WyItbW96LXRyYW5zZm9ybSJdPXUudHJhbnNmb3JtPSJ0cmFuc2xhdGUoIitmLmxlZnQrInB4LCIrZi50b3ArInB4KSI6KHUubGVmdD1mLmxlZnQsdS50b3A9Zi50b3ApLHV9fX0pO3ZhciBjPSJpZnJhbWUiLHVpPSIvL2Fib3V0OmJsYW5rIix2dD1mdW5jdGlvbihuKXtpZih0LmN1cnJUZW1wbGF0ZVtjXSl7dmFyIGk9dC5jdXJyVGVtcGxhdGVbY10uZmluZCgiaWZyYW1lIik7aS5sZW5ndGgmJihufHwoaVswXS5zcmM9dWkpLHQuaXNJRTgmJmkuY3NzKCJkaXNwbGF5IixuPyJibG9jayI6Im5vbmUiKSl9fTtuLm1hZ25pZmljUG9wdXAucmVnaXN0ZXJNb2R1bGUoYyx7b3B0aW9uczp7bWFya3VwOic8ZGl2IGNsYXNzPSJtZnAtaWZyYW1lLXNjYWxlciI+PGRpdiBjbGFzcz0ibWZwLWNsb3NlIj48XC9kaXY+PGlmcmFtZSBjbGFzcz0ibWZwLWlmcmFtZSIgc3JjPSIvL2Fib3V0OmJsYW5rIiBmcmFtZWJvcmRlcj0iMCIgYWxsb3dmdWxsc2NyZWVuPjxcL2lmcmFtZT48XC9kaXY+JyxzcmNBY3Rpb246ImlmcmFtZV9zcmMiLHBhdHRlcm5zOnt5b3V0dWJlOntpbmRleDoieW91dHViZS5jb20iLGlkOiJ2PSIsc3JjOiIvL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8laWQlP2F1dG9wbGF5PTEifSx2aW1lbzp7aW5kZXg6InZpbWVvLmNvbS8iLGlkOiIvIixzcmM6Ii8vcGxheWVyLnZpbWVvLmNvbS92aWRlby8laWQlP2F1dG9wbGF5PTEifSxnbWFwczp7aW5kZXg6Ii8vbWFwcy5nb29nbGUuIixzcmM6IiVpZCUmb3V0cHV0PWVtYmVkIn19fSxwcm90bzp7aW5pdElmcmFtZTpmdW5jdGlvbigpe3QudHlwZXMucHVzaChjKTtyKCJCZWZvcmVDaGFuZ2UiLGZ1bmN0aW9uKG4sdCxpKXt0IT09aSYmKHQ9PT1jP3Z0KCk6aT09PWMmJnZ0KCEwKSl9KTtyKHMrIi4iK2MsZnVuY3Rpb24oKXt2dCgpfSl9LGdldElmcmFtZTpmdW5jdGlvbihpLHIpe3ZhciB1PWkuc3JjLGY9dC5zdC5pZnJhbWUsZTtyZXR1cm4gbi5lYWNoKGYucGF0dGVybnMsZnVuY3Rpb24oKXtpZih1LmluZGV4T2YodGhpcy5pbmRleCk+LTEpcmV0dXJuKHRoaXMuaWQmJih1PSJzdHJpbmciPT10eXBlb2YgdGhpcy5pZD91LnN1YnN0cih1Lmxhc3RJbmRleE9mKHRoaXMuaWQpK3RoaXMuaWQubGVuZ3RoLHUubGVuZ3RoKTp0aGlzLmlkLmNhbGwodGhpcyx1KSksdT10aGlzLnNyYy5yZXBsYWNlKCIlaWQlIix1KSwhMSl9KSxlPXt9LGYuc3JjQWN0aW9uJiYoZVtmLnNyY0FjdGlvbl09dSksdC5fcGFyc2VNYXJrdXAocixlLGkpLHQudXBkYXRlU3RhdHVzKCJyZWFkeSIpLHJ9fX0pO250PWZ1bmN0aW9uKG4pe3ZhciBpPXQuaXRlbXMubGVuZ3RoO3JldHVybiBuPmktMT9uLWk6MD5uP2krbjpufTt5dD1mdW5jdGlvbihuLHQsaSl7cmV0dXJuIG4ucmVwbGFjZSgvJWN1cnIlL2dpLHQrMSkucmVwbGFjZSgvJXRvdGFsJS9naSxpKX07bi5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKCJnYWxsZXJ5Iix7b3B0aW9uczp7ZW5hYmxlZDohMSxhcnJvd01hcmt1cDonPGJ1dHRvbiB0aXRsZT0iJXRpdGxlJSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0ibWZwLWFycm93IG1mcC1hcnJvdy0lZGlyJSI+PFwvYnV0dG9uPicscHJlbG9hZDpbMCwyXSxuYXZpZ2F0ZUJ5SW1nQ2xpY2s6ITAsYXJyb3dzOiEwLHRQcmV2OiJQcmV2aW91cyAoTGVmdCBhcnJvdyBrZXkpIix0TmV4dDoiTmV4dCAoUmlnaHQgYXJyb3cga2V5KSIsdENvdW50ZXI6IiVjdXJyJSBvZiAldG90YWwlIn0scHJvdG86e2luaXRHYWxsZXJ5OmZ1bmN0aW9uKCl7dmFyIHU9dC5zdC5nYWxsZXJ5LGk9Ii5tZnAtZ2FsbGVyeSI7cmV0dXJuIHQuZGlyZWN0aW9uPSEwLHUmJnUuZW5hYmxlZD8obys9IiBtZnAtZ2FsbGVyeSIscih1dCtpLGZ1bmN0aW9uKCl7dS5uYXZpZ2F0ZUJ5SW1nQ2xpY2smJnQud3JhcC5vbigiY2xpY2siK2ksIi5tZnAtaW1nIixmdW5jdGlvbigpe2lmKHQuaXRlbXMubGVuZ3RoPjEpcmV0dXJuKHQubmV4dCgpLCExKX0pO2Yub24oImtleWRvd24iK2ksZnVuY3Rpb24obil7Mzc9PT1uLmtleUNvZGU/dC5wcmV2KCk6Mzk9PT1uLmtleUNvZGUmJnQubmV4dCgpfSl9KSxyKCJVcGRhdGVTdGF0dXMiK2ksZnVuY3Rpb24obixpKXtpLnRleHQmJihpLnRleHQ9eXQoaS50ZXh0LHQuY3Vyckl0ZW0uaW5kZXgsdC5pdGVtcy5sZW5ndGgpKX0pLHIocnQraSxmdW5jdGlvbihuLGkscixmKXt2YXIgZT10Lml0ZW1zLmxlbmd0aDtyLmNvdW50ZXI9ZT4xP3l0KHUudENvdW50ZXIsZi5pbmRleCxlKToiIn0pLHIoIkJ1aWxkQ29udHJvbHMiK2ksZnVuY3Rpb24oKXtpZih0Lml0ZW1zLmxlbmd0aD4xJiZ1LmFycm93cyYmIXQuYXJyb3dMZWZ0KXt2YXIgaT11LmFycm93TWFya3VwLHI9dC5hcnJvd0xlZnQ9bihpLnJlcGxhY2UoLyV0aXRsZSUvZ2ksdS50UHJldikucmVwbGFjZSgvJWRpciUvZ2ksImxlZnQiKSkuYWRkQ2xhc3MoZXQpLGY9dC5hcnJvd1JpZ2h0PW4oaS5yZXBsYWNlKC8ldGl0bGUlL2dpLHUudE5leHQpLnJlcGxhY2UoLyVkaXIlL2dpLCJyaWdodCIpKS5hZGRDbGFzcyhldCk7ci5jbGljayhmdW5jdGlvbigpe3QucHJldigpfSk7Zi5jbGljayhmdW5jdGlvbigpe3QubmV4dCgpfSk7dC5jb250YWluZXIuYXBwZW5kKHIuYWRkKGYpKX19KSxyKGJ0K2ksZnVuY3Rpb24oKXt0Ll9wcmVsb2FkVGltZW91dCYmY2xlYXJUaW1lb3V0KHQuX3ByZWxvYWRUaW1lb3V0KTt0Ll9wcmVsb2FkVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5wcmVsb2FkTmVhcmJ5SW1hZ2VzKCk7dC5fcHJlbG9hZFRpbWVvdXQ9bnVsbH0sMTYpfSksdm9pZCByKHMraSxmdW5jdGlvbigpe2Yub2ZmKGkpO3Qud3JhcC5vZmYoImNsaWNrIitpKTt0LmFycm93UmlnaHQ9dC5hcnJvd0xlZnQ9bnVsbH0pKTohMX0sbmV4dDpmdW5jdGlvbigpe3QuZGlyZWN0aW9uPSEwO3QuaW5kZXg9bnQodC5pbmRleCsxKTt0LnVwZGF0ZUl0ZW1IVE1MKCl9LHByZXY6ZnVuY3Rpb24oKXt0LmRpcmVjdGlvbj0hMTt0LmluZGV4PW50KHQuaW5kZXgtMSk7dC51cGRhdGVJdGVtSFRNTCgpfSxnb1RvOmZ1bmN0aW9uKG4pe3QuZGlyZWN0aW9uPW4+PXQuaW5kZXg7dC5pbmRleD1uO3QudXBkYXRlSXRlbUhUTUwoKX0scHJlbG9hZE5lYXJieUltYWdlczpmdW5jdGlvbigpe2Zvcih2YXIgaT10LnN0LmdhbGxlcnkucHJlbG9hZCxyPU1hdGgubWluKGlbMF0sdC5pdGVtcy5sZW5ndGgpLHU9TWF0aC5taW4oaVsxXSx0Lml0ZW1zLmxlbmd0aCksbj0xO248PSh0LmRpcmVjdGlvbj91OnIpO24rKyl0Ll9wcmVsb2FkSXRlbSh0LmluZGV4K24pO2ZvcihuPTE7bjw9KHQuZGlyZWN0aW9uP3I6dSk7bisrKXQuX3ByZWxvYWRJdGVtKHQuaW5kZXgtbil9LF9wcmVsb2FkSXRlbTpmdW5jdGlvbihyKXtpZihyPW50KHIpLCF0Lml0ZW1zW3JdLnByZWxvYWRlZCl7dmFyIHU9dC5pdGVtc1tyXTt1LnBhcnNlZHx8KHU9dC5wYXJzZUVsKHIpKTtpKCJMYXp5TG9hZCIsdSk7ImltYWdlIj09PXUudHlwZSYmKHUuaW1nPW4oJzxpbWcgY2xhc3M9Im1mcC1pbWciIC8+Jykub24oImxvYWQubWZwbG9hZGVyIixmdW5jdGlvbigpe3UuaGFzU2l6ZT0hMH0pLm9uKCJlcnJvci5tZnBsb2FkZXIiLGZ1bmN0aW9uKCl7dS5oYXNTaXplPSEwO3UubG9hZEVycm9yPSEwO2koIkxhenlMb2FkRXJyb3IiLHUpfSkuYXR0cigic3JjIix1LnNyYykpO3UucHJlbG9hZGVkPSEwfX19fSk7dHQ9InJldGluYSI7bi5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKHR0LHtvcHRpb25zOntyZXBsYWNlU3JjOmZ1bmN0aW9uKG4pe3JldHVybiBuLnNyYy5yZXBsYWNlKC9cLlx3KyQvLGZ1bmN0aW9uKG4pe3JldHVybiJAMngiK259KX0scmF0aW86MX0scHJvdG86e2luaXRSZXRpbmE6ZnVuY3Rpb24oKXtpZih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbz4xKXt2YXIgaT10LnN0LnJldGluYSxuPWkucmF0aW87bj1pc05hTihuKT9uKCk6bjtuPjEmJihyKCJJbWFnZUhhc1NpemUuIit0dCxmdW5jdGlvbih0LGkpe2kuaW1nLmNzcyh7Im1heC13aWR0aCI6aS5pbWdbMF0ubmF0dXJhbFdpZHRoL24sd2lkdGg6IjEwMCUifSl9KSxyKCJFbGVtZW50UGFyc2UuIit0dCxmdW5jdGlvbih0LHIpe3Iuc3JjPWkucmVwbGFjZVNyYyhyLG4pfSkpfX19fSk7aHQoKX0pOyFmdW5jdGlvbihuKXshZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHMobil7dmFyIHQ9dShufHx7fSksZj1oKHQpO3JldHVybiByKGYpLGModCxmKSxpfWZ1bmN0aW9uIGgobil7dmFyIGk9ZigidXBsb2FkZXJUeXBlIikscj1mKCJlbmRwb2ludFR5cGUiKTtyZXR1cm4gaT8oaT1pLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2kuc2xpY2UoMSkudG9Mb3dlckNhc2UoKSxyP25ldyB0W3JdWyJGaW5lVXBsb2FkZXIiK2ldKG4pOm5ldyB0WyJGaW5lVXBsb2FkZXIiK2ldKG4pKTpyP25ldyB0W3JdLkZpbmVVcGxvYWRlcihuKTpuZXcgdC5GaW5lVXBsb2FkZXIobil9ZnVuY3Rpb24gZShuLHQpe3ZhciByPWkuZGF0YSgiZmluZXVwbG9hZGVyIik7aWYoIXQpcmV0dXJuIHZvaWQgMD09PXI/bnVsbDpyW25dO3ZvaWQgMD09PXImJihyPXt9KTtyW25dPXQ7aS5kYXRhKCJmaW5ldXBsb2FkZXIiLHIpfWZ1bmN0aW9uIHIobil7cmV0dXJuIGUoInVwbG9hZGVyIixuKX1mdW5jdGlvbiBmKG4sdCl7cmV0dXJuIGUobix0KX1mdW5jdGlvbiBjKHIsdSl7dmFyIGY9ci5jYWxsYmFja3M9e307bi5lYWNoKHUuX29wdGlvbnMuY2FsbGJhY2tzLGZ1bmN0aW9uKHIsdSl7dmFyIGUscztlPS9eb24oXHcrKS8uZXhlYyhyKVsxXTtlPWUuc3Vic3RyaW5nKDAsMSkudG9Mb3dlckNhc2UoKStlLnN1YnN0cmluZygxKTtzPWk7ZltyXT1mdW5jdGlvbigpe3ZhciBpLHIsZj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGg9W107bi5lYWNoKGYsZnVuY3Rpb24obix0KXtoLnB1c2gobyh0KSl9KTtpPXUuYXBwbHkodGhpcyxmKTt0cnl7cj1zLnRyaWdnZXJIYW5kbGVyKGUsaCl9Y2F0Y2gobil7dC5sb2coIkNhdWdodCBlcnJvciBpbiBGaW5lIFVwbG9hZGVyIGpRdWVyeSBldmVudCBoYW5kbGVyOiAiK24ubWVzc2FnZSwiZXJyb3IiKX1yZXR1cm4gbnVsbCE9aT9pOnJ9fSk7dS5fb3B0aW9ucy5jYWxsYmFja3M9Zn1mdW5jdGlvbiB1KHQscil7dmFyIGUsbztpZihlPXZvaWQgMD09PXI/ImJhc2ljIiE9PXQudXBsb2FkZXJUeXBlP3tlbGVtZW50OmlbMF19Ont9OnIsbi5lYWNoKHQsZnVuY3Rpb24odCxpKXtuLmluQXJyYXkodCx2KT49MD9mKHQsaSk6aSBpbnN0YW5jZW9mIG4/ZVt0XT1pWzBdOm4uaXNQbGFpbk9iamVjdChpKT8oZVt0XT17fSx1KGksZVt0XSkpOm4uaXNBcnJheShpKT8obz1bXSxuLmVhY2goaSxmdW5jdGlvbih0LGkpe3ZhciByPXt9O2kgaW5zdGFuY2VvZiBuP24ubWVyZ2UobyxpKTpuLmlzUGxhaW5PYmplY3QoaSk/KHUoaSxyKSxvLnB1c2gocikpOm8ucHVzaChpKX0pLGVbdF09byk6ZVt0XT1pfSksdm9pZCAwPT09cilyZXR1cm4gZX1mdW5jdGlvbiBsKHQpe3JldHVybiJzdHJpbmciPT09bi50eXBlKHQpJiYhdC5tYXRjaCgvXl8vKSYmdm9pZCAwIT09cigpW3RdfWZ1bmN0aW9uIGEobil7dmFyIHQsaT1bXSxmPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdShmLGkpLHQ9cigpW25dLmFwcGx5KHIoKSxpKSxvKHQpfWZ1bmN0aW9uIG8odCl7dmFyIGk9dDtyZXR1cm4gbnVsbD09dHx8Im9iamVjdCIhPXR5cGVvZiB0fHwxIT09dC5ub2RlVHlwZSYmOSE9PXQubm9kZVR5cGV8fCF0LmNsb25lTm9kZXx8KGk9bih0KSksaX12YXIgaSx2PVsidXBsb2FkZXJUeXBlIiwiZW5kcG9pbnRUeXBlIl07bi5mbi5maW5lVXBsb2FkZXI9ZnVuY3Rpb24odCl7dmFyIGY9dGhpcyxlPWFyZ3VtZW50cyx1PVtdO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obyxoKXtpZihpPW4oaCkscigpJiZsKHQpKXtpZih1LnB1c2goYS5hcHBseShmLGUpKSwxPT09Zi5sZW5ndGgpcmV0dXJuITF9ZWxzZSJvYmplY3QiIT10eXBlb2YgdCYmdD9uLmVycm9yKCJNZXRob2QgIit0KyIgZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5LmZpbmVVcGxvYWRlciIpOnMuYXBwbHkoZixlKX0pLDE9PT11Lmxlbmd0aD91WzBdOnUubGVuZ3RoPjE/dTp0aGlzfX0oalF1ZXJ5KSxmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZihuKXtufHwobj17fSk7bi5kcm9wWm9uZUVsZW1lbnRzPVtpXTt2YXIgZj11KG4pO3JldHVybiBvKGYpLHIobmV3IHQuRHJhZ0FuZERyb3AoZikpLGl9ZnVuY3Rpb24gZShuLHQpe3ZhciByPWkuZGF0YSgiZmluZVVwbG9hZGVyRG5kIik7aWYoIXQpcmV0dXJuIHZvaWQgMD09PXI/bnVsbDpyW25dO3ZvaWQgMD09PXImJihyPXt9KTtyW25dPXQ7aS5kYXRhKCJmaW5lVXBsb2FkZXJEbmQiLHIpfWZ1bmN0aW9uIHIobil7cmV0dXJuIGUoImRuZEluc3RhbmNlIixuKX1mdW5jdGlvbiBvKHIpe3ZhciB1PXIuY2FsbGJhY2tzPXt9O24uZWFjaChuZXcgdC5EcmFnQW5kRHJvcC5jYWxsYmFja3MsZnVuY3Rpb24obil7dmFyIHQscj1uO3Q9aTt1W25dPWZ1bmN0aW9uKCl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gdC50cmlnZ2VySGFuZGxlcihyLG4pfX0pfWZ1bmN0aW9uIHUodCxpKXt2YXIgcixmO2lmKHI9dm9pZCAwPT09aT97fTppLG4uZWFjaCh0LGZ1bmN0aW9uKHQsaSl7aSBpbnN0YW5jZW9mIG4/clt0XT1pWzBdOm4uaXNQbGFpbk9iamVjdChpKT8oclt0XT17fSx1KGksclt0XSkpOm4uaXNBcnJheShpKT8oZj1bXSxuLmVhY2goaSxmdW5jdGlvbih0LGkpe2kgaW5zdGFuY2VvZiBuP24ubWVyZ2UoZixpKTpmLnB1c2goaSl9KSxyW3RdPWYpOnJbdF09aX0pLHZvaWQgMD09PWkpcmV0dXJuIHJ9ZnVuY3Rpb24gcyh0KXtyZXR1cm4ic3RyaW5nIj09PW4udHlwZSh0KSYmImRpc3Bvc2UiPT09dCYmdm9pZCAwIT09cigpW3RdfWZ1bmN0aW9uIGgobil7dmFyIHQ9W107cmV0dXJuIHUoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHQpLHIoKVtuXS5hcHBseShyKCksdCl9dmFyIGk7bi5mbi5maW5lVXBsb2FkZXJEbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxvPWFyZ3VtZW50cyx1PVtdO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyxsKXtpZihpPW4obCkscigpJiZzKHQpKXtpZih1LnB1c2goaC5hcHBseShlLG8pKSwxPT09ZS5sZW5ndGgpcmV0dXJuITF9ZWxzZSJvYmplY3QiIT10eXBlb2YgdCYmdD9uLmVycm9yKCJNZXRob2QgIit0KyIgZG9lcyBub3QgZXhpc3QgaW4gRmluZSBVcGxvYWRlcidzIERuRCBtb2R1bGUuIik6Zi5hcHBseShlLG8pfSksMT09PXUubGVuZ3RoP3VbMF06dS5sZW5ndGg+MT91OnRoaXN9fShqUXVlcnkpO3ZhciB0PWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtyZXR1cm57aGlkZTpmdW5jdGlvbigpe3JldHVybiBuLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXN9LGF0dGFjaDpmdW5jdGlvbihpLHIpe3JldHVybiBuLmFkZEV2ZW50TGlzdGVuZXI/bi5hZGRFdmVudExpc3RlbmVyKGksciwhMSk6bi5hdHRhY2hFdmVudCYmbi5hdHRhY2hFdmVudCgib24iK2ksciksZnVuY3Rpb24oKXt0KG4pLmRldGFjaChpLHIpfX0sZGV0YWNoOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcj9uLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxpLCExKTpuLmF0dGFjaEV2ZW50JiZuLmRldGFjaEV2ZW50KCJvbiIrdCxpKSx0aGlzfSxjb250YWluczpmdW5jdGlvbih0KXtyZXR1cm4hIXQmJihuPT09dHx8KG4uY29udGFpbnM/bi5jb250YWlucyh0KTohISg4JnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24obikpKSl9LGluc2VydEJlZm9yZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuLHQpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksdGhpc30sY3NzOmZ1bmN0aW9uKGkpe2lmKG51bGw9PW4uc3R5bGUpdGhyb3cgbmV3IHQuRXJyb3IoIkNhbid0IGFwcGx5IHN0eWxlIHRvIG5vZGUgYXMgaXQgaXMgbm90IG9uIHRoZSBIVE1MRWxlbWVudCBwcm90b3R5cGUgY2hhaW4hIik7cmV0dXJuIG51bGwhPWkub3BhY2l0eSYmInN0cmluZyIhPXR5cGVvZiBuLnN0eWxlLm9wYWNpdHkmJnZvaWQgMCE9PW4uZmlsdGVycyYmKGkuZmlsdGVyPSJhbHBoYShvcGFjaXR5PSIrTWF0aC5yb3VuZCgxMDAqaS5vcGFjaXR5KSsiKSIpLHQuZXh0ZW5kKG4uc3R5bGUsaSksdGhpc30saGFzQ2xhc3M6ZnVuY3Rpb24odCxpKXt2YXIgcj1uZXcgUmVnRXhwKCIoXnwgKSIrdCsiKCB8JCkiKTtyZXR1cm4gci50ZXN0KG4uY2xhc3NOYW1lKXx8ISghaXx8IXIudGVzdChuLnBhcmVudE5vZGUuY2xhc3NOYW1lKSl9LGFkZENsYXNzOmZ1bmN0aW9uKGkpe3JldHVybiB0KG4pLmhhc0NsYXNzKGkpfHwobi5jbGFzc05hbWUrPSIgIitpKSx0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgaT1uZXcgUmVnRXhwKCIoXnwgKSIrdCsiKCB8JCkiKTtyZXR1cm4gbi5jbGFzc05hbWU9bi5jbGFzc05hbWUucmVwbGFjZShpLCIgIikucmVwbGFjZSgvXlxzK3xccyskL2csIiIpLHRoaXN9LGdldEJ5Q2xhc3M6ZnVuY3Rpb24oaSxyKXt2YXIgZix1PVtdO3JldHVybiByJiZuLnF1ZXJ5U2VsZWN0b3I/bi5xdWVyeVNlbGVjdG9yKCIuIitpKTpuLnF1ZXJ5U2VsZWN0b3JBbGw/bi5xdWVyeVNlbGVjdG9yQWxsKCIuIitpKTooZj1uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksdC5lYWNoKGYsZnVuY3Rpb24obixyKXt0KHIpLmhhc0NsYXNzKGkpJiZ1LnB1c2gocil9KSxyP3VbMF06dSl9LGdldEZpcnN0QnlDbGFzczpmdW5jdGlvbihpKXtyZXR1cm4gdChuKS5nZXRCeUNsYXNzKGksITApfSxjaGlsZHJlbjpmdW5jdGlvbigpe2Zvcih2YXIgaT1bXSx0PW4uZmlyc3RDaGlsZDt0OykxPT09dC5ub2RlVHlwZSYmaS5wdXNoKHQpLHQ9dC5uZXh0U2libGluZztyZXR1cm4gaX0sc2V0VGV4dDpmdW5jdGlvbih0KXtyZXR1cm4gbi5pbm5lclRleHQ9dCxuLnRleHRDb250ZW50PXQsdGhpc30sY2xlYXJUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHQobikuc2V0VGV4dCgiIil9LGhhc0F0dHJpYnV0ZTpmdW5jdGlvbih0KXt2YXIgaTtyZXR1cm4gbi5oYXNBdHRyaWJ1dGU/ISFuLmhhc0F0dHJpYnV0ZSh0KSYmbnVsbD09L15mYWxzZSQvaS5leGVjKG4uZ2V0QXR0cmlidXRlKHQpKTooaT1uW3RdLHZvaWQgMCE9PWkmJm51bGw9PS9eZmFsc2UkL2kuZXhlYyhpKSl9fX07IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3QuY2FudmFzVG9CbG9iPWZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gdC5kYXRhVXJpVG9CbG9iKG4udG9EYXRhVVJMKGkscikpfTt0LmRhdGFVcmlUb0Jsb2I9ZnVuY3Rpb24obil7dmFyIGkscix1LGYsZT1mdW5jdGlvbihuLHQpe3ZhciByPXdpbmRvdy5CbG9iQnVpbGRlcnx8d2luZG93LldlYktpdEJsb2JCdWlsZGVyfHx3aW5kb3cuTW96QmxvYkJ1aWxkZXJ8fHdpbmRvdy5NU0Jsb2JCdWlsZGVyLGk9ciYmbmV3IHI7cmV0dXJuIGk/KGkuYXBwZW5kKG4pLGkuZ2V0QmxvYih0KSk6bmV3IEJsb2IoW25dLHt0eXBlOnR9KX07cmV0dXJuIHI9bi5zcGxpdCgiLCIpWzBdLmluZGV4T2YoImJhc2U2NCIpPj0wP2F0b2Iobi5zcGxpdCgiLCIpWzFdKTpkZWNvZGVVUkkobi5zcGxpdCgiLCIpWzFdKSxmPW4uc3BsaXQoIiwiKVswXS5zcGxpdCgiOiIpWzFdLnNwbGl0KCI7IilbMF0saT1uZXcgQXJyYXlCdWZmZXIoci5sZW5ndGgpLHU9bmV3IFVpbnQ4QXJyYXkoaSksdC5lYWNoKHIsZnVuY3Rpb24obix0KXt1W25dPXQuY2hhckNvZGVBdCgwKX0pLGUoaSxmKX07dC5sb2c9ZnVuY3Rpb24obix0KXt3aW5kb3cuY29uc29sZSYmKHQmJiJpbmZvIiE9PXQ/d2luZG93LmNvbnNvbGVbdF0/d2luZG93LmNvbnNvbGVbdF0obik6d2luZG93LmNvbnNvbGUubG9nKCI8Iit0KyI+ICIrbik6d2luZG93LmNvbnNvbGUubG9nKG4pKX07dC5pc09iamVjdD1mdW5jdGlvbihuKXtyZXR1cm4gbiYmIW4ubm9kZVR5cGUmJiJbb2JqZWN0IE9iamVjdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pfTt0LmlzRnVuY3Rpb249ZnVuY3Rpb24obil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG59O3QuaXNBcnJheT1mdW5jdGlvbihuKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pfHxuJiZ3aW5kb3cuQXJyYXlCdWZmZXImJm4uYnVmZmVyJiZuLmJ1ZmZlci5jb25zdHJ1Y3Rvcj09PUFycmF5QnVmZmVyfTt0LmlzSXRlbUxpc3Q9ZnVuY3Rpb24obil7cmV0dXJuIltvYmplY3QgRGF0YVRyYW5zZmVySXRlbUxpc3RdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKX07dC5pc05vZGVMaXN0PWZ1bmN0aW9uKG4pe3JldHVybiJbb2JqZWN0IE5vZGVMaXN0XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobil8fG4uaXRlbSYmbi5uYW1lZEl0ZW19O3QuaXNTdHJpbmc9ZnVuY3Rpb24obil7cmV0dXJuIltvYmplY3QgU3RyaW5nXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobil9O3QudHJpbVN0cj1mdW5jdGlvbihuKXtyZXR1cm4gU3RyaW5nLnByb3RvdHlwZS50cmltP24udHJpbSgpOm4ucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfTt0LmZvcm1hdD1mdW5jdGlvbihuKXt2YXIgdT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaT1uLHI9aS5pbmRleE9mKCJ7fSIpO3JldHVybiB0LmVhY2godSxmdW5jdGlvbihuLHQpe2lmKGk9aS5zdWJzdHJpbmcoMCxyKSt0K2kuc3Vic3RyaW5nKHIrMikscj1pLmluZGV4T2YoInt9IixyK3QubGVuZ3RoKSxyPDApcmV0dXJuITF9KSxpfTt0LmlzRmlsZT1mdW5jdGlvbihuKXtyZXR1cm4gd2luZG93LkZpbGUmJiJbb2JqZWN0IEZpbGVdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKX07dC5pc0ZpbGVMaXN0PWZ1bmN0aW9uKG4pe3JldHVybiB3aW5kb3cuRmlsZUxpc3QmJiJbb2JqZWN0IEZpbGVMaXN0XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobil9O3QuaXNGaWxlT3JJbnB1dD1mdW5jdGlvbihuKXtyZXR1cm4gdC5pc0ZpbGUobil8fHQuaXNJbnB1dChuKX07dC5pc0lucHV0PWZ1bmN0aW9uKG4sdCl7dmFyIGk9ZnVuY3Rpb24obil7dmFyIGk9bi50b0xvd2VyQ2FzZSgpO3JldHVybiB0PyJmaWxlIiE9PWk6ImZpbGUiPT09aX07cmV0dXJuISEod2luZG93LkhUTUxJbnB1dEVsZW1lbnQmJiJbb2JqZWN0IEhUTUxJbnB1dEVsZW1lbnRdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKSYmbi50eXBlJiZpKG4udHlwZSkpfHwhIShuLnRhZ05hbWUmJiJpbnB1dCI9PT1uLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmbi50eXBlJiZpKG4udHlwZSkpfTt0LmlzQmxvYj1mdW5jdGlvbihuKXtpZih3aW5kb3cuQmxvYiYmIltvYmplY3QgQmxvYl0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pKXJldHVybiEwfTt0LmlzWGhyVXBsb2FkU3VwcG9ydGVkPWZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtyZXR1cm4gbi50eXBlPSJmaWxlIix2b2lkIDAhPT1uLm11bHRpcGxlJiYidW5kZWZpbmVkIiE9dHlwZW9mIEZpbGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgRm9ybURhdGEmJnZvaWQgMCE9PXQuY3JlYXRlWGhySW5zdGFuY2UoKS51cGxvYWR9O3QuY3JlYXRlWGhySW5zdGFuY2U9ZnVuY3Rpb24oKXtpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3QpcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdDt0cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCJNU1hNTDIuWE1MSFRUUC4zLjAiKX1jYXRjaChuKXtyZXR1cm4gdC5sb2coIk5laXRoZXIgWEhSIG9yIEFjdGl2ZVggYXJlIHN1cHBvcnRlZCEiLCJlcnJvciIpLG51bGx9fTt0LmlzRm9sZGVyRHJvcFN1cHBvcnRlZD1mdW5jdGlvbihuKXtyZXR1cm4gbi5pdGVtcyYmbi5pdGVtcy5sZW5ndGg+MCYmbi5pdGVtc1swXS53ZWJraXRHZXRBc0VudHJ5fTt0LmlzRmlsZUNodW5raW5nU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXQuYW5kcm9pZFN0b2NrKCkmJnQuaXNYaHJVcGxvYWRTdXBwb3J0ZWQoKSYmKHZvaWQgMCE9PUZpbGUucHJvdG90eXBlLnNsaWNlfHx2b2lkIDAhPT1GaWxlLnByb3RvdHlwZS53ZWJraXRTbGljZXx8dm9pZCAwIT09RmlsZS5wcm90b3R5cGUubW96U2xpY2UpfTt0LnNsaWNlQmxvYj1mdW5jdGlvbihuLHQsaSl7cmV0dXJuKG4uc2xpY2V8fG4ubW96U2xpY2V8fG4ud2Via2l0U2xpY2UpLmNhbGwobix0LGkpfTt0LmFycmF5QnVmZmVyVG9IZXg9ZnVuY3Rpb24obil7dmFyIGk9IiIscj1uZXcgVWludDhBcnJheShuKTtyZXR1cm4gdC5lYWNoKHIsZnVuY3Rpb24obix0KXt2YXIgcj10LnRvU3RyaW5nKDE2KTtyLmxlbmd0aDwyJiYocj0iMCIrcik7aSs9cn0pLGl9O3QucmVhZEJsb2JUb0hleD1mdW5jdGlvbihuLGkscil7dmFyIGU9dC5zbGljZUJsb2IobixpLGkrciksdT1uZXcgRmlsZVJlYWRlcixmPW5ldyB0LlByb21pc2U7cmV0dXJuIHUub25sb2FkPWZ1bmN0aW9uKCl7Zi5zdWNjZXNzKHQuYXJyYXlCdWZmZXJUb0hleCh1LnJlc3VsdCkpfSx1Lm9uZXJyb3I9Zi5mYWlsdXJlLHUucmVhZEFzQXJyYXlCdWZmZXIoZSksZn07dC5leHRlbmQ9ZnVuY3Rpb24obixpLHIpe3JldHVybiB0LmVhY2goaSxmdW5jdGlvbihpLHUpe3ImJnQuaXNPYmplY3QodSk/KHZvaWQgMD09PW5baV0mJihuW2ldPXt9KSx0LmV4dGVuZChuW2ldLHUsITApKTpuW2ldPXV9KSxufTt0Lm92ZXJyaWRlPWZ1bmN0aW9uKG4saSl7dmFyIHI9e30sdT1pKHIpO3JldHVybiB0LmVhY2godSxmdW5jdGlvbih0LGkpe3ZvaWQgMCE9PW5bdF0mJihyW3RdPW5bdF0pO25bdF09aX0pLG59O3QuaW5kZXhPZj1mdW5jdGlvbihuLHQsaSl7aWYobi5pbmRleE9mKXJldHVybiBuLmluZGV4T2YodCxpKTtpPWl8fDA7dmFyIHI9bi5sZW5ndGg7Zm9yKGk8MCYmKGkrPXIpO2k8cjtpKz0xKWlmKG4uaGFzT3duUHJvcGVydHkoaSkmJm5baV09PT10KXJldHVybiBpO3JldHVybi0xfTt0LmdldFVuaXF1ZUlkPWZ1bmN0aW9uKCl7cmV0dXJuInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZSgvW3h5XS9nLGZ1bmN0aW9uKG4pe3ZhciB0PTE2Kk1hdGgucmFuZG9tKCl8MDtyZXR1cm4oIngiPT1uP3Q6MyZ0fDgpLnRvU3RyaW5nKDE2KX0pfTt0LmllPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSIpIT09LTF8fG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiVHJpZGVudCIpIT09LTF9O3QuaWU3PWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA3IikhPT0tMX07dC5pZTg9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDgiKSE9PS0xfTt0LmllMTA9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDEwIikhPT0tMX07dC5pZTExPWZ1bmN0aW9uKCl7cmV0dXJuIHQuaWUoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJydjoxMSIpIT09LTF9O3QuZWRnZT1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkVkZ2UiKT49MH07dC5zYWZhcmk9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09bmF2aWdhdG9yLnZlbmRvciYmbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCJBcHBsZSIpIT09LTF9O3QuY2hyb21lPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PW5hdmlnYXRvci52ZW5kb3ImJm5hdmlnYXRvci52ZW5kb3IuaW5kZXhPZigiR29vZ2xlIikhPT0tMX07dC5vcGVyYT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT1uYXZpZ2F0b3IudmVuZG9yJiZuYXZpZ2F0b3IudmVuZG9yLmluZGV4T2YoIk9wZXJhIikhPT0tMX07dC5maXJlZm94PWZ1bmN0aW9uKCl7cmV0dXJuIXQuZWRnZSgpJiYhdC5pZTExKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTW96aWxsYSIpIT09LTEmJnZvaWQgMCE9PW5hdmlnYXRvci52ZW5kb3ImJiIiPT09bmF2aWdhdG9yLnZlbmRvcn07dC53aW5kb3dzPWZ1bmN0aW9uKCl7cmV0dXJuIldpbjMyIj09PW5hdmlnYXRvci5wbGF0Zm9ybX07dC5hbmRyb2lkPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJhbmRyb2lkIikhPT0tMX07dC5hbmRyb2lkU3RvY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hbmRyb2lkKCkmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJjaHJvbWUiKTwwfTt0LmlvczY9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pb3MoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCIgT1MgNl8iKSE9PS0xfTt0Lmlvczc9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pb3MoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCIgT1MgN18iKSE9PS0xfTt0Lmlvczg9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pb3MoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCIgT1MgOF8iKSE9PS0xfTt0LmlvczgwMD1mdW5jdGlvbigpe3JldHVybiB0LmlvcygpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIiBPUyA4XzAgIikhPT0tMX07dC5pb3M9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJpUGFkIikhPT0tMXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJpUG9kIikhPT0tMXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJpUGhvbmUiKSE9PS0xfTt0Lmlvc0Nocm9tZT1mdW5jdGlvbigpe3JldHVybiB0LmlvcygpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkNyaU9TIikhPT0tMX07dC5pb3NTYWZhcmk9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pb3MoKSYmIXQuaW9zQ2hyb21lKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIikhPT0tMX07dC5pb3NTYWZhcmlXZWJWaWV3PWZ1bmN0aW9uKCl7cmV0dXJuIHQuaW9zKCkmJiF0Lmlvc0Nocm9tZSgpJiYhdC5pb3NTYWZhcmkoKX07dC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0P24ucHJldmVudERlZmF1bHQoKTpuLnJldHVyblZhbHVlPSExfTt0LnRvRWxlbWVudD1mdW5jdGlvbigpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBmdW5jdGlvbih0KXtuLmlubmVySFRNTD10O3ZhciBpPW4uZmlyc3RDaGlsZDtyZXR1cm4gbi5yZW1vdmVDaGlsZChpKSxpfX0oKTt0LmVhY2g9ZnVuY3Rpb24obixpKXt2YXIgcix1O2lmKG4paWYod2luZG93LlN0b3JhZ2UmJm4uY29uc3RydWN0b3I9PT13aW5kb3cuU3RvcmFnZSlmb3Iocj0wO3I8bi5sZW5ndGgmJih1PWkobi5rZXkociksbi5nZXRJdGVtKG4ua2V5KHIpKSksdSE9PSExKTtyKyspO2Vsc2UgaWYodC5pc0FycmF5KG4pfHx0LmlzSXRlbUxpc3Qobil8fHQuaXNOb2RlTGlzdChuKSlmb3Iocj0wO3I8bi5sZW5ndGgmJih1PWkocixuW3JdKSx1IT09ITEpO3IrKyk7ZWxzZSBpZih0LmlzU3RyaW5nKG4pKWZvcihyPTA7cjxuLmxlbmd0aCYmKHU9aShyLG4uY2hhckF0KHIpKSx1IT09ITEpO3IrKyk7ZWxzZSBmb3IociBpbiBuKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodT1pKHIsbltyXSksdT09PSExKSlicmVha307dC5iaW5kPWZ1bmN0aW9uKG4saSl7aWYodC5pc0Z1bmN0aW9uKG4pKXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHU9dC5leHRlbmQoW10scik7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJih1PXUuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKSxuLmFwcGx5KGksdSl9fXRocm93IG5ldyBFcnJvcigiZmlyc3QgcGFyYW1ldGVyIG11c3QgYmUgYSBmdW5jdGlvbiEiKTt9O3Qub2JqMnVybD1mdW5jdGlvbihuLGkscil7dmFyIHU9W10sZj0iJiIsZT1mdW5jdGlvbihuLHIpe3ZhciBmPWk/L1xbXF0kLy50ZXN0KGkpP2k6aSsiWyIrcisiXSI6cjsidW5kZWZpbmVkIiE9PWYmJiJ1bmRlZmluZWQiIT09ciYmdS5wdXNoKCJvYmplY3QiPT10eXBlb2Ygbj90Lm9iajJ1cmwobixmLCEwKToiW29iamVjdCBGdW5jdGlvbl0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pP2VuY29kZVVSSUNvbXBvbmVudChmKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4oKSk6ZW5jb2RlVVJJQ29tcG9uZW50KGYpKyI9IitlbmNvZGVVUklDb21wb25lbnQobikpfTtyZXR1cm4hciYmaT8oZj0vXD8vLnRlc3QoaSk/L1w/JC8udGVzdChpKT8iIjoiJiI6Ij8iLHUucHVzaChpKSx1LnB1c2godC5vYmoydXJsKG4pKSk6IltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKSYmdm9pZCAwIT09bj90LmVhY2gobixmdW5jdGlvbihuLHQpe2UodCxuKX0pOnZvaWQgMCE9PW4mJm51bGwhPT1uJiYib2JqZWN0Ij09dHlwZW9mIG4/dC5lYWNoKG4sZnVuY3Rpb24obix0KXtlKHQsbil9KTp1LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGkpKyI9IitlbmNvZGVVUklDb21wb25lbnQobikpLGk/dS5qb2luKGYpOnUuam9pbihmKS5yZXBsYWNlKC9eJi8sIiIpLnJlcGxhY2UoLyUyMC9nLCIrIil9O3Qub2JqMkZvcm1EYXRhPWZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gaXx8KGk9bmV3IEZvcm1EYXRhKSx0LmVhY2gobixmdW5jdGlvbihuLHUpe249cj9yKyJbIituKyJdIjpuO3QuaXNPYmplY3QodSk/dC5vYmoyRm9ybURhdGEodSxpLG4pOnQuaXNGdW5jdGlvbih1KT9pLmFwcGVuZChuLHUoKSk6aS5hcHBlbmQobix1KX0pLGl9O3Qub2JqMklucHV0cz1mdW5jdGlvbihuLGkpe3ZhciByO3JldHVybiBpfHwoaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIikpLHQub2JqMkZvcm1EYXRhKG4se2FwcGVuZDpmdW5jdGlvbihuLHQpe3I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtyLnNldEF0dHJpYnV0ZSgibmFtZSIsbik7ci5zZXRBdHRyaWJ1dGUoInZhbHVlIix0KTtpLmFwcGVuZENoaWxkKHIpfX0pLGl9O3QucGFyc2VKc29uPWZ1bmN0aW9uKG4pe3JldHVybiB3aW5kb3cuSlNPTiYmdC5pc0Z1bmN0aW9uKEpTT04ucGFyc2UpP0pTT04ucGFyc2Uobik6ZXZhbCgiKCIrbisiKSIpfTt0LmdldEV4dGVuc2lvbj1mdW5jdGlvbihuKXt2YXIgdD1uLmxhc3RJbmRleE9mKCIuIikrMTtpZih0PjApcmV0dXJuIG4uc3Vic3RyKHQsbi5sZW5ndGgtdCl9O3QuZ2V0RmlsZW5hbWU9ZnVuY3Rpb24obil7cmV0dXJuIHQuaXNJbnB1dChuKT9uLnZhbHVlLnJlcGxhY2UoLy4qKFwvfFxcKS8sIiIpOnQuaXNGaWxlKG4pJiZudWxsIT09bi5maWxlTmFtZSYmdm9pZCAwIT09bi5maWxlTmFtZT9uLmZpbGVOYW1lOm4ubmFtZX07dC5EaXNwb3NlU3VwcG9ydD1mdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybntkaXNwb3NlOmZ1bmN0aW9uKCl7dmFyIHQ7ZG8gdD1uLnNoaWZ0KCksdCYmdCgpO3doaWxlKHQpfSxhdHRhY2g6ZnVuY3Rpb24oKXt2YXIgbj1hcmd1bWVudHM7dGhpcy5hZGREaXNwb3Nlcih0KG5bMF0pLmF0dGFjaC5hcHBseSh0aGlzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSkpfSxhZGREaXNwb3NlcjpmdW5jdGlvbih0KXtuLnB1c2godCl9fX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gdH0pOiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10Om4ucXE9dH0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt0LkVycm9yPWZ1bmN0aW9uKG4pe3RoaXMubWVzc2FnZT0iW0ZpbmUgVXBsb2FkZXIgIit0LnZlcnNpb24rIl0gIitufTt0LkVycm9yLnByb3RvdHlwZT1uZXcgRXJyb3J9KCk7dC52ZXJzaW9uPSI1LjE2LjIiO3Quc3VwcG9ydGVkRmVhdHVyZXM9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaygpe3ZhciBuLGk9ITA7dHJ5e249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtuLnR5cGU9ImZpbGUiO3QobikuaGlkZSgpO24uZGlzYWJsZWQmJihpPSExKX1jYXRjaChuKXtpPSExfXJldHVybiBpfWZ1bmN0aW9uIGQoKXtyZXR1cm4odC5jaHJvbWUoKXx8dC5vcGVyYSgpKSYmdm9pZCAwIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXC9bMV1bNC05XXxDaHJvbWVcL1syLTldWzAtOV0vKX1mdW5jdGlvbiBvKCl7cmV0dXJuIHdpbmRvdy5YTUxIdHRwUmVxdWVzdD92b2lkIDAhPT10LmNyZWF0ZVhockluc3RhbmNlKCkud2l0aENyZWRlbnRpYWxzOiExfWZ1bmN0aW9uIHMoKXtyZXR1cm4gdm9pZCAwIT09d2luZG93LlhEb21haW5SZXF1ZXN0fWZ1bmN0aW9uIGcoKXtyZXR1cm4hIW8oKXx8cygpfWZ1bmN0aW9uIG50KCl7cmV0dXJuIHZvaWQgMCE9PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iikud2Via2l0ZGlyZWN0b3J5fWZ1bmN0aW9uIHR0KCl7dHJ5e3JldHVybiEhd2luZG93LmxvY2FsU3RvcmFnZSYmdC5pc0Z1bmN0aW9uKHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSl9Y2F0Y2gobil7cmV0dXJuITF9fWZ1bmN0aW9uIGl0KCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO3JldHVybigiZHJhZ2dhYmxlImluIG58fCJvbmRyYWdzdGFydCJpbiBuJiYib25kcm9wImluIG4pJiYhdC5hbmRyb2lkKCkmJiF0LmlvcygpfXZhciBpLGYsZSxuLGgscixjLGwsYSx2LHkscCx3LHUsYjtyZXR1cm4gaT1rKCksbj1pJiZ0LmlzWGhyVXBsb2FkU3VwcG9ydGVkKCksZj1uJiYhdC5hbmRyb2lkU3RvY2soKSxlPW4mJml0KCksaD1lJiZmdW5jdGlvbigpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7cmV0dXJuIG4udHlwZT0iZmlsZSIsISEoIndlYmtpdGRpcmVjdG9yeSJpbihufHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFt0eXBlPWZpbGVdIilbMF0pKX0oKSxyPW4mJnQuaXNGaWxlQ2h1bmtpbmdTdXBwb3J0ZWQoKSxjPW4mJnImJnR0KCksbD1uJiZkKCksYT1pJiYodm9pZCAwIT09d2luZG93LnBvc3RNZXNzYWdlfHxuKSx5PW8oKSx2PXMoKSxwPWcoKSx3PW50KCksdT1uJiZ2b2lkIDAhPT13aW5kb3cuRmlsZVJlYWRlcixiPWZ1bmN0aW9uKCl7cmV0dXJuISFuJiYhdC5hbmRyb2lkU3RvY2soKSYmIXQuaW9zQ2hyb21lKCl9KCkse2FqYXhVcGxvYWRpbmc6bixibG9iVXBsb2FkaW5nOmYsY2FuRGV0ZXJtaW5lU2l6ZTpuLGNodW5raW5nOnIsZGVsZXRlRmlsZUNvcnM6cCxkZWxldGVGaWxlQ29yc1hkcjp2LGRlbGV0ZUZpbGVDb3JzWGhyOnksZGlhbG9nRWxlbWVudDohIXdpbmRvdy5IVE1MRGlhbG9nRWxlbWVudCxmaWxlRHJvcDplLGZvbGRlckRyb3A6aCxmb2xkZXJTZWxlY3Rpb246dyxpbWFnZVByZXZpZXdzOnUsaW1hZ2VWYWxpZGF0aW9uOnUsaXRlbVNpemVWYWxpZGF0aW9uOm4scGF1c2U6cixwcm9ncmVzc0JhcjpiLHJlc3VtZTpjLHNjYWxpbmc6dSYmZix0aWZmUHJldmlld3M6dC5zYWZhcmkoKSx1bmxpbWl0ZWRTY2FsZWRJbWFnZVNpemU6IXQuaW9zKCksdXBsb2FkaW5nOmksdXBsb2FkQ29yczphLHVwbG9hZEN1c3RvbUhlYWRlcnM6bix1cGxvYWROb25NdWx0aXBhcnQ6bix1cGxvYWRWaWFQYXN0ZTpsfX0oKTt0LmlzR2VuZXJpY1Byb21pc2U9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3JldHVybiEhKG4mJm4udGhlbiYmdC5pc0Z1bmN0aW9uKG4udGhlbikpfTt0LlByb21pc2U9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGksbixmPVtdLGU9W10scj1bXSx1PTA7dC5leHRlbmQodGhpcyx7dGhlbjpmdW5jdGlvbih0LHIpe3JldHVybiAwPT09dT8odCYmZi5wdXNoKHQpLHImJmUucHVzaChyKSk6dT09PS0xP3ImJnIuYXBwbHkobnVsbCxuKTp0JiZ0LmFwcGx5KG51bGwsaSksdGhpc30sZG9uZTpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXU/ci5wdXNoKHQpOnQuYXBwbHkobnVsbCx2b2lkIDA9PT1uP2k6biksdGhpc30sc3VjY2VzczpmdW5jdGlvbigpe3JldHVybiB1PTEsaT1hcmd1bWVudHMsZi5sZW5ndGgmJnQuZWFjaChmLGZ1bmN0aW9uKG4sdCl7dC5hcHBseShudWxsLGkpfSksci5sZW5ndGgmJnQuZWFjaChyLGZ1bmN0aW9uKG4sdCl7dC5hcHBseShudWxsLGkpfSksdGhpc30sZmFpbHVyZTpmdW5jdGlvbigpe3JldHVybiB1PS0xLG49YXJndW1lbnRzLGUubGVuZ3RoJiZ0LmVhY2goZSxmdW5jdGlvbih0LGkpe2kuYXBwbHkobnVsbCxuKX0pLHIubGVuZ3RoJiZ0LmVhY2gocixmdW5jdGlvbih0LGkpe2kuYXBwbHkobnVsbCxuKX0pLHRoaXN9fSl9O3QuQmxvYlByb3h5PWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3QuZXh0ZW5kKHRoaXMse3JlZmVyZW5jZUJsb2I6bixjcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaShuKX19KX07dC5VcGxvYWRCdXR0b249ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3JldHVybiBuLnNldEF0dHJpYnV0ZSh0LlVwbG9hZEJ1dHRvbi5CVVRUT05fSURfQVRUUl9OQU1FLGYpLG4uc2V0QXR0cmlidXRlKCJ0aXRsZSIsaS50aXRsZSksby5zZXRNdWx0aXBsZShpLm11bHRpcGxlLG4pLGkuZm9sZGVycyYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5mb2xkZXJTZWxlY3Rpb24mJm4uc2V0QXR0cmlidXRlKCJ3ZWJraXRkaXJlY3RvcnkiLCIiKSxpLmFjY2VwdEZpbGVzJiZuLnNldEF0dHJpYnV0ZSgiYWNjZXB0IixpLmFjY2VwdEZpbGVzKSxuLnNldEF0dHJpYnV0ZSgidHlwZSIsImZpbGUiKSxuLnNldEF0dHJpYnV0ZSgibmFtZSIsaS5uYW1lKSx0KG4pLmNzcyh7cG9zaXRpb246ImFic29sdXRlIixyaWdodDowLHRvcDowLGZvbnRGYW1pbHk6IkFyaWFsIixmb250U2l6ZTp0LmllKCkmJiF0LmllOCgpPyIzNTAwcHgiOiIxMThweCIsbWFyZ2luOjAscGFkZGluZzowLGN1cnNvcjoicG9pbnRlciIsb3BhY2l0eTowfSksIXQuaWU3KCkmJnQobikuY3NzKHtoZWlnaHQ6IjEwMCUifSksaS5lbGVtZW50LmFwcGVuZENoaWxkKG4pLHUuYXR0YWNoKG4sImNoYW5nZSIsZnVuY3Rpb24oKXtpLm9uQ2hhbmdlKG4pfSksdS5hdHRhY2gobiwibW91c2VvdmVyIixmdW5jdGlvbigpe3QoaS5lbGVtZW50KS5hZGRDbGFzcyhpLmhvdmVyQ2xhc3MpfSksdS5hdHRhY2gobiwibW91c2VvdXQiLGZ1bmN0aW9uKCl7dChpLmVsZW1lbnQpLnJlbW92ZUNsYXNzKGkuaG92ZXJDbGFzcyl9KSx1LmF0dGFjaChuLCJmb2N1cyIsZnVuY3Rpb24oKXt0KGkuZWxlbWVudCkuYWRkQ2xhc3MoaS5mb2N1c0NsYXNzKX0pLHUuYXR0YWNoKG4sImJsdXIiLGZ1bmN0aW9uKCl7dChpLmVsZW1lbnQpLnJlbW92ZUNsYXNzKGkuZm9jdXNDbGFzcyl9KSxufXZhciByLGYsbz10aGlzLHU9bmV3IHQuRGlzcG9zZVN1cHBvcnQsaT17YWNjZXB0RmlsZXM6bnVsbCxlbGVtZW50Om51bGwsZm9jdXNDbGFzczoicXEtdXBsb2FkLWJ1dHRvbi1mb2N1cyIsZm9sZGVyczohMSxob3ZlckNsYXNzOiJxcS11cGxvYWQtYnV0dG9uLWhvdmVyIixpb3M4QnJvd3NlckNyYXNoV29ya2Fyb3VuZDohMSxtdWx0aXBsZTohMSxuYW1lOiJxcWZpbGUiLG9uQ2hhbmdlOmZ1bmN0aW9uKCl7fSx0aXRsZTpudWxsfTt0LmV4dGVuZChpLG4pO2Y9dC5nZXRVbmlxdWVJZCgpO3QoaS5lbGVtZW50KS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsb3ZlcmZsb3c6ImhpZGRlbiIsZGlyZWN0aW9uOiJsdHIifSk7dC5leHRlbmQodGhpcyx7Z2V0SW5wdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sZ2V0QnV0dG9uSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZn0sc2V0TXVsdGlwbGU6ZnVuY3Rpb24obixyKXt2YXIgdT1yfHx0aGlzLmdldElucHV0KCk7aS5pb3M4QnJvd3NlckNyYXNoV29ya2Fyb3VuZCYmdC5pb3M4KCkmJih0Lmlvc0Nocm9tZSgpfHx0Lmlvc1NhZmFyaVdlYlZpZXcoKSk/dS5zZXRBdHRyaWJ1dGUoIm11bHRpcGxlIiwiIik6bj91LnNldEF0dHJpYnV0ZSgibXVsdGlwbGUiLCIiKTp1LnJlbW92ZUF0dHJpYnV0ZSgibXVsdGlwbGUiKX0sc2V0QWNjZXB0RmlsZXM6ZnVuY3Rpb24obil7biE9PWkuYWNjZXB0RmlsZXMmJnIuc2V0QXR0cmlidXRlKCJhY2NlcHQiLG4pfSxyZXNldDpmdW5jdGlvbigpe3IucGFyZW50Tm9kZSYmdChyKS5yZW1vdmUoKTt0KGkuZWxlbWVudCkucmVtb3ZlQ2xhc3MoaS5mb2N1c0NsYXNzKTtyPW51bGw7cj1lKCl9fSk7cj1lKCl9O3QuVXBsb2FkQnV0dG9uLkJVVFRPTl9JRF9BVFRSX05BTUU9InFxLWJ1dHRvbi1pZCI7dC5VcGxvYWREYXRhPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKG4pe2lmKHQuaXNBcnJheShuKSl7dmFyIHI9W107cmV0dXJuIHQuZWFjaChuLGZ1bmN0aW9uKG4sdCl7ci5wdXNoKGlbdF0pfSkscn1yZXR1cm4gaVtuXX1mdW5jdGlvbiBzKG4pe2lmKHQuaXNBcnJheShuKSl7dmFyIHI9W107cmV0dXJuIHQuZWFjaChuLGZ1bmN0aW9uKG4sdCl7ci5wdXNoKGlbdVt0XV0pfSkscn1yZXR1cm4gaVt1W25dXX1mdW5jdGlvbiBoKG4pe3ZhciB1PVtdLGY9W10uY29uY2F0KG4pO3JldHVybiB0LmVhY2goZixmdW5jdGlvbihuLGYpe3ZhciBlPXJbZl07dm9pZCAwIT09ZSYmdC5lYWNoKGUsZnVuY3Rpb24obix0KXt1LnB1c2goaVt0XSl9KX0pLHV9dmFyIGk9W10sdT17fSxyPXt9LGU9e30sZj17fTt0LmV4dGVuZCh0aGlzLHthZGRGaWxlOmZ1bmN0aW9uKG8pe3ZhciBoPW8uc3RhdHVzfHx0LnN0YXR1cy5TVUJNSVRUSU5HLHM9aS5wdXNoKHtuYW1lOm8ubmFtZSxvcmlnaW5hbE5hbWU6by5uYW1lLHV1aWQ6by51dWlkLHNpemU6bnVsbD09by5zaXplPy0xOm8uc2l6ZSxzdGF0dXM6aCxmaWxlOm8uZmlsZX0pLTE7cmV0dXJuIG8uYmF0Y2hJZCYmKGlbc10uYmF0Y2hJZD1vLmJhdGNoSWQsdm9pZCAwPT09ZltvLmJhdGNoSWRdJiYoZltvLmJhdGNoSWRdPVtdKSxmW28uYmF0Y2hJZF0ucHVzaChzKSksby5wcm94eUdyb3VwSWQmJihpW3NdLnByb3h5R3JvdXBJZD1vLnByb3h5R3JvdXBJZCx2b2lkIDA9PT1lW28ucHJveHlHcm91cElkXSYmKGVbby5wcm94eUdyb3VwSWRdPVtdKSxlW28ucHJveHlHcm91cElkXS5wdXNoKHMpKSxpW3NdLmlkPXMsdVtvLnV1aWRdPXMsdm9pZCAwPT09cltoXSYmKHJbaF09W10pLHJbaF0ucHVzaChzKSxvLm9uQmVmb3JlU3RhdHVzQ2hhbmdlJiZvLm9uQmVmb3JlU3RhdHVzQ2hhbmdlKHMpLG4ub25TdGF0dXNDaGFuZ2UocyxudWxsLGgpLHN9LHJldHJpZXZlOmZ1bmN0aW9uKG4pe3JldHVybiB0LmlzT2JqZWN0KG4pJiZpLmxlbmd0aD92b2lkIDAhPT1uLmlkP28obi5pZCk6dm9pZCAwIT09bi51dWlkP3Mobi51dWlkKTpuLnN0YXR1cz9oKG4uc3RhdHVzKTp2b2lkIDA6dC5leHRlbmQoW10saSwhMCl9LHJlbW92ZUZpbGVSZWY6ZnVuY3Rpb24obil7dmFyIHQ9byhuKTt0JiZkZWxldGUgdC5maWxlfSxyZXNldDpmdW5jdGlvbigpe2k9W107dT17fTtyPXt9O2Y9e319LHNldFN0YXR1czpmdW5jdGlvbih1LGYpe3ZhciBlPWlbdV0uc3RhdHVzLG89dC5pbmRleE9mKHJbZV0sdSk7cltlXS5zcGxpY2UobywxKTtpW3VdLnN0YXR1cz1mO3ZvaWQgMD09PXJbZl0mJihyW2ZdPVtdKTtyW2ZdLnB1c2godSk7bi5vblN0YXR1c0NoYW5nZSh1LGUsZil9LHV1aWRDaGFuZ2VkOmZ1bmN0aW9uKG4sdCl7dmFyIHI9aVtuXS51dWlkO2lbbl0udXVpZD10O3VbdF09bjtkZWxldGUgdVtyXX0sdXBkYXRlTmFtZTpmdW5jdGlvbihuLHQpe2lbbl0ubmFtZT10fSx1cGRhdGVTaXplOmZ1bmN0aW9uKG4sdCl7aVtuXS5zaXplPXR9LHNldFBhcmVudElkOmZ1bmN0aW9uKG4sdCl7aVtuXS5wYXJlbnRJZD10fSxnZXRJZHNJblByb3h5R3JvdXA6ZnVuY3Rpb24obil7dmFyIHQ9aVtuXS5wcm94eUdyb3VwSWQ7cmV0dXJuIHQ/ZVt0XTpbXX0sZ2V0SWRzSW5CYXRjaDpmdW5jdGlvbihuKXtyZXR1cm4gZltpW25dLmJhdGNoSWRdfX0pfTt0LnN0YXR1cz17U1VCTUlUVElORzoic3VibWl0dGluZyIsU1VCTUlUVEVEOiJzdWJtaXR0ZWQiLFJFSkVDVEVEOiJyZWplY3RlZCIsUVVFVUVEOiJxdWV1ZWQiLENBTkNFTEVEOiJjYW5jZWxlZCIsUEFVU0VEOiJwYXVzZWQiLFVQTE9BRElORzoidXBsb2FkaW5nIixVUExPQURfRklOQUxJWklORzoidXBsb2FkIGZpbmFsaXppbmciLFVQTE9BRF9SRVRSWUlORzoicmV0cnlpbmcgdXBsb2FkIixVUExPQURfU1VDQ0VTU0ZVTDoidXBsb2FkIHN1Y2Nlc3NmdWwiLFVQTE9BRF9GQUlMRUQ6InVwbG9hZCBmYWlsZWQiLERFTEVURV9GQUlMRUQ6ImRlbGV0ZSBmYWlsZWQiLERFTEVUSU5HOiJkZWxldGluZyIsREVMRVRFRDoiZGVsZXRlZCJ9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3QuYmFzZVB1YmxpY0FwaT17YWRkQmxvYnM6ZnVuY3Rpb24obix0LGkpe3RoaXMuYWRkRmlsZXMobix0LGkpfSxhZGRJbml0aWFsRmlsZXM6ZnVuY3Rpb24obil7dmFyIGk9dGhpczt0LmVhY2gobixmdW5jdGlvbihuLHQpe2kuX2FkZENhbm5lZEZpbGUodCl9KX0sYWRkRmlsZXM6ZnVuY3Rpb24obixpLHIpe3RoaXMuX21heWJlSGFuZGxlSW9zOFNhZmFyaVdvcmthcm91bmQoKTt2YXIgZj0wPT09dGhpcy5fc3RvcmVkSWRzLmxlbmd0aD90LmdldFVuaXF1ZUlkKCk6dGhpcy5fY3VycmVudEJhdGNoSWQsZT10LmJpbmQoZnVuY3Rpb24obil7dGhpcy5faGFuZGxlTmV3RmlsZSh7YmxvYjpuLG5hbWU6dGhpcy5fb3B0aW9ucy5ibG9icy5kZWZhdWx0TmFtZX0sZix1KX0sdGhpcyksbz10LmJpbmQoZnVuY3Rpb24obil7dGhpcy5faGFuZGxlTmV3RmlsZShuLGYsdSl9LHRoaXMpLHM9dC5iaW5kKGZ1bmN0aW9uKG4pe3ZhciBpPXQuY2FudmFzVG9CbG9iKG4pO3RoaXMuX2hhbmRsZU5ld0ZpbGUoe2Jsb2I6aSxuYW1lOnRoaXMuX29wdGlvbnMuYmxvYnMuZGVmYXVsdE5hbWUrIi5wbmcifSxmLHUpfSx0aGlzKSxoPXQuYmluZChmdW5jdGlvbihuKXt2YXIgaT1uLnF1YWxpdHkmJm4ucXVhbGl0eS8xMDAscj10LmNhbnZhc1RvQmxvYihuLmNhbnZhcyxuLnR5cGUsaSk7dGhpcy5faGFuZGxlTmV3RmlsZSh7YmxvYjpyLG5hbWU6bi5uYW1lfSxmLHUpfSx0aGlzKSxjPXQuYmluZChmdW5jdGlvbihuKXtpZih0LmlzSW5wdXQobikmJnQuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZyl7dmFyIGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobi5maWxlcykscj10aGlzO3QuZWFjaChpLGZ1bmN0aW9uKG4sdCl7ci5faGFuZGxlTmV3RmlsZSh0LGYsdSl9KX1lbHNlIHRoaXMuX2hhbmRsZU5ld0ZpbGUobixmLHUpfSx0aGlzKSxsPWZ1bmN0aW9uKCl7dC5pc0ZpbGVMaXN0KG4pJiYobj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuKSk7bj1bXS5jb25jYXQobil9LGE9dGhpcyx1PVtdO3RoaXMuX2N1cnJlbnRCYXRjaElkPWY7biYmKGwoKSx0LmVhY2gobixmdW5jdGlvbihuLGkpe3QuaXNGaWxlT3JJbnB1dChpKT9jKGkpOnQuaXNCbG9iKGkpP2UoaSk6dC5pc09iamVjdChpKT9pLmJsb2ImJmkubmFtZT9vKGkpOmkuY2FudmFzJiZpLm5hbWUmJmgoaSk6aS50YWdOYW1lJiYiY2FudmFzIj09PWkudGFnTmFtZS50b0xvd2VyQ2FzZSgpP3MoaSk6YS5sb2coaSsiIGlzIG5vdCBhIHZhbGlkIGZpbGUgY29udGFpbmVyISAgSWdub3JpbmchIiwid2FybiIpfSksdGhpcy5sb2coIlJlY2VpdmVkICIrdS5sZW5ndGgrIiBmaWxlcy4iKSx0aGlzLl9wcmVwYXJlSXRlbXNGb3JVcGxvYWQodSxpLHIpKX0sY2FuY2VsOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KTtpJiZpLnN0YXR1cz09PXQuc3RhdHVzLlVQTE9BRF9GSU5BTElaSU5HP3RoaXMubG9nKHQuZm9ybWF0KCJJZ25vcmluZyBjYW5jZWwgZm9yIGZpbGUgSUQge30gKHt9KS4gIEZpbmFsaXppbmcgdXBsb2FkLiIsbix0aGlzLmdldE5hbWUobikpLCJlcnJvciIpOnRoaXMuX2hhbmRsZXIuY2FuY2VsKG4pfSxjYW5jZWxBbGw6ZnVuY3Rpb24oKXt2YXIgbj1bXSxpPXRoaXM7dC5leHRlbmQobix0aGlzLl9zdG9yZWRJZHMpO3QuZWFjaChuLGZ1bmN0aW9uKG4sdCl7aS5jYW5jZWwodCl9KTt0aGlzLl9oYW5kbGVyLmNhbmNlbEFsbCgpfSxjbGVhclN0b3JlZEZpbGVzOmZ1bmN0aW9uKCl7dGhpcy5fc3RvcmVkSWRzPVtdfSxjb250aW51ZVVwbG9hZDpmdW5jdGlvbihuKXt2YXIgaT10aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSk7cmV0dXJuISghdC5zdXBwb3J0ZWRGZWF0dXJlcy5wYXVzZXx8IXRoaXMuX29wdGlvbnMuY2h1bmtpbmcuZW5hYmxlZCkmJihpLnN0YXR1cz09PXQuc3RhdHVzLlBBVVNFRD8odGhpcy5sb2codC5mb3JtYXQoIlBhdXNlZCBmaWxlIElEIHt9ICh7fSkgd2lsbCBiZSBjb250aW51ZWQuICBOb3QgcGF1c2VkLiIsbix0aGlzLmdldE5hbWUobikpKSx0aGlzLl91cGxvYWRGaWxlKG4pLCEwKToodGhpcy5sb2codC5mb3JtYXQoIklnbm9yaW5nIGNvbnRpbnVlIGZvciBmaWxlIElEIHt9ICh7fSkuICBOb3QgcGF1c2VkLiIsbix0aGlzLmdldE5hbWUobikpLCJlcnJvciIpLCExKSl9LGRlbGV0ZUZpbGU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX29uU3VibWl0RGVsZXRlKG4pfSxkb2VzRXhpc3Q6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2hhbmRsZXIuaXNWYWxpZChuKX0sZHJhd1RodW1ibmFpbDpmdW5jdGlvbihuLGkscix1LGYpe3ZhciBvLHMsZT1uZXcgdC5Qcm9taXNlO3JldHVybiB0aGlzLl9pbWFnZUdlbmVyYXRvcj8obz10aGlzLl90aHVtYm5haWxVcmxzW25dLHM9e2N1c3RvbVJlc2l6ZUZ1bmN0aW9uOmYsbWF4U2l6ZTpyPjA/cjpudWxsLHNjYWxlOnI+MH0sIXUmJnQuc3VwcG9ydGVkRmVhdHVyZXMuaW1hZ2VQcmV2aWV3cyYmKG89dGhpcy5nZXRGaWxlKG4pKSxudWxsPT1vP2UuZmFpbHVyZSh7Y29udGFpbmVyOmksZXJyb3I6IkZpbGUgb3IgVVJMIG5vdCBmb3VuZC4ifSk6dGhpcy5faW1hZ2VHZW5lcmF0b3IuZ2VuZXJhdGUobyxpLHMpLnRoZW4oZnVuY3Rpb24obil7ZS5zdWNjZXNzKG4pfSxmdW5jdGlvbihuLHQpe2UuZmFpbHVyZSh7Y29udGFpbmVyOm4sZXJyb3I6dHx8IlByb2JsZW0gZ2VuZXJhdGluZyB0aHVtYm5haWwifSl9KSk6ZS5mYWlsdXJlKHtjb250YWluZXI6aSxlcnJvcjoiTWlzc2luZyBpbWFnZSBnZW5lcmF0b3IgbW9kdWxlIn0pLGV9LGdldEJ1dHRvbjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fZ2V0QnV0dG9uKHRoaXMuX2J1dHRvbklkc0ZvckZpbGVJZHNbbl0pfSxnZXRFbmRwb2ludDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fZW5kcG9pbnRTdG9yZS5nZXQobil9LGdldEZpbGU6ZnVuY3Rpb24obil7dmFyIHQsaT10aGlzLl9oYW5kbGVyLmdldEZpbGUobik7cmV0dXJuIGl8fCh0PXRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KSx0JiYoaT10LmZpbGUpKSxpfHxudWxsfSxnZXRJblByb2dyZXNzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe3N0YXR1czpbdC5zdGF0dXMuVVBMT0FESU5HLHQuc3RhdHVzLlVQTE9BRF9SRVRSWUlORyx0LnN0YXR1cy5RVUVVRURdfSkubGVuZ3RofSxnZXROYW1lOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSkubmFtZX0sZ2V0UGFyZW50SWQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5nZXRVcGxvYWRzKHtpZDpufSksaT1udWxsO3JldHVybiB0JiZ2b2lkIDAhPT10LnBhcmVudElkJiYoaT10LnBhcmVudElkKSxpfSxnZXRSZXN1bWFibGVGaWxlc0RhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFuZGxlci5nZXRSZXN1bWFibGVGaWxlc0RhdGEoKX0sZ2V0U2l6ZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pLnNpemV9LGdldE5ldFVwbG9hZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmV0VXBsb2FkZWR9LGdldFJlbWFpbmluZ0FsbG93ZWRJdGVtczpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX2N1cnJlbnRJdGVtTGltaXQ7cmV0dXJuIG4+MD9uLXRoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQ6bnVsbH0sZ2V0VXBsb2FkczpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZShuKX0sZ2V0VXVpZDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pLnV1aWR9LGlzUmVzdW1hYmxlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9oYW5kbGVyLmhhc1Jlc3VtZVJlY29yZChuKX0sbG9nOmZ1bmN0aW9uKG4saSl7IXRoaXMuX29wdGlvbnMuZGVidWd8fGkmJiJpbmZvIiE9PWk/aSYmImluZm8iIT09aSYmdC5sb2coIltGaW5lIFVwbG9hZGVyICIrdC52ZXJzaW9uKyJdICIrbixpKTp0LmxvZygiW0ZpbmUgVXBsb2FkZXIgIit0LnZlcnNpb24rIl0gIituKX0scGF1c2VVcGxvYWQ6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pO2lmKCF0LnN1cHBvcnRlZEZlYXR1cmVzLnBhdXNlfHwhdGhpcy5fb3B0aW9ucy5jaHVua2luZy5lbmFibGVkKXJldHVybiExO2lmKHQuaW5kZXhPZihbdC5zdGF0dXMuVVBMT0FESU5HLHQuc3RhdHVzLlVQTE9BRF9SRVRSWUlOR10saS5zdGF0dXMpPj0wKXtpZih0aGlzLl9oYW5kbGVyLnBhdXNlKG4pKXJldHVybiB0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlBBVVNFRCksITA7dGhpcy5sb2codC5mb3JtYXQoIlVuYWJsZSB0byBwYXVzZSBmaWxlIElEIHt9ICh7fSkuIixuLHRoaXMuZ2V0TmFtZShuKSksImVycm9yIil9ZWxzZSB0aGlzLmxvZyh0LmZvcm1hdCgiSWdub3JpbmcgcGF1c2UgZm9yIGZpbGUgSUQge30gKHt9KS4gIE5vdCBpbiBwcm9ncmVzcy4iLG4sdGhpcy5nZXROYW1lKG4pKSwiZXJyb3IiKTtyZXR1cm4hMX0scmVtb3ZlRmlsZVJlZjpmdW5jdGlvbihuKXt0aGlzLl9oYW5kbGVyLmV4cHVuZ2Uobik7dGhpcy5fdXBsb2FkRGF0YS5yZW1vdmVGaWxlUmVmKG4pfSxyZXNldDpmdW5jdGlvbigpe3RoaXMubG9nKCJSZXNldHRpbmcgdXBsb2FkZXIuLi4iKTt0aGlzLl9oYW5kbGVyLnJlc2V0KCk7dGhpcy5fc3RvcmVkSWRzPVtdO3RoaXMuX2F1dG9SZXRyaWVzPVtdO3RoaXMuX3JldHJ5VGltZW91dHM9W107dGhpcy5fcHJldmVudFJldHJpZXM9W107dGhpcy5fdGh1bWJuYWlsVXJscz1bXTt0LmVhY2godGhpcy5fYnV0dG9ucyxmdW5jdGlvbihuLHQpe3QucmVzZXQoKX0pO3RoaXMuX3BhcmFtc1N0b3JlLnJlc2V0KCk7dGhpcy5fZW5kcG9pbnRTdG9yZS5yZXNldCgpO3RoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQ9MDt0aGlzLl9uZXRVcGxvYWRlZD0wO3RoaXMuX3VwbG9hZERhdGEucmVzZXQoKTt0aGlzLl9idXR0b25JZHNGb3JGaWxlSWRzPVtdO3RoaXMuX3Bhc3RlSGFuZGxlciYmdGhpcy5fcGFzdGVIYW5kbGVyLnJlc2V0KCk7dGhpcy5fb3B0aW9ucy5zZXNzaW9uLnJlZnJlc2hPblJlc2V0JiZ0aGlzLl9yZWZyZXNoU2Vzc2lvbkRhdGEoKTt0aGlzLl9zdWNjZWVkZWRTaW5jZUxhc3RBbGxDb21wbGV0ZT1bXTt0aGlzLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZT1bXTt0aGlzLl90b3RhbFByb2dyZXNzJiZ0aGlzLl90b3RhbFByb2dyZXNzLnJlc2V0KCk7dGhpcy5fY3VzdG9tUmVzdW1lRGF0YVN0b3JlLnJlc2V0KCl9LHJldHJ5OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9tYW51YWxSZXRyeShuKX0sc2NhbGVJbWFnZTpmdW5jdGlvbihuLGkpe3ZhciByPXRoaXM7cmV0dXJuIHQuU2NhbGVyLnByb3RvdHlwZS5zY2FsZUltYWdlKG4saSx7bG9nOnQuYmluZChyLmxvZyxyKSxnZXRGaWxlOnQuYmluZChyLmdldEZpbGUsciksdXBsb2FkRGF0YTpyLl91cGxvYWREYXRhfSl9LHNldEN1c3RvbUhlYWRlcnM6ZnVuY3Rpb24obix0KXt0aGlzLl9jdXN0b21IZWFkZXJzU3RvcmUuc2V0KG4sdCl9LHNldEN1c3RvbVJlc3VtZURhdGE6ZnVuY3Rpb24obix0KXt0aGlzLl9jdXN0b21SZXN1bWVEYXRhU3RvcmUuc2V0KHQsbil9LHNldERlbGV0ZUZpbGVDdXN0b21IZWFkZXJzOmZ1bmN0aW9uKG4sdCl7dGhpcy5fZGVsZXRlRmlsZUN1c3RvbUhlYWRlcnNTdG9yZS5zZXQobix0KX0sc2V0RGVsZXRlRmlsZUVuZHBvaW50OmZ1bmN0aW9uKG4sdCl7dGhpcy5fZGVsZXRlRmlsZUVuZHBvaW50U3RvcmUuc2V0KG4sdCl9LHNldERlbGV0ZUZpbGVQYXJhbXM6ZnVuY3Rpb24obix0KXt0aGlzLl9kZWxldGVGaWxlUGFyYW1zU3RvcmUuc2V0KG4sdCl9LHNldEVuZHBvaW50OmZ1bmN0aW9uKG4sdCl7dGhpcy5fZW5kcG9pbnRTdG9yZS5zZXQobix0KX0sc2V0Rm9ybTpmdW5jdGlvbihuKXt0aGlzLl91cGRhdGVGb3JtU3VwcG9ydEFuZFBhcmFtcyhuKX0sc2V0SXRlbUxpbWl0OmZ1bmN0aW9uKG4pe3RoaXMuX2N1cnJlbnRJdGVtTGltaXQ9bn0sc2V0TmFtZTpmdW5jdGlvbihuLHQpe3RoaXMuX3VwbG9hZERhdGEudXBkYXRlTmFtZShuLHQpfSxzZXRQYXJhbXM6ZnVuY3Rpb24obix0KXt0aGlzLl9wYXJhbXNTdG9yZS5zZXQobix0KX0sc2V0VXVpZDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnV1aWRDaGFuZ2VkKG4sdCl9LHNldFN0YXR1czpmdW5jdGlvbihuLGkpe2lmKCF0aGlzLmdldFVwbG9hZHMoe2lkOm59KSl0aHJvdyBuZXcgdC5FcnJvcihuKyIgaXMgbm90IGEgdmFsaWQgZmlsZSBJRC4iKTtzd2l0Y2goaSl7Y2FzZSB0LnN0YXR1cy5ERUxFVEVEOnRoaXMuX29uRGVsZXRlQ29tcGxldGUobixudWxsLCExKTticmVhaztjYXNlIHQuc3RhdHVzLkRFTEVURV9GQUlMRUQ6dGhpcy5fb25EZWxldGVDb21wbGV0ZShuLG51bGwsITApO2JyZWFrO2RlZmF1bHQ6dmFyIHI9Ik1ldGhvZCBzZXRTdGF0dXMgY2FsbGVkIG9uICciK25hbWUrIicgbm90IGltcGxlbWVudGVkIHlldCBmb3IgIitpO3Rocm93IHRoaXMubG9nKHIpLG5ldyB0LkVycm9yKHIpO319LHVwbG9hZFN0b3JlZEZpbGVzOmZ1bmN0aW9uKCl7MD09PXRoaXMuX3N0b3JlZElkcy5sZW5ndGg/dGhpcy5faXRlbUVycm9yKCJub0ZpbGVzRXJyb3IiKTp0aGlzLl91cGxvYWRTdG9yZWRGaWxlcygpfX07dC5iYXNlUHJpdmF0ZUFwaT17X2FkZENhbm5lZEZpbGU6ZnVuY3Rpb24obil7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5hZGRGaWxlKHt1dWlkOm4udXVpZCxuYW1lOm4ubmFtZSxzaXplOm4uc2l6ZSxzdGF0dXM6dC5zdGF0dXMuVVBMT0FEX1NVQ0NFU1NGVUwsb25CZWZvcmVTdGF0dXNDaGFuZ2U6ZnVuY3Rpb24odCl7bi5kZWxldGVGaWxlRW5kcG9pbnQmJmkuc2V0RGVsZXRlRmlsZUVuZHBvaW50KG4uZGVsZXRlRmlsZUVuZHBvaW50LHQpO24uZGVsZXRlRmlsZVBhcmFtcyYmaS5zZXREZWxldGVGaWxlUGFyYW1zKG4uZGVsZXRlRmlsZVBhcmFtcyx0KTtuLnRodW1ibmFpbFVybCYmKGkuX3RodW1ibmFpbFVybHNbdF09bi50aHVtYm5haWxVcmwpO2kuX25ldFVwbG9hZGVkKys7aS5fbmV0VXBsb2FkZWRPclF1ZXVlZCsrfX0pfSxfYW5ub3RhdGVXaXRoQnV0dG9uSWQ6ZnVuY3Rpb24obixpKXt0LmlzRmlsZShuKSYmKG4ucXFCdXR0b25JZD10aGlzLl9nZXRCdXR0b25JZChpKSl9LF9iYXRjaEVycm9yOmZ1bmN0aW9uKG4pe3RoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uRXJyb3IobnVsbCxudWxsLG4sdm9pZCAwKX0sX2NyZWF0ZURlbGV0ZUhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3JldHVybiBuZXcgdC5EZWxldGVGaWxlQWpheFJlcXVlc3Rlcih7bWV0aG9kOnRoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5tZXRob2QudG9VcHBlckNhc2UoKSxtYXhDb25uZWN0aW9uczp0aGlzLl9vcHRpb25zLm1heENvbm5lY3Rpb25zLHV1aWRQYXJhbU5hbWU6dGhpcy5fb3B0aW9ucy5yZXF1ZXN0LnV1aWROYW1lLGN1c3RvbUhlYWRlcnM6dGhpcy5fZGVsZXRlRmlsZUN1c3RvbUhlYWRlcnNTdG9yZSxwYXJhbXNTdG9yZTp0aGlzLl9kZWxldGVGaWxlUGFyYW1zU3RvcmUsZW5kcG9pbnRTdG9yZTp0aGlzLl9kZWxldGVGaWxlRW5kcG9pbnRTdG9yZSxjb3JzOnRoaXMuX29wdGlvbnMuY29ycyxsb2c6dC5iaW5kKG4ubG9nLG4pLG9uRGVsZXRlOmZ1bmN0aW9uKHQpe24uX29uRGVsZXRlKHQpO24uX29wdGlvbnMuY2FsbGJhY2tzLm9uRGVsZXRlKHQpfSxvbkRlbGV0ZUNvbXBsZXRlOmZ1bmN0aW9uKHQsaSxyKXtuLl9vbkRlbGV0ZUNvbXBsZXRlKHQsaSxyKTtuLl9vcHRpb25zLmNhbGxiYWNrcy5vbkRlbGV0ZUNvbXBsZXRlKHQsaSxyKX19KX0sX2NyZWF0ZVBhc3RlSGFuZGxlcjpmdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyB0LlBhc3RlU3VwcG9ydCh7dGFyZ2V0RWxlbWVudDp0aGlzLl9vcHRpb25zLnBhc3RlLnRhcmdldEVsZW1lbnQsY2FsbGJhY2tzOntsb2c6dC5iaW5kKG4ubG9nLG4pLHBhc3RlUmVjZWl2ZWQ6ZnVuY3Rpb24oaSl7bi5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblBhc3RlUmVjZWl2ZWQiLGNhbGxiYWNrOnQuYmluZChuLl9vcHRpb25zLmNhbGxiYWNrcy5vblBhc3RlUmVjZWl2ZWQsbixpKSxvblN1Y2Nlc3M6dC5iaW5kKG4uX2hhbmRsZVBhc3RlU3VjY2VzcyxuLGkpLGlkZW50aWZpZXI6InBhc3RlZCBpbWFnZSJ9KX19fSl9LF9jcmVhdGVTdG9yZTpmdW5jdGlvbihuLGkpe3ZhciB1PXt9LG89bixmPXt9LHI9aSxlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmlzT2JqZWN0KG4pP3QuZXh0ZW5kKHt9LG4pOm59LHM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pc0Z1bmN0aW9uKHIpP3IoKTpyfSxoPWZ1bmN0aW9uKG4saSl7ciYmdC5pc09iamVjdChpKSYmdC5leHRlbmQoaSxzKCkpO2Zbbl0mJnQuZXh0ZW5kKGksZltuXSl9O3JldHVybntzZXQ6ZnVuY3Rpb24obix0KXtudWxsPT10Pyh1PXt9LG89ZShuKSk6dVt0XT1lKG4pfSxnZXQ6ZnVuY3Rpb24obil7dmFyIHQ7cmV0dXJuIHQ9bnVsbCE9biYmdVtuXT91W25dOmUobyksaChuLHQpLGUodCl9LGFkZFJlYWRPbmx5OmZ1bmN0aW9uKG4saSl7dC5pc09iamVjdCh1KSYmKG51bGw9PT1uP3QuaXNGdW5jdGlvbihpKT9yPWk6KHI9cnx8e30sdC5leHRlbmQocixpKSk6KGZbbl09ZltuXXx8e30sdC5leHRlbmQoZltuXSxpKSkpfSxyZW1vdmU6ZnVuY3Rpb24obil7cmV0dXJuIGRlbGV0ZSB1W25dfSxyZXNldDpmdW5jdGlvbigpe3U9e307Zj17fTtvPW59fX0sX2NyZWF0ZVVwbG9hZERhdGFUcmFja2VyOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gbmV3IHQuVXBsb2FkRGF0YSh7Z2V0TmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gbi5nZXROYW1lKHQpfSxnZXRVdWlkOmZ1bmN0aW9uKHQpe3JldHVybiBuLmdldFV1aWQodCl9LGdldFNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIG4uZ2V0U2l6ZSh0KX0sb25TdGF0dXNDaGFuZ2U6ZnVuY3Rpb24odCxpLHIpe24uX29uVXBsb2FkU3RhdHVzQ2hhbmdlKHQsaSxyKTtuLl9vcHRpb25zLmNhbGxiYWNrcy5vblN0YXR1c0NoYW5nZSh0LGkscik7bi5fbWF5YmVBbGxDb21wbGV0ZSh0LHIpO24uX3RvdGFsUHJvZ3Jlc3MmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLl90b3RhbFByb2dyZXNzLm9uU3RhdHVzQ2hhbmdlKHQsaSxyKX0sMCl9fSl9LF9jcmVhdGVVcGxvYWRCdXR0b246ZnVuY3Rpb24obil7ZnVuY3Rpb24gdSgpe3JldHVybiEhdC5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nJiYhKGkuX29wdGlvbnMud29ya2Fyb3VuZHMuaW9zRW1wdHlWaWRlb3MmJnQuaW9zKCkmJiF0LmlvczYoKSYmaS5faXNBbGxvd2VkRXh0ZW5zaW9uKGUsIi5tb3YiKSkmJih2b2lkIDA9PT1uLm11bHRpcGxlP2kuX29wdGlvbnMubXVsdGlwbGU6bi5tdWx0aXBsZSl9dmFyIHIsaT10aGlzLGY9bi5hY2NlcHR8fHRoaXMuX29wdGlvbnMudmFsaWRhdGlvbi5hY2NlcHRGaWxlcyxlPW4uYWxsb3dlZEV4dGVuc2lvbnN8fHRoaXMuX29wdGlvbnMudmFsaWRhdGlvbi5hbGxvd2VkRXh0ZW5zaW9ucztyZXR1cm4gcj1uZXcgdC5VcGxvYWRCdXR0b24oe2FjY2VwdEZpbGVzOmYsZWxlbWVudDpuLmVsZW1lbnQsZm9jdXNDbGFzczp0aGlzLl9vcHRpb25zLmNsYXNzZXMuYnV0dG9uRm9jdXMsZm9sZGVyczpuLmZvbGRlcnMsaG92ZXJDbGFzczp0aGlzLl9vcHRpb25zLmNsYXNzZXMuYnV0dG9uSG92ZXIsaW9zOEJyb3dzZXJDcmFzaFdvcmthcm91bmQ6dGhpcy5fb3B0aW9ucy53b3JrYXJvdW5kcy5pb3M4QnJvd3NlckNyYXNoLG11bHRpcGxlOnUoKSxuYW1lOnRoaXMuX29wdGlvbnMucmVxdWVzdC5pbnB1dE5hbWUsb25DaGFuZ2U6ZnVuY3Rpb24obil7aS5fb25JbnB1dENoYW5nZShuKX0sdGl0bGU6bnVsbD09bi50aXRsZT90aGlzLl9vcHRpb25zLnRleHQuZmlsZUlucHV0VGl0bGU6bi50aXRsZX0pLHRoaXMuX2Rpc3Bvc2VTdXBwb3J0LmFkZERpc3Bvc2VyKGZ1bmN0aW9uKCl7ci5kaXNwb3NlKCl9KSxpLl9idXR0b25zLnB1c2gocikscn0sX2NyZWF0ZVVwbG9hZEhhbmRsZXI6ZnVuY3Rpb24obixpKXt2YXIgcj10aGlzLHU9e30sZj17ZGVidWc6dGhpcy5fb3B0aW9ucy5kZWJ1ZyxtYXhDb25uZWN0aW9uczp0aGlzLl9vcHRpb25zLm1heENvbm5lY3Rpb25zLGNvcnM6dGhpcy5fb3B0aW9ucy5jb3JzLHBhcmFtc1N0b3JlOnRoaXMuX3BhcmFtc1N0b3JlLGVuZHBvaW50U3RvcmU6dGhpcy5fZW5kcG9pbnRTdG9yZSxjaHVua2luZzp0aGlzLl9vcHRpb25zLmNodW5raW5nLHJlc3VtZTp0aGlzLl9vcHRpb25zLnJlc3VtZSxibG9iczp0aGlzLl9vcHRpb25zLmJsb2JzLGxvZzp0LmJpbmQoci5sb2cscikscHJldmVudFJldHJ5UGFyYW06dGhpcy5fb3B0aW9ucy5yZXRyeS5wcmV2ZW50UmV0cnlSZXNwb25zZVByb3BlcnR5LG9uUHJvZ3Jlc3M6ZnVuY3Rpb24obix0LGksZil7aTwwfHxmPDB8fCh1W25dP3Vbbl0ubG9hZGVkPT09aSYmdVtuXS50b3RhbD09PWZ8fChyLl9vblByb2dyZXNzKG4sdCxpLGYpLHIuX29wdGlvbnMuY2FsbGJhY2tzLm9uUHJvZ3Jlc3Mobix0LGksZikpOihyLl9vblByb2dyZXNzKG4sdCxpLGYpLHIuX29wdGlvbnMuY2FsbGJhY2tzLm9uUHJvZ3Jlc3Mobix0LGksZikpLHVbbl09e2xvYWRlZDppLHRvdGFsOmZ9KX0sb25Db21wbGV0ZTpmdW5jdGlvbihuLGksZixlKXtkZWxldGUgdVtuXTt2YXIgbyxzPXIuZ2V0VXBsb2Fkcyh7aWQ6bn0pLnN0YXR1cztzIT09dC5zdGF0dXMuVVBMT0FEX1NVQ0NFU1NGVUwmJnMhPT10LnN0YXR1cy5VUExPQURfRkFJTEVEJiYobz1yLl9vbkNvbXBsZXRlKG4saSxmLGUpLG8gaW5zdGFuY2VvZiB0LlByb21pc2U/by5kb25lKGZ1bmN0aW9uKCl7ci5fb3B0aW9ucy5jYWxsYmFja3Mub25Db21wbGV0ZShuLGksZixlKX0pOnIuX29wdGlvbnMuY2FsbGJhY2tzLm9uQ29tcGxldGUobixpLGYsZSkpfSxvbkNhbmNlbDpmdW5jdGlvbihuLGksdSl7dmFyIGY9bmV3IHQuUHJvbWlzZTtyZXR1cm4gci5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvbkNhbmNlbCIsY2FsbGJhY2s6dC5iaW5kKHIuX29wdGlvbnMuY2FsbGJhY2tzLm9uQ2FuY2VsLHIsbixpKSxvbkZhaWx1cmU6Zi5mYWlsdXJlLG9uU3VjY2VzczpmdW5jdGlvbigpe3UudGhlbihmdW5jdGlvbigpe3IuX29uQ2FuY2VsKG4saSl9KTtmLnN1Y2Nlc3MoKX0saWRlbnRpZmllcjpufSksZn0sb25VcGxvYWRQcmVwOnQuYmluZCh0aGlzLl9vblVwbG9hZFByZXAsdGhpcyksb25VcGxvYWQ6ZnVuY3Rpb24obixpKXtyLl9vblVwbG9hZChuLGkpO3ZhciB1PXIuX29wdGlvbnMuY2FsbGJhY2tzLm9uVXBsb2FkKG4saSk7cmV0dXJuIHQuaXNHZW5lcmljUHJvbWlzZSh1KT8oci5sb2codC5mb3JtYXQoIm9uVXBsb2FkIGZvciB7fSByZXR1cm5lZCBhIFByb21pc2UgLSB3YWl0aW5nIGZvciByZXNvbHV0aW9uLiIsbikpLHUpOihuZXcgdC5Qcm9taXNlKS5zdWNjZXNzKCl9LG9uVXBsb2FkQ2h1bms6ZnVuY3Rpb24obixpLHUpe3IuX29uVXBsb2FkQ2h1bmsobix1KTt2YXIgZj1yLl9vcHRpb25zLmNhbGxiYWNrcy5vblVwbG9hZENodW5rKG4saSx1KTtyZXR1cm4gdC5pc0dlbmVyaWNQcm9taXNlKGYpPyhyLmxvZyh0LmZvcm1hdCgib25VcGxvYWRDaHVuayBmb3Ige30ue30gcmV0dXJuZWQgYSBQcm9taXNlIC0gd2FpdGluZyBmb3IgcmVzb2x1dGlvbi4iLG4sdS5wYXJ0SW5kZXgpKSxmKToobmV3IHQuUHJvbWlzZSkuc3VjY2VzcygpfSxvblVwbG9hZENodW5rU3VjY2VzczpmdW5jdGlvbihuLHQpe3IuX29uVXBsb2FkQ2h1bmtTdWNjZXNzKG4sdCk7ci5fb3B0aW9ucy5jYWxsYmFja3Mub25VcGxvYWRDaHVua1N1Y2Nlc3MuYXBwbHkocixhcmd1bWVudHMpfSxvblJlc3VtZTpmdW5jdGlvbihuLHQsaSx1KXtyZXR1cm4gci5fb3B0aW9ucy5jYWxsYmFja3Mub25SZXN1bWUobix0LGksdSl9LG9uQXV0b1JldHJ5OmZ1bmN0aW9uKCl7cmV0dXJuIHIuX29uQXV0b1JldHJ5LmFwcGx5KHIsYXJndW1lbnRzKX0sb25VdWlkQ2hhbmdlZDpmdW5jdGlvbihuLHQpe3IubG9nKCJTZXJ2ZXIgcmVxdWVzdGVkIFVVSUQgY2hhbmdlIGZyb20gJyIrci5nZXRVdWlkKG4pKyInIHRvICciK3QrIiciKTtyLnNldFV1aWQobix0KX0sZ2V0TmFtZTp0LmJpbmQoci5nZXROYW1lLHIpLGdldFV1aWQ6dC5iaW5kKHIuZ2V0VXVpZCxyKSxnZXRTaXplOnQuYmluZChyLmdldFNpemUsciksc2V0U2l6ZTp0LmJpbmQoci5fc2V0U2l6ZSxyKSxnZXREYXRhQnlVdWlkOmZ1bmN0aW9uKG4pe3JldHVybiByLmdldFVwbG9hZHMoe3V1aWQ6bn0pfSxpc1F1ZXVlZDpmdW5jdGlvbihuKXt2YXIgaT1yLmdldFVwbG9hZHMoe2lkOm59KS5zdGF0dXM7cmV0dXJuIGk9PT10LnN0YXR1cy5RVUVVRUR8fGk9PT10LnN0YXR1cy5TVUJNSVRURUR8fGk9PT10LnN0YXR1cy5VUExPQURfUkVUUllJTkd8fGk9PT10LnN0YXR1cy5QQVVTRUR9LGdldElkc0luUHJveHlHcm91cDpyLl91cGxvYWREYXRhLmdldElkc0luUHJveHlHcm91cCxnZXRJZHNJbkJhdGNoOnIuX3VwbG9hZERhdGEuZ2V0SWRzSW5CYXRjaCxpc0luUHJvZ3Jlc3M6ZnVuY3Rpb24obil7cmV0dXJuIHIuZ2V0VXBsb2Fkcyh7aWQ6bn0pLnN0YXR1cz09PXQuc3RhdHVzLlVQTE9BRElOR30sZ2V0Q3VzdG9tUmVzdW1lRGF0YTp0LmJpbmQoci5fZ2V0Q3VzdG9tUmVzdW1lRGF0YSxyKSxzZXRTdGF0dXM6ZnVuY3Rpb24obix0KXtyLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQpfX07cmV0dXJuIHQuZWFjaCh0aGlzLl9vcHRpb25zLnJlcXVlc3QsZnVuY3Rpb24obix0KXtmW25dPXR9KSxmLmN1c3RvbUhlYWRlcnM9dGhpcy5fY3VzdG9tSGVhZGVyc1N0b3JlLG4mJnQuZWFjaChuLGZ1bmN0aW9uKG4sdCl7ZltuXT10fSksbmV3IHQuVXBsb2FkSGFuZGxlckNvbnRyb2xsZXIoZixpKX0sX2ZpbGVPckJsb2JSZWplY3RlZDpmdW5jdGlvbihuKXt0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkLS07dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5SRUpFQ1RFRCl9LF9mb3JtYXRTaXplOmZ1bmN0aW9uKG4pe2lmKDA9PT1uKXJldHVybiBuK3RoaXMuX29wdGlvbnMudGV4dC5zaXplU3ltYm9sc1swXTt2YXIgdD0tMTtkbyBuLz0xZTMsdCsrO3doaWxlKG4+OTk5KTtyZXR1cm4gTWF0aC5tYXgobiwuMSkudG9GaXhlZCgxKSt0aGlzLl9vcHRpb25zLnRleHQuc2l6ZVN5bWJvbHNbdF19LF9nZW5lcmF0ZUV4dHJhQnV0dG9uU3BlY3M6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuX2V4dHJhQnV0dG9uU3BlY3M9e307dC5lYWNoKHRoaXMuX29wdGlvbnMuZXh0cmFCdXR0b25zLGZ1bmN0aW9uKGkscil7dmFyIHU9ci5tdWx0aXBsZSxlPXQuZXh0ZW5kKHt9LG4uX29wdGlvbnMudmFsaWRhdGlvbiwhMCksZj10LmV4dGVuZCh7fSxyKTt2b2lkIDA9PT11JiYodT1uLl9vcHRpb25zLm11bHRpcGxlKTtmLnZhbGlkYXRpb24mJnQuZXh0ZW5kKGUsci52YWxpZGF0aW9uLCEwKTt0LmV4dGVuZChmLHttdWx0aXBsZTp1LHZhbGlkYXRpb246ZX0sITApO24uX2luaXRFeHRyYUJ1dHRvbihmKX0pfSxfZ2V0QnV0dG9uOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2V4dHJhQnV0dG9uU3BlY3Nbbl07cmV0dXJuIHQ/dC5lbGVtZW50Om49PT10aGlzLl9kZWZhdWx0QnV0dG9uSWQ/dGhpcy5fb3B0aW9ucy5idXR0b246dm9pZCAwfSxfZ2V0QnV0dG9uSWQ6ZnVuY3Rpb24obil7dmFyIHUscixpPW47aWYoaSBpbnN0YW5jZW9mIHQuQmxvYlByb3h5JiYoaT1pLnJlZmVyZW5jZUJsb2IpLGkmJiF0LmlzQmxvYihpKSl7aWYodC5pc0ZpbGUoaSkpcmV0dXJuIGkucXFCdXR0b25JZDtpZigiaW5wdXQiPT09aS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJiJmaWxlIj09PWkudHlwZS50b0xvd2VyQ2FzZSgpKXJldHVybiBpLmdldEF0dHJpYnV0ZSh0LlVwbG9hZEJ1dHRvbi5CVVRUT05fSURfQVRUUl9OQU1FKTtpZih1PWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IiksdC5lYWNoKHUsZnVuY3Rpb24obix0KXtpZigiZmlsZSI9PT10LmdldEF0dHJpYnV0ZSgidHlwZSIpKXJldHVybiByPXQsITF9KSxyKXJldHVybiByLmdldEF0dHJpYnV0ZSh0LlVwbG9hZEJ1dHRvbi5CVVRUT05fSURfQVRUUl9OQU1FKX19LF9nZXRDdXN0b21SZXN1bWVEYXRhOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9jdXN0b21SZXN1bWVEYXRhU3RvcmUuZ2V0KG4pfSxfZ2V0Tm90RmluaXNoZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7c3RhdHVzOlt0LnN0YXR1cy5VUExPQURJTkcsdC5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HLHQuc3RhdHVzLlFVRVVFRCx0LnN0YXR1cy5TVUJNSVRUSU5HLHQuc3RhdHVzLlNVQk1JVFRFRCx0LnN0YXR1cy5QQVVTRURdfSkubGVuZ3RofSxfZ2V0VmFsaWRhdGlvbkJhc2U6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZXh0cmFCdXR0b25TcGVjc1tuXTtyZXR1cm4gdD90LnZhbGlkYXRpb246dGhpcy5fb3B0aW9ucy52YWxpZGF0aW9ufSxfZ2V0VmFsaWRhdGlvbkRlc2NyaXB0b3I6ZnVuY3Rpb24obil7cmV0dXJuIG4uZmlsZSBpbnN0YW5jZW9mIHQuQmxvYlByb3h5P3tuYW1lOnQuZ2V0RmlsZW5hbWUobi5maWxlLnJlZmVyZW5jZUJsb2IpLHNpemU6bi5maWxlLnJlZmVyZW5jZUJsb2Iuc2l6ZX06e25hbWU6dGhpcy5nZXRVcGxvYWRzKHtpZDpuLmlkfSkubmFtZSxzaXplOnRoaXMuZ2V0VXBsb2Fkcyh7aWQ6bi5pZH0pLnNpemV9fSxfZ2V0VmFsaWRhdGlvbkRlc2NyaXB0b3JzOmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsaT1bXTtyZXR1cm4gdC5lYWNoKG4sZnVuY3Rpb24obix0KXtpLnB1c2goci5fZ2V0VmFsaWRhdGlvbkRlc2NyaXB0b3IodCkpfSksaX0sX2hhbmRsZUNhbWVyYUFjY2VzczpmdW5jdGlvbigpe2lmKHRoaXMuX29wdGlvbnMuY2FtZXJhLmlvcyYmdC5pb3MoKSl7dmFyIHI9dGhpcy5fb3B0aW9ucy5jYW1lcmEuYnV0dG9uLGk9cj90aGlzLl9nZXRCdXR0b25JZChyKTp0aGlzLl9kZWZhdWx0QnV0dG9uSWQsbj10aGlzLl9vcHRpb25zO2kmJmkhPT10aGlzLl9kZWZhdWx0QnV0dG9uSWQmJihuPXRoaXMuX2V4dHJhQnV0dG9uU3BlY3NbaV0pO24ubXVsdGlwbGU9ITE7bnVsbD09PW4udmFsaWRhdGlvbi5hY2NlcHRGaWxlcz9uLnZhbGlkYXRpb24uYWNjZXB0RmlsZXM9ImltYWdlLyo7Y2FwdHVyZT1jYW1lcmEiOm4udmFsaWRhdGlvbi5hY2NlcHRGaWxlcys9IixpbWFnZS8qO2NhcHR1cmU9Y2FtZXJhIjt0LmVhY2godGhpcy5fYnV0dG9ucyxmdW5jdGlvbih0LHIpe2lmKHIuZ2V0QnV0dG9uSWQoKT09PWkpcmV0dXJuIHIuc2V0TXVsdGlwbGUobi5tdWx0aXBsZSksci5zZXRBY2NlcHRGaWxlcyhuLmFjY2VwdEZpbGVzKSwhMX0pfX0sX2hhbmRsZUNoZWNrZWRDYWxsYmFjazpmdW5jdGlvbihuKXt2YXIgcj10aGlzLGk9bi5jYWxsYmFjaygpO3JldHVybiB0LmlzR2VuZXJpY1Byb21pc2UoaSk/KHRoaXMubG9nKG4ubmFtZSsiIC0gd2FpdGluZyBmb3IgIituLm5hbWUrIiBwcm9taXNlIHRvIGJlIGZ1bGZpbGxlZCBmb3IgIituLmlkZW50aWZpZXIpLGkudGhlbihmdW5jdGlvbih0KXtyLmxvZyhuLm5hbWUrIiBwcm9taXNlIHN1Y2Nlc3MgZm9yICIrbi5pZGVudGlmaWVyKTtuLm9uU3VjY2Vzcyh0KX0sZnVuY3Rpb24oKXtuLm9uRmFpbHVyZT8oci5sb2cobi5uYW1lKyIgcHJvbWlzZSBmYWlsdXJlIGZvciAiK24uaWRlbnRpZmllciksbi5vbkZhaWx1cmUoKSk6ci5sb2cobi5uYW1lKyIgcHJvbWlzZSBmYWlsdXJlIGZvciAiK24uaWRlbnRpZmllcil9KSk6KGkhPT0hMT9uLm9uU3VjY2VzcyhpKTpuLm9uRmFpbHVyZT8odGhpcy5sb2cobi5uYW1lKyIgLSByZXR1cm4gdmFsdWUgd2FzICdmYWxzZScgZm9yICIrbi5pZGVudGlmaWVyKyIuICBJbnZva2luZyBmYWlsdXJlIGNhbGxiYWNrLiIpLG4ub25GYWlsdXJlKCkpOnRoaXMubG9nKG4ubmFtZSsiIC0gcmV0dXJuIHZhbHVlIHdhcyAnZmFsc2UnIGZvciAiK24uaWRlbnRpZmllcisiLiAgV2lsbCBub3QgcHJvY2VlZC4iKSxpKX0sX2hhbmRsZU5ld0ZpbGU6ZnVuY3Rpb24obixpLHIpe3ZhciB1PXRoaXMsbz10LmdldFVuaXF1ZUlkKCksZT0tMSxzPXQuZ2V0RmlsZW5hbWUobiksZj1uLmJsb2J8fG4saD10aGlzLl9jdXN0b21OZXdGaWxlSGFuZGxlcj90aGlzLl9jdXN0b21OZXdGaWxlSGFuZGxlcjp0LmJpbmQodS5faGFuZGxlTmV3RmlsZUdlbmVyaWMsdSk7IXQuaXNJbnB1dChmKSYmZi5zaXplPj0wJiYoZT1mLnNpemUpO2goZixzLG8sZSxyLGksdGhpcy5fb3B0aW9ucy5yZXF1ZXN0LnV1aWROYW1lLHt1cGxvYWREYXRhOnUuX3VwbG9hZERhdGEscGFyYW1zU3RvcmU6dS5fcGFyYW1zU3RvcmUsYWRkRmlsZVRvSGFuZGxlcjpmdW5jdGlvbihuLHQpe3UuX2hhbmRsZXIuYWRkKG4sdCk7dS5fbmV0VXBsb2FkZWRPclF1ZXVlZCsrO3UuX3RyYWNrQnV0dG9uKG4pfX0pfSxfaGFuZGxlTmV3RmlsZUdlbmVyaWM6ZnVuY3Rpb24obix0LGkscix1LGYpe3ZhciBlPXRoaXMuX3VwbG9hZERhdGEuYWRkRmlsZSh7dXVpZDppLG5hbWU6dCxzaXplOnIsYmF0Y2hJZDpmLGZpbGU6bn0pO3RoaXMuX2hhbmRsZXIuYWRkKGUsbik7dGhpcy5fdHJhY2tCdXR0b24oZSk7dGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZCsrO3UucHVzaCh7aWQ6ZSxmaWxlOm59KX0sX2hhbmRsZVBhc3RlU3VjY2VzczpmdW5jdGlvbihuLHQpe3ZhciByPW4udHlwZS5zcGxpdCgiLyIpWzFdLGk9dDtudWxsPT1pJiYoaT10aGlzLl9vcHRpb25zLnBhc3RlLmRlZmF1bHROYW1lKTtpKz0iLiIrcjt0aGlzLmFkZEZpbGVzKHtuYW1lOmksYmxvYjpufSl9LF9oYW5kbGVEZWxldGVTdWNjZXNzOmZ1bmN0aW9uKG4pe2lmKHRoaXMuZ2V0VXBsb2Fkcyh7aWQ6bn0pLnN0YXR1cyE9PXQuc3RhdHVzLkRFTEVURUQpe3ZhciBpPXRoaXMuZ2V0TmFtZShuKTt0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkLS07dGhpcy5fbmV0VXBsb2FkZWQtLTt0aGlzLl9oYW5kbGVyLmV4cHVuZ2Uobik7dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5ERUxFVEVEKTt0aGlzLmxvZygiRGVsZXRlIHJlcXVlc3QgZm9yICciK2krIicgaGFzIHN1Y2NlZWRlZC4iKX19LF9oYW5kbGVEZWxldGVGYWlsZWQ6ZnVuY3Rpb24obixpKXt2YXIgcj10aGlzLmdldE5hbWUobik7dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5ERUxFVEVfRkFJTEVEKTt0aGlzLmxvZygiRGVsZXRlIHJlcXVlc3QgZm9yICciK3IrIicgaGFzIGZhaWxlZC4iLCJlcnJvciIpO2kmJnZvaWQgMCE9PWkud2l0aENyZWRlbnRpYWxzP3RoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uRXJyb3IobixyLCJEZWxldGUgcmVxdWVzdCBmYWlsZWQgd2l0aCByZXNwb25zZSBjb2RlICIraS5zdGF0dXMsaSk6dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25FcnJvcihuLHIsIkRlbGV0ZSByZXF1ZXN0IGZhaWxlZCIsaSl9LF9pbml0RXh0cmFCdXR0b246ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fY3JlYXRlVXBsb2FkQnV0dG9uKHthY2NlcHQ6bi52YWxpZGF0aW9uLmFjY2VwdEZpbGVzLGFsbG93ZWRFeHRlbnNpb25zOm4udmFsaWRhdGlvbi5hbGxvd2VkRXh0ZW5zaW9ucyxlbGVtZW50Om4uZWxlbWVudCxmb2xkZXJzOm4uZm9sZGVycyxtdWx0aXBsZTpuLm11bHRpcGxlLHRpdGxlOm4uZmlsZUlucHV0VGl0bGV9KTt0aGlzLl9leHRyYUJ1dHRvblNwZWNzW3QuZ2V0QnV0dG9uSWQoKV09bn0sX2luaXRGb3JtU3VwcG9ydEFuZFBhcmFtczpmdW5jdGlvbigpe3RoaXMuX2Zvcm1TdXBwb3J0PXQuRm9ybVN1cHBvcnQmJm5ldyB0LkZvcm1TdXBwb3J0KHRoaXMuX29wdGlvbnMuZm9ybSx0LmJpbmQodGhpcy51cGxvYWRTdG9yZWRGaWxlcyx0aGlzKSx0LmJpbmQodGhpcy5sb2csdGhpcykpO3RoaXMuX2Zvcm1TdXBwb3J0JiZ0aGlzLl9mb3JtU3VwcG9ydC5hdHRhY2hlZFRvRm9ybT8odGhpcy5fcGFyYW1zU3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUodGhpcy5fb3B0aW9ucy5yZXF1ZXN0LnBhcmFtcyx0aGlzLl9mb3JtU3VwcG9ydC5nZXRGb3JtSW5wdXRzQXNPYmplY3QpLHRoaXMuX29wdGlvbnMuYXV0b1VwbG9hZD10aGlzLl9mb3JtU3VwcG9ydC5uZXdBdXRvVXBsb2FkLHRoaXMuX2Zvcm1TdXBwb3J0Lm5ld0VuZHBvaW50JiYodGhpcy5fb3B0aW9ucy5yZXF1ZXN0LmVuZHBvaW50PXRoaXMuX2Zvcm1TdXBwb3J0Lm5ld0VuZHBvaW50KSk6dGhpcy5fcGFyYW1zU3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUodGhpcy5fb3B0aW9ucy5yZXF1ZXN0LnBhcmFtcyl9LF9pc0RlbGV0ZVBvc3NpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuISghdC5EZWxldGVGaWxlQWpheFJlcXVlc3Rlcnx8IXRoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5lbmFibGVkKSYmKCF0aGlzLl9vcHRpb25zLmNvcnMuZXhwZWN0ZWR8fCEhdC5zdXBwb3J0ZWRGZWF0dXJlcy5kZWxldGVGaWxlQ29yc1hocnx8ISghdC5zdXBwb3J0ZWRGZWF0dXJlcy5kZWxldGVGaWxlQ29yc1hkcnx8IXRoaXMuX29wdGlvbnMuY29ycy5hbGxvd1hkcikpfSxfaXNBbGxvd2VkRXh0ZW5zaW9uOmZ1bmN0aW9uKG4saSl7dmFyIHI9ITE7cmV0dXJuIW4ubGVuZ3RofHwodC5lYWNoKG4sZnVuY3Rpb24obix1KXtpZih0LmlzU3RyaW5nKHUpKXt2YXIgZj1uZXcgUmVnRXhwKCJcXC4iK3UrIiQiLCJpIik7aWYobnVsbCE9aS5tYXRjaChmKSlyZXR1cm4gcj0hMCwhMX19KSxyKX0sX2l0ZW1FcnJvcjpmdW5jdGlvbihuLGkscil7ZnVuY3Rpb24gdShuLHQpe2Y9Zi5yZXBsYWNlKG4sdCl9dmFyIHMsZSxmPXRoaXMuX29wdGlvbnMubWVzc2FnZXNbbl0saD1bXSxjPVtdLmNvbmNhdChpKSxsPWNbMF0sYT10aGlzLl9nZXRCdXR0b25JZChyKSxvPXRoaXMuX2dldFZhbGlkYXRpb25CYXNlKGEpO3JldHVybiB0LmVhY2goby5hbGxvd2VkRXh0ZW5zaW9ucyxmdW5jdGlvbihuLGkpe3QuaXNTdHJpbmcoaSkmJmgucHVzaChpKX0pLHM9aC5qb2luKCIsICIpLnRvTG93ZXJDYXNlKCksdSgie2ZpbGV9Iix0aGlzLl9vcHRpb25zLmZvcm1hdEZpbGVOYW1lKGwpKSx1KCJ7ZXh0ZW5zaW9uc30iLHMpLHUoIntzaXplTGltaXR9Iix0aGlzLl9mb3JtYXRTaXplKG8uc2l6ZUxpbWl0KSksdSgie21pblNpemVMaW1pdH0iLHRoaXMuX2Zvcm1hdFNpemUoby5taW5TaXplTGltaXQpKSxlPWYubWF0Y2goLyhce1x3K1x9KS9nKSxudWxsIT09ZSYmdC5lYWNoKGUsZnVuY3Rpb24obix0KXt1KHQsY1tuXSl9KSx0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbkVycm9yKG51bGwsbCxmLHZvaWQgMCksZn0sX21hbnVhbFJldHJ5OmZ1bmN0aW9uKG4saSl7aWYodGhpcy5fb25CZWZvcmVNYW51YWxSZXRyeShuKSlyZXR1cm4gdGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZCsrLHRoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HKSxpP2kobik6dGhpcy5faGFuZGxlci5yZXRyeShuKSwhMH0sX21heWJlQWxsQ29tcGxldGU6ZnVuY3Rpb24obixpKXt2YXIgcj10aGlzLHU9dGhpcy5fZ2V0Tm90RmluaXNoZWQoKTtpPT09dC5zdGF0dXMuVVBMT0FEX1NVQ0NFU1NGVUw/dGhpcy5fc3VjY2VlZGVkU2luY2VMYXN0QWxsQ29tcGxldGUucHVzaChuKTppPT09dC5zdGF0dXMuVVBMT0FEX0ZBSUxFRCYmdGhpcy5fZmFpbGVkU2luY2VMYXN0QWxsQ29tcGxldGUucHVzaChuKTswPT09dSYmKHRoaXMuX3N1Y2NlZWRlZFNpbmNlTGFzdEFsbENvbXBsZXRlLmxlbmd0aHx8dGhpcy5fZmFpbGVkU2luY2VMYXN0QWxsQ29tcGxldGUubGVuZ3RoKSYmc2V0VGltZW91dChmdW5jdGlvbigpe3IuX29uQWxsQ29tcGxldGUoci5fc3VjY2VlZGVkU2luY2VMYXN0QWxsQ29tcGxldGUsci5fZmFpbGVkU2luY2VMYXN0QWxsQ29tcGxldGUpfSwwKX0sX21heWJlSGFuZGxlSW9zOFNhZmFyaVdvcmthcm91bmQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO2lmKHRoaXMuX29wdGlvbnMud29ya2Fyb3VuZHMuaW9zOFNhZmFyaVVwbG9hZHMmJnQuaW9zODAwKCkmJnQuaW9zU2FmYXJpKCkpdGhyb3cgc2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5hbGVydChuLl9vcHRpb25zLm1lc3NhZ2VzLnVuc3VwcG9ydGVkQnJvd3NlcklvczhTYWZhcmkpfSwwKSxuZXcgdC5FcnJvcih0aGlzLl9vcHRpb25zLm1lc3NhZ2VzLnVuc3VwcG9ydGVkQnJvd3NlcklvczhTYWZhcmkpO30sX21heWJlUGFyc2VBbmRTZW5kVXBsb2FkRXJyb3I6ZnVuY3Rpb24obix0LGkscil7aWYoIWkuc3VjY2VzcylpZihyJiYyMDAhPT1yLnN0YXR1cyYmIWkuZXJyb3IpdGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25FcnJvcihuLHQsIlhIUiByZXR1cm5lZCByZXNwb25zZSBjb2RlICIrci5zdGF0dXMscik7ZWxzZXt2YXIgdT1pLmVycm9yP2kuZXJyb3I6dGhpcy5fb3B0aW9ucy50ZXh0LmRlZmF1bHRSZXNwb25zZUVycm9yO3RoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uRXJyb3Iobix0LHUscil9fSxfbWF5YmVQcm9jZXNzTmV4dEl0ZW1BZnRlck9uVmFsaWRhdGVDYWxsYmFjazpmdW5jdGlvbihuLGkscix1LGYpe3ZhciBlPXRoaXM7aWYoaS5sZW5ndGg+cilpZihufHwhdGhpcy5fb3B0aW9ucy52YWxpZGF0aW9uLnN0b3BPbkZpcnN0SW52YWxpZEZpbGUpc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBuPWUuX2dldFZhbGlkYXRpb25EZXNjcmlwdG9yKGlbcl0pLG89ZS5fZ2V0QnV0dG9uSWQoaVtyXS5maWxlKSxzPWUuX2dldEJ1dHRvbihvKTtlLl9oYW5kbGVDaGVja2VkQ2FsbGJhY2soe25hbWU6Im9uVmFsaWRhdGUiLGNhbGxiYWNrOnQuYmluZChlLl9vcHRpb25zLmNhbGxiYWNrcy5vblZhbGlkYXRlLGUsbixzKSxvblN1Y2Nlc3M6dC5iaW5kKGUuX29uVmFsaWRhdGVDYWxsYmFja1N1Y2Nlc3MsZSxpLHIsdSxmKSxvbkZhaWx1cmU6dC5iaW5kKGUuX29uVmFsaWRhdGVDYWxsYmFja0ZhaWx1cmUsZSxpLHIsdSxmKSxpZGVudGlmaWVyOiJJdGVtICciK24ubmFtZSsiJywgc2l6ZTogIituLnNpemV9KX0sMCk7ZWxzZSBpZighbilmb3IoO3I8aS5sZW5ndGg7cisrKWUuX2ZpbGVPckJsb2JSZWplY3RlZChpW3JdLmlkKX0sX29uQWxsQ29tcGxldGU6ZnVuY3Rpb24obixpKXt0aGlzLl90b3RhbFByb2dyZXNzJiZ0aGlzLl90b3RhbFByb2dyZXNzLm9uQWxsQ29tcGxldGUobixpLHRoaXMuX3ByZXZlbnRSZXRyaWVzKTt0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbkFsbENvbXBsZXRlKHQuZXh0ZW5kKFtdLG4pLHQuZXh0ZW5kKFtdLGkpKTt0aGlzLl9zdWNjZWVkZWRTaW5jZUxhc3RBbGxDb21wbGV0ZT1bXTt0aGlzLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZT1bXX0sX29uQXV0b1JldHJ5OmZ1bmN0aW9uKG4saSxyLHUsZil7dmFyIGU9dGhpcyxvO2lmKGUuX3ByZXZlbnRSZXRyaWVzW25dPXJbZS5fb3B0aW9ucy5yZXRyeS5wcmV2ZW50UmV0cnlSZXNwb25zZVByb3BlcnR5XSxlLl9zaG91bGRBdXRvUmV0cnkobikpcmV0dXJuIG89MWUzKmUuX29wdGlvbnMucmV0cnkuYXV0b0F0dGVtcHREZWxheSxlLl9tYXliZVBhcnNlQW5kU2VuZFVwbG9hZEVycm9yLmFwcGx5KGUsYXJndW1lbnRzKSxlLl9vcHRpb25zLmNhbGxiYWNrcy5vbkF1dG9SZXRyeShuLGksZS5fYXV0b1JldHJpZXNbbl0pLGUuX29uQmVmb3JlQXV0b1JldHJ5KG4saSksZS5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5VUExPQURfUkVUUllJTkcpLGUuX3JldHJ5VGltZW91dHNbbl09c2V0VGltZW91dChmdW5jdGlvbigpe2UubG9nKCJTdGFydGluZyByZXRyeSBmb3IgIitpKyIuLi4iKTtmP2Yobik6ZS5faGFuZGxlci5yZXRyeShuKX0sbyksITB9LF9vbkJlZm9yZUF1dG9SZXRyeTpmdW5jdGlvbihuLHQpe3RoaXMubG9nKCJXYWl0aW5nICIrdGhpcy5fb3B0aW9ucy5yZXRyeS5hdXRvQXR0ZW1wdERlbGF5KyIgc2Vjb25kcyBiZWZvcmUgcmV0cnlpbmcgIit0KyIuLi4iKX0sX29uQmVmb3JlTWFudWFsUmV0cnk6ZnVuY3Rpb24obil7dmFyIHQsaT10aGlzLl9jdXJyZW50SXRlbUxpbWl0O3JldHVybiB0aGlzLl9wcmV2ZW50UmV0cmllc1tuXT8odGhpcy5sb2coIlJldHJpZXMgYXJlIGZvcmJpZGRlbiBmb3IgaWQgIituLCJ3YXJuIiksITEpOnRoaXMuX2hhbmRsZXIuaXNWYWxpZChuKT8odD10aGlzLmdldE5hbWUobiksdGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25NYW51YWxSZXRyeShuLHQpIT09ITEmJihpPjAmJnRoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQrMT5pPyh0aGlzLl9pdGVtRXJyb3IoInJldHJ5RmFpbFRvb01hbnlJdGVtcyIpLCExKToodGhpcy5sb2coIlJldHJ5aW5nIHVwbG9hZCBmb3IgJyIrdCsiJyAoaWQ6ICIrbisiKS4uLiIpLCEwKSkpOih0aGlzLmxvZygiJyIrbisiJyBpcyBub3QgYSB2YWxpZCBmaWxlIElEIiwiZXJyb3IiKSwhMSl9LF9vbkNhbmNlbDpmdW5jdGlvbihuKXt0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkLS07Y2xlYXJUaW1lb3V0KHRoaXMuX3JldHJ5VGltZW91dHNbbl0pO3ZhciBpPXQuaW5kZXhPZih0aGlzLl9zdG9yZWRJZHMsbik7IXRoaXMuX29wdGlvbnMuYXV0b1VwbG9hZCYmaT49MCYmdGhpcy5fc3RvcmVkSWRzLnNwbGljZShpLDEpO3RoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuQ0FOQ0VMRUQpfSxfb25Db21wbGV0ZTpmdW5jdGlvbihuLGkscix1KXtyZXR1cm4gci5zdWNjZXNzPyhyLnRodW1ibmFpbFVybCYmKHRoaXMuX3RodW1ibmFpbFVybHNbbl09ci50aHVtYm5haWxVcmwpLHRoaXMuX25ldFVwbG9hZGVkKyssdGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5VUExPQURfU1VDQ0VTU0ZVTCkpOih0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkLS0sdGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5VUExPQURfRkFJTEVEKSxyW3RoaXMuX29wdGlvbnMucmV0cnkucHJldmVudFJldHJ5UmVzcG9uc2VQcm9wZXJ0eV09PT0hMCYmKHRoaXMuX3ByZXZlbnRSZXRyaWVzW25dPSEwKSksdGhpcy5fbWF5YmVQYXJzZUFuZFNlbmRVcGxvYWRFcnJvcihuLGkscix1KSwhIXIuc3VjY2Vzc30sX29uRGVsZXRlOmZ1bmN0aW9uKG4pe3RoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuREVMRVRJTkcpfSxfb25EZWxldGVDb21wbGV0ZTpmdW5jdGlvbihuLHQsaSl7dGhpcy5nZXROYW1lKG4pO2k/dGhpcy5faGFuZGxlRGVsZXRlRmFpbGVkKG4sdCk6dGhpcy5faGFuZGxlRGVsZXRlU3VjY2VzcyhuKX0sX29uSW5wdXRDaGFuZ2U6ZnVuY3Rpb24obil7dmFyIGk7aWYodC5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nKXtmb3IoaT0wO2k8bi5maWxlcy5sZW5ndGg7aSsrKXRoaXMuX2Fubm90YXRlV2l0aEJ1dHRvbklkKG4uZmlsZXNbaV0sbik7dGhpcy5hZGRGaWxlcyhuLmZpbGVzKX1lbHNlIG4udmFsdWUubGVuZ3RoPjAmJnRoaXMuYWRkRmlsZXMobik7dC5lYWNoKHRoaXMuX2J1dHRvbnMsZnVuY3Rpb24obix0KXt0LnJlc2V0KCl9KX0sX29uUHJvZ3Jlc3M6ZnVuY3Rpb24obix0LGkscil7dGhpcy5fdG90YWxQcm9ncmVzcyYmdGhpcy5fdG90YWxQcm9ncmVzcy5vbkluZGl2aWR1YWxQcm9ncmVzcyhuLGkscil9LF9vblN1Ym1pdDpmdW5jdGlvbigpe30sX29uU3VibWl0Q2FsbGJhY2tTdWNjZXNzOmZ1bmN0aW9uKG4pe3RoaXMuX29uU3VibWl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlNVQk1JVFRFRCk7dGhpcy5fb25TdWJtaXR0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX29wdGlvbnMuYXV0b1VwbG9hZD8odGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25TdWJtaXR0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3VwbG9hZEZpbGUobikpOih0aGlzLl9zdG9yZUZvckxhdGVyKG4pLHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uU3VibWl0dGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LF9vblN1Ym1pdERlbGV0ZTpmdW5jdGlvbihuLGkscil7dmFyIHUsZj10aGlzLmdldFV1aWQobik7cmV0dXJuIGkmJih1PXQuYmluZChpLHRoaXMsbixmLHIpKSx0aGlzLl9pc0RlbGV0ZVBvc3NpYmxlKCk/KHRoaXMuX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25TdWJtaXREZWxldGUiLGNhbGxiYWNrOnQuYmluZCh0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblN1Ym1pdERlbGV0ZSx0aGlzLG4pLG9uU3VjY2Vzczp1fHx0LmJpbmQodGhpcy5fZGVsZXRlSGFuZGxlci5zZW5kRGVsZXRlLHRoaXMsbixmLHIpLGlkZW50aWZpZXI6bn0pLCEwKToodGhpcy5sb2coIkRlbGV0ZSByZXF1ZXN0IGlnbm9yZWQgZm9yIElEICIrbisiLCBkZWxldGUgZmVhdHVyZSBpcyBkaXNhYmxlZCBvciByZXF1ZXN0IG5vdCBwb3NzaWJsZSBkdWUgdG8gQ09SUyBvbiBhIHVzZXIgYWdlbnQgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IHByZS1mbGlnaHRpbmcuIiwid2FybiIpLCExKX0sX29uU3VibWl0dGVkOmZ1bmN0aW9uKCl7fSxfb25Ub3RhbFByb2dyZXNzOmZ1bmN0aW9uKG4sdCl7dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25Ub3RhbFByb2dyZXNzKG4sdCl9LF9vblVwbG9hZFByZXA6ZnVuY3Rpb24oKXt9LF9vblVwbG9hZDpmdW5jdGlvbihuKXt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlVQTE9BRElORyl9LF9vblVwbG9hZENodW5rOmZ1bmN0aW9uKCl7fSxfb25VcGxvYWRDaHVua1N1Y2Nlc3M6ZnVuY3Rpb24obil7IXRoaXMuX3ByZXZlbnRSZXRyaWVzW25dJiZ0aGlzLl9vcHRpb25zLnJldHJ5LmVuYWJsZUF1dG8mJih0aGlzLl9hdXRvUmV0cmllc1tuXT0wKX0sX29uVXBsb2FkU3RhdHVzQ2hhbmdlOmZ1bmN0aW9uKG4saSxyKXtyPT09dC5zdGF0dXMuUEFVU0VEJiZjbGVhclRpbWVvdXQodGhpcy5fcmV0cnlUaW1lb3V0c1tuXSl9LF9vblZhbGlkYXRlQmF0Y2hDYWxsYmFja0ZhaWx1cmU6ZnVuY3Rpb24obil7dmFyIGk9dGhpczt0LmVhY2gobixmdW5jdGlvbihuLHQpe2kuX2ZpbGVPckJsb2JSZWplY3RlZCh0LmlkKX0pfSxfb25WYWxpZGF0ZUJhdGNoQ2FsbGJhY2tTdWNjZXNzOmZ1bmN0aW9uKG4saSxyLHUsZil7dmFyIG8sZT10aGlzLl9jdXJyZW50SXRlbUxpbWl0LHM9dGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZDswPT09ZXx8czw9ZT9pLmxlbmd0aD4wP3RoaXMuX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25WYWxpZGF0ZSIsY2FsbGJhY2s6dC5iaW5kKHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uVmFsaWRhdGUsdGhpcyxuWzBdLGYpLG9uU3VjY2Vzczp0LmJpbmQodGhpcy5fb25WYWxpZGF0ZUNhbGxiYWNrU3VjY2Vzcyx0aGlzLGksMCxyLHUpLG9uRmFpbHVyZTp0LmJpbmQodGhpcy5fb25WYWxpZGF0ZUNhbGxiYWNrRmFpbHVyZSx0aGlzLGksMCxyLHUpLGlkZW50aWZpZXI6Ikl0ZW0gJyIraVswXS5maWxlLm5hbWUrIicsIHNpemU6ICIraVswXS5maWxlLnNpemV9KTp0aGlzLl9pdGVtRXJyb3IoIm5vRmlsZXNFcnJvciIpOih0aGlzLl9vblZhbGlkYXRlQmF0Y2hDYWxsYmFja0ZhaWx1cmUoaSksbz10aGlzLl9vcHRpb25zLm1lc3NhZ2VzLnRvb01hbnlJdGVtc0Vycm9yLnJlcGxhY2UoL1x7bmV0SXRlbXNcfS9nLHMpLnJlcGxhY2UoL1x7aXRlbUxpbWl0XH0vZyxlKSx0aGlzLl9iYXRjaEVycm9yKG8pKX0sX29uVmFsaWRhdGVDYWxsYmFja0ZhaWx1cmU6ZnVuY3Rpb24obix0LGkscil7dmFyIHU9dCsxO3RoaXMuX2ZpbGVPckJsb2JSZWplY3RlZChuW3RdLmlkLG5bdF0uZmlsZS5uYW1lKTt0aGlzLl9tYXliZVByb2Nlc3NOZXh0SXRlbUFmdGVyT25WYWxpZGF0ZUNhbGxiYWNrKCExLG4sdSxpLHIpfSxfb25WYWxpZGF0ZUNhbGxiYWNrU3VjY2VzczpmdW5jdGlvbihuLHQsaSxyKXt2YXIgdT10aGlzLGY9dCsxLGU9dGhpcy5fZ2V0VmFsaWRhdGlvbkRlc2NyaXB0b3Ioblt0XSk7dGhpcy5fdmFsaWRhdGVGaWxlT3JCbG9iRGF0YShuW3RdLGUpLnRoZW4oZnVuY3Rpb24oKXt1Ll91cGxvYWQoblt0XS5pZCxpLHIpO3UuX21heWJlUHJvY2Vzc05leHRJdGVtQWZ0ZXJPblZhbGlkYXRlQ2FsbGJhY2soITAsbixmLGkscil9LGZ1bmN0aW9uKCl7dS5fbWF5YmVQcm9jZXNzTmV4dEl0ZW1BZnRlck9uVmFsaWRhdGVDYWxsYmFjayghMSxuLGYsaSxyKX0pfSxfcHJlcGFyZUl0ZW1zRm9yVXBsb2FkOmZ1bmN0aW9uKG4saSxyKXtpZigwPT09bi5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5faXRlbUVycm9yKCJub0ZpbGVzRXJyb3IiKTt2YXIgdT10aGlzLl9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcnMobiksZT10aGlzLl9nZXRCdXR0b25JZChuWzBdLmZpbGUpLGY9dGhpcy5fZ2V0QnV0dG9uKGUpO3RoaXMuX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25WYWxpZGF0ZUJhdGNoIixjYWxsYmFjazp0LmJpbmQodGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25WYWxpZGF0ZUJhdGNoLHRoaXMsdSxmKSxvblN1Y2Nlc3M6dC5iaW5kKHRoaXMuX29uVmFsaWRhdGVCYXRjaENhbGxiYWNrU3VjY2Vzcyx0aGlzLHUsbixpLHIsZiksb25GYWlsdXJlOnQuYmluZCh0aGlzLl9vblZhbGlkYXRlQmF0Y2hDYWxsYmFja0ZhaWx1cmUsdGhpcyxuKSxpZGVudGlmaWVyOiJiYXRjaCB2YWxpZGF0aW9uIn0pfSxfcHJldmVudExlYXZlSW5Qcm9ncmVzczpmdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5fZGlzcG9zZVN1cHBvcnQuYXR0YWNoKHdpbmRvdywiYmVmb3JldW5sb2FkIixmdW5jdGlvbih0KXtpZihuLmdldEluUHJvZ3Jlc3MoKSlyZXR1cm4gdD10fHx3aW5kb3cuZXZlbnQsdC5yZXR1cm5WYWx1ZT1uLl9vcHRpb25zLm1lc3NhZ2VzLm9uTGVhdmUsbi5fb3B0aW9ucy5tZXNzYWdlcy5vbkxlYXZlfSl9LF9yZWZyZXNoU2Vzc2lvbkRhdGE6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLGk9dGhpcy5fb3B0aW9ucy5zZXNzaW9uO3QuU2Vzc2lvbiYmbnVsbCE9dGhpcy5fb3B0aW9ucy5zZXNzaW9uLmVuZHBvaW50JiYodGhpcy5fc2Vzc2lvbnx8KHQuZXh0ZW5kKGkse2NvcnM6dGhpcy5fb3B0aW9ucy5jb3JzfSksaS5sb2c9dC5iaW5kKHRoaXMubG9nLHRoaXMpLGkuYWRkRmlsZVJlY29yZD10LmJpbmQodGhpcy5fYWRkQ2FubmVkRmlsZSx0aGlzKSx0aGlzLl9zZXNzaW9uPW5ldyB0LlNlc3Npb24oaSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLl9zZXNzaW9uLnJlZnJlc2goKS50aGVuKGZ1bmN0aW9uKHQsaSl7bi5fc2Vzc2lvblJlcXVlc3RDb21wbGV0ZSgpO24uX29wdGlvbnMuY2FsbGJhY2tzLm9uU2Vzc2lvblJlcXVlc3RDb21wbGV0ZSh0LCEwLGkpfSxmdW5jdGlvbih0LGkpe24uX29wdGlvbnMuY2FsbGJhY2tzLm9uU2Vzc2lvblJlcXVlc3RDb21wbGV0ZSh0LCExLGkpfSl9LDApKX0sX3Nlc3Npb25SZXF1ZXN0Q29tcGxldGU6ZnVuY3Rpb24oKXt9LF9zZXRTaXplOmZ1bmN0aW9uKG4sdCl7dGhpcy5fdXBsb2FkRGF0YS51cGRhdGVTaXplKG4sdCk7dGhpcy5fdG90YWxQcm9ncmVzcyYmdGhpcy5fdG90YWxQcm9ncmVzcy5vbk5ld1NpemUobil9LF9zaG91bGRBdXRvUmV0cnk6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pO3JldHVybiEhKCF0aGlzLl9wcmV2ZW50UmV0cmllc1tuXSYmdGhpcy5fb3B0aW9ucy5yZXRyeS5lbmFibGVBdXRvJiZpLnN0YXR1cyE9PXQuc3RhdHVzLlBBVVNFRCYmKHZvaWQgMD09PXRoaXMuX2F1dG9SZXRyaWVzW25dJiYodGhpcy5fYXV0b1JldHJpZXNbbl09MCksdGhpcy5fYXV0b1JldHJpZXNbbl08dGhpcy5fb3B0aW9ucy5yZXRyeS5tYXhBdXRvQXR0ZW1wdHMpKSYmKHRoaXMuX2F1dG9SZXRyaWVzW25dKz0xLCEwKX0sX3N0b3JlRm9yTGF0ZXI6ZnVuY3Rpb24obil7dGhpcy5fc3RvcmVkSWRzLnB1c2gobil9LF90cmFja0J1dHRvbjpmdW5jdGlvbihuKXt2YXIgaTtpPXQuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZz90aGlzLl9oYW5kbGVyLmdldEZpbGUobikucXFCdXR0b25JZDp0aGlzLl9nZXRCdXR0b25JZCh0aGlzLl9oYW5kbGVyLmdldElucHV0KG4pKTtpJiYodGhpcy5fYnV0dG9uSWRzRm9yRmlsZUlkc1tuXT1pKX0sX3VwZGF0ZUZvcm1TdXBwb3J0QW5kUGFyYW1zOmZ1bmN0aW9uKG4pe3RoaXMuX29wdGlvbnMuZm9ybS5lbGVtZW50PW47dGhpcy5fZm9ybVN1cHBvcnQ9dC5Gb3JtU3VwcG9ydCYmbmV3IHQuRm9ybVN1cHBvcnQodGhpcy5fb3B0aW9ucy5mb3JtLHQuYmluZCh0aGlzLnVwbG9hZFN0b3JlZEZpbGVzLHRoaXMpLHQuYmluZCh0aGlzLmxvZyx0aGlzKSk7dGhpcy5fZm9ybVN1cHBvcnQmJnRoaXMuX2Zvcm1TdXBwb3J0LmF0dGFjaGVkVG9Gb3JtJiYodGhpcy5fcGFyYW1zU3RvcmUuYWRkUmVhZE9ubHkobnVsbCx0aGlzLl9mb3JtU3VwcG9ydC5nZXRGb3JtSW5wdXRzQXNPYmplY3QpLHRoaXMuX29wdGlvbnMuYXV0b1VwbG9hZD10aGlzLl9mb3JtU3VwcG9ydC5uZXdBdXRvVXBsb2FkLHRoaXMuX2Zvcm1TdXBwb3J0Lm5ld0VuZHBvaW50JiZ0aGlzLnNldEVuZHBvaW50KHRoaXMuX2Zvcm1TdXBwb3J0Lm5ld0VuZHBvaW50KSl9LF91cGxvYWQ6ZnVuY3Rpb24obixpLHIpe3ZhciB1PXRoaXMuZ2V0TmFtZShuKTtpJiZ0aGlzLnNldFBhcmFtcyhpLG4pO3ImJnRoaXMuc2V0RW5kcG9pbnQocixuKTt0aGlzLl9oYW5kbGVDaGVja2VkQ2FsbGJhY2soe25hbWU6Im9uU3VibWl0IixjYWxsYmFjazp0LmJpbmQodGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25TdWJtaXQsdGhpcyxuLHUpLG9uU3VjY2Vzczp0LmJpbmQodGhpcy5fb25TdWJtaXRDYWxsYmFja1N1Y2Nlc3MsdGhpcyxuLHUpLG9uRmFpbHVyZTp0LmJpbmQodGhpcy5fZmlsZU9yQmxvYlJlamVjdGVkLHRoaXMsbix1KSxpZGVudGlmaWVyOm59KX0sX3VwbG9hZEZpbGU6ZnVuY3Rpb24obil7dGhpcy5faGFuZGxlci51cGxvYWQobil8fHRoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuUVVFVUVEKX0sX3VwbG9hZFN0b3JlZEZpbGVzOmZ1bmN0aW9uKCl7Zm9yKHZhciBpLG4scj10aGlzO3RoaXMuX3N0b3JlZElkcy5sZW5ndGg7KWk9dGhpcy5fc3RvcmVkSWRzLnNoaWZ0KCksdGhpcy5fdXBsb2FkRmlsZShpKTtuPXRoaXMuZ2V0VXBsb2Fkcyh7c3RhdHVzOnQuc3RhdHVzLlNVQk1JVFRJTkd9KS5sZW5ndGg7biYmKHQubG9nKCJTdGlsbCB3YWl0aW5nIGZvciAiK24rIiBmaWxlcyB0byBjbGVhciBzdWJtaXQgcXVldWUuIFdpbGwgcmUtcGFyc2Ugc3RvcmVkIElEcyBhcnJheSBzaG9ydGx5LiIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl91cGxvYWRTdG9yZWRGaWxlcygpfSwxZTMpKX0sX3ZhbGlkYXRlRmlsZU9yQmxvYkRhdGE6ZnVuY3Rpb24obixpKXt2YXIgcz10aGlzLHU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5maWxlIGluc3RhbmNlb2YgdC5CbG9iUHJveHk/bi5maWxlLnJlZmVyZW5jZUJsb2I6bi5maWxlfSgpLGY9aS5uYW1lLGU9aS5zaXplLGg9dGhpcy5fZ2V0QnV0dG9uSWQobi5maWxlKSxvPXRoaXMuX2dldFZhbGlkYXRpb25CYXNlKGgpLHI9bmV3IHQuUHJvbWlzZTtyZXR1cm4gci50aGVuKGZ1bmN0aW9uKCl7fSxmdW5jdGlvbigpe3MuX2ZpbGVPckJsb2JSZWplY3RlZChuLmlkLGYpfSksdC5pc0ZpbGVPcklucHV0KHUpJiYhdGhpcy5faXNBbGxvd2VkRXh0ZW5zaW9uKG8uYWxsb3dlZEV4dGVuc2lvbnMsZik/KHRoaXMuX2l0ZW1FcnJvcigidHlwZUVycm9yIixmLHUpLHIuZmFpbHVyZSgpKTp0aGlzLl9vcHRpb25zLnZhbGlkYXRpb24uYWxsb3dFbXB0eXx8MCE9PWU/ZT4wJiZvLnNpemVMaW1pdCYmZT5vLnNpemVMaW1pdD8odGhpcy5faXRlbUVycm9yKCJzaXplRXJyb3IiLGYsdSksci5mYWlsdXJlKCkpOmU+MCYmZTxvLm1pblNpemVMaW1pdD8odGhpcy5faXRlbUVycm9yKCJtaW5TaXplRXJyb3IiLGYsdSksci5mYWlsdXJlKCkpOih0LkltYWdlVmFsaWRhdGlvbiYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzJiZ0LmlzRmlsZSh1KT9uZXcgdC5JbWFnZVZhbGlkYXRpb24odSx0LmJpbmQocy5sb2cscykpLnZhbGlkYXRlKG8uaW1hZ2UpLnRoZW4oci5zdWNjZXNzLGZ1bmN0aW9uKG4pe3MuX2l0ZW1FcnJvcihuKyJJbWFnZUVycm9yIixmLHUpO3IuZmFpbHVyZSgpfSk6ci5zdWNjZXNzKCkscik6KHRoaXMuX2l0ZW1FcnJvcigiZW1wdHlFcnJvciIsZix1KSxyLmZhaWx1cmUoKSl9LF93cmFwQ2FsbGJhY2tzOmZ1bmN0aW9uKCl7dmFyIG4sdCxpO249dGhpczt0PWZ1bmN0aW9uKHQsaSxyKXt2YXIgdTt0cnl7cmV0dXJuIGkuYXBwbHkobixyKX1jYXRjaChpKXt1PWkubWVzc2FnZXx8aS50b1N0cmluZygpO24ubG9nKCJDYXVnaHQgZXhjZXB0aW9uIGluICciK3QrIicgY2FsbGJhY2sgLSAiK3UsImVycm9yIil9fTtmb3IoaSBpbiB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcykhZnVuY3Rpb24oKXt2YXIgcix1O3I9aTt1PW4uX29wdGlvbnMuY2FsbGJhY2tzW3JdO24uX29wdGlvbnMuY2FsbGJhY2tzW3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHQocix1LGFyZ3VtZW50cyl9fSgpfX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dC5GaW5lVXBsb2FkZXJCYXNpYz1mdW5jdGlvbihuKXt2YXIgaT10aGlzO3RoaXMuX29wdGlvbnM9e2RlYnVnOiExLGJ1dHRvbjpudWxsLG11bHRpcGxlOiEwLG1heENvbm5lY3Rpb25zOjMsZGlzYWJsZUNhbmNlbEZvckZvcm1VcGxvYWRzOiExLGF1dG9VcGxvYWQ6ITAsd2FybkJlZm9yZVVubG9hZDohMCxyZXF1ZXN0OntjdXN0b21IZWFkZXJzOnt9LGVuZHBvaW50OiIvc2VydmVyL3VwbG9hZCIsZmlsZW5hbWVQYXJhbToicXFmaWxlbmFtZSIsZm9yY2VNdWx0aXBhcnQ6ITAsaW5wdXROYW1lOiJxcWZpbGUiLG1ldGhvZDoiUE9TVCIsb21pdERlZmF1bHRQYXJhbXM6ITEscGFyYW1zOnt9LHBhcmFtc0luQm9keTohMCxyZXF1aXJlU3VjY2Vzc0pzb246ITAsdG90YWxGaWxlU2l6ZU5hbWU6InFxdG90YWxmaWxlc2l6ZSIsdXVpZE5hbWU6InFxdXVpZCJ9LHZhbGlkYXRpb246e2FsbG93ZWRFeHRlbnNpb25zOltdLHNpemVMaW1pdDowLG1pblNpemVMaW1pdDowLGl0ZW1MaW1pdDowLHN0b3BPbkZpcnN0SW52YWxpZEZpbGU6ITAsYWNjZXB0RmlsZXM6bnVsbCxpbWFnZTp7bWF4SGVpZ2h0OjAsbWF4V2lkdGg6MCxtaW5IZWlnaHQ6MCxtaW5XaWR0aDowfSxhbGxvd0VtcHR5OiExfSxjYWxsYmFja3M6e29uU3VibWl0OmZ1bmN0aW9uKCl7fSxvblN1Ym1pdHRlZDpmdW5jdGlvbigpe30sb25Db21wbGV0ZTpmdW5jdGlvbigpe30sb25BbGxDb21wbGV0ZTpmdW5jdGlvbigpe30sb25DYW5jZWw6ZnVuY3Rpb24oKXt9LG9uVXBsb2FkOmZ1bmN0aW9uKCl7fSxvblVwbG9hZENodW5rOmZ1bmN0aW9uKCl7fSxvblVwbG9hZENodW5rU3VjY2VzczpmdW5jdGlvbigpe30sb25SZXN1bWU6ZnVuY3Rpb24oKXt9LG9uUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt9LG9uVG90YWxQcm9ncmVzczpmdW5jdGlvbigpe30sb25FcnJvcjpmdW5jdGlvbigpe30sb25BdXRvUmV0cnk6ZnVuY3Rpb24oKXt9LG9uTWFudWFsUmV0cnk6ZnVuY3Rpb24oKXt9LG9uVmFsaWRhdGVCYXRjaDpmdW5jdGlvbigpe30sb25WYWxpZGF0ZTpmdW5jdGlvbigpe30sb25TdWJtaXREZWxldGU6ZnVuY3Rpb24oKXt9LG9uRGVsZXRlOmZ1bmN0aW9uKCl7fSxvbkRlbGV0ZUNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxvblBhc3RlUmVjZWl2ZWQ6ZnVuY3Rpb24oKXt9LG9uU3RhdHVzQ2hhbmdlOmZ1bmN0aW9uKCl7fSxvblNlc3Npb25SZXF1ZXN0Q29tcGxldGU6ZnVuY3Rpb24oKXt9fSxtZXNzYWdlczp7dHlwZUVycm9yOiJ7ZmlsZX0gaGFzIGFuIGludmFsaWQgZXh0ZW5zaW9uLiBWYWxpZCBleHRlbnNpb24ocyk6IHtleHRlbnNpb25zfS4iLHNpemVFcnJvcjoie2ZpbGV9IGlzIHRvbyBsYXJnZSwgbWF4aW11bSBmaWxlIHNpemUgaXMge3NpemVMaW1pdH0uIixtaW5TaXplRXJyb3I6IntmaWxlfSBpcyB0b28gc21hbGwsIG1pbmltdW0gZmlsZSBzaXplIGlzIHttaW5TaXplTGltaXR9LiIsZW1wdHlFcnJvcjoie2ZpbGV9IGlzIGVtcHR5LCBwbGVhc2Ugc2VsZWN0IGZpbGVzIGFnYWluIHdpdGhvdXQgaXQuIixub0ZpbGVzRXJyb3I6Ik5vIGZpbGVzIHRvIHVwbG9hZC4iLHRvb01hbnlJdGVtc0Vycm9yOiJUb28gbWFueSBpdGVtcyAoe25ldEl0ZW1zfSkgd291bGQgYmUgdXBsb2FkZWQuICBJdGVtIGxpbWl0IGlzIHtpdGVtTGltaXR9LiIsbWF4SGVpZ2h0SW1hZ2VFcnJvcjoiSW1hZ2UgaXMgdG9vIHRhbGwuIixtYXhXaWR0aEltYWdlRXJyb3I6IkltYWdlIGlzIHRvbyB3aWRlLiIsbWluSGVpZ2h0SW1hZ2VFcnJvcjoiSW1hZ2UgaXMgbm90IHRhbGwgZW5vdWdoLiIsbWluV2lkdGhJbWFnZUVycm9yOiJJbWFnZSBpcyBub3Qgd2lkZSBlbm91Z2guIixyZXRyeUZhaWxUb29NYW55SXRlbXM6IlJldHJ5IGZhaWxlZCAtIHlvdSBoYXZlIHJlYWNoZWQgeW91ciBmaWxlIGxpbWl0LiIsb25MZWF2ZToiVGhlIGZpbGVzIGFyZSBiZWluZyB1cGxvYWRlZCwgaWYgeW91IGxlYXZlIG5vdyB0aGUgdXBsb2FkIHdpbGwgYmUgY2FuY2VsZWQuIix1bnN1cHBvcnRlZEJyb3dzZXJJb3M4U2FmYXJpOiJVbnJlY292ZXJhYmxlIGVycm9yIC0gdGhpcyBicm93c2VyIGRvZXMgbm90IHBlcm1pdCBmaWxlIHVwbG9hZGluZyBvZiBhbnkga2luZCBkdWUgdG8gc2VyaW91cyBidWdzIGluIGlPUzggU2FmYXJpLiAgUGxlYXNlIHVzZSBpT1M4IENocm9tZSB1bnRpbCBBcHBsZSBmaXhlcyB0aGVzZSBpc3N1ZXMuIn0scmV0cnk6e2VuYWJsZUF1dG86ITEsbWF4QXV0b0F0dGVtcHRzOjMsYXV0b0F0dGVtcHREZWxheTo1LHByZXZlbnRSZXRyeVJlc3BvbnNlUHJvcGVydHk6InByZXZlbnRSZXRyeSJ9LGNsYXNzZXM6e2J1dHRvbkhvdmVyOiJxcS11cGxvYWQtYnV0dG9uLWhvdmVyIixidXR0b25Gb2N1czoicXEtdXBsb2FkLWJ1dHRvbi1mb2N1cyJ9LGNodW5raW5nOntlbmFibGVkOiExLGNvbmN1cnJlbnQ6e2VuYWJsZWQ6ITF9LG1hbmRhdG9yeTohMSxwYXJhbU5hbWVzOntwYXJ0SW5kZXg6InFxcGFydGluZGV4IixwYXJ0Qnl0ZU9mZnNldDoicXFwYXJ0Ynl0ZW9mZnNldCIsY2h1bmtTaXplOiJxcWNodW5rc2l6ZSIsdG90YWxGaWxlU2l6ZToicXF0b3RhbGZpbGVzaXplIix0b3RhbFBhcnRzOiJxcXRvdGFscGFydHMifSxwYXJ0U2l6ZTpmdW5jdGlvbigpe3JldHVybiAyZTZ9LHN1Y2Nlc3M6e2VuZHBvaW50Om51bGwsaGVhZGVyczpmdW5jdGlvbigpe3JldHVybiBudWxsfSxqc29uUGF5bG9hZDohMSxtZXRob2Q6IlBPU1QiLHBhcmFtczpmdW5jdGlvbigpe3JldHVybiBudWxsfSxyZXNldE9uU3RhdHVzOltdfX0scmVzdW1lOntlbmFibGVkOiExLHJlY29yZHNFeHBpcmVJbjo3LHBhcmFtTmFtZXM6e3Jlc3VtaW5nOiJxcXJlc3VtZSJ9LGN1c3RvbUtleXM6ZnVuY3Rpb24oKXtyZXR1cm5bXX19LGZvcm1hdEZpbGVOYW1lOmZ1bmN0aW9uKG4pe3JldHVybiBufSx0ZXh0OntkZWZhdWx0UmVzcG9uc2VFcnJvcjoiVXBsb2FkIGZhaWx1cmUgcmVhc29uIHVua25vd24iLGZpbGVJbnB1dFRpdGxlOiJmaWxlIGlucHV0IixzaXplU3ltYm9sczpbImtCIiwiTUIiLCJHQiIsIlRCIiwiUEIiLCJFQiJdfSxkZWxldGVGaWxlOntlbmFibGVkOiExLG1ldGhvZDoiREVMRVRFIixlbmRwb2ludDoiL3NlcnZlci91cGxvYWQiLGN1c3RvbUhlYWRlcnM6e30scGFyYW1zOnt9fSxjb3JzOntleHBlY3RlZDohMSxzZW5kQ3JlZGVudGlhbHM6ITEsYWxsb3dYZHI6ITF9LGJsb2JzOntkZWZhdWx0TmFtZToibWlzY19kYXRhIn0scGFzdGU6e3RhcmdldEVsZW1lbnQ6bnVsbCxkZWZhdWx0TmFtZToicGFzdGVkX2ltYWdlIn0sY2FtZXJhOntpb3M6ITEsYnV0dG9uOm51bGx9LGV4dHJhQnV0dG9uczpbXSxzZXNzaW9uOntlbmRwb2ludDpudWxsLHBhcmFtczp7fSxjdXN0b21IZWFkZXJzOnt9LHJlZnJlc2hPblJlc2V0OiEwfSxmb3JtOntlbGVtZW50OiJxcS1mb3JtIixhdXRvVXBsb2FkOiExLGludGVyY2VwdFN1Ym1pdDohMH0sc2NhbGluZzp7Y3VzdG9tUmVzaXplcjpudWxsLHNlbmRPcmlnaW5hbDohMCxvcmllbnQ6ITAsZGVmYXVsdFR5cGU6bnVsbCxkZWZhdWx0UXVhbGl0eTo4MCxmYWlsdXJlVGV4dDoiRmFpbGVkIHRvIHNjYWxlIixpbmNsdWRlRXhpZjohMSxzaXplczpbXX0sd29ya2Fyb3VuZHM6e2lvc0VtcHR5VmlkZW9zOiEwLGlvczhTYWZhcmlVcGxvYWRzOiEwLGlvczhCcm93c2VyQ3Jhc2g6ITF9fTt0LmV4dGVuZCh0aGlzLl9vcHRpb25zLG4sITApO3RoaXMuX2J1dHRvbnM9W107dGhpcy5fZXh0cmFCdXR0b25TcGVjcz17fTt0aGlzLl9idXR0b25JZHNGb3JGaWxlSWRzPVtdO3RoaXMuX3dyYXBDYWxsYmFja3MoKTt0aGlzLl9kaXNwb3NlU3VwcG9ydD1uZXcgdC5EaXNwb3NlU3VwcG9ydDt0aGlzLl9zdG9yZWRJZHM9W107dGhpcy5fYXV0b1JldHJpZXM9W107dGhpcy5fcmV0cnlUaW1lb3V0cz1bXTt0aGlzLl9wcmV2ZW50UmV0cmllcz1bXTt0aGlzLl90aHVtYm5haWxVcmxzPVtdO3RoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQ9MDt0aGlzLl9uZXRVcGxvYWRlZD0wO3RoaXMuX3VwbG9hZERhdGE9dGhpcy5fY3JlYXRlVXBsb2FkRGF0YVRyYWNrZXIoKTt0aGlzLl9pbml0Rm9ybVN1cHBvcnRBbmRQYXJhbXMoKTt0aGlzLl9jdXN0b21IZWFkZXJzU3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUodGhpcy5fb3B0aW9ucy5yZXF1ZXN0LmN1c3RvbUhlYWRlcnMpO3RoaXMuX2RlbGV0ZUZpbGVDdXN0b21IZWFkZXJzU3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUodGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmN1c3RvbUhlYWRlcnMpO3RoaXMuX2RlbGV0ZUZpbGVQYXJhbXNTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUucGFyYW1zKTt0aGlzLl9lbmRwb2ludFN0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKHRoaXMuX29wdGlvbnMucmVxdWVzdC5lbmRwb2ludCk7dGhpcy5fZGVsZXRlRmlsZUVuZHBvaW50U3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUodGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmVuZHBvaW50KTt0aGlzLl9oYW5kbGVyPXRoaXMuX2NyZWF0ZVVwbG9hZEhhbmRsZXIoKTt0aGlzLl9kZWxldGVIYW5kbGVyPXQuRGVsZXRlRmlsZUFqYXhSZXF1ZXN0ZXImJnRoaXMuX2NyZWF0ZURlbGV0ZUhhbmRsZXIoKTt0aGlzLl9vcHRpb25zLmJ1dHRvbiYmKHRoaXMuX2RlZmF1bHRCdXR0b25JZD10aGlzLl9jcmVhdGVVcGxvYWRCdXR0b24oe2VsZW1lbnQ6dGhpcy5fb3B0aW9ucy5idXR0b24sdGl0bGU6dGhpcy5fb3B0aW9ucy50ZXh0LmZpbGVJbnB1dFRpdGxlfSkuZ2V0QnV0dG9uSWQoKSk7dGhpcy5fZ2VuZXJhdGVFeHRyYUJ1dHRvblNwZWNzKCk7dGhpcy5faGFuZGxlQ2FtZXJhQWNjZXNzKCk7dGhpcy5fb3B0aW9ucy5wYXN0ZS50YXJnZXRFbGVtZW50JiYodC5QYXN0ZVN1cHBvcnQ/dGhpcy5fcGFzdGVIYW5kbGVyPXRoaXMuX2NyZWF0ZVBhc3RlSGFuZGxlcigpOnRoaXMubG9nKCJQYXN0ZSBzdXBwb3J0IG1vZHVsZSBub3QgZm91bmQiLCJlcnJvciIpKTt0aGlzLl9vcHRpb25zLndhcm5CZWZvcmVVbmxvYWQmJnRoaXMuX3ByZXZlbnRMZWF2ZUluUHJvZ3Jlc3MoKTt0aGlzLl9pbWFnZUdlbmVyYXRvcj10LkltYWdlR2VuZXJhdG9yJiZuZXcgdC5JbWFnZUdlbmVyYXRvcih0LmJpbmQodGhpcy5sb2csdGhpcykpO3RoaXMuX3JlZnJlc2hTZXNzaW9uRGF0YSgpO3RoaXMuX3N1Y2NlZWRlZFNpbmNlTGFzdEFsbENvbXBsZXRlPVtdO3RoaXMuX2ZhaWxlZFNpbmNlTGFzdEFsbENvbXBsZXRlPVtdO3RoaXMuX3NjYWxlcj10LlNjYWxlciYmbmV3IHQuU2NhbGVyKHRoaXMuX29wdGlvbnMuc2NhbGluZyx0LmJpbmQodGhpcy5sb2csdGhpcykpfHx7fTt0aGlzLl9zY2FsZXIuZW5hYmxlZCYmKHRoaXMuX2N1c3RvbU5ld0ZpbGVIYW5kbGVyPXQuYmluZCh0aGlzLl9zY2FsZXIuaGFuZGxlTmV3RmlsZSx0aGlzLl9zY2FsZXIpKTt0LlRvdGFsUHJvZ3Jlc3MmJnQuc3VwcG9ydGVkRmVhdHVyZXMucHJvZ3Jlc3NCYXImJih0aGlzLl90b3RhbFByb2dyZXNzPW5ldyB0LlRvdGFsUHJvZ3Jlc3ModC5iaW5kKHRoaXMuX29uVG90YWxQcm9ncmVzcyx0aGlzKSxmdW5jdGlvbihuKXt2YXIgdD1pLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSk7cmV0dXJuIHQmJnQuc2l6ZXx8MH0pKTt0aGlzLl9jdXJyZW50SXRlbUxpbWl0PXRoaXMuX29wdGlvbnMudmFsaWRhdGlvbi5pdGVtTGltaXQ7dGhpcy5fY3VzdG9tUmVzdW1lRGF0YVN0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKCl9O3QuRmluZVVwbG9hZGVyQmFzaWMucHJvdG90eXBlPXQuYmFzZVB1YmxpY0FwaTt0LmV4dGVuZCh0LkZpbmVVcGxvYWRlckJhc2ljLnByb3RvdHlwZSx0LmJhc2VQcml2YXRlQXBpKX0oKTt0LkFqYXhSZXF1ZXN0ZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoKXtyZXR1cm4gdC5pbmRleE9mKFsiR0VUIiwiUE9TVCIsIkhFQUQiXSxpLm1ldGhvZCk+PTB9ZnVuY3Rpb24gdigpe3ZhciBuPSExO3JldHVybiB0LmVhY2gobixmdW5jdGlvbihpLHIpe2lmKHQuaW5kZXhPZihbIkFjY2VwdCIsIkFjY2VwdC1MYW5ndWFnZSIsIkNvbnRlbnQtTGFuZ3VhZ2UiLCJDb250ZW50LVR5cGUiXSxyKTwwKXJldHVybiBuPSEwLCExfSksbn1mdW5jdGlvbiBlKG4pe3JldHVybiBpLmNvcnMuZXhwZWN0ZWQmJnZvaWQgMD09PW4ud2l0aENyZWRlbnRpYWxzfWZ1bmN0aW9uIHkoKXt2YXIgbjtyZXR1cm4od2luZG93LlhNTEh0dHBSZXF1ZXN0fHx3aW5kb3cuQWN0aXZlWE9iamVjdCkmJihuPXQuY3JlYXRlWGhySW5zdGFuY2UoKSx2b2lkIDA9PT1uLndpdGhDcmVkZW50aWFscyYmKG49bmV3IFhEb21haW5SZXF1ZXN0LG4ub25sb2FkPWZ1bmN0aW9uKCl7fSxuLm9uZXJyb3I9ZnVuY3Rpb24oKXt9LG4ub250aW1lb3V0PWZ1bmN0aW9uKCl7fSxuLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oKXt9KSksbn1mdW5jdGlvbiB1KG4sdSl7dmFyIGY9cltuXSYmcltuXS54aHI7cmV0dXJuIGZ8fChmPXU/dTppLmNvcnMuZXhwZWN0ZWQ/eSgpOnQuY3JlYXRlWGhySW5zdGFuY2UoKSxyW25dLnhocj1mKSxmfWZ1bmN0aW9uIGMobil7dmFyIGUsbz10LmluZGV4T2YoZixuKSx1PWkubWF4Q29ubmVjdGlvbnM7ZGVsZXRlIHJbbl07Zi5zcGxpY2UobywxKTtmLmxlbmd0aD49dSYmbzx1JiYoZT1mW3UtMV0sbChlKSl9ZnVuY3Rpb24gcyhuLHQpe3ZhciByPXUobikscz1pLm1ldGhvZCxmPXQ9PT0hMDtjKG4pO2Y/byhzKyIgcmVxdWVzdCBmb3IgIituKyIgaGFzIGZhaWxlZCIsImVycm9yIik6ZShyKXx8dHQoci5zdGF0dXMpfHwoZj0hMCxvKHMrIiByZXF1ZXN0IGZvciAiK24rIiBoYXMgZmFpbGVkIC0gcmVzcG9uc2UgY29kZSAiK3Iuc3RhdHVzLCJlcnJvciIpKTtpLm9uQ29tcGxldGUobixyLGYpfWZ1bmN0aW9uIHAobil7dmFyIHUsZj1yW25dLmFkZGl0aW9uYWxQYXJhbXMsZT1pLm1hbmRhdGVkUGFyYW1zO3JldHVybiBpLnBhcmFtc1N0b3JlLmdldCYmKHU9aS5wYXJhbXNTdG9yZS5nZXQobikpLGYmJnQuZWFjaChmLGZ1bmN0aW9uKG4sdCl7dT11fHx7fTt1W25dPXR9KSxlJiZ0LmVhY2goZSxmdW5jdGlvbihuLHQpe3U9dXx8e307dVtuXT10fSksdX1mdW5jdGlvbiBsKG4sZil7dmFyIGwscz11KG4sZiksYT1pLm1ldGhvZCxjPXAobiksdj1yW25dLnBheWxvYWQ7cmV0dXJuIGkub25TZW5kKG4pLGw9dyhuLGMscltuXS5hZGRpdGlvbmFsUXVlcnlQYXJhbXMpLGUocyk/KHMub25sb2FkPWQobikscy5vbmVycm9yPWcobikpOnMub25yZWFkeXN0YXRlY2hhbmdlPWIobiksayhuKSxzLm9wZW4oYSxsLCEwKSxpLmNvcnMuZXhwZWN0ZWQmJmkuY29ycy5zZW5kQ3JlZGVudGlhbHMmJiFlKHMpJiYocy53aXRoQ3JlZGVudGlhbHM9ITApLG50KG4pLG8oIlNlbmRpbmcgIithKyIgcmVxdWVzdCBmb3IgIituKSx2P3Muc2VuZCh2KTpofHwhYz9zLnNlbmQoKTpjJiZpLmNvbnRlbnRUeXBlJiZpLmNvbnRlbnRUeXBlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIik+PTA/cy5zZW5kKHQub2JqMnVybChjLCIiKSk6YyYmaS5jb250ZW50VHlwZSYmaS5jb250ZW50VHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImFwcGxpY2F0aW9uL2pzb24iKT49MD9zLnNlbmQoSlNPTi5zdHJpbmdpZnkoYykpOnMuc2VuZChjKSxzfWZ1bmN0aW9uIHcobix1LGYpe3ZhciBlPWkuZW5kcG9pbnRTdG9yZS5nZXQobiksbz1yW25dLmFkZFRvUGF0aDtyZXR1cm4gdm9pZCAwIT1vJiYoZSs9Ii8iK28pLGgmJnUmJihlPXQub2JqMnVybCh1LGUpKSxmJiYoZT10Lm9iajJ1cmwoZixlKSksZX1mdW5jdGlvbiBiKG4pe3JldHVybiBmdW5jdGlvbigpezQ9PT11KG4pLnJlYWR5U3RhdGUmJnMobil9fWZ1bmN0aW9uIGsobil7dmFyIHQ9aS5vblByb2dyZXNzO3QmJih1KG4pLnVwbG9hZC5vbnByb2dyZXNzPWZ1bmN0aW9uKGkpe2kubGVuZ3RoQ29tcHV0YWJsZSYmdChuLGkubG9hZGVkLGkudG90YWwpfSl9ZnVuY3Rpb24gZChuKXtyZXR1cm4gZnVuY3Rpb24oKXtzKG4pfX1mdW5jdGlvbiBnKG4pe3JldHVybiBmdW5jdGlvbigpe3MobiwhMCl9fWZ1bmN0aW9uIG50KG4pe3ZhciBmPXUobiksbz1pLmN1c3RvbUhlYWRlcnMsYz1yW25dLmFkZGl0aW9uYWxIZWFkZXJzfHx7fSxoPWkubWV0aG9kLHM9e307ZShmKXx8KGkuYWNjZXB0SGVhZGVyJiZmLnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsaS5hY2NlcHRIZWFkZXIpLGkuYWxsb3dYUmVxdWVzdGVkV2l0aEFuZENhY2hlQ29udHJvbCYmKGkuY29ycy5leHBlY3RlZCYmYSgpJiYhdihvKXx8KGYuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsIlhNTEh0dHBSZXF1ZXN0IiksZi5zZXRSZXF1ZXN0SGVhZGVyKCJDYWNoZS1Db250cm9sIiwibm8tY2FjaGUiKSkpLCFpLmNvbnRlbnRUeXBlfHwiUE9TVCIhPT1oJiYiUFVUIiE9PWh8fGYuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixpLmNvbnRlbnRUeXBlKSx0LmV4dGVuZChzLHQuaXNGdW5jdGlvbihvKT9vKG4pOm8pLHQuZXh0ZW5kKHMsYyksdC5lYWNoKHMsZnVuY3Rpb24obix0KXtmLnNldFJlcXVlc3RIZWFkZXIobix0KX0pKX1mdW5jdGlvbiB0dChuKXtyZXR1cm4gdC5pbmRleE9mKGkuc3VjY2Vzc2Z1bFJlc3BvbnNlQ29kZXNbaS5tZXRob2RdLG4pPj0wfWZ1bmN0aW9uIGl0KG4sdCx1LGUsbyxzLGgpe2lmKHJbbl09e2FkZFRvUGF0aDp1LGFkZGl0aW9uYWxQYXJhbXM6ZSxhZGRpdGlvbmFsUXVlcnlQYXJhbXM6byxhZGRpdGlvbmFsSGVhZGVyczpzLHBheWxvYWQ6aH0sZi5wdXNoKG4pPD1pLm1heENvbm5lY3Rpb25zKXJldHVybiBsKG4sdCl9dmFyIG8saCxmPVtdLHI9e30saT17YWNjZXB0SGVhZGVyOm51bGwsdmFsaWRNZXRob2RzOlsiUEFUQ0giLCJQT1NUIiwiUFVUIl0sbWV0aG9kOiJQT1NUIixjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIixtYXhDb25uZWN0aW9uczozLGN1c3RvbUhlYWRlcnM6e30sZW5kcG9pbnRTdG9yZTp7fSxwYXJhbXNTdG9yZTp7fSxtYW5kYXRlZFBhcmFtczp7fSxhbGxvd1hSZXF1ZXN0ZWRXaXRoQW5kQ2FjaGVDb250cm9sOiEwLHN1Y2Nlc3NmdWxSZXNwb25zZUNvZGVzOntERUxFVEU6WzIwMCwyMDIsMjA0XSxQQVRDSDpbMjAwLDIwMSwyMDIsMjAzLDIwNF0sUE9TVDpbMjAwLDIwMSwyMDIsMjAzLDIwNF0sUFVUOlsyMDAsMjAxLDIwMiwyMDMsMjA0XSxHRVQ6WzIwMF19LGNvcnM6e2V4cGVjdGVkOiExLHNlbmRDcmVkZW50aWFsczohMX0sbG9nOmZ1bmN0aW9uKCl7fSxvblNlbmQ6ZnVuY3Rpb24oKXt9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXt9LG9uUHJvZ3Jlc3M6bnVsbH07aWYodC5leHRlbmQoaSxuKSxvPWkubG9nLHQuaW5kZXhPZihpLnZhbGlkTWV0aG9kcyxpLm1ldGhvZCk8MCl0aHJvdyBuZXcgRXJyb3IoIiciK2kubWV0aG9kKyInIGlzIG5vdCBhIHN1cHBvcnRlZCBtZXRob2QgZm9yIHRoaXMgdHlwZSBvZiByZXF1ZXN0ISIpO2g9IkdFVCI9PT1pLm1ldGhvZHx8IkRFTEVURSI9PT1pLm1ldGhvZDt0LmV4dGVuZCh0aGlzLHtpbml0VHJhbnNwb3J0OmZ1bmN0aW9uKG4pe3ZhciB1LHIsZixlLG8scztyZXR1cm57d2l0aFBhdGg6ZnVuY3Rpb24obil7cmV0dXJuIHU9bix0aGlzfSx3aXRoUGFyYW1zOmZ1bmN0aW9uKG4pe3JldHVybiByPW4sdGhpc30sd2l0aFF1ZXJ5UGFyYW1zOmZ1bmN0aW9uKG4pe3JldHVybiBzPW4sdGhpc30sd2l0aEhlYWRlcnM6ZnVuY3Rpb24obil7cmV0dXJuIGY9bix0aGlzfSx3aXRoUGF5bG9hZDpmdW5jdGlvbihuKXtyZXR1cm4gZT1uLHRoaXN9LHdpdGhDYWNoZUJ1c3RlcjpmdW5jdGlvbigpe3JldHVybiBvPSEwLHRoaXN9LHNlbmQ6ZnVuY3Rpb24oaCl7cmV0dXJuIG8mJnQuaW5kZXhPZihbIkdFVCIsIkRFTEVURSJdLGkubWV0aG9kKT49MCYmKHIucXF0aW1lc3RhbXA9KG5ldyBEYXRlKS5nZXRUaW1lKCkpLGl0KG4saCx1LHIscyxmLGUpfX19LGNhbmNlbGVkOmZ1bmN0aW9uKG4pe2Mobil9fSl9O3QuVXBsb2FkSGFuZGxlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIHI9bi5wcm94eSxpPXt9LHU9ci5vbkNhbmNlbCxmPXIuZ2V0TmFtZTt0LmV4dGVuZCh0aGlzLHthZGQ6ZnVuY3Rpb24obix0KXtpW25dPXQ7aVtuXS50ZW1wPXt9fSxjYW5jZWw6ZnVuY3Rpb24obil7dmFyIHI9dGhpcyxlPW5ldyB0LlByb21pc2U7dShuLGYobiksZSkudGhlbihmdW5jdGlvbigpe3IuaXNWYWxpZChuKSYmKGlbbl0uY2FuY2VsZWQ9ITAsci5leHB1bmdlKG4pKTtlLnN1Y2Nlc3MoKX0pfSxleHB1bmdlOmZ1bmN0aW9uKG4pe2RlbGV0ZSBpW25dfSxnZXRUaGlyZFBhcnR5RmlsZUlkOmZ1bmN0aW9uKG4pe3JldHVybiBpW25dLmtleX0saXNWYWxpZDpmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwIT09aVtuXX0scmVzZXQ6ZnVuY3Rpb24oKXtpPXt9fSxfZ2V0RmlsZVN0YXRlOmZ1bmN0aW9uKG4pe3JldHVybiBpW25dfSxfc2V0VGhpcmRQYXJ0eUZpbGVJZDpmdW5jdGlvbihuLHQpe2lbbl0ua2V5PXR9LF93YXNDYW5jZWxlZDpmdW5jdGlvbihuKXtyZXR1cm4hIWlbbl0uY2FuY2VsZWR9fSl9O3QuVXBsb2FkSGFuZGxlckNvbnRyb2xsZXI9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dmFyIGEsbyxyLGg9dGhpcyxsPSExLGM9ITEsdT17cGFyYW1zU3RvcmU6e30sbWF4Q29ubmVjdGlvbnM6MyxjaHVua2luZzp7ZW5hYmxlZDohMSxtdWx0aXBsZTp7ZW5hYmxlZDohMX19LGxvZzpmdW5jdGlvbigpe30sb25Qcm9ncmVzczpmdW5jdGlvbigpe30sb25Db21wbGV0ZTpmdW5jdGlvbigpe30sb25DYW5jZWw6ZnVuY3Rpb24oKXt9LG9uVXBsb2FkUHJlcDpmdW5jdGlvbigpe30sb25VcGxvYWQ6ZnVuY3Rpb24oKXt9LG9uVXBsb2FkQ2h1bms6ZnVuY3Rpb24oKXt9LG9uVXBsb2FkQ2h1bmtTdWNjZXNzOmZ1bmN0aW9uKCl7fSxvbkF1dG9SZXRyeTpmdW5jdGlvbigpe30sb25SZXN1bWU6ZnVuY3Rpb24oKXt9LG9uVXVpZENoYW5nZWQ6ZnVuY3Rpb24oKXt9LGdldE5hbWU6ZnVuY3Rpb24oKXt9LHNldFNpemU6ZnVuY3Rpb24oKXt9LGlzUXVldWVkOmZ1bmN0aW9uKCl7fSxnZXRJZHNJblByb3h5R3JvdXA6ZnVuY3Rpb24oKXt9LGdldElkc0luQmF0Y2g6ZnVuY3Rpb24oKXt9LGlzSW5Qcm9ncmVzczpmdW5jdGlvbigpe319LHM9e2RvbmU6ZnVuY3Rpb24obix0LGksZil7dmFyIGU9ci5fZ2V0Q2h1bmtEYXRhKG4sdCk7ci5fZ2V0RmlsZVN0YXRlKG4pLmF0dGVtcHRpbmdSZXN1bWU9ITE7ZGVsZXRlIHIuX2dldEZpbGVTdGF0ZShuKS50ZW1wLmNodW5rUHJvZ3Jlc3NbdF07ci5fZ2V0RmlsZVN0YXRlKG4pLmxvYWRlZCs9ZS5zaXplO3Uub25VcGxvYWRDaHVua1N1Y2Nlc3MobixyLl9nZXRDaHVua0RhdGFGb3JDYWxsYmFjayhlKSxpLGYpfSxmaW5hbGl6ZTpmdW5jdGlvbihuKXt2YXIgdD11LmdldFNpemUobiksaT11LmdldE5hbWUobik7bygiQWxsIGNodW5rcyBoYXZlIGJlZW4gdXBsb2FkZWQgZm9yICIrbisiIC0gZmluYWxpemluZy4uLi4iKTtyLmZpbmFsaXplQ2h1bmtzKG4pLnRoZW4oZnVuY3Rpb24oZixzKXtvKCJGaW5hbGl6ZSBzdWNjZXNzZnVsIGZvciAiK24pO3ZhciBoPWUubm9ybWFsaXplUmVzcG9uc2UoZiwhMCk7dS5vblByb2dyZXNzKG4saSx0LHQpO3IuX21heWJlRGVsZXRlUGVyc2lzdGVkQ2h1bmtEYXRhKG4pO2UuY2xlYW51cChuLGgscyl9LGZ1bmN0aW9uKHQscil7dmFyIGY9ZS5ub3JtYWxpemVSZXNwb25zZSh0LCExKTtvKCJQcm9ibGVtIGZpbmFsaXppbmcgY2h1bmtzIGZvciBmaWxlIElEICIrbisiIC0gIitmLmVycm9yLCJlcnJvciIpOyhmLnJlc2V0fHxyJiZ1LmNodW5raW5nLnN1Y2Nlc3MucmVzZXRPblN0YXR1cy5pbmRleE9mKHIuc3RhdHVzKT49MCkmJnMucmVzZXQobik7dS5vbkF1dG9SZXRyeShuLGksZixyKXx8ZS5jbGVhbnVwKG4sZixyKX0pfSxoYW5kbGVGYWlsdXJlOmZ1bmN0aW9uKG4saSxoLGwpe3ZhciBwPXUuZ2V0TmFtZShpKSx2LGEseTtvKCJDaHVua2VkIHVwbG9hZCByZXF1ZXN0IGZhaWxlZCBmb3IgIitpKyIsIGNodW5rICIrbik7ci5jbGVhckNhY2hlZENodW5rKGksbik7YT1lLm5vcm1hbGl6ZVJlc3BvbnNlKGgsITEpO2EucmVzZXQ/cy5yZXNldChpKTooeT1yLl9nZXRGaWxlU3RhdGUoaSkuY2h1bmtpbmcuaW5Qcm9ncmVzcyx2PXk/dC5pbmRleE9mKHksbik6LTEsdj49MCYmKHIuX2dldEZpbGVTdGF0ZShpKS5jaHVua2luZy5pblByb2dyZXNzLnNwbGljZSh2LDEpLHIuX2dldEZpbGVTdGF0ZShpKS5jaHVua2luZy5yZW1haW5pbmcudW5zaGlmdChuKSkpO3IuX2dldEZpbGVTdGF0ZShpKS50ZW1wLmlnbm9yZUZhaWx1cmV8fChjJiYoci5fZ2V0RmlsZVN0YXRlKGkpLnRlbXAuaWdub3JlRmFpbHVyZT0hMCxvKHQuZm9ybWF0KCJHb2luZyB0byBhdHRlbXB0IHRvIGFib3J0IHRoZXNlIGNodW5rczoge30uIFRoZXNlIGFyZSBjdXJyZW50bHkgaW4tcHJvZ3Jlc3M6IHt9LiIsSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoci5fZ2V0WGhycyhpKSkpLEpTT04uc3RyaW5naWZ5KHIuX2dldEZpbGVTdGF0ZShpKS5jaHVua2luZy5pblByb2dyZXNzKSkpLHQuZWFjaChyLl9nZXRYaHJzKGkpLGZ1bmN0aW9uKG4scil7byh0LmZvcm1hdCgiQXR0ZW1wdGluZyB0byBhYm9ydCBmaWxlIHt9Lnt9LiBYSFIgcmVhZHlTdGF0ZSB7fS4gIixpLG4sci5yZWFkeVN0YXRlKSk7ci5hYm9ydCgpO3IuX2NhbmNlbGxlZD0hMH0pLHIubW92ZUluUHJvZ3Jlc3NUb1JlbWFpbmluZyhpKSxmLmZyZWUoaSwhMCkpLHUub25BdXRvUmV0cnkoaSxwLGEsbCl8fGUuY2xlYW51cChpLGEsbCkpfSxoYXNNb3JlUGFydHM6ZnVuY3Rpb24obil7cmV0dXJuISFyLl9nZXRGaWxlU3RhdGUobikuY2h1bmtpbmcucmVtYWluaW5nLmxlbmd0aH0sbmV4dFBhcnQ6ZnVuY3Rpb24obil7dmFyIHQ9ci5fZ2V0RmlsZVN0YXRlKG4pLmNodW5raW5nLnJlbWFpbmluZy5zaGlmdCgpO3JldHVybiB0Pj1yLl9nZXRUb3RhbENodW5rcyhuKSYmKHQ9bnVsbCksdH0scmVzZXQ6ZnVuY3Rpb24obil7bygiU2VydmVyIG9yIGNhbGxiYWNrIGhhcyBvcmRlcmVkIGNodW5raW5nIGVmZm9ydCB0byBiZSByZXN0YXJ0ZWQgb24gbmV4dCBhdHRlbXB0IGZvciBpdGVtIElEICIrbiwiZXJyb3IiKTtyLl9tYXliZURlbGV0ZVBlcnNpc3RlZENodW5rRGF0YShuKTtyLnJlZXZhbHVhdGVDaHVua2luZyhuKTtyLl9nZXRGaWxlU3RhdGUobikubG9hZGVkPTA7ci5fZ2V0RmlsZVN0YXRlKG4pLmF0dGVtcHRpbmdSZXN1bWU9ITF9LHNlbmROZXh0OmZ1bmN0aW9uKG4pe3ZhciBwPXUuZ2V0U2l6ZShuKSx5PXUuZ2V0TmFtZShuKSxpPXMubmV4dFBhcnQobiksaD1yLl9nZXRDaHVua0RhdGEobixpKSxsPXIuX2dldEZpbGVTdGF0ZShuKSxhPWwuYXR0ZW1wdGluZ1Jlc3VtZSx2PWwuY2h1bmtpbmcuaW5Qcm9ncmVzc3x8W107KG51bGw9PWwubG9hZGVkJiYobC5sb2FkZWQ9MCksYSYmdS5vblJlc3VtZShuLHksaCxsLmN1c3RvbVJlc3VtZURhdGEpPT09ITEmJihzLnJlc2V0KG4pLGk9cy5uZXh0UGFydChuKSxoPXIuX2dldENodW5rRGF0YShuLGkpLGE9ITEpLG51bGw9PWkmJjA9PT12Lmxlbmd0aCk/cy5maW5hbGl6ZShuKToodi5wdXNoKGkpLHIuX2dldEZpbGVTdGF0ZShuKS5jaHVua2luZy5pblByb2dyZXNzPXYsYyYmZi5vcGVuKG4saSksYyYmZi5hdmFpbGFibGUoKSYmci5fZ2V0RmlsZVN0YXRlKG4pLmNodW5raW5nLnJlbWFpbmluZy5sZW5ndGgmJnMuc2VuZE5leHQobiksMD09PWguYmxvYi5zaXplJiYobyh0LmZvcm1hdCgiQ2h1bmsge30gZm9yIGZpbGUge30gd2lsbCBub3QgYmUgdXBsb2FkZWQsIHplcm8gc2l6ZWQgY2h1bmsuIixpLG4pLCJlcnJvciIpLHMuaGFuZGxlRmFpbHVyZShpLG4sIkZpbGUgaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZSIsbnVsbCkpLHUub25VcGxvYWRDaHVuayhuLHksci5fZ2V0Q2h1bmtEYXRhRm9yQ2FsbGJhY2soaCkpLnRoZW4oZnVuY3Rpb24oZil7aWYodS5pc0luUHJvZ3Jlc3Mobikpe28odC5mb3JtYXQoIlNlbmRpbmcgY2h1bmtlZCB1cGxvYWQgcmVxdWVzdCBmb3IgaXRlbSB7fS57fSwgYnl0ZXMge30te30gb2Yge30uIixuLGksaC5zdGFydCsxLGguZW5kLHApKTt2YXIgYz17Y2h1bmtJZHg6aSxpZDpuLG92ZXJyaWRlczpmLHJlc3VtaW5nOmF9O3IudXBsb2FkQ2h1bmsoYykudGhlbihmdW5jdGlvbih1LGYpe28oIkNodW5rZWQgdXBsb2FkIHJlcXVlc3Qgc3VjY2VlZGVkIGZvciAiK24rIiwgY2h1bmsgIitpKTtyLmNsZWFyQ2FjaGVkQ2h1bmsobixpKTt2YXIgaD1yLl9nZXRGaWxlU3RhdGUobikuY2h1bmtpbmcuaW5Qcm9ncmVzc3x8W10sbD1lLm5vcm1hbGl6ZVJlc3BvbnNlKHUsITApLGM9dC5pbmRleE9mKGgsaSk7byh0LmZvcm1hdCgiQ2h1bmsge30gZm9yIGZpbGUge30gdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5LiIsaSxuKSk7cy5kb25lKG4saSxsLGYpO2M+PTAmJmguc3BsaWNlKGMsMSk7ci5fbWF5YmVQZXJzaXN0Q2h1bmtlZFN0YXRlKG4pO3MuaGFzTW9yZVBhcnRzKG4pfHwwIT09aC5sZW5ndGg/cy5oYXNNb3JlUGFydHMobik/cy5zZW5kTmV4dChuKTpvKHQuZm9ybWF0KCJGaWxlIElEIHt9IGhhcyBubyBtb3JlIGNodW5rcyB0byBzZW5kIGFuZCB0aGVzZSBjaHVuayBpbmRleGVzIGFyZSBzdGlsbCBtYXJrZWQgYXMgaW4tcHJvZ3Jlc3M6IHt9IixuLEpTT04uc3RyaW5naWZ5KGgpKSk6cy5maW5hbGl6ZShuKX0sZnVuY3Rpb24odCxyKXtzLmhhbmRsZUZhaWx1cmUoaSxuLHQscil9KS5kb25lKGZ1bmN0aW9uKCl7ci5jbGVhclhocihuLGkpfSl9ZWxzZSBvKHQuZm9ybWF0KCJOb3Qgc2VuZGluZyBjaHVua2VkIHVwbG9hZCByZXF1ZXN0IGZvciBpdGVtIHt9Lnt9IC0gbm8gbG9uZ2VyIGluIHByb2dyZXNzLiIsbixpKSl9LGZ1bmN0aW9uKHQpe3MuaGFuZGxlRmFpbHVyZShpLG4sdCxudWxsKX0pKX19LGY9e19vcGVuOltdLF9vcGVuQ2h1bmtzOnt9LF93YWl0aW5nOltdLGF2YWlsYWJsZTpmdW5jdGlvbigpe3ZhciByPXUubWF4Q29ubmVjdGlvbnMsbj0wLGk9MDtyZXR1cm4gdC5lYWNoKGYuX29wZW5DaHVua3MsZnVuY3Rpb24odCxyKXtuKys7aSs9ci5sZW5ndGh9KSxyLShmLl9vcGVuLmxlbmd0aC1uK2kpfSxmcmVlOmZ1bmN0aW9uKG4saSl7dmFyIHUsYz0haSxzPXQuaW5kZXhPZihmLl93YWl0aW5nLG4pLGg9dC5pbmRleE9mKGYuX29wZW4sbik7ZGVsZXRlIGYuX29wZW5DaHVua3Nbbl07ZS5nZXRQcm94eU9yQmxvYihuKWluc3RhbmNlb2YgdC5CbG9iUHJveHkmJihvKCJHZW5lcmF0ZWQgYmxvYiB1cGxvYWQgaGFzIGVuZGVkIGZvciAiK24rIiwgZGlzcG9zaW5nIGdlbmVyYXRlZCBibG9iLiIpLGRlbGV0ZSByLl9nZXRGaWxlU3RhdGUobikuZmlsZSk7cz49MD9mLl93YWl0aW5nLnNwbGljZShzLDEpOmMmJmg+PTAmJihmLl9vcGVuLnNwbGljZShoLDEpLHU9Zi5fd2FpdGluZy5zaGlmdCgpLHU+PTAmJihmLl9vcGVuLnB1c2godSksZS5zdGFydCh1KSkpfSxnZXRXYWl0aW5nT3JDb25uZWN0ZWQ6ZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm4gdC5lYWNoKGYuX29wZW5DaHVua3MsZnVuY3Rpb24odCxpKXtpJiZpLmxlbmd0aCYmbi5wdXNoKHBhcnNlSW50KHQpKX0pLHQuZWFjaChmLl9vcGVuLGZ1bmN0aW9uKHQsaSl7Zi5fb3BlbkNodW5rc1tpXXx8bi5wdXNoKHBhcnNlSW50KGkpKX0pLG49bi5jb25jYXQoZi5fd2FpdGluZyl9LGlzVXNpbmdDb25uZWN0aW9uOmZ1bmN0aW9uKG4pe3JldHVybiB0LmluZGV4T2YoZi5fb3BlbixuKT49MH0sb3BlbjpmdW5jdGlvbihuLHQpe3JldHVybiBudWxsPT10JiZmLl93YWl0aW5nLnB1c2gobiksISFmLmF2YWlsYWJsZSgpJiYobnVsbD09dD8oZi5fd2FpdGluZy5wb3AoKSxmLl9vcGVuLnB1c2gobikpOmZ1bmN0aW9uKCl7dmFyIGk9Zi5fb3BlbkNodW5rc1tuXXx8W107aS5wdXNoKHQpO2YuX29wZW5DaHVua3Nbbl09aX0oKSwhMCl9LHJlc2V0OmZ1bmN0aW9uKCl7Zi5fd2FpdGluZz1bXTtmLl9vcGVuPVtdfX0sdj17c2VuZDpmdW5jdGlvbihuLHQpe3ZhciBpPXIuX2dldEZpbGVTdGF0ZShuKTtpZighaSlyZXR1cm4gdm9pZCBvKCJJZ25vcmluZyBzZW5kIHJlcXVlc3QgYXMgdGhpcyB1cGxvYWQgbWF5IGhhdmUgYmVlbiBjYW5jZWxsZWQsIEZpbGUgSUQgIituLCJ3YXJuIik7aS5sb2FkZWQ9MDtvKCJTZW5kaW5nIHNpbXBsZSB1cGxvYWQgcmVxdWVzdCBmb3IgIituKTtyLnVwbG9hZEZpbGUobikudGhlbihmdW5jdGlvbihpLHIpe28oIlNpbXBsZSB1cGxvYWQgcmVxdWVzdCBzdWNjZWVkZWQgZm9yICIrbik7dmFyIGY9ZS5ub3JtYWxpemVSZXNwb25zZShpLCEwKSxzPXUuZ2V0U2l6ZShuKTt1Lm9uUHJvZ3Jlc3Mobix0LHMscyk7ZS5tYXliZU5ld1V1aWQobixmKTtlLmNsZWFudXAobixmLHIpfSxmdW5jdGlvbihpLHIpe28oIlNpbXBsZSB1cGxvYWQgcmVxdWVzdCBmYWlsZWQgZm9yICIrbik7dmFyIGY9ZS5ub3JtYWxpemVSZXNwb25zZShpLCExKTt1Lm9uQXV0b1JldHJ5KG4sdCxmLHIpfHxlLmNsZWFudXAobixmLHIpfSl9fSxlPXtjYW5jZWw6ZnVuY3Rpb24obil7bygiQ2FuY2VsbGluZyAiK24pO3UucGFyYW1zU3RvcmUucmVtb3ZlKG4pO2YuZnJlZShuKX0sY2xlYW51cDpmdW5jdGlvbihuLHQsaSl7dmFyIGU9dS5nZXROYW1lKG4pO3Uub25Db21wbGV0ZShuLGUsdCxpKTtyLl9nZXRGaWxlU3RhdGUobikmJnIuX2NsZWFyWGhycyYmci5fY2xlYXJYaHJzKG4pO2YuZnJlZShuKX0sZ2V0UHJveHlPckJsb2I6ZnVuY3Rpb24obil7cmV0dXJuIHIuZ2V0UHJveHkmJnIuZ2V0UHJveHkobil8fHIuZ2V0RmlsZSYmci5nZXRGaWxlKG4pfSxpbml0SGFuZGxlcjpmdW5jdGlvbigpe3I9bmV3KGk/dFtpXTp0LnRyYWRpdGlvbmFsKVsodC5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nPyJYaHIiOiJGb3JtIikrIlVwbG9hZEhhbmRsZXIiXSh1LHtnZXRDdXN0b21SZXN1bWVEYXRhOnUuZ2V0Q3VzdG9tUmVzdW1lRGF0YSxnZXREYXRhQnlVdWlkOnUuZ2V0RGF0YUJ5VXVpZCxnZXROYW1lOnUuZ2V0TmFtZSxnZXRTaXplOnUuZ2V0U2l6ZSxnZXRVdWlkOnUuZ2V0VXVpZCxsb2c6byxvbkNhbmNlbDp1Lm9uQ2FuY2VsLG9uUHJvZ3Jlc3M6dS5vblByb2dyZXNzLG9uVXVpZENoYW5nZWQ6dS5vblV1aWRDaGFuZ2VkLG9uRmluYWxpemluZzpmdW5jdGlvbihuKXt1LnNldFN0YXR1cyhuLHQuc3RhdHVzLlVQTE9BRF9GSU5BTElaSU5HKX19KTtyLl9yZW1vdmVFeHBpcmVkQ2h1bmtpbmdSZWNvcmRzJiZyLl9yZW1vdmVFeHBpcmVkQ2h1bmtpbmdSZWNvcmRzKCl9LGlzRGVmZXJyZWRFbGlnaWJsZUZvclVwbG9hZDpmdW5jdGlvbihuKXtyZXR1cm4gdS5pc1F1ZXVlZChuKX0sbWF5YmVEZWZlcjpmdW5jdGlvbihuLGkpe3JldHVybiBpJiYhci5nZXRGaWxlKG4pJiZpIGluc3RhbmNlb2YgdC5CbG9iUHJveHk/KHUub25VcGxvYWRQcmVwKG4pLG8oIkF0dGVtcHRpbmcgdG8gZ2VuZXJhdGUgYSBibG9iIG9uLWRlbWFuZCBmb3IgIituKSxpLmNyZWF0ZSgpLnRoZW4oZnVuY3Rpb24odCl7bygiR2VuZXJhdGVkIGFuIG9uLWRlbWFuZCBibG9iIGZvciAiK24pO3IudXBkYXRlQmxvYihuLHQpO3Uuc2V0U2l6ZShuLHQuc2l6ZSk7ci5yZWV2YWx1YXRlQ2h1bmtpbmcobik7ZS5tYXliZVNlbmREZWZlcnJlZEZpbGVzKG4pfSxmdW5jdGlvbihpKXt2YXIgcj17fTtpJiYoci5lcnJvcj1pKTtvKHQuZm9ybWF0KCJGYWlsZWQgdG8gZ2VuZXJhdGUgYmxvYiBmb3IgSUQge30uICBFcnJvciBtZXNzYWdlOiB7fS4iLG4saSksImVycm9yIik7dS5vbkNvbXBsZXRlKG4sdS5nZXROYW1lKG4pLHQuZXh0ZW5kKHIsYSksbnVsbCk7ZS5tYXliZVNlbmREZWZlcnJlZEZpbGVzKG4pO2YuZnJlZShuKX0pLCExKTplLm1heWJlU2VuZERlZmVycmVkRmlsZXMobil9LG1heWJlU2VuZERlZmVycmVkRmlsZXM6ZnVuY3Rpb24obil7dmFyIGk9dS5nZXRJZHNJblByb3h5R3JvdXAobiksZj0hMTtyZXR1cm4gaSYmaS5sZW5ndGg/KG8oIk1heWJlIHJlYWR5IHRvIHVwbG9hZCBwcm94eSBncm91cCBmaWxlICIrbiksdC5lYWNoKGksZnVuY3Rpb24odCxpKXtpZihlLmlzRGVmZXJyZWRFbGlnaWJsZUZvclVwbG9hZChpKSYmci5nZXRGaWxlKGkpKWY9aT09PW4sZS5ub3coaSk7ZWxzZSBpZihlLmlzRGVmZXJyZWRFbGlnaWJsZUZvclVwbG9hZChpKSlyZXR1cm4hMX0pKTooZj0hMCxlLm5vdyhuKSksZn0sbWF5YmVOZXdVdWlkOmZ1bmN0aW9uKG4sdCl7dm9pZCAwIT09dC5uZXdVdWlkJiZ1Lm9uVXVpZENoYW5nZWQobix0Lm5ld1V1aWQpfSxub3JtYWxpemVSZXNwb25zZTpmdW5jdGlvbihuLGkpe3ZhciByPW47cmV0dXJuIHQuaXNPYmplY3Qobil8fChyPXt9LHQuaXNTdHJpbmcobikmJiFpJiYoci5lcnJvcj1uKSksci5zdWNjZXNzPWkscn0sbm93OmZ1bmN0aW9uKG4pe3ZhciBpPXUuZ2V0TmFtZShuKTtpZighaC5pc1ZhbGlkKG4pKXRocm93IG5ldyB0LkVycm9yKG4rIiBpcyBub3QgYSB2YWxpZCBmaWxlIElEIHRvIHVwbG9hZCEiKTt1Lm9uVXBsb2FkKG4saSkudGhlbihmdW5jdGlvbihlKXtlJiZlLnBhdXNlPyh1LnNldFN0YXR1cyhuLHQuc3RhdHVzLlBBVVNFRCksci5wYXVzZShuKSxmLmZyZWUobikpOmwmJnIuX3Nob3VsZENodW5rVGhpc0ZpbGUobik/cy5zZW5kTmV4dChuKTp2LnNlbmQobixpKX0sZnVuY3Rpb24odCl7aWYodD10fHx7fSxvKG4rIiB1cGxvYWQgc3RhcnQgYWJvcnRlZCBkdWUgdG8gcmVqZWN0ZWQgb25VcGxvYWQgUHJvbWlzZSAtIGRldGFpbHM6ICIrdCwiZXJyb3IiKSwhdS5vbkF1dG9SZXRyeShuLGksdC5yZXNwb25zZUpTT058fHt9KSl7dmFyIHI9ZS5ub3JtYWxpemVSZXNwb25zZSh0LnJlc3BvbnNlSlNPTiwhMSk7ZS5jbGVhbnVwKG4scil9fSl9LHN0YXJ0OmZ1bmN0aW9uKG4pe3ZhciB0PWUuZ2V0UHJveHlPckJsb2Iobik7cmV0dXJuIHQ/ZS5tYXliZURlZmVyKG4sdCk6KGUubm93KG4pLCEwKX19O3QuZXh0ZW5kKHRoaXMse2FkZDpmdW5jdGlvbigpe3IuYWRkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdXBsb2FkOmZ1bmN0aW9uKG4pe3JldHVybiEhZi5vcGVuKG4pJiZlLnN0YXJ0KG4pfSxyZXRyeTpmdW5jdGlvbihuKXtyZXR1cm4gYyYmKHIuX2dldEZpbGVTdGF0ZShuKS50ZW1wLmlnbm9yZUZhaWx1cmU9ITEpLGYuaXNVc2luZ0Nvbm5lY3Rpb24obik/ZS5zdGFydChuKTpoLnVwbG9hZChuKX0sY2FuY2VsOmZ1bmN0aW9uKG4pe3ZhciBpPXIuY2FuY2VsKG4pO3QuaXNHZW5lcmljUHJvbWlzZShpKT9pLnRoZW4oZnVuY3Rpb24oKXtlLmNhbmNlbChuKX0pOmkhPT0hMSYmZS5jYW5jZWwobil9LGNhbmNlbEFsbDpmdW5jdGlvbigpe3ZhciBuLHQ9Zi5nZXRXYWl0aW5nT3JDb25uZWN0ZWQoKTtpZih0Lmxlbmd0aClmb3Iobj10Lmxlbmd0aC0xO24+PTA7bi0tKWguY2FuY2VsKHRbbl0pO2YucmVzZXQoKX0sZ2V0RmlsZTpmdW5jdGlvbihuKXtyZXR1cm4gci5nZXRQcm94eSYmci5nZXRQcm94eShuKT9yLmdldFByb3h5KG4pLnJlZmVyZW5jZUJsb2I6ci5nZXRGaWxlJiZyLmdldEZpbGUobil9LGlzUHJveGllZDpmdW5jdGlvbihuKXtyZXR1cm4hKCFyLmdldFByb3h5fHwhci5nZXRQcm94eShuKSl9LGdldElucHV0OmZ1bmN0aW9uKG4pe2lmKHIuZ2V0SW5wdXQpcmV0dXJuIHIuZ2V0SW5wdXQobil9LHJlc2V0OmZ1bmN0aW9uKCl7bygiUmVzZXR0aW5nIHVwbG9hZCBoYW5kbGVyIik7aC5jYW5jZWxBbGwoKTtmLnJlc2V0KCk7ci5yZXNldCgpfSxleHB1bmdlOmZ1bmN0aW9uKG4pe2lmKGguaXNWYWxpZChuKSlyZXR1cm4gci5leHB1bmdlKG4pfSxpc1ZhbGlkOmZ1bmN0aW9uKG4pe3JldHVybiByLmlzVmFsaWQobil9LGhhc1Jlc3VtZVJlY29yZDpmdW5jdGlvbihuKXt2YXIgdD1yLmlzVmFsaWQobikmJnIuX2dldExvY2FsU3RvcmFnZUlkJiZyLl9nZXRMb2NhbFN0b3JhZ2VJZChuKTtyZXR1cm4hIXQmJiEhbG9jYWxTdG9yYWdlLmdldEl0ZW0odCl9LGdldFJlc3VtYWJsZUZpbGVzRGF0YTpmdW5jdGlvbigpe3JldHVybiByLmdldFJlc3VtYWJsZUZpbGVzRGF0YT9yLmdldFJlc3VtYWJsZUZpbGVzRGF0YSgpOltdfSxnZXRUaGlyZFBhcnR5RmlsZUlkOmZ1bmN0aW9uKG4pe2lmKGguaXNWYWxpZChuKSlyZXR1cm4gci5nZXRUaGlyZFBhcnR5RmlsZUlkKG4pfSxwYXVzZTpmdW5jdGlvbihuKXtyZXR1cm4hIShoLmlzUmVzdW1hYmxlKG4pJiZyLnBhdXNlJiZoLmlzVmFsaWQobikmJnIucGF1c2UobikpJiYoZi5mcmVlKG4pLHIubW92ZUluUHJvZ3Jlc3NUb1JlbWFpbmluZyhuKSwhMCl9LGlzQXR0ZW1wdGluZ1Jlc3VtZTpmdW5jdGlvbihuKXtyZXR1cm4hIXIuaXNBdHRlbXB0aW5nUmVzdW1lJiZyLmlzQXR0ZW1wdGluZ1Jlc3VtZShuKX0saXNSZXN1bWFibGU6ZnVuY3Rpb24obil7cmV0dXJuISFyLmlzUmVzdW1hYmxlJiZyLmlzUmVzdW1hYmxlKG4pfX0pO3QuZXh0ZW5kKHUsbik7bz11LmxvZztsPXUuY2h1bmtpbmcuZW5hYmxlZCYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5jaHVua2luZztjPWwmJnUuY2h1bmtpbmcuY29uY3VycmVudC5lbmFibGVkO2E9ZnVuY3Rpb24oKXt2YXIgbj17fTtyZXR1cm4gblt1LnByZXZlbnRSZXRyeVBhcmFtXT0hMCxufSgpO2UuaW5pdEhhbmRsZXIoKX07dC5XaW5kb3dSZWNlaXZlTWVzc2FnZT1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIHI9e2xvZzpmdW5jdGlvbigpe319LGk9e307dC5leHRlbmQocixuKTt0LmV4dGVuZCh0aGlzLHtyZWNlaXZlTWVzc2FnZTpmdW5jdGlvbihuLHIpe3ZhciB1PWZ1bmN0aW9uKG4pe3Iobi5kYXRhKX07d2luZG93LnBvc3RNZXNzYWdlP2lbbl09dCh3aW5kb3cpLmF0dGFjaCgibWVzc2FnZSIsdSk6bG9nKCJpZnJhbWUgbWVzc2FnZSBwYXNzaW5nIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyISIsImVycm9yIil9LHN0b3BSZWNlaXZpbmdNZXNzYWdlczpmdW5jdGlvbihuKXtpZih3aW5kb3cucG9zdE1lc3NhZ2Upe3ZhciB0PWlbbl07dCYmdCgpfX19KX07dC5Gb3JtVXBsb2FkSGFuZGxlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYShuKXtkZWxldGUgdVtuXTtsJiYoY2xlYXJUaW1lb3V0KGZbbl0pLGRlbGV0ZSBmW25dLG8uc3RvcFJlY2VpdmluZ01lc3NhZ2VzKG4pKTt2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyLl9nZXRJZnJhbWVOYW1lKG4pKTtpJiYoaS5zZXRBdHRyaWJ1dGUoInNyYyIsImphdmFzY3JpcHQ6ZmFsc2U7IiksdChpKS5yZW1vdmUoKSl9ZnVuY3Rpb24gcyhuKXtyZXR1cm4gbi5zcGxpdCgiXyIpWzBdfWZ1bmN0aW9uIHYobil7dmFyIGk9dC50b0VsZW1lbnQoIjxpZnJhbWUgc3JjPSdqYXZhc2NyaXB0OmZhbHNlOycgbmFtZT0nIituKyInIC8+Iik7cmV0dXJuIGkuc2V0QXR0cmlidXRlKCJpZCIsbiksaS5zdHlsZS5kaXNwbGF5PSJub25lIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGkpLGl9ZnVuY3Rpb24geShuLGgpe3ZhciBjPW4uaWQsbD1zKGMpO2VbYihsKV09aDt1W2xdPXQobikuYXR0YWNoKCJsb2FkIixmdW5jdGlvbigpe3IuZ2V0SW5wdXQobCkmJihpKCJSZWNlaXZlZCBpZnJhbWUgbG9hZCBldmVudCBmb3IgQ09SUyB1cGxvYWQgcmVxdWVzdCAoaWZyYW1lIG5hbWUgIitjKyIpIiksZltjXT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIG49Ik5vIHZhbGlkIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBsb2FkZWQgaWZyYW1lIGZvciBpZnJhbWUgbmFtZSAiK2M7aShuLCJlcnJvciIpO2goe2Vycm9yOm59KX0sMWUzKSl9KTtvLnJlY2VpdmVNZXNzYWdlKGMsZnVuY3Rpb24obil7aSgiUmVjZWl2ZWQgdGhlIGZvbGxvd2luZyB3aW5kb3cgbWVzc2FnZTogJyIrbisiJyIpO3ZhciB1LGg9KHMoYyksci5fcGFyc2VKc29uUmVzcG9uc2UobikpLHQ9aC51dWlkO3QmJmVbdF0/KGkoIkhhbmRsaW5nIHJlc3BvbnNlIGZvciBpZnJhbWUgbmFtZSAiK2MpLGNsZWFyVGltZW91dChmW2NdKSxkZWxldGUgZltjXSxyLl9kZXRhY2hMb2FkRXZlbnQoYyksdT1lW3RdLGRlbGV0ZSBlW3RdLG8uc3RvcFJlY2VpdmluZ01lc3NhZ2VzKGMpLHUoaCkpOnR8fGkoIiciK24rIicgZG9lcyBub3QgY29udGFpbiBhIFVVSUQgLSBpZ25vcmluZy4iKX0pfXZhciBoPW4ub3B0aW9ucyxyPXRoaXMsYz1uLnByb3h5LHA9dC5nZXRVbmlxdWVJZCgpLGU9e30sdT17fSxmPXt9LGw9aC5pc0NvcnMsdz1oLmlucHV0TmFtZSxiPWMuZ2V0VXVpZCxpPWMubG9nLG89bmV3IHQuV2luZG93UmVjZWl2ZU1lc3NhZ2Uoe2xvZzppfSk7dC5leHRlbmQodGhpcyxuZXcgdC5VcGxvYWRIYW5kbGVyKG4pKTt0Lm92ZXJyaWRlKHRoaXMsZnVuY3Rpb24obil7cmV0dXJue2FkZDpmdW5jdGlvbihpLHIpe24uYWRkKGkse2lucHV0OnJ9KTtyLnNldEF0dHJpYnV0ZSgibmFtZSIsdyk7ci5wYXJlbnROb2RlJiZ0KHIpLnJlbW92ZSgpfSxleHB1bmdlOmZ1bmN0aW9uKHQpe2EodCk7bi5leHB1bmdlKHQpfSxpc1ZhbGlkOmZ1bmN0aW9uKHQpe3JldHVybiBuLmlzVmFsaWQodCkmJnZvaWQgMCE9PXIuX2dldEZpbGVTdGF0ZSh0KS5pbnB1dH19fSk7dC5leHRlbmQodGhpcyx7Z2V0SW5wdXQ6ZnVuY3Rpb24obil7cmV0dXJuIHIuX2dldEZpbGVTdGF0ZShuKS5pbnB1dH0sX2F0dGFjaExvYWRFdmVudDpmdW5jdGlvbihuLHIpe3ZhciBmO2w/eShuLHIpOnVbbi5pZF09dChuKS5hdHRhY2goImxvYWQiLGZ1bmN0aW9uKCl7aWYoaSgiUmVjZWl2ZWQgcmVzcG9uc2UgZm9yICIrbi5pZCksbi5wYXJlbnROb2RlKXt0cnl7aWYobi5jb250ZW50RG9jdW1lbnQmJm4uY29udGVudERvY3VtZW50LmJvZHkmJiJmYWxzZSI9PW4uY29udGVudERvY3VtZW50LmJvZHkuaW5uZXJIVE1MKXJldHVybn1jYXRjaChuKXtpKCJFcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gYWNjZXNzIGlmcmFtZSBkdXJpbmcgaGFuZGxpbmcgb2YgdXBsb2FkIHJlc3BvbnNlICgiK24ubWVzc2FnZSsiKSIsImVycm9yIik7Zj17c3VjY2VzczohMX19cihmKX19KX0sX2NyZWF0ZUlmcmFtZTpmdW5jdGlvbihuKXtyZXR1cm4gdihyLl9nZXRJZnJhbWVOYW1lKG4pKX0sX2RldGFjaExvYWRFdmVudDpmdW5jdGlvbihuKXt2b2lkIDAhPT11W25dJiYodVtuXSgpLGRlbGV0ZSB1W25dKX0sX2dldElmcmFtZU5hbWU6ZnVuY3Rpb24obil7cmV0dXJuIG4rIl8iK3B9LF9pbml0Rm9ybUZvclVwbG9hZDpmdW5jdGlvbihuKXt2YXIgZT1uLm1ldGhvZCxyPW4uZW5kcG9pbnQsdT1uLnBhcmFtcyxvPW4ucGFyYW1zSW5Cb2R5LHM9bi50YXJnZXROYW1lLGk9dC50b0VsZW1lbnQoIjxmb3JtIG1ldGhvZD0nIitlKyInIGVuY3R5cGU9J211bHRpcGFydC9mb3JtLWRhdGEnPjxcL2Zvcm0+IiksZj1yO3JldHVybiBvP3Qub2JqMklucHV0cyh1LGkpOmY9dC5vYmoydXJsKHUsciksaS5zZXRBdHRyaWJ1dGUoImFjdGlvbiIsZiksaS5zZXRBdHRyaWJ1dGUoInRhcmdldCIscyksaS5zdHlsZS5kaXNwbGF5PSJub25lIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGkpLGl9LF9wYXJzZUpzb25SZXNwb25zZTpmdW5jdGlvbihuKXt2YXIgcj17fTt0cnl7cj10LnBhcnNlSnNvbihuKX1jYXRjaChuKXtpKCJFcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gcGFyc2UgaWZyYW1lIHVwbG9hZCByZXNwb25zZSAoIituLm1lc3NhZ2UrIikiLCJlcnJvciIpfXJldHVybiByfX0pfTt0LlhoclVwbG9hZEhhbmRsZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEobil7dC5lYWNoKGkuX2dldFhocnMobiksZnVuY3Rpb24odCxyKXt2YXIgdT1pLl9nZXRBamF4UmVxdWVzdGVyKG4sdCk7ci5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtyLnVwbG9hZC5vbnByb2dyZXNzPW51bGw7ci5hYm9ydCgpO3UmJnUuY2FuY2VsZWQmJnUuY2FuY2VsZWQobil9KX12YXIgaT10aGlzLHY9bi5vcHRpb25zLm5hbWVzcGFjZSxyPW4ucHJveHksZj1uLm9wdGlvbnMuY2h1bmtpbmcsaD1mdW5jdGlvbihuKXt2YXIgZT1pLl9nZXRGaWxlU3RhdGUobikscjtyZXR1cm4gZS5jaHVua1NpemU/ZS5jaHVua1NpemU6KHI9Zi5wYXJ0U2l6ZSx0LmlzRnVuY3Rpb24ocikmJihyPXIobix1KG4pKSksZS5jaHVua1NpemU9cixyKX0sYz1uLm9wdGlvbnMucmVzdW1lLHk9ZiYmbi5vcHRpb25zLmNodW5raW5nLmVuYWJsZWQmJnQuc3VwcG9ydGVkRmVhdHVyZXMuY2h1bmtpbmcsZT1jJiZuLm9wdGlvbnMucmVzdW1lLmVuYWJsZWQmJnkmJnQuc3VwcG9ydGVkRmVhdHVyZXMucmVzdW1lLG89ci5nZXROYW1lLHU9ci5nZXRTaXplLHA9ci5nZXRVdWlkLHc9ci5nZXRFbmRwb2ludCxiPXIuZ2V0RGF0YUJ5VXVpZCxrPXIub25VdWlkQ2hhbmdlZCxsPXIub25Qcm9ncmVzcyxzPXIubG9nLGQ9ci5nZXRDdXN0b21SZXN1bWVEYXRhO3QuZXh0ZW5kKHRoaXMsbmV3IHQuVXBsb2FkSGFuZGxlcihuKSk7dC5vdmVycmlkZSh0aGlzLGZ1bmN0aW9uKG4pe3JldHVybnthZGQ6ZnVuY3Rpb24ocix1KXtpZih0LmlzRmlsZSh1KXx8dC5pc0Jsb2IodSkpbi5hZGQocix7ZmlsZTp1fSk7ZWxzZXtpZighKHUgaW5zdGFuY2VvZiB0LkJsb2JQcm94eSkpdGhyb3cgbmV3IEVycm9yKCJQYXNzZWQgb2JqIGlzIG5vdCBhIEZpbGUsIEJsb2IsIG9yIHByb3h5Iik7bi5hZGQocix7cHJveHk6dX0pfWkuX2luaXRUZW1wU3RhdGUocik7ZSYmaS5fbWF5YmVQcmVwYXJlRm9yUmVzdW1lKHIpfSxleHB1bmdlOmZ1bmN0aW9uKHQpe2EodCk7aS5fbWF5YmVEZWxldGVQZXJzaXN0ZWRDaHVua0RhdGEodCk7aS5fY2xlYXJYaHJzKHQpO24uZXhwdW5nZSh0KX19fSk7dC5leHRlbmQodGhpcyx7Y2xlYXJDYWNoZWRDaHVuazpmdW5jdGlvbihuLHQpe3ZhciByPWkuX2dldEZpbGVTdGF0ZShuKTtyJiZkZWxldGUgci50ZW1wLmNhY2hlZENodW5rc1t0XX0sY2xlYXJYaHI6ZnVuY3Rpb24obix0KXt2YXIgcj1pLl9nZXRGaWxlU3RhdGUobikudGVtcDtyLnhocnMmJmRlbGV0ZSByLnhocnNbdF07ci5hamF4UmVxdWVzdGVycyYmZGVsZXRlIHIuYWpheFJlcXVlc3RlcnNbdF19LGZpbmFsaXplQ2h1bmtzOmZ1bmN0aW9uKG4scil7dmFyIGY9aS5fZ2V0VG90YWxDaHVua3MobiktMSx1PWkuX2dldFhocihuLGYpO3JldHVybiByPyhuZXcgdC5Qcm9taXNlKS5zdWNjZXNzKHIodSksdSk6KG5ldyB0LlByb21pc2UpLnN1Y2Nlc3Moe30sdSl9LGdldEZpbGU6ZnVuY3Rpb24obil7cmV0dXJuIGkuaXNWYWxpZChuKSYmaS5fZ2V0RmlsZVN0YXRlKG4pLmZpbGV9LGdldFByb3h5OmZ1bmN0aW9uKG4pe3JldHVybiBpLmlzVmFsaWQobikmJmkuX2dldEZpbGVTdGF0ZShuKS5wcm94eX0sZ2V0UmVzdW1hYmxlRmlsZXNEYXRhOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIGkuX2l0ZXJhdGVSZXN1bWVSZWNvcmRzKGZ1bmN0aW9uKHQscil7aS5tb3ZlSW5Qcm9ncmVzc1RvUmVtYWluaW5nKG51bGwsci5jaHVua2luZy5pblByb2dyZXNzLHIuY2h1bmtpbmcucmVtYWluaW5nKTt2YXIgdT17bmFtZTpyLm5hbWUscmVtYWluaW5nOnIuY2h1bmtpbmcucmVtYWluaW5nLHNpemU6ci5zaXplLHV1aWQ6ci51dWlkfTtyLmtleSYmKHUua2V5PXIua2V5KTtyLmN1c3RvbVJlc3VtZURhdGEmJih1LmN1c3RvbVJlc3VtZURhdGE9ci5jdXN0b21SZXN1bWVEYXRhKTtuLnB1c2godSl9KSxufSxpc0F0dGVtcHRpbmdSZXN1bWU6ZnVuY3Rpb24obil7cmV0dXJuIGkuX2dldEZpbGVTdGF0ZShuKS5hdHRlbXB0aW5nUmVzdW1lfSxpc1Jlc3VtYWJsZTpmdW5jdGlvbihuKXtyZXR1cm4hIWYmJmkuaXNWYWxpZChuKSYmIWkuX2dldEZpbGVTdGF0ZShuKS5ub3RSZXN1bWFibGV9LG1vdmVJblByb2dyZXNzVG9SZW1haW5pbmc6ZnVuY3Rpb24obixyLHUpe3ZhciBvPWkuX2dldEZpbGVTdGF0ZShuKXx8e30sZT1vLmNodW5raW5nfHx7fSxmPXJ8fGUuaW5Qcm9ncmVzcyxoPXV8fGUucmVtYWluaW5nO2YmJihzKHQuZm9ybWF0KCJNb3ZpbmcgdGhlc2UgY2h1bmtzIGZyb20gaW4tcHJvZ3Jlc3Mge30sIHRvIHJlbWFpbmluZy4iLEpTT04uc3RyaW5naWZ5KGYpKSksZi5yZXZlcnNlKCksdC5lYWNoKGYsZnVuY3Rpb24obix0KXtoLnVuc2hpZnQodCl9KSxmLmxlbmd0aD0wKX0scGF1c2U6ZnVuY3Rpb24obil7aWYoaS5pc1ZhbGlkKG4pKXJldHVybiBzKHQuZm9ybWF0KCJBYm9ydGluZyBYSFIgdXBsb2FkIGZvciB7fSAne30nIGR1ZSB0byBwYXVzZSBpbnN0cnVjdGlvbi4iLG4sbyhuKSkpLGkuX2dldEZpbGVTdGF0ZShuKS5wYXVzZWQ9ITAsYShuKSwhMH0scmVldmFsdWF0ZUNodW5raW5nOmZ1bmN0aW9uKG4pe2lmKGYmJmkuaXNWYWxpZChuKSl7dmFyIHIsdSx0PWkuX2dldEZpbGVTdGF0ZShuKTtpZihkZWxldGUgdC5jaHVua2luZyx0LmNodW5raW5nPXt9LHI9aS5fZ2V0VG90YWxDaHVua3Mobikscj4xfHxmLm1hbmRhdG9yeSl7Zm9yKHQuY2h1bmtpbmcuZW5hYmxlZD0hMCx0LmNodW5raW5nLnBhcnRzPXIsdC5jaHVua2luZy5yZW1haW5pbmc9W10sdT0wO3U8cjt1KyspdC5jaHVua2luZy5yZW1haW5pbmcucHVzaCh1KTtpLl9pbml0VGVtcFN0YXRlKG4pfWVsc2UgdC5jaHVua2luZy5lbmFibGVkPSExfX0sdXBkYXRlQmxvYjpmdW5jdGlvbihuLHQpe2kuaXNWYWxpZChuKSYmKGkuX2dldEZpbGVTdGF0ZShuKS5maWxlPXQpfSxfY2xlYXJYaHJzOmZ1bmN0aW9uKG4pe3ZhciByPWkuX2dldEZpbGVTdGF0ZShuKS50ZW1wO3QuZWFjaChyLmFqYXhSZXF1ZXN0ZXJzLGZ1bmN0aW9uKG4pe2RlbGV0ZSByLmFqYXhSZXF1ZXN0ZXJzW25dfSk7dC5lYWNoKHIueGhycyxmdW5jdGlvbihuKXtkZWxldGUgci54aHJzW25dfSl9LF9jcmVhdGVYaHI6ZnVuY3Rpb24obixyKXtyZXR1cm4gaS5fcmVnaXN0ZXJYaHIobixyLHQuY3JlYXRlWGhySW5zdGFuY2UoKSl9LF9nZXRBamF4UmVxdWVzdGVyOmZ1bmN0aW9uKG4sdCl7dmFyIHI9bnVsbD09dD8tMTp0O3JldHVybiBpLl9nZXRGaWxlU3RhdGUobikudGVtcC5hamF4UmVxdWVzdGVyc1tyXX0sX2dldENodW5rRGF0YTpmdW5jdGlvbihuLHIpe3ZhciBlPWgobikscz11KG4pLGE9aS5nZXRGaWxlKG4pLGY9ZSpyLG89ZitlPj1zP3M6ZitlLHY9aS5fZ2V0VG90YWxDaHVua3MobiksYz10aGlzLl9nZXRGaWxlU3RhdGUobikudGVtcC5jYWNoZWRDaHVua3MsbD1jW3JdfHx0LnNsaWNlQmxvYihhLGYsbyk7cmV0dXJuIGNbcl09bCx7cGFydDpyLHN0YXJ0OmYsZW5kOm8sY291bnQ6dixibG9iOmwsc2l6ZTpvLWZ9fSxfZ2V0Q2h1bmtEYXRhRm9yQ2FsbGJhY2s6ZnVuY3Rpb24obil7cmV0dXJue3BhcnRJbmRleDpuLnBhcnQsc3RhcnRCeXRlOm4uc3RhcnQrMSxlbmRCeXRlOm4uZW5kLHRvdGFsUGFydHM6bi5jb3VudH19LF9nZXRMb2NhbFN0b3JhZ2VJZDpmdW5jdGlvbihuKXt2YXIgcj1vKG4pLGY9dShuKSxlPWgobikscz13KG4pLGw9Yy5jdXN0b21LZXlzKG4pLGk9dC5mb3JtYXQoInFxe31yZXN1bWV7fS17fS17fS17fS17fSIsdiwiNS4wIixyLGYsZSxzKTtyZXR1cm4gbC5mb3JFYWNoKGZ1bmN0aW9uKG4pe2krPSItIitufSksaX0sX2dldE1pbWVUeXBlOmZ1bmN0aW9uKG4pe3JldHVybiBpLmdldEZpbGUobikudHlwZX0sX2dldFBlcnNpc3RhYmxlRGF0YTpmdW5jdGlvbihuKXtyZXR1cm4gaS5fZ2V0RmlsZVN0YXRlKG4pLmNodW5raW5nfSxfZ2V0VG90YWxDaHVua3M6ZnVuY3Rpb24obil7aWYoZil7dmFyIHQ9dShuKSxpPWgobik7cmV0dXJuIE1hdGguY2VpbCh0L2kpfX0sX2dldFhocjpmdW5jdGlvbihuLHQpe3ZhciByPW51bGw9PXQ/LTE6dDtyZXR1cm4gaS5fZ2V0RmlsZVN0YXRlKG4pLnRlbXAueGhyc1tyXX0sX2dldFhocnM6ZnVuY3Rpb24obil7cmV0dXJuIGkuX2dldEZpbGVTdGF0ZShuKS50ZW1wLnhocnN9LF9pdGVyYXRlUmVzdW1lUmVjb3JkczpmdW5jdGlvbihuKXtlJiZ0LmVhY2gobG9jYWxTdG9yYWdlLGZ1bmN0aW9uKGkscil7MD09PWkuaW5kZXhPZih0LmZvcm1hdCgicXF7fXJlc3VtZSIsdikpJiZuKGksSlNPTi5wYXJzZShyKSl9KX0sX2luaXRUZW1wU3RhdGU6ZnVuY3Rpb24obil7aS5fZ2V0RmlsZVN0YXRlKG4pLnRlbXA9e2FqYXhSZXF1ZXN0ZXJzOnt9LGNodW5rUHJvZ3Jlc3M6e30seGhyczp7fSxjYWNoZWRDaHVua3M6e319fSxfbWFya05vdFJlc3VtYWJsZTpmdW5jdGlvbihuKXtpLl9nZXRGaWxlU3RhdGUobikubm90UmVzdW1hYmxlPSEwfSxfbWF5YmVEZWxldGVQZXJzaXN0ZWRDaHVua0RhdGE6ZnVuY3Rpb24obil7dmFyIHQ7cmV0dXJuISEoZSYmaS5pc1Jlc3VtYWJsZShuKSYmKHQ9aS5fZ2V0TG9jYWxTdG9yYWdlSWQobiksdCYmbG9jYWxTdG9yYWdlLmdldEl0ZW0odCkpKSYmKGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHQpLCEwKX0sX21heWJlUHJlcGFyZUZvclJlc3VtZTpmdW5jdGlvbihuKXt2YXIgZixyLHU9aS5fZ2V0RmlsZVN0YXRlKG4pO2UmJnZvaWQgMD09PXUua2V5JiYoZj1pLl9nZXRMb2NhbFN0b3JhZ2VJZChuKSxyPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGYpLHImJihyPUpTT04ucGFyc2UociksYihyLnV1aWQpP2kuX21hcmtOb3RSZXN1bWFibGUobik6KHModC5mb3JtYXQoIklkZW50aWZpZWQgZmlsZSB3aXRoIElEIHt9IGFuZCBuYW1lIG9mIHt9IGFzIHJlc3VtYWJsZS4iLG4sbyhuKSkpLGsobixyLnV1aWQpLHUua2V5PXIua2V5LHUuY2h1bmtpbmc9ci5jaHVua2luZyx1LmxvYWRlZD1yLmxvYWRlZCx1LmN1c3RvbVJlc3VtZURhdGE9ci5jdXN0b21SZXN1bWVEYXRhLHUuYXR0ZW1wdGluZ1Jlc3VtZT0hMCxpLm1vdmVJblByb2dyZXNzVG9SZW1haW5pbmcobikpKSl9LF9tYXliZVBlcnNpc3RDaHVua2VkU3RhdGU6ZnVuY3Rpb24obil7dmFyIHIsZixoPWkuX2dldEZpbGVTdGF0ZShuKSxjO2lmKGUmJmkuaXNSZXN1bWFibGUobikpe2M9ZChuKTtyPWkuX2dldExvY2FsU3RvcmFnZUlkKG4pO2Y9e25hbWU6byhuKSxzaXplOnUobiksdXVpZDpwKG4pLGtleTpoLmtleSxjaHVua2luZzpoLmNodW5raW5nLGxvYWRlZDpoLmxvYWRlZCxsYXN0VXBkYXRlZDpEYXRlLm5vdygpfTtjJiYoZi5jdXN0b21SZXN1bWVEYXRhPWMpO3RyeXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShyLEpTT04uc3RyaW5naWZ5KGYpKX1jYXRjaChyKXtzKHQuZm9ybWF0KCJVbmFibGUgdG8gc2F2ZSByZXN1bWUgZGF0YSBmb3IgJ3t9JyBkdWUgdG8gZXJyb3I6ICd7fScuIixuLHIudG9TdHJpbmcoKSksIndhcm4iKX19fSxfcmVnaXN0ZXJQcm9ncmVzc0hhbmRsZXI6ZnVuY3Rpb24obixyLGYpe3ZhciBzPWkuX2dldFhocihuLHIpLGU9byhuKSxoPXtzaW1wbGU6ZnVuY3Rpb24odCxpKXt2YXIgcj11KG4pO3Q9PT1pP2wobixlLHIscik6bChuLGUsdD49cj9yLTE6dCxyKX0sY2h1bmtlZDpmdW5jdGlvbihvLHMpe3ZhciBoPWkuX2dldEZpbGVTdGF0ZShuKS50ZW1wLmNodW5rUHJvZ3Jlc3MsYT1pLl9nZXRGaWxlU3RhdGUobikubG9hZGVkLHY9byx5PXMscD11KG4pLHc9di0oeS1mKSxjPWE7aFtyXT13O3QuZWFjaChoLGZ1bmN0aW9uKG4sdCl7Yys9dH0pO2wobixlLGMscCl9fTtzLnVwbG9hZC5vbnByb2dyZXNzPWZ1bmN0aW9uKG4pe24ubGVuZ3RoQ29tcHV0YWJsZSYmaFtudWxsPT1mPyJzaW1wbGUiOiJjaHVua2VkIl0obi5sb2FkZWQsbi50b3RhbCl9fSxfcmVnaXN0ZXJYaHI6ZnVuY3Rpb24obix0LHIsdSl7dmFyIGU9bnVsbD09dD8tMTp0LGY9aS5fZ2V0RmlsZVN0YXRlKG4pLnRlbXA7cmV0dXJuIGYueGhycz1mLnhocnN8fHt9LGYuYWpheFJlcXVlc3RlcnM9Zi5hamF4UmVxdWVzdGVyc3x8e30sZi54aHJzW2VdPXIsdSYmKGYuYWpheFJlcXVlc3RlcnNbZV09dSkscn0sX3JlbW92ZUV4cGlyZWRDaHVua2luZ1JlY29yZHM6ZnVuY3Rpb24oKXt2YXIgbj1jLnJlY29yZHNFeHBpcmVJbjtpLl9pdGVyYXRlUmVzdW1lUmVjb3JkcyhmdW5jdGlvbih0LGkpe3ZhciByPW5ldyBEYXRlKGkubGFzdFVwZGF0ZWQpO3Iuc2V0RGF0ZShyLmdldERhdGUoKStuKTtyLmdldFRpbWUoKTw9RGF0ZS5ub3coKSYmKHMoIlJlbW92aW5nIGV4cGlyZWQgcmVzdW1lIHJlY29yZCB3aXRoIGtleSAiK3QpLGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHQpKX0pfSxfc2hvdWxkQ2h1bmtUaGlzRmlsZTpmdW5jdGlvbihuKXt2YXIgdD1pLl9nZXRGaWxlU3RhdGUobik7aWYodClyZXR1cm4gdC5jaHVua2luZ3x8aS5yZWV2YWx1YXRlQ2h1bmtpbmcobiksdC5jaHVua2luZy5lbmFibGVkfX0pfTt0LkRlbGV0ZUZpbGVBamF4UmVxdWVzdGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1KCl7cmV0dXJuIlBPU1QiPT09aS5tZXRob2QudG9VcHBlckNhc2UoKT97X21ldGhvZDoiREVMRVRFIn06e319dmFyIHIsaT17bWV0aG9kOiJERUxFVEUiLHV1aWRQYXJhbU5hbWU6InFxdXVpZCIsZW5kcG9pbnRTdG9yZTp7fSxtYXhDb25uZWN0aW9uczozLGN1c3RvbUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm57fX0scGFyYW1zU3RvcmU6e30sY29yczp7ZXhwZWN0ZWQ6ITEsc2VuZENyZWRlbnRpYWxzOiExfSxsb2c6ZnVuY3Rpb24oKXt9LG9uRGVsZXRlOmZ1bmN0aW9uKCl7fSxvbkRlbGV0ZUNvbXBsZXRlOmZ1bmN0aW9uKCl7fX07dC5leHRlbmQoaSxuKTtyPXQuZXh0ZW5kKHRoaXMsbmV3IHQuQWpheFJlcXVlc3Rlcih7YWNjZXB0SGVhZGVyOiJhcHBsaWNhdGlvbi9qc29uIix2YWxpZE1ldGhvZHM6WyJQT1NUIiwiREVMRVRFIl0sbWV0aG9kOmkubWV0aG9kLGVuZHBvaW50U3RvcmU6aS5lbmRwb2ludFN0b3JlLHBhcmFtc1N0b3JlOmkucGFyYW1zU3RvcmUsbWFuZGF0ZWRQYXJhbXM6dSgpLG1heENvbm5lY3Rpb25zOmkubWF4Q29ubmVjdGlvbnMsY3VzdG9tSGVhZGVyczpmdW5jdGlvbihuKXtyZXR1cm4gaS5jdXN0b21IZWFkZXJzLmdldChuKX0sbG9nOmkubG9nLG9uU2VuZDppLm9uRGVsZXRlLG9uQ29tcGxldGU6aS5vbkRlbGV0ZUNvbXBsZXRlLGNvcnM6aS5jb3JzfSkpO3QuZXh0ZW5kKHRoaXMse3NlbmREZWxldGU6ZnVuY3Rpb24obix0LHUpe3ZhciBmPXV8fHt9O2kubG9nKCJTdWJtaXR0aW5nIGRlbGV0ZSBmaWxlIHJlcXVlc3QgZm9yICIrbik7IkRFTEVURSI9PT1pLm1ldGhvZD9yLmluaXRUcmFuc3BvcnQobikud2l0aFBhdGgodCkud2l0aFBhcmFtcyhmKS5zZW5kKCk6KGZbaS51dWlkUGFyYW1OYW1lXT10LHIuaW5pdFRyYW5zcG9ydChuKS53aXRoUGFyYW1zKGYpLnNlbmQoKSl9fSl9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdShuKXt2YXIgdCxyPW4ubmF0dXJhbFdpZHRoLHU9bi5uYXR1cmFsSGVpZ2h0LGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIHIqdT4xMDQ4NTc2JiYoaS53aWR0aD1pLmhlaWdodD0xLHQ9aS5nZXRDb250ZXh0KCIyZCIpLHQuZHJhd0ltYWdlKG4sLXIrMSwwKSwwPT09dC5nZXRJbWFnZURhdGEoMCwwLDEsMSkuZGF0YVszXSl9ZnVuY3Rpb24gZihuLHQsaSl7dmFyIHUscyxoLGYsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxvPTAsYz1pLHI9aTtmb3IoZS53aWR0aD0xLGUuaGVpZ2h0PWksdT1lLmdldENvbnRleHQoIjJkIiksdS5kcmF3SW1hZ2UobiwwLDApLHM9dS5nZXRJbWFnZURhdGEoMCwwLDEsaSkuZGF0YTtyPm87KWg9c1s0KihyLTEpKzNdLDA9PT1oP2M9cjpvPXIscj1jK28+PjE7cmV0dXJuIGY9ci9pLDA9PT1mPzE6Zn1mdW5jdGlvbiBlKGkscix1LGYpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLHM9dS5taW1lfHwiaW1hZ2UvanBlZyIsbz1uZXcgdC5Qcm9taXNlO3JldHVybiBuKGkscixlLHUsZikudGhlbihmdW5jdGlvbigpe28uc3VjY2VzcyhlLnRvRGF0YVVSTChzLHUucXVhbGl0eXx8LjgpKX0pLG99ZnVuY3Rpb24gbyhuKXtpZighdC5pb3MoKSl0aHJvdyBuZXcgdC5FcnJvcigiRG93bnNhbXBsZWQgZGltZW5zaW9ucyBjYW4gb25seSBiZSByZWxpYWJseSBjYWxjdWxhdGVkIGZvciBpT1MhIik7aWYobi5vcmlnSGVpZ2h0Km4ub3JpZ1dpZHRoPjUyNDFlMylyZXR1cm57bmV3SGVpZ2h0Ok1hdGgucm91bmQoTWF0aC5zcXJ0KDUyNDFlMyoobi5vcmlnSGVpZ2h0L24ub3JpZ1dpZHRoKSkpLG5ld1dpZHRoOk1hdGgucm91bmQoTWF0aC5zcXJ0KDUyNDFlMyoobi5vcmlnV2lkdGgvbi5vcmlnSGVpZ2h0KSkpfX1mdW5jdGlvbiBuKG4scixlLGgsYyl7dmFyIHYseT1uLm5hdHVyYWxXaWR0aCxwPW4ubmF0dXJhbEhlaWdodCxsPWgud2lkdGgsYT1oLmhlaWdodCx3PWUuZ2V0Q29udGV4dCgiMmQiKSxiPW5ldyB0LlByb21pc2U7cmV0dXJuIHcuc2F2ZSgpLGgucmVzaXplP3Moe2Jsb2I6cixjYW52YXM6ZSxpbWFnZTpuLGltYWdlSGVpZ2h0OnAsaW1hZ2VXaWR0aDp5LG9yaWVudGF0aW9uOmgub3JpZW50YXRpb24scmVzaXplOmgucmVzaXplLHRhcmdldEhlaWdodDphLHRhcmdldFdpZHRoOmx9KToodC5zdXBwb3J0ZWRGZWF0dXJlcy51bmxpbWl0ZWRTY2FsZWRJbWFnZVNpemV8fCh2PW8oe29yaWdXaWR0aDpsLG9yaWdIZWlnaHQ6YX0pLHYmJih0LmxvZyh0LmZvcm1hdCgiSGFkIHRvIHJlZHVjZSBkaW1lbnNpb25zIGR1ZSB0byBkZXZpY2UgbGltaXRhdGlvbnMgZnJvbSB7fXcgLyB7fWggdG8ge313IC8ge31oIixsLGEsdi5uZXdXaWR0aCx2Lm5ld0hlaWdodCksIndhcm4iKSxsPXYubmV3V2lkdGgsYT12Lm5ld0hlaWdodCkpLGkoZSxsLGEsaC5vcmllbnRhdGlvbiksdC5pb3MoKT9mdW5jdGlvbigpe3UobikmJih5Lz0yLHAvPTIpO3ZhciByLGUsbyx0PTEwMjQsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxrPWM/ZihuLHkscCk6MSxoPU1hdGguY2VpbCh0KmwveSksdj1NYXRoLmNlaWwodCphL3Avaykscz0wLGI9MDtmb3IoaS53aWR0aD1pLmhlaWdodD10LHI9aS5nZXRDb250ZXh0KCIyZCIpO3M8cDspe2ZvcihlPTAsbz0wO2U8eTspci5jbGVhclJlY3QoMCwwLHQsdCksci5kcmF3SW1hZ2UobiwtZSwtcyksdy5kcmF3SW1hZ2UoaSwwLDAsdCx0LG8sYixoLHYpLGUrPXQsbys9aDtzKz10O2IrPXZ9dy5yZXN0b3JlKCk7aT1yPW51bGx9KCk6dy5kcmF3SW1hZ2UobiwwLDAsbCxhKSxlLnFxSW1hZ2VSZW5kZXJlZCYmZS5xcUltYWdlUmVuZGVyZWQoKSxiLnN1Y2Nlc3MoKSxiKX1mdW5jdGlvbiBzKG4pe3ZhciBoPW4uYmxvYixlPW4uaW1hZ2UsYz1uLmltYWdlSGVpZ2h0LGw9bi5pbWFnZVdpZHRoLGE9bi5vcmllbnRhdGlvbix1PW5ldyB0LlByb21pc2Usdj1uLnJlc2l6ZSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLHk9Zi5nZXRDb250ZXh0KCIyZCIpLHI9bi5jYW52YXMsbz1uLnRhcmdldEhlaWdodCxzPW4udGFyZ2V0V2lkdGg7cmV0dXJuIGkoZixsLGMsYSksci5oZWlnaHQ9byxyLndpZHRoPXMseS5kcmF3SW1hZ2UoZSwwLDApLHYoe2Jsb2I6aCxoZWlnaHQ6byxpbWFnZTplLHNvdXJjZUNhbnZhczpmLHRhcmdldENhbnZhczpyLHdpZHRoOnN9KS50aGVuKGZ1bmN0aW9uKCl7ci5xcUltYWdlUmVuZGVyZWQmJnIucXFJbWFnZVJlbmRlcmVkKCk7dS5zdWNjZXNzKCl9LHUuZmFpbHVyZSksdX1mdW5jdGlvbiBpKG4sdCxpLHIpe3N3aXRjaChyKXtjYXNlIDU6Y2FzZSA2OmNhc2UgNzpjYXNlIDg6bi53aWR0aD1pO24uaGVpZ2h0PXQ7YnJlYWs7ZGVmYXVsdDpuLndpZHRoPXQ7bi5oZWlnaHQ9aX12YXIgdT1uLmdldENvbnRleHQoIjJkIik7c3dpdGNoKHIpe2Nhc2UgMjp1LnRyYW5zbGF0ZSh0LDApO3Uuc2NhbGUoLTEsMSk7YnJlYWs7Y2FzZSAzOnUudHJhbnNsYXRlKHQsaSk7dS5yb3RhdGUoTWF0aC5QSSk7YnJlYWs7Y2FzZSA0OnUudHJhbnNsYXRlKDAsaSk7dS5zY2FsZSgxLC0xKTticmVhaztjYXNlIDU6dS5yb3RhdGUoLjUqTWF0aC5QSSk7dS5zY2FsZSgxLC0xKTticmVhaztjYXNlIDY6dS5yb3RhdGUoLjUqTWF0aC5QSSk7dS50cmFuc2xhdGUoMCwtaSk7YnJlYWs7Y2FzZSA3OnUucm90YXRlKC41Kk1hdGguUEkpO3UudHJhbnNsYXRlKHQsLWkpO3Uuc2NhbGUoLTEsMSk7YnJlYWs7Y2FzZSA4OnUucm90YXRlKC0uNSpNYXRoLlBJKTt1LnRyYW5zbGF0ZSgtdCwwKX19ZnVuY3Rpb24gcihuLHQpe3ZhciBpPXRoaXM7d2luZG93LkJsb2ImJm4gaW5zdGFuY2VvZiBCbG9iJiZmdW5jdGlvbigpe3ZhciB0PW5ldyBJbWFnZSxyPXdpbmRvdy5VUkwmJndpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMP3dpbmRvdy5VUkw6d2luZG93LndlYmtpdFVSTCYmd2luZG93LndlYmtpdFVSTC5jcmVhdGVPYmplY3RVUkw/d2luZG93LndlYmtpdFVSTDpudWxsO2lmKCFyKXRocm93IEVycm9yKCJObyBjcmVhdGVPYmplY3RVUkwgZnVuY3Rpb24gZm91bmQgdG8gY3JlYXRlIGJsb2IgdXJsIik7dC5zcmM9ci5jcmVhdGVPYmplY3RVUkwobik7aS5ibG9iPW47bj10fSgpO24ubmF0dXJhbFdpZHRofHxuLm5hdHVyYWxIZWlnaHR8fChuLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBuPWkuaW1hZ2VMb2FkTGlzdGVuZXJzO24mJihpLmltYWdlTG9hZExpc3RlbmVycz1udWxsLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxpPW4ubGVuZ3RoO3Q8aTt0Kyspblt0XSgpfSwwKSl9LG4ub25lcnJvcj10LHRoaXMuaW1hZ2VMb2FkTGlzdGVuZXJzPVtdKTt0aGlzLnNyY0ltYWdlPW59ci5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGkscil7cj1yfHx7fTt2YXIgaCxjPXRoaXMsbz10aGlzLnNyY0ltYWdlLm5hdHVyYWxXaWR0aCxzPXRoaXMuc3JjSW1hZ2UubmF0dXJhbEhlaWdodCx1PXIud2lkdGgsZj1yLmhlaWdodCxsPXIubWF4V2lkdGgsYT1yLm1heEhlaWdodCx2PSF0aGlzLmJsb2J8fCJpbWFnZS9qcGVnIj09PXRoaXMuYmxvYi50eXBlLHk9aS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7aWYodGhpcy5pbWFnZUxvYWRMaXN0ZW5lcnMpcmV0dXJuIHZvaWQgdGhpcy5pbWFnZUxvYWRMaXN0ZW5lcnMucHVzaChmdW5jdGlvbigpe2MucmVuZGVyKGkscil9KTt1JiYhZj9mPXMqdS9vPDwwOmYmJiF1P3U9bypmL3M8PDA6KHU9byxmPXMpO2wmJnU+bCYmKHU9bCxmPXMqdS9vPDwwKTthJiZmPmEmJihmPWEsdT1vKmYvczw8MCk7aD17d2lkdGg6dSxoZWlnaHQ6Zn07dC5lYWNoKHIsZnVuY3Rpb24obix0KXtoW25dPXR9KTsiaW1nIj09PXk/ZnVuY3Rpb24oKXt2YXIgbj1pLnNyYztlKGMuc3JjSW1hZ2UsYy5ibG9iLGgsdikudGhlbihmdW5jdGlvbih0KXtpLnNyYz10O249PT1pLnNyYyYmaS5vbmxvYWQoKX0pfSgpOiJjYW52YXMiPT09eSYmbih0aGlzLnNyY0ltYWdlLHRoaXMuYmxvYixpLGgsdik7ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub25yZW5kZXImJnRoaXMub25yZW5kZXIoaSl9O3QuTWVnYVBpeEltYWdlPXJ9KCk7dC5JbWFnZUdlbmVyYXRvcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihuKXtyZXR1cm4iaW1nIj09PW4udGFnTmFtZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHUobil7cmV0dXJuImNhbnZhcyI9PT1uLnRhZ05hbWUudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBoKCl7cmV0dXJuIHZvaWQgMCE9PShuZXcgSW1hZ2UpLmNyb3NzT3JpZ2lufWZ1bmN0aW9uIGMoKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gbi5nZXRDb250ZXh0JiZuLmdldENvbnRleHQoIjJkIil9ZnVuY3Rpb24gZShuKXt2YXIgcj1uLnNwbGl0KCIvIiksdT1yW3IubGVuZ3RoLTFdLnNwbGl0KCI/IilbMF0saT10LmdldEV4dGVuc2lvbih1KTtzd2l0Y2goaT1pJiZpLnRvTG93ZXJDYXNlKCkpe2Nhc2UianBlZyI6Y2FzZSJqcGciOnJldHVybiJpbWFnZS9qcGVnIjtjYXNlInBuZyI6cmV0dXJuImltYWdlL3BuZyI7Y2FzZSJibXAiOnJldHVybiJpbWFnZS9ibXAiO2Nhc2UiZ2lmIjpyZXR1cm4iaW1hZ2UvZ2lmIjtjYXNlInRpZmYiOmNhc2UidGlmIjpyZXR1cm4iaW1hZ2UvdGlmZiJ9fWZ1bmN0aW9uIGYobil7dmFyIHIsdSxmLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiBpLmhyZWY9bixyPWkucHJvdG9jb2wsZj1pLnBvcnQsdT1pLmhvc3RuYW1lLHIudG9Mb3dlckNhc2UoKSE9PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC50b0xvd2VyQ2FzZSgpfHx1LnRvTG93ZXJDYXNlKCkhPT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWUudG9Mb3dlckNhc2UoKXx8ZiE9PXdpbmRvdy5sb2NhdGlvbi5wb3J0JiYhdC5pZSgpfWZ1bmN0aW9uIGwodCxpKXt0Lm9ubG9hZD1mdW5jdGlvbigpe3Qub25sb2FkPW51bGw7dC5vbmVycm9yPW51bGw7aS5zdWNjZXNzKHQpfTt0Lm9uZXJyb3I9ZnVuY3Rpb24oKXt0Lm9ubG9hZD1udWxsO3Qub25lcnJvcj1udWxsO24oIlByb2JsZW0gZHJhd2luZyB0aHVtYm5haWwhIiwiZXJyb3IiKTtpLmZhaWx1cmUodCwiUHJvYmxlbSBkcmF3aW5nIHRodW1ibmFpbCEiKX19ZnVuY3Rpb24gYShuLHQpe24ucXFJbWFnZVJlbmRlcmVkPWZ1bmN0aW9uKCl7dC5zdWNjZXNzKG4pfX1mdW5jdGlvbiBpKGksZil7dmFyIGU9cihpKXx8dShpKTtyZXR1cm4gcihpKT9sKGksZik6dShpKT9hKGksZik6KGYuZmFpbHVyZShpKSxuKHQuZm9ybWF0KCJFbGVtZW50IGNvbnRhaW5lciBvZiB0eXBlIHt9IGlzIG5vdCBzdXBwb3J0ZWQhIixpLnRhZ05hbWUpLCJlcnJvciIpKSxlfWZ1bmN0aW9uIHYocix1LGYpe3ZhciBlPW5ldyB0LlByb21pc2Uscz1uZXcgdC5JZGVudGlmeShyLG4pLG89Zi5tYXhTaXplLGg9bnVsbD09Zi5vcmllbnR8fGYub3JpZW50LGM9ZnVuY3Rpb24oKXt1Lm9uZXJyb3I9bnVsbDt1Lm9ubG9hZD1udWxsO24oIkNvdWxkIG5vdCByZW5kZXIgcHJldmlldywgZmlsZSBtYXkgYmUgdG9vIGxhcmdlISIsImVycm9yIik7ZS5mYWlsdXJlKHUsIkJyb3dzZXIgY2Fubm90IHJlbmRlciBpbWFnZSEiKX07cmV0dXJuIHMuaXNQcmV2aWV3YWJsZSgpLnRoZW4oZnVuY3Rpb24ocyl7dmFyIGE9e3BhcnNlOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0LlByb21pc2UpLnN1Y2Nlc3MoKX19LHY9aD9uZXcgdC5FeGlmKHIsbik6YSxsPW5ldyB0Lk1lZ2FQaXhJbWFnZShyLGMpO2kodSxlKSYmdi5wYXJzZSgpLnRoZW4oZnVuY3Rpb24obil7dmFyIHQ9biYmbi5PcmllbnRhdGlvbjtsLnJlbmRlcih1LHttYXhXaWR0aDpvLG1heEhlaWdodDpvLG9yaWVudGF0aW9uOnQsbWltZTpzLHJlc2l6ZTpmLmN1c3RvbVJlc2l6ZUZ1bmN0aW9ufSl9LGZ1bmN0aW9uKGkpe24odC5mb3JtYXQoIkVYSUYgZGF0YSBjb3VsZCBub3QgYmUgcGFyc2VkICh7fSkuICBBc3N1bWluZyBvcmllbnRhdGlvbiA9IDEuIixpKSk7bC5yZW5kZXIodSx7bWF4V2lkdGg6byxtYXhIZWlnaHQ6byxtaW1lOnMscmVzaXplOmYuY3VzdG9tUmVzaXplRnVuY3Rpb259KX0pfSxmdW5jdGlvbigpe24oIk5vdCBwcmV2aWV3YWJsZSIpO2UuZmFpbHVyZSh1LCJOb3QgcHJldmlld2FibGUiKX0pLGV9ZnVuY3Rpb24gbyhuLHIsdSxvLHMpe3ZhciBoPW5ldyBJbWFnZSxjPW5ldyB0LlByb21pc2U7aShoLGMpO2YobikmJihoLmNyb3NzT3JpZ2luPSJhbm9ueW1vdXMiKTtoLnNyYz1uO2MudGhlbihmdW5jdGlvbigpe2kocix1KTtuZXcgdC5NZWdhUGl4SW1hZ2UoaCkucmVuZGVyKHIse21heFdpZHRoOm8sbWF4SGVpZ2h0Om8sbWltZTplKG4pLHJlc2l6ZTpzfSl9LHUuZmFpbHVyZSl9ZnVuY3Rpb24gcyhuLHIsdSxmKXtpKHIsdSk7dChyKS5jc3Moe21heFdpZHRoOmYrInB4IixtYXhIZWlnaHQ6ZisicHgifSk7ci5zcmM9bn1mdW5jdGlvbiB5KG4sZSxsKXt2YXIgYT1uZXcgdC5Qcm9taXNlLHk9bC5zY2FsZSx2PXk/bC5tYXhTaXplOm51bGw7cmV0dXJuIHkmJnIoZSk/YygpP2YobikmJiFoKCk/cyhuLGUsYSx2KTpvKG4sZSxhLHYpOnMobixlLGEsdik6dShlKT9vKG4sZSxhLHYpOmkoZSxhKSYmKGUuc3JjPW4pLGF9dC5leHRlbmQodGhpcyx7Z2VuZXJhdGU6ZnVuY3Rpb24oaSxyLHUpe3JldHVybiB0LmlzU3RyaW5nKGkpPyhuKCJBdHRlbXB0aW5nIHRvIHVwZGF0ZSB0aHVtYm5haWwgYmFzZWQgb24gc2VydmVyIHJlc3BvbnNlLiIpLHkoaSxyLHV8fHt9KSk6KG4oIkF0dGVtcHRpbmcgdG8gZHJhdyBjbGllbnQtc2lkZSBpbWFnZSBwcmV2aWV3LiIpLHYoaSxyLHV8fHt9KSl9fSk7dGhpcy5fdGVzdGluZz17fTt0aGlzLl90ZXN0aW5nLmlzSW1nPXI7dGhpcy5fdGVzdGluZy5pc0NhbnZhcz11O3RoaXMuX3Rlc3RpbmcuaXNDcm9zc09yaWdpbj1mO3RoaXMuX3Rlc3RpbmcuZGV0ZXJtaW5lTWltZU9mRmlsZU5hbWU9ZX07dC5FeGlmPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIobil7Zm9yKHZhciB0PTAsaT0wO24ubGVuZ3RoPjA7KXQrPXBhcnNlSW50KG4uc3Vic3RyaW5nKDAsMiksMTYpKk1hdGgucG93KDIsaSksbj1uLnN1YnN0cmluZygyLG4ubGVuZ3RoKSxpKz04O3JldHVybiB0fWZ1bmN0aW9uIHUoaSxyKXt2YXIgZj1pLGU9cjtyZXR1cm4gdm9pZCAwPT09ZiYmKGY9MixlPW5ldyB0LlByb21pc2UpLHQucmVhZEJsb2JUb0hleChuLGYsNCkudGhlbihmdW5jdGlvbihuKXt2YXIgdCxpPS9eZmZlKFswLTldKS8uZXhlYyhuKTtpPyIxIiE9PWlbMV0/KHQ9cGFyc2VJbnQobi5zbGljZSg0LDgpLDE2KSx1KGYrdCsyLGUpKTplLnN1Y2Nlc3MoZik6ZS5mYWlsdXJlKCJObyBFWElGIGhlYWRlciB0byBiZSBmb3VuZCEiKX0pLGV9ZnVuY3Rpb24gZSgpe3ZhciBpPW5ldyB0LlByb21pc2U7cmV0dXJuIHQucmVhZEJsb2JUb0hleChuLDAsNikudGhlbihmdW5jdGlvbihuKXswIT09bi5pbmRleE9mKCJmZmQ4Iik/aS5mYWlsdXJlKCJOb3QgYSB2YWxpZCBKUEVHISIpOnUoKS50aGVuKGZ1bmN0aW9uKG4pe2kuc3VjY2VzcyhuKX0sZnVuY3Rpb24obil7aS5mYWlsdXJlKG4pfSl9KSxpfWZ1bmN0aW9uIG8oaSl7dmFyIHI9bmV3IHQuUHJvbWlzZTtyZXR1cm4gdC5yZWFkQmxvYlRvSGV4KG4saSsxMCwyKS50aGVuKGZ1bmN0aW9uKG4pe3Iuc3VjY2VzcygiNDk0OSI9PT1uKX0pLHJ9ZnVuY3Rpb24gcyhpLHUpe3ZhciBmPW5ldyB0LlByb21pc2U7cmV0dXJuIHQucmVhZEJsb2JUb0hleChuLGkrMTgsMikudGhlbihmdW5jdGlvbihuKXtpZih1KXJldHVybiBmLnN1Y2Nlc3MocihuKSk7Zi5zdWNjZXNzKHBhcnNlSW50KG4sMTYpKX0pLGZ9ZnVuY3Rpb24gaChpLHIpe3ZhciB1PWkrMjAsZj0xMipyO3JldHVybiB0LnJlYWRCbG9iVG9IZXgobix1LGYpfWZ1bmN0aW9uIGMobil7Zm9yKHZhciBpPVtdLHQ9MDt0KzI0PD1uLmxlbmd0aDspaS5wdXNoKG4uc2xpY2UodCx0KzI0KSksdCs9MjQ7cmV0dXJuIGl9ZnVuY3Rpb24gbChuLGkpe3ZhciB1PXQuZXh0ZW5kKFtdLGEpLGU9e307cmV0dXJuIHQuZWFjaChpLGZ1bmN0aW9uKHQsaSl7dmFyIG8saCxjLGw9aS5zbGljZSgwLDQpLHM9bj9yKGwpOnBhcnNlSW50KGwsMTYpLGE9dS5pbmRleE9mKHMpO2lmKGE+PTAmJihoPWZbc10ubmFtZSxjPWZbc10uYnl0ZXMsbz1pLnNsaWNlKDE2LDE2KzIqYyksZVtoXT1uP3Iobyk6cGFyc2VJbnQobywxNiksdS5zcGxpY2UoYSwxKSksMD09PXUubGVuZ3RoKXJldHVybiExfSksZX12YXIgYT1bMjc0XSxmPXsyNzQ6e25hbWU6Ik9yaWVudGF0aW9uIixieXRlczoyfX07dC5leHRlbmQodGhpcyx7cGFyc2U6ZnVuY3Rpb24oKXt2YXIgdT1uZXcgdC5Qcm9taXNlLHI9ZnVuY3Rpb24obil7aSh0LmZvcm1hdCgiRVhJRiBoZWFkZXIgcGFyc2UgZmFpbGVkOiAne30nICIsbikpO3UuZmFpbHVyZShuKX07cmV0dXJuIGUoKS50aGVuKGZ1bmN0aW9uKGYpe2kodC5mb3JtYXQoIk1vdmluZyBmb3J3YXJkIHdpdGggRVhJRiBoZWFkZXIgcGFyc2luZyBmb3IgJ3t9JyIsdm9pZCAwPT09bi5uYW1lPyJibG9iIjpuLm5hbWUpKTtvKGYpLnRoZW4oZnVuY3Rpb24obil7aSh0LmZvcm1hdCgiRVhJRiBCeXRlIG9yZGVyIGlzIHt9IGVuZGlhbiIsbj8ibGl0dGxlIjoiYmlnIikpO3MoZixuKS50aGVuKGZ1bmN0aW9uKGUpe2kodC5mb3JtYXQoIkZvdW5kIHt9IEFQUDEgZGlyZWN0b3J5IGVudHJpZXMiLGUpKTtoKGYsZSkudGhlbihmdW5jdGlvbih0KXt2YXIgcj1jKHQpLGY9bChuLHIpO2koIlN1Y2Nlc3NmdWxseSBwYXJzZWQgc29tZSBFWElGIHRhZ3MiKTt1LnN1Y2Nlc3MoZil9LHIpfSxyKX0scil9LHIpLHV9fSk7dGhpcy5fdGVzdGluZz17fTt0aGlzLl90ZXN0aW5nLnBhcnNlTGl0dGxlRW5kaWFuPXJ9O3QuSWRlbnRpZnk9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihuLGkpe3ZhciByPSExLHU9W10uY29uY2F0KG4pO3JldHVybiB0LmVhY2godSxmdW5jdGlvbihuLHQpe2lmKDA9PT1pLmluZGV4T2YodCkpcmV0dXJuIHI9ITAsITF9KSxyfXQuZXh0ZW5kKHRoaXMse2lzUHJldmlld2FibGU6ZnVuY3Rpb24oKXt2YXIgbz10aGlzLHU9bmV3IHQuUHJvbWlzZSxmPSExLGU9dm9pZCAwPT09bi5uYW1lPyJibG9iIjpuLm5hbWU7cmV0dXJuIGkodC5mb3JtYXQoIkF0dGVtcHRpbmcgdG8gZGV0ZXJtaW5lIGlmIHt9IGNhbiBiZSByZW5kZXJlZCBpbiB0aGlzIGJyb3dzZXIiLGUpKSxpKCJGaXJzdCBwYXNzOiBjaGVjayB0eXBlIGF0dHJpYnV0ZSBvZiBibG9iIG9iamVjdC4iKSx0aGlzLmlzUHJldmlld2FibGVTeW5jKCk/KGkoIlNlY29uZCBwYXNzOiBjaGVjayBmb3IgbWFnaWMgYnl0ZXMgaW4gZmlsZSBoZWFkZXIuIiksdC5yZWFkQmxvYlRvSGV4KG4sMCw0KS50aGVuKGZ1bmN0aW9uKG4pe3QuZWFjaChvLlBSRVZJRVdBQkxFX01JTUVfVFlQRVMsZnVuY3Rpb24oaSxlKXtpZihyKGUsbikpcmV0dXJuKCJpbWFnZS90aWZmIiE9PWl8fHQuc3VwcG9ydGVkRmVhdHVyZXMudGlmZlByZXZpZXdzKSYmKGY9ITAsdS5zdWNjZXNzKGkpKSwhMX0pO2kodC5mb3JtYXQoIid7fScgaXMge30gYWJsZSB0byBiZSByZW5kZXJlZCBpbiB0aGlzIGJyb3dzZXIiLGUsZj8iIjoiTk9UIikpO2Z8fHUuZmFpbHVyZSgpfSxmdW5jdGlvbigpe2koIkVycm9yIHJlYWRpbmcgZmlsZSB3LyBuYW1lICciK2UrIicuICBOb3QgYWJsZSB0byBiZSByZW5kZXJlZCBpbiB0aGlzIGJyb3dzZXIuIik7dS5mYWlsdXJlKCl9KSk6dS5mYWlsdXJlKCksdX0saXNQcmV2aWV3YWJsZVN5bmM6ZnVuY3Rpb24oKXt2YXIgdT1uLnR5cGUsZj10LmluZGV4T2YoT2JqZWN0LmtleXModGhpcy5QUkVWSUVXQUJMRV9NSU1FX1RZUEVTKSx1KT49MCxyPSExLGU9dm9pZCAwPT09bi5uYW1lPyJibG9iIjpuLm5hbWU7cmV0dXJuIGYmJihyPSJpbWFnZS90aWZmIiE9PXV8fHQuc3VwcG9ydGVkRmVhdHVyZXMudGlmZlByZXZpZXdzKSwhciYmaShlKyIgaXMgbm90IHByZXZpZXdhYmxlIGluIHRoaXMgYnJvd3NlciBwZXIgdGhlIGJsb2IncyB0eXBlIGF0dHIiKSxyfX0pfTt0LklkZW50aWZ5LnByb3RvdHlwZS5QUkVWSUVXQUJMRV9NSU1FX1RZUEVTPXsiaW1hZ2UvanBlZyI6ImZmZDhmZiIsImltYWdlL2dpZiI6IjQ3NDk0NiIsImltYWdlL3BuZyI6Ijg5NTA0ZSIsImltYWdlL2JtcCI6IjQyNGQiLCJpbWFnZS90aWZmIjpbIjQ5NDkyYTAwIiwiNGQ0ZDAwMmEiXX07dC5JbWFnZVZhbGlkYXRpb249ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihuKXt2YXIgaT0hMTtyZXR1cm4gdC5lYWNoKG4sZnVuY3Rpb24obix0KXtpZih0PjApcmV0dXJuIGk9ITAsITF9KSxpfWZ1bmN0aW9uIHUoKXt2YXIgcj1uZXcgdC5Qcm9taXNlO3JldHVybiBuZXcgdC5JZGVudGlmeShuLGkpLmlzUHJldmlld2FibGUoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEltYWdlLHU9d2luZG93LlVSTCYmd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkw/d2luZG93LlVSTDp3aW5kb3cud2Via2l0VVJMJiZ3aW5kb3cud2Via2l0VVJMLmNyZWF0ZU9iamVjdFVSTD93aW5kb3cud2Via2l0VVJMOm51bGw7dT8odC5vbmVycm9yPWZ1bmN0aW9uKCl7aSgiQ2Fubm90IGRldGVybWluZSBkaW1lbnNpb25zIGZvciBpbWFnZS4gIE1heSBiZSB0b28gbGFyZ2UuIiwiZXJyb3IiKTtyLmZhaWx1cmUoKX0sdC5vbmxvYWQ9ZnVuY3Rpb24oKXtyLnN1Y2Nlc3Moe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSl9LHQuc3JjPXUuY3JlYXRlT2JqZWN0VVJMKG4pKTooaSgiTm8gY3JlYXRlT2JqZWN0VVJMIGZ1bmN0aW9uIGF2YWlsYWJsZSB0byBnZW5lcmF0ZSBpbWFnZSBVUkwhIiwiZXJyb3IiKSxyLmZhaWx1cmUoKSl9LHIuZmFpbHVyZSkscn1mdW5jdGlvbiBmKG4saSl7dmFyIHI7cmV0dXJuIHQuZWFjaChuLGZ1bmN0aW9uKG4sdCl7aWYodD4wKXt2YXIgdT0vKG1heHxtaW4pKFdpZHRofEhlaWdodCkvLmV4ZWMobiksZT11WzJdLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK3VbMl0uc2xpY2UoMSksZj1pW2VdO3N3aXRjaCh1WzFdKXtjYXNlIm1pbiI6aWYoZjx0KXJldHVybiByPW4sITE7YnJlYWs7Y2FzZSJtYXgiOmlmKGY+dClyZXR1cm4gcj1uLCExfX19KSxyfXRoaXMudmFsaWRhdGU9ZnVuY3Rpb24obil7dmFyIGU9bmV3IHQuUHJvbWlzZTtyZXR1cm4gaSgiQXR0ZW1wdGluZyB0byB2YWxpZGF0ZSBpbWFnZS4iKSxyKG4pP3UoKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBpPWYobix0KTtpP2UuZmFpbHVyZShpKTplLnN1Y2Nlc3MoKX0sZS5zdWNjZXNzKTplLnN1Y2Nlc3MoKSxlfX07dC5TZXNzaW9uPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4pe2lmKHQuaXNBcnJheShuKSlyZXR1cm4hMDtpLmxvZygiU2Vzc2lvbiByZXNwb25zZSBpcyBub3QgYW4gYXJyYXkuIiwiZXJyb3IiKX1mdW5jdGlvbiB1KG4sdSxmLGUpe3ZhciBvPSExO3U9dSYmcihuKTt1JiZ0LmVhY2gobixmdW5jdGlvbihuLHIpe2lmKG51bGw9PXIudXVpZClvPSEwLGkubG9nKHQuZm9ybWF0KCJTZXNzaW9uIHJlc3BvbnNlIGl0ZW0ge30gZGlkIG5vdCBpbmNsdWRlIGEgdmFsaWQgVVVJRCAtIGlnbm9yaW5nLiIsbiksImVycm9yIik7ZWxzZSBpZihudWxsPT1yLm5hbWUpbz0hMCxpLmxvZyh0LmZvcm1hdCgiU2Vzc2lvbiByZXNwb25zZSBpdGVtIHt9IGRpZCBub3QgaW5jbHVkZSBhIHZhbGlkIG5hbWUgLSBpZ25vcmluZy4iLG4pLCJlcnJvciIpO2Vsc2UgdHJ5e3JldHVybiBpLmFkZEZpbGVSZWNvcmQociksITB9Y2F0Y2gobil7bz0hMDtpLmxvZyhuLm1lc3NhZ2UsImVycm9yIil9cmV0dXJuITF9KTtlW3UmJiFvPyJzdWNjZXNzIjoiZmFpbHVyZSJdKG4sZil9dmFyIGk9e2VuZHBvaW50Om51bGwscGFyYW1zOnt9LGN1c3RvbUhlYWRlcnM6e30sY29yczp7fSxhZGRGaWxlUmVjb3JkOmZ1bmN0aW9uKCl7fSxsb2c6ZnVuY3Rpb24oKXt9fTt0LmV4dGVuZChpLG4sITApO3RoaXMucmVmcmVzaD1mdW5jdGlvbigpe3ZhciBuPW5ldyB0LlByb21pc2Uscj1mdW5jdGlvbih0LGkscil7dSh0LGkscixuKX0sZj10LmV4dGVuZCh7fSxpKTtyZXR1cm4gbmV3IHQuU2Vzc2lvbkFqYXhSZXF1ZXN0ZXIodC5leHRlbmQoZix7b25Db21wbGV0ZTpyfSkpLnF1ZXJ5U2VydmVyKCksbn19O3QuU2Vzc2lvbkFqYXhSZXF1ZXN0ZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobixyLHUpe3ZhciBmPW51bGw7aWYobnVsbCE9ci5yZXNwb25zZVRleHQpdHJ5e2Y9dC5wYXJzZUpzb24oci5yZXNwb25zZVRleHQpfWNhdGNoKG4pe2kubG9nKCJQcm9ibGVtIHBhcnNpbmcgc2Vzc2lvbiByZXNwb25zZTogIituLm1lc3NhZ2UsImVycm9yIik7dT0hMH1pLm9uQ29tcGxldGUoZiwhdSxyKX12YXIgcixpPXtlbmRwb2ludDpudWxsLGN1c3RvbUhlYWRlcnM6e30scGFyYW1zOnt9LGNvcnM6e2V4cGVjdGVkOiExLHNlbmRDcmVkZW50aWFsczohMX0sb25Db21wbGV0ZTpmdW5jdGlvbigpe30sbG9nOmZ1bmN0aW9uKCl7fX07dC5leHRlbmQoaSxuKTtyPXQuZXh0ZW5kKHRoaXMsbmV3IHQuQWpheFJlcXVlc3Rlcih7YWNjZXB0SGVhZGVyOiJhcHBsaWNhdGlvbi9qc29uIix2YWxpZE1ldGhvZHM6WyJHRVQiXSxtZXRob2Q6IkdFVCIsZW5kcG9pbnRTdG9yZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuZW5kcG9pbnR9fSxjdXN0b21IZWFkZXJzOmkuY3VzdG9tSGVhZGVycyxsb2c6aS5sb2csb25Db21wbGV0ZTp1LGNvcnM6aS5jb3JzfSkpO3QuZXh0ZW5kKHRoaXMse3F1ZXJ5U2VydmVyOmZ1bmN0aW9uKCl7dmFyIG49dC5leHRlbmQoe30saS5wYXJhbXMpO2kubG9nKCJTZXNzaW9uIHF1ZXJ5IHJlcXVlc3QuIik7ci5pbml0VHJhbnNwb3J0KCJzZXNzaW9uUmVmcmVzaCIpLndpdGhQYXJhbXMobikud2l0aENhY2hlQnVzdGVyKCkuc2VuZCgpfX0pfTt0LlNjYWxlcj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgdT1uLmN1c3RvbVJlc2l6ZXIsZj1uLnNlbmRPcmlnaW5hbCxlPW4ub3JpZW50LG89bi5kZWZhdWx0VHlwZSxzPW4uZGVmYXVsdFF1YWxpdHkvMTAwLGg9bi5mYWlsdXJlVGV4dCxjPW4uaW5jbHVkZUV4aWYscj10aGlzLl9nZXRTb3J0ZWRTaXplcyhuLnNpemVzKTt0LmV4dGVuZCh0aGlzLHtlbmFibGVkOnQuc3VwcG9ydGVkRmVhdHVyZXMuc2NhbGluZyYmci5sZW5ndGg+MCxnZXRGaWxlUmVjb3JkczpmdW5jdGlvbihuLGwsYSl7dmFyIHk9dGhpcyxwPVtdLHY9YS5ibG9iP2EuYmxvYjphO3JldHVybiBuZXcgdC5JZGVudGlmeSh2LGkpLmlzUHJldmlld2FibGVTeW5jKCk/KHQuZWFjaChyLGZ1bmN0aW9uKG4scil7dmFyIGY9eS5fZGV0ZXJtaW5lT3V0cHV0VHlwZSh7ZGVmYXVsdFR5cGU6byxyZXF1ZXN0ZWRUeXBlOnIudHlwZSxyZWZUeXBlOnYudHlwZX0pO3AucHVzaCh7dXVpZDp0LmdldFVuaXF1ZUlkKCksbmFtZTp5Ll9nZXROYW1lKGwse25hbWU6ci5uYW1lLHR5cGU6ZixyZWZUeXBlOnYudHlwZX0pLGJsb2I6bmV3IHQuQmxvYlByb3h5KHYsdC5iaW5kKHkuX2dlbmVyYXRlU2NhbGVkSW1hZ2UseSx7Y3VzdG9tUmVzaXplRnVuY3Rpb246dSxtYXhTaXplOnIubWF4U2l6ZSxvcmllbnQ6ZSx0eXBlOmYscXVhbGl0eTpzLGZhaWxlZFRleHQ6aCxpbmNsdWRlRXhpZjpjLGxvZzppfSkpfSl9KSxwLnB1c2goe3V1aWQ6bixuYW1lOmwsc2l6ZTp2LnNpemUsYmxvYjpmP3Y6bnVsbH0pKTpwLnB1c2goe3V1aWQ6bixuYW1lOmwsc2l6ZTp2LnNpemUsYmxvYjp2fSkscH0saGFuZGxlTmV3RmlsZTpmdW5jdGlvbihuLGkscix1LGYsZSxvLHMpe3ZhciB2PXRoaXMsbD0obi5xcUJ1dHRvbklkfHxuLmJsb2ImJm4uYmxvYi5xcUJ1dHRvbklkLFtdKSxoPW51bGwseT1zLmFkZEZpbGVUb0hhbmRsZXIsYz1zLnVwbG9hZERhdGEsYT1zLnBhcmFtc1N0b3JlLHA9dC5nZXRVbmlxdWVJZCgpO3QuZWFjaCh2LmdldEZpbGVSZWNvcmRzKHIsaSxuKSxmdW5jdGlvbihuLGkpe3ZhciByLHU9aS5zaXplO2kuYmxvYiBpbnN0YW5jZW9mIHQuQmxvYlByb3h5JiYodT0tMSk7cj1jLmFkZEZpbGUoe3V1aWQ6aS51dWlkLG5hbWU6aS5uYW1lLHNpemU6dSxiYXRjaElkOmUscHJveHlHcm91cElkOnB9KTtpLmJsb2IgaW5zdGFuY2VvZiB0LkJsb2JQcm94eT9sLnB1c2gocik6aD1yO2kuYmxvYj8oeShyLGkuYmxvYiksZi5wdXNoKHtpZDpyLGZpbGU6aS5ibG9ifSkpOmMuc2V0U3RhdHVzKHIsdC5zdGF0dXMuUkVKRUNURUQpfSk7bnVsbCE9PWgmJih0LmVhY2gobCxmdW5jdGlvbihuLHQpe3ZhciBpPXtxcXBhcmVudHV1aWQ6Yy5yZXRyaWV2ZSh7aWQ6aH0pLnV1aWQscXFwYXJlbnRzaXplOmMucmV0cmlldmUoe2lkOmh9KS5zaXplfTtpW29dPWMucmV0cmlldmUoe2lkOnR9KS51dWlkO2Muc2V0UGFyZW50SWQodCxoKTthLmFkZFJlYWRPbmx5KHQsaSl9KSxsLmxlbmd0aCYmZnVuY3Rpb24oKXt2YXIgbj17fTtuW29dPWMucmV0cmlldmUoe2lkOmh9KS51dWlkO2EuYWRkUmVhZE9ubHkoaCxuKX0oKSl9fSl9O3QuZXh0ZW5kKHQuU2NhbGVyLnByb3RvdHlwZSx7c2NhbGVJbWFnZTpmdW5jdGlvbihuLGkscil7InVzZSBzdHJpY3QiO2lmKCF0LnN1cHBvcnRlZEZlYXR1cmVzLnNjYWxpbmcpdGhyb3cgbmV3IHQuRXJyb3IoIlNjYWxpbmcgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIhIik7dmFyIHU9bmV3IHQuUHJvbWlzZSxlPXIubG9nLG89ci5nZXRGaWxlKG4pLGY9ci51cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSkscz1mJiZmLm5hbWUsaD1mJiZmLnV1aWQsYz17Y3VzdG9tUmVzaXplcjppLmN1c3RvbVJlc2l6ZXIsc2VuZE9yaWdpbmFsOiExLG9yaWVudDppLm9yaWVudCxkZWZhdWx0VHlwZTppLnR5cGV8fG51bGwsZGVmYXVsdFF1YWxpdHk6aS5xdWFsaXR5LGZhaWxlZFRvU2NhbGVUZXh0OiJVbmFibGUgdG8gc2NhbGUiLHNpemVzOlt7bmFtZToiIixtYXhTaXplOmkubWF4U2l6ZX1dfSxsPW5ldyB0LlNjYWxlcihjLGUpO3JldHVybiB0LlNjYWxlciYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzJiZvP3QuYmluZChmdW5jdGlvbigpe3ZhciBpPWwuZ2V0RmlsZVJlY29yZHMoaCxzLG8pWzBdO2kmJmkuYmxvYiBpbnN0YW5jZW9mIHQuQmxvYlByb3h5P2kuYmxvYi5jcmVhdGUoKS50aGVuKHUuc3VjY2Vzcyx1LmZhaWx1cmUpOihlKG4rIiBpcyBub3QgYSBzY2FsYWJsZSBpbWFnZSEiLCJlcnJvciIpLHUuZmFpbHVyZSgpKX0sdGhpcykoKToodS5mYWlsdXJlKCksZSgiQ291bGQgbm90IGdlbmVyYXRlIHJlcXVlc3RlZCBzY2FsZWQgaW1hZ2UgZm9yICIrbisiLiAgU2NhbGluZyBpcyBlaXRoZXIgbm90IHBvc3NpYmxlIGluIHRoaXMgYnJvd3Nlciwgb3IgdGhlIGZpbGUgY291bGQgbm90IGJlIGxvY2F0ZWQuIiwiZXJyb3IiKSksdX0sX2RldGVybWluZU91dHB1dFR5cGU6ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciBpPW4ucmVxdWVzdGVkVHlwZSxyPW4uZGVmYXVsdFR5cGUsdT1uLnJlZlR5cGU7cmV0dXJuIHJ8fGk/aSYmdC5pbmRleE9mKE9iamVjdC5rZXlzKHQuSWRlbnRpZnkucHJvdG90eXBlLlBSRVZJRVdBQkxFX01JTUVfVFlQRVMpLGkpPj0wPyJpbWFnZS90aWZmIj09PWk/dC5zdXBwb3J0ZWRGZWF0dXJlcy50aWZmUHJldmlld3M/aTpyOmk6cjoiaW1hZ2UvanBlZyIhPT11PyJpbWFnZS9wbmciOnV9LF9nZXROYW1lOmZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3ZhciBmPW4ubGFzdEluZGV4T2YoIi4iKSxlPWkudHlwZXx8ImltYWdlL3BuZyIscz1pLnJlZlR5cGUscj0iIixvPXQuZ2V0RXh0ZW5zaW9uKG4pLHU9IiI7cmV0dXJuIGkubmFtZSYmaS5uYW1lLnRyaW0oKS5sZW5ndGgmJih1PSIgKCIraS5uYW1lKyIpIiksZj49MD8ocj1uLnN1YnN0cigwLGYpLHMhPT1lJiYobz1lLnNwbGl0KCIvIilbMV0pLHIrPXUrIi4iK28pOnI9bit1LHJ9LF9nZXRTb3J0ZWRTaXplczpmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7cmV0dXJuIG49dC5leHRlbmQoW10sbiksbi5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4ubWF4U2l6ZT50Lm1heFNpemU/MTpuLm1heFNpemU8dC5tYXhTaXplPy0xOjB9KX0sX2dlbmVyYXRlU2NhbGVkSW1hZ2U6ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dmFyIG89dGhpcyxzPW4uY3VzdG9tUmVzaXplRnVuY3Rpb24scj1uLmxvZyxoPW4ubWF4U2l6ZSxjPW4ub3JpZW50LGY9bi50eXBlLGw9bi5xdWFsaXR5LGE9bi5mYWlsZWRUZXh0LHY9bi5pbmNsdWRlRXhpZiYmImltYWdlL2pwZWciPT09aS50eXBlJiYiaW1hZ2UvanBlZyI9PT1mLHU9bmV3IHQuUHJvbWlzZSx5PW5ldyB0LkltYWdlR2VuZXJhdG9yKHIpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIHIoIkF0dGVtcHRpbmcgdG8gZ2VuZXJhdGUgc2NhbGVkIHZlcnNpb24gZm9yICIraS5uYW1lKSx5LmdlbmVyYXRlKGksZSx7bWF4U2l6ZTpoLG9yaWVudDpjLGN1c3RvbVJlc2l6ZUZ1bmN0aW9uOnN9KS50aGVuKGZ1bmN0aW9uKCl7dmFyIG49ZS50b0RhdGFVUkwoZixsKSxzPWZ1bmN0aW9uKCl7cigiU3VjY2VzcyBnZW5lcmF0aW5nIHNjYWxlZCB2ZXJzaW9uIGZvciAiK2kubmFtZSk7dmFyIGY9dC5kYXRhVXJpVG9CbG9iKG4pO3Uuc3VjY2VzcyhmKX07dj9vLl9pbnNlcnRFeGlmSGVhZGVyKGksbixyKS50aGVuKGZ1bmN0aW9uKHQpe249dDtzKCl9LGZ1bmN0aW9uKCl7cigiUHJvYmxlbSBpbnNlcnRpbmcgRVhJRiBoZWFkZXIgaW50byBzY2FsZWQgaW1hZ2UuICBVc2luZyBzY2FsZWQgaW1hZ2Ugdy9vdXQgRVhJRiBkYXRhLiIsImVycm9yIik7cygpfSk6cygpfSxmdW5jdGlvbigpe3IoIkZhaWxlZCBhdHRlbXB0IHRvIGdlbmVyYXRlIHNjYWxlZCB2ZXJzaW9uIGZvciAiK2kubmFtZSwiZXJyb3IiKTt1LmZhaWx1cmUoYSl9KSx1fSxfaW5zZXJ0RXhpZkhlYWRlcjpmdW5jdGlvbihuLGkscil7InVzZSBzdHJpY3QiO3ZhciB1PW5ldyBGaWxlUmVhZGVyLGY9bmV3IHQuUHJvbWlzZSxlPSIiO3JldHVybiB1Lm9ubG9hZD1mdW5jdGlvbigpe2U9dS5yZXN1bHQ7Zi5zdWNjZXNzKHQuRXhpZlJlc3RvcmVyLnJlc3RvcmUoZSxpKSl9LHUub25lcnJvcj1mdW5jdGlvbigpe3IoIlByb2JsZW0gcmVhZGluZyAiK24ubmFtZSsiIGR1cmluZyBhdHRlbXB0IHRvIHRyYW5zZmVyIEVYSUYgZGF0YSB0byBzY2FsZWQgdmVyc2lvbi4iLCJlcnJvciIpO2YuZmFpbHVyZSgpfSx1LnJlYWRBc0RhdGFVUkwobiksZn0sX2RhdGFVcmlUb0Jsb2I6ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciBpLHUscixmO3JldHVybiBpPW4uc3BsaXQoIiwiKVswXS5pbmRleE9mKCJiYXNlNjQiKT49MD9hdG9iKG4uc3BsaXQoIiwiKVsxXSk6ZGVjb2RlVVJJKG4uc3BsaXQoIiwiKVsxXSksdT1uLnNwbGl0KCIsIilbMF0uc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpWzBdLHI9bmV3IEFycmF5QnVmZmVyKGkubGVuZ3RoKSxmPW5ldyBVaW50OEFycmF5KHIpLHQuZWFjaChpLGZ1bmN0aW9uKG4sdCl7ZltuXT10LmNoYXJDb2RlQXQoMCl9KSx0aGlzLl9jcmVhdGVCbG9iKHIsdSl9LF9jcmVhdGVCbG9iOmZ1bmN0aW9uKG4sdCl7InVzZSBzdHJpY3QiO3ZhciByPXdpbmRvdy5CbG9iQnVpbGRlcnx8d2luZG93LldlYktpdEJsb2JCdWlsZGVyfHx3aW5kb3cuTW96QmxvYkJ1aWxkZXJ8fHdpbmRvdy5NU0Jsb2JCdWlsZGVyLGk9ciYmbmV3IHI7cmV0dXJuIGk/KGkuYXBwZW5kKG4pLGkuZ2V0QmxvYih0KSk6bmV3IEJsb2IoW25dLHt0eXBlOnR9KX19KTt0LkV4aWZSZXN0b3Jlcj1mdW5jdGlvbigpe3ZhciBuPXt9O3JldHVybiBuLktFWV9TVFI9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89IixuLmVuY29kZTY0PWZ1bmN0aW9uKG4pe3ZhciB1LHQsbyxzLGYsaD0iIixpPSIiLHI9IiIsZT0wO2RvIHU9bltlKytdLHQ9bltlKytdLGk9bltlKytdLG89dT4+MixzPSgzJnUpPDw0fHQ+PjQsZj0oMTUmdCk8PDJ8aT4+NixyPTYzJmksaXNOYU4odCk/Zj1yPTY0OmlzTmFOKGkpJiYocj02NCksaD1oK3RoaXMuS0VZX1NUUi5jaGFyQXQobykrdGhpcy5LRVlfU1RSLmNoYXJBdChzKSt0aGlzLktFWV9TVFIuY2hhckF0KGYpK3RoaXMuS0VZX1NUUi5jaGFyQXQociksdT10PWk9IiIsbz1zPWY9cj0iIjt3aGlsZShlPG4ubGVuZ3RoKTtyZXR1cm4gaH0sbi5yZXN0b3JlPWZ1bmN0aW9uKG4sdCl7aWYoIW4ubWF0Y2goImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsIikpcmV0dXJuIHQ7dmFyIGk9dGhpcy5kZWNvZGU2NChuLnJlcGxhY2UoImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsIiwiIikpLHI9dGhpcy5zbGljZTJTZWdtZW50cyhpKSx1PXRoaXMuZXhpZk1hbmlwdWxhdGlvbih0LHIpO3JldHVybiJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCIrdGhpcy5lbmNvZGU2NCh1KX0sbi5leGlmTWFuaXB1bGF0aW9uPWZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5nZXRFeGlmQXJyYXkodCkscj10aGlzLmluc2VydEV4aWYobixpKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocil9LG4uZ2V0RXhpZkFycmF5PWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxpPTA7aTxuLmxlbmd0aDtpKyspaWYodD1uW2ldLDI1NT09dFswXSYyMjU9PXRbMV0pcmV0dXJuIHQ7cmV0dXJuW119LG4uaW5zZXJ0RXhpZj1mdW5jdGlvbihuLHQpe3ZhciBmPW4ucmVwbGFjZSgiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwiLCIiKSxyPXRoaXMuZGVjb2RlNjQoZiksdT1yLmluZGV4T2YoMjU1LDMpLGU9ci5zbGljZSgwLHUpLG89ci5zbGljZSh1KSxpPWU7cmV0dXJuIGk9aS5jb25jYXQodCksaT1pLmNvbmNhdChvKX0sbi5zbGljZTJTZWdtZW50cz1mdW5jdGlvbihuKXtmb3IodmFyIHQ9MCxpPVtdOzspe2lmKDI1NT09blt0XSYyMTg9PW5bdCsxXSlicmVhaztpZigyNTU9PW5bdF0mMjE2PT1uW3QrMV0pdCs9MjtlbHNle3ZhciB1PTI1NipuW3QrMl0rblt0KzNdLHI9dCt1KzIsZj1uLnNsaWNlKHQscik7aS5wdXNoKGYpO3Q9cn1pZih0Pm4ubGVuZ3RoKWJyZWFrfXJldHVybiBpfSxuLmRlY29kZTY0PWZ1bmN0aW9uKG4pe3ZhciBlLG8scyxyLHQsaD0iIix1PSIiLGk9MCxmPVtdO2lmKC9bXkEtWmEtejAtOVwrXC9cPV0vZy5leGVjKG4pKXRocm93IG5ldyBFcnJvcigiVGhlcmUgd2VyZSBpbnZhbGlkIGJhc2U2NCBjaGFyYWN0ZXJzIGluIHRoZSBpbnB1dCB0ZXh0LiAgVmFsaWQgYmFzZTY0IGNoYXJhY3RlcnMgYXJlIEEtWiwgYS16LCAwLTksICcrJywgJy8nLGFuZCAnPSciKTtuPW4ucmVwbGFjZSgvW15BLVphLXowLTlcK1wvXD1dL2csIiIpO2RvIHM9dGhpcy5LRVlfU1RSLmluZGV4T2Yobi5jaGFyQXQoaSsrKSkscj10aGlzLktFWV9TVFIuaW5kZXhPZihuLmNoYXJBdChpKyspKSx0PXRoaXMuS0VZX1NUUi5pbmRleE9mKG4uY2hhckF0KGkrKykpLHU9dGhpcy5LRVlfU1RSLmluZGV4T2Yobi5jaGFyQXQoaSsrKSksZT1zPDwyfHI+PjQsbz0oMTUmcik8PDR8dD4+MixoPSgzJnQpPDw2fHUsZi5wdXNoKGUpLDY0IT10JiZmLnB1c2gobyksNjQhPXUmJmYucHVzaChoKSxlPW89aD0iIixzPXI9dD11PSIiO3doaWxlKGk8bi5sZW5ndGgpO3JldHVybiBmfSxufSgpO3QuVG90YWxQcm9ncmVzcz1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj17fSxmPTAsdT0wLG89LTEscz0tMSxoPWZ1bmN0aW9uKHQsaSl7dD09PW8mJmk9PT1zfHxuKHQsaSk7bz10O3M9aX0sbD1mdW5jdGlvbihuLGkpe3ZhciByPSEwO3JldHVybiB0LmVhY2gobixmdW5jdGlvbihuLHUpe2lmKHQuaW5kZXhPZihpLHUpPj0wKXJldHVybiByPSExLCExfSkscn0sYT1mdW5jdGlvbihuKXtlKG4sLTEsLTEpO2RlbGV0ZSByW25dfSx2PWZ1bmN0aW9uKG4sdCxpKXsoMD09PXQubGVuZ3RofHxsKHQsaSkpJiYoaCh1LHUpLHRoaXMucmVzZXQoKSl9LGM9ZnVuY3Rpb24obil7dmFyIHQ9aShuKTt0PjAmJihlKG4sMCx0KSxyW25dPXtsb2FkZWQ6MCx0b3RhbDp0fSl9LGU9ZnVuY3Rpb24obix0LGkpe3ZhciBlPXJbbl0/cltuXS5sb2FkZWQ6MCxvPXJbbl0/cltuXS50b3RhbDowO3Q9PT0tMSYmaT09PS0xPyhmLT1lLHUtPW8pOih0JiYoZis9dC1lKSxpJiYodSs9aS1vKSk7aChmLHUpfTt0LmV4dGVuZCh0aGlzLHtvbkFsbENvbXBsZXRlOnYsb25TdGF0dXNDaGFuZ2U6ZnVuY3Rpb24obixpLHIpe3I9PT10LnN0YXR1cy5DQU5DRUxFRHx8cj09PXQuc3RhdHVzLlJFSkVDVEVEP2Eobik6cj09PXQuc3RhdHVzLlNVQk1JVFRJTkcmJmMobil9LG9uSW5kaXZpZHVhbFByb2dyZXNzOmZ1bmN0aW9uKG4sdCxpKXtlKG4sdCxpKTtyW25dPXtsb2FkZWQ6dCx0b3RhbDppfX0sb25OZXdTaXplOmZ1bmN0aW9uKG4pe2Mobil9LHJlc2V0OmZ1bmN0aW9uKCl7cj17fTtmPTA7dT0wfX0pfTt0LlBhc3RlU3VwcG9ydD1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdShuKXtyZXR1cm4gbi50eXBlJiYwPT09bi50eXBlLmluZGV4T2YoImltYWdlLyIpfWZ1bmN0aW9uIGYoKXtyPXQoaS50YXJnZXRFbGVtZW50KS5hdHRhY2goInBhc3RlIixmdW5jdGlvbihuKXt2YXIgcj1uLmNsaXBib2FyZERhdGE7ciYmdC5lYWNoKHIuaXRlbXMsZnVuY3Rpb24obix0KXtpZih1KHQpKXt2YXIgcj10LmdldEFzRmlsZSgpO2kuY2FsbGJhY2tzLnBhc3RlUmVjZWl2ZWQocil9fSl9KX1mdW5jdGlvbiBlKCl7ciYmcigpfXZhciBpLHI7aT17dGFyZ2V0RWxlbWVudDpudWxsLGNhbGxiYWNrczp7bG9nOmZ1bmN0aW9uKCl7fSxwYXN0ZVJlY2VpdmVkOmZ1bmN0aW9uKCl7fX19O3QuZXh0ZW5kKGksbik7ZigpO3QuZXh0ZW5kKHRoaXMse3Jlc2V0OmZ1bmN0aW9uKCl7ZSgpfX0pfTt0LkZvcm1TdXBwb3J0PWZ1bmN0aW9uKG4saSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhuKXtuLmdldEF0dHJpYnV0ZSgiYWN0aW9uIikmJihlLm5ld0VuZHBvaW50PW4uZ2V0QXR0cmlidXRlKCJhY3Rpb24iKSl9ZnVuY3Rpb24gZihuLHQpe2lmKCFuLmNoZWNrVmFsaWRpdHl8fG4uY2hlY2tWYWxpZGl0eSgpKXJldHVybiEwO3IoIkZvcm0gZGlkIG5vdCBwYXNzIHZhbGlkYXRpb24gY2hlY2tzIC0gd2lsbCBub3QgdXBsb2FkLiIsImVycm9yIik7dCgpfWZ1bmN0aW9uIHMobil7dmFyIHI9bi5zdWJtaXQ7dChuKS5hdHRhY2goInN1Ym1pdCIsZnVuY3Rpb24odCl7dD10fHx3aW5kb3cuZXZlbnQ7dC5wcmV2ZW50RGVmYXVsdD90LnByZXZlbnREZWZhdWx0KCk6dC5yZXR1cm5WYWx1ZT0hMTtmKG4scikmJmkoKX0pO24uc3VibWl0PWZ1bmN0aW9uKCl7ZihuLHIpJiZpKCl9fWZ1bmN0aW9uIGgobil7cmV0dXJuIG4mJih0LmlzU3RyaW5nKG4pJiYobj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKSksbiYmKHIoIkF0dGFjaGluZyB0byBmb3JtIGVsZW1lbnQuIiksbyhuKSxjJiZzKG4pKSksbn12YXIgZT10aGlzLGM9bi5pbnRlcmNlcHRTdWJtaXQsdT1uLmVsZW1lbnQsbD1uLmF1dG9VcGxvYWQ7dC5leHRlbmQodGhpcyx7bmV3RW5kcG9pbnQ6bnVsbCxuZXdBdXRvVXBsb2FkOmwsYXR0YWNoZWRUb0Zvcm06ITEsZ2V0Rm9ybUlucHV0c0FzT2JqZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXU/bnVsbDplLl9mb3JtMk9iaih1KX19KTt1PWgodSk7dGhpcy5hdHRhY2hlZFRvRm9ybT0hIXV9O3QuZXh0ZW5kKHQuRm9ybVN1cHBvcnQucHJvdG90eXBlLHtfZm9ybTJPYmo6ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciBpPXt9LHU9ZnVuY3Rpb24obil7cmV0dXJuIHQuaW5kZXhPZihbImJ1dHRvbiIsImltYWdlIiwicmVzZXQiLCJzdWJtaXQiXSxuLnRvTG93ZXJDYXNlKCkpPDB9LGY9ZnVuY3Rpb24obil7cmV0dXJuIHQuaW5kZXhPZihbImNoZWNrYm94IiwicmFkaW8iXSxuLnRvTG93ZXJDYXNlKCkpPj0wfSxyPWZ1bmN0aW9uKG4pe3JldHVybiEoIWYobi50eXBlKXx8bi5jaGVja2VkKXx8bi5kaXNhYmxlZCYmImhpZGRlbiIhPT1uLnR5cGUudG9Mb3dlckNhc2UoKX0sZT1mdW5jdGlvbihuKXt2YXIgaT1udWxsO3JldHVybiB0LmVhY2godChuKS5jaGlsZHJlbigpLGZ1bmN0aW9uKG4sdCl7aWYoIm9wdGlvbiI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmdC5zZWxlY3RlZClyZXR1cm4gaT10LnZhbHVlLCExfSksaX07cmV0dXJuIHQuZWFjaChuLmVsZW1lbnRzLGZ1bmN0aW9uKG4sZil7aWYoKHQuaXNJbnB1dChmLCEwKXx8InRleHRhcmVhIj09PWYudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSYmdShmLnR5cGUpJiYhcihmKSlpW2YubmFtZV09Zi52YWx1ZTtlbHNlIGlmKCJzZWxlY3QiPT09Zi50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJiFyKGYpKXt2YXIgbz1lKGYpO251bGwhPT1vJiYoaVtmLm5hbWVdPW8pfX0pLGl9fSk7dC50cmFkaXRpb25hbD10LnRyYWRpdGlvbmFsfHx7fTt0LnRyYWRpdGlvbmFsLkZvcm1VcGxvYWRIYW5kbGVyPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8obix0KXt2YXIgZixlLGk7dHJ5e2U9dC5jb250ZW50RG9jdW1lbnR8fHQuY29udGVudFdpbmRvdy5kb2N1bWVudDtpPWUuYm9keS5pbm5lckhUTUw7dSgiY29udmVydGluZyBpZnJhbWUncyBpbm5lckhUTUwgdG8gSlNPTiIpO3UoImlubmVySFRNTCA9ICIraSk7aSYmaS5tYXRjaCgvXjxwcmUvaSkmJihpPWUuYm9keS5maXJzdENoaWxkLmZpcnN0Q2hpbGQubm9kZVZhbHVlKTtmPXIuX3BhcnNlSnNvblJlc3BvbnNlKGkpfWNhdGNoKG4pe3UoIkVycm9yIHdoZW4gYXR0ZW1wdGluZyB0byBwYXJzZSBmb3JtIHVwbG9hZCByZXNwb25zZSAoIituLm1lc3NhZ2UrIikiLCJlcnJvciIpO2Y9e3N1Y2Nlc3M6ITF9fXJldHVybiBmfWZ1bmN0aW9uIHModCxpKXt2YXIgdT1uLnBhcmFtc1N0b3JlLmdldCh0KSxvPSJnZXQiPT09bi5tZXRob2QudG9Mb3dlckNhc2UoKT8iR0VUIjoiUE9TVCIscz1uLmVuZHBvaW50U3RvcmUuZ2V0KHQpLGg9Zih0KTtyZXR1cm4gdVtuLnV1aWROYW1lXT1lKHQpLHVbbi5maWxlbmFtZVBhcmFtXT1oLHIuX2luaXRGb3JtRm9yVXBsb2FkKHttZXRob2Q6byxlbmRwb2ludDpzLHBhcmFtczp1LHBhcmFtc0luQm9keTpuLnBhcmFtc0luQm9keSx0YXJnZXROYW1lOmkubmFtZX0pfXZhciByPXRoaXMsZj1pLmdldE5hbWUsZT1pLmdldFV1aWQsdT1pLmxvZzt0aGlzLnVwbG9hZEZpbGU9ZnVuY3Rpb24oaSl7dmFyIGYsYz1yLmdldElucHV0KGkpLGU9ci5fY3JlYXRlSWZyYW1lKGkpLGg9bmV3IHQuUHJvbWlzZTtyZXR1cm4gZj1zKGksZSksZi5hcHBlbmRDaGlsZChjKSxyLl9hdHRhY2hMb2FkRXZlbnQoZSxmdW5jdGlvbihmKXt1KCJpZnJhbWUgbG9hZGVkIik7dmFyIHM9Zj9mOm8oaSxlKTtyLl9kZXRhY2hMb2FkRXZlbnQoaSk7bi5jb3JzLmV4cGVjdGVkfHx0KGUpLnJlbW92ZSgpO3Muc3VjY2Vzcz9oLnN1Y2Nlc3Mocyk6aC5mYWlsdXJlKHMpfSksdSgiU2VuZGluZyB1cGxvYWQgcmVxdWVzdCBmb3IgIitpKSxmLnN1Ym1pdCgpLHQoZikucmVtb3ZlKCksaH07dC5leHRlbmQodGhpcyxuZXcgdC5Gb3JtVXBsb2FkSGFuZGxlcih7b3B0aW9uczp7aXNDb3JzOm4uY29ycy5leHBlY3RlZCxpbnB1dE5hbWU6bi5pbnB1dE5hbWV9LHByb3h5OntvbkNhbmNlbDpuLm9uQ2FuY2VsLGdldE5hbWU6ZixnZXRVdWlkOmUsbG9nOnV9fSkpfTt0LnRyYWRpdGlvbmFsPXQudHJhZGl0aW9uYWx8fHt9O3QudHJhZGl0aW9uYWwuWGhyVXBsb2FkSGFuZGxlcj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj10aGlzLG89aS5nZXROYW1lLHM9aS5nZXRTaXplLGg9aS5nZXRVdWlkLHU9aS5sb2csZj1uLmZvcmNlTXVsdGlwYXJ0fHxuLnBhcmFtc0luQm9keSx2PWZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1zKHQpLGU9byh0KTtuLm9taXREZWZhdWx0UGFyYW1zfHwoaVtuLmNodW5raW5nLnBhcmFtTmFtZXMucGFydEluZGV4XT1yLnBhcnQsaVtuLmNodW5raW5nLnBhcmFtTmFtZXMucGFydEJ5dGVPZmZzZXRdPXIuc3RhcnQsaVtuLmNodW5raW5nLnBhcmFtTmFtZXMuY2h1bmtTaXplXT1yLnNpemUsaVtuLmNodW5raW5nLnBhcmFtTmFtZXMudG90YWxQYXJ0c109ci5jb3VudCxpW24udG90YWxGaWxlU2l6ZU5hbWVdPXUpO2YmJiFuLm9taXREZWZhdWx0UGFyYW1zJiYoaVtuLmZpbGVuYW1lUGFyYW1dPWUpfSx5PW5ldyB0LnRyYWRpdGlvbmFsLkFsbENodW5rc0RvbmVBamF4UmVxdWVzdGVyKHtjb3JzOm4uY29ycyxlbmRwb2ludDpuLmNodW5raW5nLnN1Y2Nlc3MuZW5kcG9pbnQsaGVhZGVyczpuLmNodW5raW5nLnN1Y2Nlc3MuaGVhZGVycyxqc29uUGF5bG9hZDpuLmNodW5raW5nLnN1Y2Nlc3MuanNvblBheWxvYWQsbG9nOnUsbWV0aG9kOm4uY2h1bmtpbmcuc3VjY2Vzcy5tZXRob2QscGFyYW1zOm4uY2h1bmtpbmcuc3VjY2Vzcy5wYXJhbXN9KSxjPWZ1bmN0aW9uKG4saSl7dmFyIHI9bmV3IHQuUHJvbWlzZTtyZXR1cm4gaS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09aS5yZWFkeVN0YXRlKXt2YXIgdD1iKG4saSk7dC5zdWNjZXNzP3Iuc3VjY2Vzcyh0LnJlc3BvbnNlLGkpOnIuZmFpbHVyZSh0LnJlc3BvbnNlLGkpfX0scn0scD1mdW5jdGlvbih0KXt2YXIgaT1uLnBhcmFtc1N0b3JlLmdldCh0KSx1PW8odCksZj1zKHQpO3JldHVybiBpW24udXVpZE5hbWVdPWgodCksaVtuLmZpbGVuYW1lUGFyYW1dPXUsaVtuLnRvdGFsRmlsZVNpemVOYW1lXT1mLGlbbi5jaHVua2luZy5wYXJhbU5hbWVzLnRvdGFsUGFydHNdPXIuX2dldFRvdGFsQ2h1bmtzKHQpLGl9LHc9ZnVuY3Rpb24oaSxyKXtyZXR1cm4gdC5pbmRleE9mKFsyMDAsMjAxLDIwMiwyMDMsMjA0XSxpLnN0YXR1cyk8MHx8bi5yZXF1aXJlU3VjY2Vzc0pzb24mJiFyLnN1Y2Nlc3N8fHIucmVzZXR9LGI9ZnVuY3Rpb24obix0KXt2YXIgaTtyZXR1cm4gdSgieGhyIC0gc2VydmVyIHJlc3BvbnNlIHJlY2VpdmVkIGZvciAiK24pLHUoInJlc3BvbnNlVGV4dCA9ICIrdC5yZXNwb25zZVRleHQpLGk9ZSghMCx0KSx7c3VjY2Vzczohdyh0LGkpLHJlc3BvbnNlOml9fSxlPWZ1bmN0aW9uKGkscil7dmFyIGY9e307dHJ5e3UodC5mb3JtYXQoIlJlY2VpdmVkIHJlc3BvbnNlIHN0YXR1cyB7fSB3aXRoIGJvZHk6IHt9IixyLnN0YXR1cyxyLnJlc3BvbnNlVGV4dCkpO2Y9dC5wYXJzZUpzb24oci5yZXNwb25zZVRleHQpfWNhdGNoKHIpe2kmJm4ucmVxdWlyZVN1Y2Nlc3NKc29uJiZ1KCJFcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gcGFyc2UgeGhyIHJlc3BvbnNlIHRleHQgKCIrci5tZXNzYWdlKyIpIiwiZXJyb3IiKX1yZXR1cm4gZn0saz1mdW5jdGlvbihpKXt2YXIgdT1uZXcgdC5Qcm9taXNlO3JldHVybiB5LmNvbXBsZXRlKGksci5fY3JlYXRlWGhyKGkpLHAoaSksbi5jdXN0b21IZWFkZXJzLmdldChpKSkudGhlbihmdW5jdGlvbihuKXt1LnN1Y2Nlc3MoZSghMSxuKSxuKX0sZnVuY3Rpb24obil7dS5mYWlsdXJlKGUoITEsbiksbil9KSx1fSxsPWZ1bmN0aW9uKGkpe3ZhciByLGE9aS5maWxlT3JCbG9iLHU9aS5pZCx2PWkueGhyLGU9aS54aHJPdmVycmlkZXN8fHt9LHk9aS5jdXN0b21QYXJhbXN8fHt9LGI9aS5wYXJhbXN8fHt9LHA9ZS5wYXJhbXN8fHt9LGM9Zj9uZXcgRm9ybURhdGE6bnVsbCxrPWUubWV0aG9kfHxuLm1ldGhvZCxsPWUuZW5kcG9pbnR8fG4uZW5kcG9pbnRTdG9yZS5nZXQodSksdz1vKHUpLGQ9cyh1KTtyZXR1cm4gbi5vbWl0RGVmYXVsdFBhcmFtcz8ocj10LmV4dGVuZCh7fSx5KSx0LmV4dGVuZChyLHApKToocj10LmV4dGVuZCh7fSx5KSx0LmV4dGVuZChyLHApLHQuZXh0ZW5kKHIsYikscltuLnV1aWROYW1lXT1oKHUpLHJbbi5maWxlbmFtZVBhcmFtXT13LGY/cltuLnRvdGFsRmlsZVNpemVOYW1lXT1kOm4ucGFyYW1zSW5Cb2R5fHwocltuLmlucHV0TmFtZV09dykpLG4ucGFyYW1zSW5Cb2R5fHwobD10Lm9iajJ1cmwocixsKSksdi5vcGVuKGssbCwhMCksbi5jb3JzLmV4cGVjdGVkJiZuLmNvcnMuc2VuZENyZWRlbnRpYWxzJiYodi53aXRoQ3JlZGVudGlhbHM9ITApLGY/KG4ucGFyYW1zSW5Cb2R5JiZ0Lm9iajJGb3JtRGF0YShyLGMpLGMuYXBwZW5kKG4uaW5wdXROYW1lLGEpLGMpOmF9LGE9ZnVuY3Rpb24oaSl7dmFyIGU9aS5oZWFkZXJPdmVycmlkZXMsbz1pLmlkLHU9aS54aHIscyxoO2U/dC5lYWNoKGUsZnVuY3Rpb24obix0KXt1LnNldFJlcXVlc3RIZWFkZXIobix0KX0pOihzPW4uY3VzdG9tSGVhZGVycy5nZXQobyksaD1yLmdldEZpbGUobyksdS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLCJhcHBsaWNhdGlvbi9qc29uIiksdS5zZXRSZXF1ZXN0SGVhZGVyKCJYLVJlcXVlc3RlZC1XaXRoIiwiWE1MSHR0cFJlcXVlc3QiKSx1LnNldFJlcXVlc3RIZWFkZXIoIkNhY2hlLUNvbnRyb2wiLCJuby1jYWNoZSIpLGZ8fCh1LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSIpLHUuc2V0UmVxdWVzdEhlYWRlcigiWC1NaW1lLVR5cGUiLGgudHlwZSkpLHQuZWFjaChzLGZ1bmN0aW9uKG4sdCl7dS5zZXRSZXF1ZXN0SGVhZGVyKG4sdCl9KSl9O3QuZXh0ZW5kKHRoaXMse3VwbG9hZENodW5rOmZ1bmN0aW9uKHQpe3ZhciBzLGgseSxpPXQuaWQsZj10LmNodW5rSWR4LHA9dC5vdmVycmlkZXN8fHt9LHc9dC5yZXN1bWluZyxlPXIuX2dldENodW5rRGF0YShpLGYpLHU9ci5fY3JlYXRlWGhyKGksZiksbz17fTtyZXR1cm4gcz1jKGksdSksci5fcmVnaXN0ZXJQcm9ncmVzc0hhbmRsZXIoaSxmLGUuc2l6ZSkseT1uLnBhcmFtc1N0b3JlLmdldChpKSx2KGksbyxlKSx3JiYob1tuLnJlc3VtZS5wYXJhbU5hbWVzLnJlc3VtaW5nXT0hMCksaD1sKHtmaWxlT3JCbG9iOmUuYmxvYixpZDppLGN1c3RvbVBhcmFtczp5LHBhcmFtczpvLHhocjp1LHhock92ZXJyaWRlczpwfSksYSh7aGVhZGVyT3ZlcnJpZGVzOnAuaGVhZGVycyxpZDppLHhocjp1fSksdS5zZW5kKGgpLHN9LHVwbG9hZEZpbGU6ZnVuY3Rpb24odCl7dmFyIHUsaSxmLGUsbz1yLmdldEZpbGUodCk7cmV0dXJuIGk9ci5fY3JlYXRlWGhyKHQpLHIuX3JlZ2lzdGVyUHJvZ3Jlc3NIYW5kbGVyKHQpLHU9Yyh0LGkpLGY9bi5wYXJhbXNTdG9yZS5nZXQodCksZT1sKHtmaWxlT3JCbG9iOm8saWQ6dCxjdXN0b21QYXJhbXM6Zix4aHI6aX0pLGEoe2lkOnQseGhyOml9KSxpLnNlbmQoZSksdX19KTt0LmV4dGVuZCh0aGlzLG5ldyB0LlhoclVwbG9hZEhhbmRsZXIoe29wdGlvbnM6dC5leHRlbmQoe25hbWVzcGFjZToidHJhZGl0aW9uYWwifSxuKSxwcm94eTp0LmV4dGVuZCh7Z2V0RW5kcG9pbnQ6bi5lbmRwb2ludFN0b3JlLmdldH0saSl9KSk7dC5vdmVycmlkZSh0aGlzLGZ1bmN0aW9uKHIpe3JldHVybntmaW5hbGl6ZUNodW5rczpmdW5jdGlvbih1KXtyZXR1cm4gaS5vbkZpbmFsaXppbmcodSksbi5jaHVua2luZy5zdWNjZXNzLmVuZHBvaW50P2sodSk6ci5maW5hbGl6ZUNodW5rcyh1LHQuYmluZChlLHRoaXMsITApKX19fSl9O3QudHJhZGl0aW9uYWwuQWxsQ2h1bmtzRG9uZUFqYXhSZXF1ZXN0ZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciB1LGk9e2NvcnM6e2FsbG93WGRyOiExLGV4cGVjdGVkOiExLHNlbmRDcmVkZW50aWFsczohMX0sZW5kcG9pbnQ6bnVsbCxsb2c6ZnVuY3Rpb24oKXt9LG1ldGhvZDoiUE9TVCJ9LHI9e30sZj17Z2V0OmZ1bmN0aW9uKG4pe3JldHVybiB0LmlzRnVuY3Rpb24oaS5lbmRwb2ludCk/aS5lbmRwb2ludChuKTppLmVuZHBvaW50fX07dC5leHRlbmQoaSxuKTt1PXQuZXh0ZW5kKHRoaXMsbmV3IHQuQWpheFJlcXVlc3Rlcih7YWNjZXB0SGVhZGVyOiJhcHBsaWNhdGlvbi9qc29uIixjb250ZW50VHlwZTppLmpzb25QYXlsb2FkPyJhcHBsaWNhdGlvbi9qc29uIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIix2YWxpZE1ldGhvZHM6W2kubWV0aG9kXSxtZXRob2Q6aS5tZXRob2QsZW5kcG9pbnRTdG9yZTpmLGFsbG93WFJlcXVlc3RlZFdpdGhBbmRDYWNoZUNvbnRyb2w6ITEsY29yczppLmNvcnMsbG9nOmkubG9nLG9uQ29tcGxldGU6ZnVuY3Rpb24obix0LGkpe3ZhciB1PXJbbl07ZGVsZXRlIHJbbl07aT91LmZhaWx1cmUodCk6dS5zdWNjZXNzKHQpfX0pKTt0LmV4dGVuZCh0aGlzLHtjb21wbGV0ZTpmdW5jdGlvbihuLGYsZSxvKXt2YXIgcz1uZXcgdC5Qcm9taXNlO3JldHVybiBpLmxvZygiU3VibWl0dGluZyBBbGwgQ2h1bmtzIERvbmUgcmVxdWVzdCBmb3IgIituKSxyW25dPXMsdS5pbml0VHJhbnNwb3J0KG4pLndpdGhQYXJhbXMoaS5wYXJhbXMobil8fGUpLndpdGhIZWFkZXJzKGkuaGVhZGVycyhuKXx8bykuc2VuZChmKSxzfX0pfTt0LkRyYWdBbmREcm9wPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBsKG4sdCl7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobik7aS5jYWxsYmFja3MuZHJvcExvZygiR3JhYmJlZCAiK24ubGVuZ3RoKyIgZHJvcHBlZCBmaWxlcy4iKTt0LmRyb3BEaXNhYmxlZCghMSk7aS5jYWxsYmFja3MucHJvY2Vzc2luZ0Ryb3BwZWRGaWxlc0NvbXBsZXRlKHIsdC5nZXRFbGVtZW50KCkpfWZ1bmN0aW9uIGYobil7dmFyIHI9bmV3IHQuUHJvbWlzZTtyZXR1cm4gbi5pc0ZpbGU/bi5maWxlKGZ1bmN0aW9uKHQpe3QucXFQYXRoPWUobik7dS5wdXNoKHQpO3Iuc3VjY2VzcygpfSxmdW5jdGlvbih0KXtpLmNhbGxiYWNrcy5kcm9wTG9nKCJQcm9ibGVtIHBhcnNpbmcgJyIrbi5mdWxsUGF0aCsiJy4gIEZpbGVFcnJvciBjb2RlICIrdC5jb2RlKyIuIiwiZXJyb3IiKTtyLmZhaWx1cmUoKX0pOm4uaXNEaXJlY3RvcnkmJm8obikudGhlbihmdW5jdGlvbihuKXt2YXIgaT1uLmxlbmd0aDt0LmVhY2gobixmdW5jdGlvbihuLHQpe2YodCkuZG9uZShmdW5jdGlvbigpe2ktPTE7MD09PWkmJnIuc3VjY2VzcygpfSl9KTtuLmxlbmd0aHx8ci5zdWNjZXNzKCl9LGZ1bmN0aW9uKHQpe2kuY2FsbGJhY2tzLmRyb3BMb2coIlByb2JsZW0gcGFyc2luZyAnIituLmZ1bGxQYXRoKyInLiAgRmlsZUVycm9yIGNvZGUgIit0LmNvZGUrIi4iLCJlcnJvciIpO3IuZmFpbHVyZSgpfSkscn1mdW5jdGlvbiBlKG4pe3ZhciBpPW4ubmFtZSx0PW4uZnVsbFBhdGgscj10Lmxhc3RJbmRleE9mKGkpO3JldHVybiB0PXQuc3Vic3RyKDAsciksIi8iPT09dC5jaGFyQXQoMCkmJih0PXQuc3Vic3RyKDEpKSx0fWZ1bmN0aW9uIG8obixpLHIsdSl7dmFyIGY9dXx8bmV3IHQuUHJvbWlzZSxlPWl8fG4uY3JlYXRlUmVhZGVyKCk7cmV0dXJuIGUucmVhZEVudHJpZXMoZnVuY3Rpb24odCl7dmFyIGk9cj9yLmNvbmNhdCh0KTp0O3QubGVuZ3RoP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtvKG4sZSxpLGYpfSwwKTpmLnN1Y2Nlc3MoaSl9LGYuZmFpbHVyZSksZn1mdW5jdGlvbiBhKG4scil7dmFyIGU9W10sbz1uZXcgdC5Qcm9taXNlO3JldHVybiBpLmNhbGxiYWNrcy5wcm9jZXNzaW5nRHJvcHBlZEZpbGVzKCksci5kcm9wRGlzYWJsZWQoITApLG4uZmlsZXMubGVuZ3RoPjEmJiFpLmFsbG93TXVsdGlwbGVJdGVtcz8oaS5jYWxsYmFja3MucHJvY2Vzc2luZ0Ryb3BwZWRGaWxlc0NvbXBsZXRlKFtdKSxpLmNhbGxiYWNrcy5kcm9wRXJyb3IoInRvb01hbnlGaWxlc0Vycm9yIiwiIiksci5kcm9wRGlzYWJsZWQoITEpLG8uZmFpbHVyZSgpKToodT1bXSx0LmlzRm9sZGVyRHJvcFN1cHBvcnRlZChuKT90LmVhY2gobi5pdGVtcyxmdW5jdGlvbihuLHQpe3ZhciBpPXQud2Via2l0R2V0QXNFbnRyeSgpO2kmJihpLmlzRmlsZT91LnB1c2godC5nZXRBc0ZpbGUoKSk6ZS5wdXNoKGYoaSkuZG9uZShmdW5jdGlvbigpe2UucG9wKCk7MD09PWUubGVuZ3RoJiZvLnN1Y2Nlc3MoKX0pKSl9KTp1PW4uZmlsZXMsMD09PWUubGVuZ3RoJiZvLnN1Y2Nlc3MoKSksb31mdW5jdGlvbiBzKG4pe3ZhciBmPW5ldyB0LlVwbG9hZERyb3Bab25lKHtISURFX1pPTkVTX0VWRU5UX05BTUU6InFxLWhpZGV6b25lcyIsZWxlbWVudDpuLG9uRW50ZXI6ZnVuY3Rpb24ocil7dChuKS5hZGRDbGFzcyhpLmNsYXNzZXMuZHJvcEFjdGl2ZSk7ci5zdG9wUHJvcGFnYXRpb24oKX0sb25MZWF2ZU5vdERlc2NlbmRhbnRzOmZ1bmN0aW9uKCl7dChuKS5yZW1vdmVDbGFzcyhpLmNsYXNzZXMuZHJvcEFjdGl2ZSl9LG9uRHJvcDpmdW5jdGlvbihuKXthKG4uZGF0YVRyYW5zZmVyLGYpLnRoZW4oZnVuY3Rpb24oKXtsKHUsZil9LGZ1bmN0aW9uKCl7aS5jYWxsYmFja3MuZHJvcExvZygiRHJvcCBldmVudCBEYXRhVHJhbnNmZXIgcGFyc2luZyBmYWlsZWQuICBObyBmaWxlcyB3aWxsIGJlIHVwbG9hZGVkLiIsImVycm9yIil9KX19KTtyZXR1cm4gci5hZGREaXNwb3NlcihmdW5jdGlvbigpe2YuZGlzcG9zZSgpfSksdChuKS5oYXNBdHRyaWJ1dGUoInFxLWhpZGUtZHJvcHpvbmUiKSYmdChuKS5oaWRlKCksYy5wdXNoKGYpLGZ9ZnVuY3Rpb24gaChuKXt2YXIgaTtyZXR1cm4gdC5lYWNoKG4uZGF0YVRyYW5zZmVyLnR5cGVzLGZ1bmN0aW9uKG4sdCl7aWYoIkZpbGVzIj09PXQpcmV0dXJuIGk9ITAsITF9KSxpfWZ1bmN0aW9uIHYobil7cmV0dXJuIHQuc2FmYXJpKCk/bi54PDB8fG4ueTwwOjA9PT1uLngmJjA9PT1uLnl9ZnVuY3Rpb24geSgpe3ZhciBuPWkuZHJvcFpvbmVFbGVtZW50cyx1PWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3QuZWFjaChuLGZ1bmN0aW9uKG4scil7dChyKS5oYXNBdHRyaWJ1dGUoInFxLWhpZGUtZHJvcHpvbmUiKSYmdChyKS5oaWRlKCk7dChyKS5yZW1vdmVDbGFzcyhpLmNsYXNzZXMuZHJvcEFjdGl2ZSl9KX0sMTApfTt0LmVhY2gobixmdW5jdGlvbihpLHUpe3ZhciBmPXModSk7bi5sZW5ndGgmJnQuc3VwcG9ydGVkRmVhdHVyZXMuZmlsZURyb3AmJnIuYXR0YWNoKGRvY3VtZW50LCJkcmFnZW50ZXIiLGZ1bmN0aW9uKGkpeyFmLmRyb3BEaXNhYmxlZCgpJiZoKGkpJiZ0LmVhY2gobixmdW5jdGlvbihuLGkpe2kgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmdChpKS5oYXNBdHRyaWJ1dGUoInFxLWhpZGUtZHJvcHpvbmUiKSYmdChpKS5jc3Moe2Rpc3BsYXk6ImJsb2NrIn0pfSl9KX0pO3IuYXR0YWNoKGRvY3VtZW50LCJkcmFnbGVhdmUiLGZ1bmN0aW9uKG4pe3YobikmJnUoKX0pO3IuYXR0YWNoKHQoZG9jdW1lbnQpLmNoaWxkcmVuKClbMF0sIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7dSgpfSk7ci5hdHRhY2goZG9jdW1lbnQsImRyb3AiLGZ1bmN0aW9uKG4pe2gobikmJihuLnByZXZlbnREZWZhdWx0KCksdSgpKX0pO3IuYXR0YWNoKGRvY3VtZW50LCJxcS1oaWRlem9uZXMiLHUpfXZhciBpLGM9W10sdT1bXSxyPW5ldyB0LkRpc3Bvc2VTdXBwb3J0O2k9e2Ryb3Bab25lRWxlbWVudHM6W10sYWxsb3dNdWx0aXBsZUl0ZW1zOiEwLGNsYXNzZXM6e2Ryb3BBY3RpdmU6bnVsbH0sY2FsbGJhY2tzOm5ldyB0LkRyYWdBbmREcm9wLmNhbGxiYWNrc307dC5leHRlbmQoaSxuLCEwKTt5KCk7dC5leHRlbmQodGhpcyx7c2V0dXBFeHRyYURyb3B6b25lOmZ1bmN0aW9uKG4pe2kuZHJvcFpvbmVFbGVtZW50cy5wdXNoKG4pO3Mobil9LHJlbW92ZURyb3B6b25lOmZ1bmN0aW9uKG4pe3ZhciB0LHI9aS5kcm9wWm9uZUVsZW1lbnRzO2Zvcih0IGluIHIpaWYoclt0XT09PW4pcmV0dXJuIHIuc3BsaWNlKHQsMSl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXtyLmRpc3Bvc2UoKTt0LmVhY2goYyxmdW5jdGlvbihuLHQpe3QuZGlzcG9zZSgpfSl9fSk7dGhpcy5fdGVzdGluZz17fTt0aGlzLl90ZXN0aW5nLmV4dHJhY3REaXJlY3RvcnlQYXRoPWV9O3QuRHJhZ0FuZERyb3AuY2FsbGJhY2tzPWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3JldHVybntwcm9jZXNzaW5nRHJvcHBlZEZpbGVzOmZ1bmN0aW9uKCl7fSxwcm9jZXNzaW5nRHJvcHBlZEZpbGVzQ29tcGxldGU6ZnVuY3Rpb24oKXt9LGRyb3BFcnJvcjpmdW5jdGlvbihuLGkpe3QubG9nKCJEcmFnICYgZHJvcCBlcnJvciBjb2RlICciK24rIiB3aXRoIHRoZXNlIHNwZWNpZmljczogJyIraSsiJyIsImVycm9yIil9LGRyb3BMb2c6ZnVuY3Rpb24obixpKXt0LmxvZyhuLGkpfX19O3QuVXBsb2FkRHJvcFpvbmU9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGgoKXtyZXR1cm4gdC5zYWZhcmkoKXx8dC5maXJlZm94KCkmJnQud2luZG93cygpfWZ1bmN0aW9uIGMoKXtzfHwoaD9yLmF0dGFjaChkb2N1bWVudCwiZHJhZ292ZXIiLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX0pOnIuYXR0YWNoKGRvY3VtZW50LCJkcmFnb3ZlciIsZnVuY3Rpb24obil7bi5kYXRhVHJhbnNmZXImJihuLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PSJub25lIixuLnByZXZlbnREZWZhdWx0KCkpfSkscz0hMCl9ZnVuY3Rpb24gZihuKXtpZighdC5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcClyZXR1cm4hMTt2YXIgcixpPW4uZGF0YVRyYW5zZmVyLHU9dC5zYWZhcmkoKTtyZXR1cm4gcj0hKCF0LmllKCl8fCF0LnN1cHBvcnRlZEZlYXR1cmVzLmZpbGVEcm9wKXx8Im5vbmUiIT09aS5lZmZlY3RBbGxvd2VkLGkmJnImJihpLmZpbGVzJiZpLmZpbGVzLmxlbmd0aHx8IXUmJmkudHlwZXMuY29udGFpbnMmJmkudHlwZXMuY29udGFpbnMoIkZpbGVzIil8fGkudHlwZXMuaW5jbHVkZXMmJmkudHlwZXMuaW5jbHVkZXMoIkZpbGVzIikpfWZ1bmN0aW9uIGUobil7cmV0dXJuIHZvaWQgMCE9PW4mJihvPW4pLG99ZnVuY3Rpb24gbCgpe2Z1bmN0aW9uIHQoKXtuPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpO24uaW5pdEV2ZW50KGkuSElERV9aT05FU19FVkVOVF9OQU1FLCEwLCEwKX12YXIgbjtpZih3aW5kb3cuQ3VzdG9tRXZlbnQpdHJ5e249bmV3IEN1c3RvbUV2ZW50KGkuSElERV9aT05FU19FVkVOVF9OQU1FKX1jYXRjaChuKXt0KCl9ZWxzZSB0KCk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuKX1mdW5jdGlvbiBhKCl7ci5hdHRhY2godSwiZHJhZ292ZXIiLGZ1bmN0aW9uKG4pe2lmKGYobikpe3ZhciBpPXQuaWUoKSYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcD9udWxsOm4uZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQ7bi5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD0ibW92ZSI9PT1pfHwibGlua01vdmUiPT09aT8ibW92ZSI6ImNvcHkiO24uc3RvcFByb3BhZ2F0aW9uKCk7bi5wcmV2ZW50RGVmYXVsdCgpfX0pO3IuYXR0YWNoKHUsImRyYWdlbnRlciIsZnVuY3Rpb24obil7aWYoIWUoKSl7aWYoIWYobikpcmV0dXJuO2kub25FbnRlcihuKX19KTtyLmF0dGFjaCh1LCJkcmFnbGVhdmUiLGZ1bmN0aW9uKG4pe2lmKGYobikpe2kub25MZWF2ZShuKTt2YXIgcj1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KG4uY2xpZW50WCxuLmNsaWVudFkpO3QodGhpcykuY29udGFpbnMocil8fGkub25MZWF2ZU5vdERlc2NlbmRhbnRzKG4pfX0pO3IuYXR0YWNoKHUsImRyb3AiLGZ1bmN0aW9uKG4pe2lmKCFlKCkpe2lmKCFmKG4pKXJldHVybjtuLnByZXZlbnREZWZhdWx0KCk7bi5zdG9wUHJvcGFnYXRpb24oKTtpLm9uRHJvcChuKTtsKCl9fSl9dmFyIGksdSxvLHMscj1uZXcgdC5EaXNwb3NlU3VwcG9ydDtpPXtlbGVtZW50Om51bGwsb25FbnRlcjpmdW5jdGlvbigpe30sb25MZWF2ZTpmdW5jdGlvbigpe30sb25MZWF2ZU5vdERlc2NlbmRhbnRzOmZ1bmN0aW9uKCl7fSxvbkRyb3A6ZnVuY3Rpb24oKXt9fTt0LmV4dGVuZChpLG4pO3U9aS5lbGVtZW50O2MoKTthKCk7dC5leHRlbmQodGhpcyx7ZHJvcERpc2FibGVkOmZ1bmN0aW9uKG4pe3JldHVybiBlKG4pfSxkaXNwb3NlOmZ1bmN0aW9uKCl7ci5kaXNwb3NlKCl9LGdldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19KTt0aGlzLl90ZXN0aW5nPXt9O3RoaXMuX3Rlc3RpbmcuaXNWYWxpZEZpbGVEcmFnPWZ9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3QudWlQdWJsaWNBcGk9e2FkZEluaXRpYWxGaWxlczpmdW5jdGlvbigpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuYWRkSW5pdGlhbEZpbGVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLmFkZENhY2hlVG9Eb20oKX0sY2xlYXJTdG9yZWRGaWxlczpmdW5jdGlvbigpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuY2xlYXJTdG9yZWRGaWxlcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy5jbGVhckZpbGVzKCl9LGFkZEV4dHJhRHJvcHpvbmU6ZnVuY3Rpb24obil7dGhpcy5fZG5kJiZ0aGlzLl9kbmQuc2V0dXBFeHRyYURyb3B6b25lKG4pfSxyZW1vdmVFeHRyYURyb3B6b25lOmZ1bmN0aW9uKG4pe2lmKHRoaXMuX2RuZClyZXR1cm4gdGhpcy5fZG5kLnJlbW92ZURyb3B6b25lKG4pfSxnZXRJdGVtQnlGaWxlSWQ6ZnVuY3Rpb24obil7aWYoIXRoaXMuX3RlbXBsYXRpbmcuaXNIaWRkZW5Gb3JldmVyKG4pKXJldHVybiB0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobil9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5yZXNldC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy5yZXNldCgpOyF0aGlzLl9vcHRpb25zLmJ1dHRvbiYmdGhpcy5fdGVtcGxhdGluZy5nZXRCdXR0b24oKSYmKHRoaXMuX2RlZmF1bHRCdXR0b25JZD10aGlzLl9jcmVhdGVVcGxvYWRCdXR0b24oe2VsZW1lbnQ6dGhpcy5fdGVtcGxhdGluZy5nZXRCdXR0b24oKSx0aXRsZTp0aGlzLl9vcHRpb25zLnRleHQuZmlsZUlucHV0VGl0bGV9KS5nZXRCdXR0b25JZCgpKTt0aGlzLl9kbmQmJih0aGlzLl9kbmQuZGlzcG9zZSgpLHRoaXMuX2RuZD10aGlzLl9zZXR1cERyYWdBbmREcm9wKCkpO3RoaXMuX3RvdGFsRmlsZXNJbkJhdGNoPTA7dGhpcy5fZmlsZXNJbkJhdGNoQWRkZWRUb1VpPTA7dGhpcy5fc2V0dXBDbGlja0FuZEVkaXRFdmVudEhhbmRsZXJzKCl9LHNldE5hbWU6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLl9vcHRpb25zLmZvcm1hdEZpbGVOYW1lKHQpO3RoaXMuX3BhcmVudC5wcm90b3R5cGUuc2V0TmFtZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy51cGRhdGVGaWxlbmFtZShuLGkpfSxwYXVzZVVwbG9hZDpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9wYXJlbnQucHJvdG90eXBlLnBhdXNlVXBsb2FkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdCYmdGhpcy5fdGVtcGxhdGluZy51cGxvYWRQYXVzZWQobiksdH0sY29udGludWVVcGxvYWQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fcGFyZW50LnByb3RvdHlwZS5jb250aW51ZVVwbG9hZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHQmJnRoaXMuX3RlbXBsYXRpbmcudXBsb2FkQ29udGludWVkKG4pLHR9LGdldElkOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVJZChuKX0sZ2V0RHJvcFRhcmdldDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5nZXRGaWxlKG4pLnFxRHJvcFRhcmdldH19O3QudWlQcml2YXRlQXBpPXtfZ2V0QnV0dG9uOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX3BhcmVudC5wcm90b3R5cGUuX2dldEJ1dHRvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHR8fG49PT10aGlzLl9kZWZhdWx0QnV0dG9uSWQmJih0PXRoaXMuX3RlbXBsYXRpbmcuZ2V0QnV0dG9uKCkpLHR9LF9yZW1vdmVGaWxlSXRlbTpmdW5jdGlvbihuKXt0aGlzLl90ZW1wbGF0aW5nLnJlbW92ZUZpbGUobil9LF9zZXR1cENsaWNrQW5kRWRpdEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXt0aGlzLl9maWxlQnV0dG9uc0NsaWNrSGFuZGxlcj10LkZpbGVCdXR0b25zQ2xpY2tIYW5kbGVyJiZ0aGlzLl9iaW5kRmlsZUJ1dHRvbnNDbGlja0V2ZW50KCk7dGhpcy5fZm9jdXNpbkV2ZW50U3VwcG9ydGVkPSF0LmZpcmVmb3goKTt0aGlzLl9pc0VkaXRGaWxlbmFtZUVuYWJsZWQoKSYmKHRoaXMuX2ZpbGVuYW1lQ2xpY2tIYW5kbGVyPXRoaXMuX2JpbmRGaWxlbmFtZUNsaWNrRXZlbnQoKSx0aGlzLl9maWxlbmFtZUlucHV0Rm9jdXNJbkhhbmRsZXI9dGhpcy5fYmluZEZpbGVuYW1lSW5wdXRGb2N1c0luRXZlbnQoKSx0aGlzLl9maWxlbmFtZUlucHV0Rm9jdXNIYW5kbGVyPXRoaXMuX2JpbmRGaWxlbmFtZUlucHV0Rm9jdXNFdmVudCgpKX0sX3NldHVwRHJhZ0FuZERyb3A6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9dGhpcy5fb3B0aW9ucy5kcmFnQW5kRHJvcC5leHRyYURyb3B6b25lcyxpPXRoaXMuX3RlbXBsYXRpbmcsdT1pLmdldERyb3Bab25lKCk7cmV0dXJuIHUmJnIucHVzaCh1KSxuZXcgdC5EcmFnQW5kRHJvcCh7ZHJvcFpvbmVFbGVtZW50czpyLGFsbG93TXVsdGlwbGVJdGVtczp0aGlzLl9vcHRpb25zLm11bHRpcGxlLGNsYXNzZXM6e2Ryb3BBY3RpdmU6dGhpcy5fb3B0aW9ucy5jbGFzc2VzLmRyb3BBY3RpdmV9LGNhbGxiYWNrczp7cHJvY2Vzc2luZ0Ryb3BwZWRGaWxlczpmdW5jdGlvbigpe2kuc2hvd0Ryb3BQcm9jZXNzaW5nKCl9LHByb2Nlc3NpbmdEcm9wcGVkRmlsZXNDb21wbGV0ZTpmdW5jdGlvbihyLHUpe2kuaGlkZURyb3BQcm9jZXNzaW5nKCk7dC5lYWNoKHIsZnVuY3Rpb24obix0KXt0LnFxRHJvcFRhcmdldD11fSk7ci5sZW5ndGgmJm4uYWRkRmlsZXMocixudWxsLG51bGwpfSxkcm9wRXJyb3I6ZnVuY3Rpb24odCxpKXtuLl9pdGVtRXJyb3IodCxpKX0sZHJvcExvZzpmdW5jdGlvbih0LGkpe24ubG9nKHQsaSl9fX0pfSxfYmluZEZpbGVCdXR0b25zQ2xpY2tFdmVudDpmdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyB0LkZpbGVCdXR0b25zQ2xpY2tIYW5kbGVyKHt0ZW1wbGF0aW5nOnRoaXMuX3RlbXBsYXRpbmcsbG9nOmZ1bmN0aW9uKHQsaSl7bi5sb2codCxpKX0sb25EZWxldGVGaWxlOmZ1bmN0aW9uKHQpe24uZGVsZXRlRmlsZSh0KX0sb25DYW5jZWw6ZnVuY3Rpb24odCl7bi5jYW5jZWwodCl9LG9uUmV0cnk6ZnVuY3Rpb24odCl7bi5yZXRyeSh0KX0sb25QYXVzZTpmdW5jdGlvbih0KXtuLnBhdXNlVXBsb2FkKHQpfSxvbkNvbnRpbnVlOmZ1bmN0aW9uKHQpe24uY29udGludWVVcGxvYWQodCl9LG9uR2V0TmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gbi5nZXROYW1lKHQpfX0pfSxfaXNFZGl0RmlsZW5hbWVFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlbXBsYXRpbmcuaXNFZGl0RmlsZW5hbWVQb3NzaWJsZSgpJiYhdGhpcy5fb3B0aW9ucy5hdXRvVXBsb2FkJiZ0LkZpbGVuYW1lQ2xpY2tIYW5kbGVyJiZ0LkZpbGVuYW1lSW5wdXRGb2N1c0hhbmRsZXImJnQuRmlsZW5hbWVJbnB1dEZvY3VzSGFuZGxlcn0sX2ZpbGVuYW1lRWRpdEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLG49dGhpcy5fdGVtcGxhdGluZztyZXR1cm57dGVtcGxhdGluZzpuLGxvZzpmdW5jdGlvbihuLHQpe2kubG9nKG4sdCl9LG9uR2V0VXBsb2FkU3RhdHVzOmZ1bmN0aW9uKG4pe3JldHVybiBpLmdldFVwbG9hZHMoe2lkOm59KS5zdGF0dXN9LG9uR2V0TmFtZTpmdW5jdGlvbihuKXtyZXR1cm4gaS5nZXROYW1lKG4pfSxvblNldE5hbWU6ZnVuY3Rpb24obix0KXtpLnNldE5hbWUobix0KX0sb25FZGl0aW5nU3RhdHVzQ2hhbmdlOmZ1bmN0aW9uKGkscil7dmFyIHU9dChuLmdldEVkaXRJbnB1dChpKSksZj10KG4uZ2V0RmlsZUNvbnRhaW5lcihpKSk7cj8odS5hZGRDbGFzcygicXEtZWRpdGluZyIpLG4uaGlkZUZpbGVuYW1lKGkpLG4uaGlkZUVkaXRJY29uKGkpKToodS5yZW1vdmVDbGFzcygicXEtZWRpdGluZyIpLG4uc2hvd0ZpbGVuYW1lKGkpLG4uc2hvd0VkaXRJY29uKGkpKTtmLmFkZENsYXNzKCJxcS10ZW1wIikucmVtb3ZlQ2xhc3MoInFxLXRlbXAiKX19fSxfb25VcGxvYWRTdGF0dXNDaGFuZ2U6ZnVuY3Rpb24obixpLHIpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uVXBsb2FkU3RhdHVzQ2hhbmdlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9pc0VkaXRGaWxlbmFtZUVuYWJsZWQoKSYmdGhpcy5fdGVtcGxhdGluZy5nZXRGaWxlQ29udGFpbmVyKG4pJiZyIT09dC5zdGF0dXMuU1VCTUlUVEVEJiYodGhpcy5fdGVtcGxhdGluZy5tYXJrRmlsZW5hbWVFZGl0YWJsZShuKSx0aGlzLl90ZW1wbGF0aW5nLmhpZGVFZGl0SWNvbihuKSk7aT09PXQuc3RhdHVzLlVQTE9BRF9SRVRSWUlORyYmcj09PXQuc3RhdHVzLlVQTE9BRElORz8odGhpcy5fdGVtcGxhdGluZy5oaWRlUmV0cnkobiksdGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KG4pLHQodGhpcy5fdGVtcGxhdGluZy5nZXRGaWxlQ29udGFpbmVyKG4pKS5yZW1vdmVDbGFzcyh0aGlzLl9jbGFzc2VzLnJldHJ5aW5nKSk6cj09PXQuc3RhdHVzLlVQTE9BRF9GQUlMRUQmJnRoaXMuX3RlbXBsYXRpbmcuaGlkZVBhdXNlKG4pfSxfYmluZEZpbGVuYW1lSW5wdXRGb2N1c0luRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgbj10LmV4dGVuZCh7fSx0aGlzLl9maWxlbmFtZUVkaXRIYW5kbGVyKCkpO3JldHVybiBuZXcgdC5GaWxlbmFtZUlucHV0Rm9jdXNJbkhhbmRsZXIobil9LF9iaW5kRmlsZW5hbWVJbnB1dEZvY3VzRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgbj10LmV4dGVuZCh7fSx0aGlzLl9maWxlbmFtZUVkaXRIYW5kbGVyKCkpO3JldHVybiBuZXcgdC5GaWxlbmFtZUlucHV0Rm9jdXNIYW5kbGVyKG4pfSxfYmluZEZpbGVuYW1lQ2xpY2tFdmVudDpmdW5jdGlvbigpe3ZhciBuPXQuZXh0ZW5kKHt9LHRoaXMuX2ZpbGVuYW1lRWRpdEhhbmRsZXIoKSk7cmV0dXJuIG5ldyB0LkZpbGVuYW1lQ2xpY2tIYW5kbGVyKG4pfSxfc3RvcmVGb3JMYXRlcjpmdW5jdGlvbihuKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9zdG9yZUZvckxhdGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLmhpZGVTcGlubmVyKG4pfSxfb25BbGxDb21wbGV0ZTpmdW5jdGlvbigpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uQWxsQ29tcGxldGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcucmVzZXRUb3RhbFByb2dyZXNzKCl9LF9vblN1Ym1pdDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuZ2V0RmlsZShuKTtpJiZpLnFxUGF0aCYmdGhpcy5fb3B0aW9ucy5kcmFnQW5kRHJvcC5yZXBvcnREaXJlY3RvcnlQYXRocyYmdGhpcy5fcGFyYW1zU3RvcmUuYWRkUmVhZE9ubHkobix7cXFwYXRoOmkucXFQYXRofSk7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25TdWJtaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX2FkZFRvTGlzdChuLHQpfSxfb25TdWJtaXR0ZWQ6ZnVuY3Rpb24obil7dGhpcy5faXNFZGl0RmlsZW5hbWVFbmFibGVkKCkmJih0aGlzLl90ZW1wbGF0aW5nLm1hcmtGaWxlbmFtZUVkaXRhYmxlKG4pLHRoaXMuX3RlbXBsYXRpbmcuc2hvd0VkaXRJY29uKG4pLHRoaXMuX2ZvY3VzaW5FdmVudFN1cHBvcnRlZHx8dGhpcy5fZmlsZW5hbWVJbnB1dEZvY3VzSGFuZGxlci5hZGRIYW5kbGVyKHRoaXMuX3RlbXBsYXRpbmcuZ2V0RWRpdElucHV0KG4pKSl9LF9vblByb2dyZXNzOmZ1bmN0aW9uKG4sdCxpLHIpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uUHJvZ3Jlc3MuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcudXBkYXRlUHJvZ3Jlc3MobixpLHIpOzA9PT1yfHwxMDA9PT1NYXRoLnJvdW5kKGkvcioxMDApPyh0aGlzLl90ZW1wbGF0aW5nLmhpZGVDYW5jZWwobiksdGhpcy5fdGVtcGxhdGluZy5oaWRlUGF1c2UobiksdGhpcy5fdGVtcGxhdGluZy5oaWRlUHJvZ3Jlc3MobiksdGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KG4sdGhpcy5fb3B0aW9ucy50ZXh0LndhaXRpbmdGb3JSZXNwb25zZSksdGhpcy5fZGlzcGxheUZpbGVTaXplKG4pKTp0aGlzLl9kaXNwbGF5RmlsZVNpemUobixpLHIpfSxfb25Ub3RhbFByb2dyZXNzOmZ1bmN0aW9uKG4sdCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25Ub3RhbFByb2dyZXNzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVRvdGFsUHJvZ3Jlc3Mobix0KX0sX29uQ29tcGxldGU6ZnVuY3Rpb24obixpLHIpe2Z1bmN0aW9uIHMoaSl7ZSYmKHUuc2V0U3RhdHVzVGV4dChuKSx0KGUpLnJlbW92ZUNsYXNzKGYuX2NsYXNzZXMucmV0cnlpbmcpLHUuaGlkZVByb2dyZXNzKG4pLGYuZ2V0VXBsb2Fkcyh7aWQ6bn0pLnN0YXR1cyE9PXQuc3RhdHVzLlVQTE9BRF9GQUlMRUQmJnUuaGlkZUNhbmNlbChuKSx1LmhpZGVTcGlubmVyKG4pLGkuc3VjY2Vzcz9mLl9tYXJrRmlsZUFzU3VjY2Vzc2Z1bChuKToodChlKS5hZGRDbGFzcyhmLl9jbGFzc2VzLmZhaWwpLHUuc2hvd0NhbmNlbChuKSx1LmlzUmV0cnlQb3NzaWJsZSgpJiYhZi5fcHJldmVudFJldHJpZXNbbl0mJih0KGUpLmFkZENsYXNzKGYuX2NsYXNzZXMucmV0cnlhYmxlKSx1LnNob3dSZXRyeShuKSksZi5fY29udHJvbEZhaWx1cmVUZXh0RGlzcGxheShuLGkpKSl9dmFyIG89dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25Db21wbGV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdT10aGlzLl90ZW1wbGF0aW5nLGU9dS5nZXRGaWxlQ29udGFpbmVyKG4pLGY9dGhpcztyZXR1cm4gbyBpbnN0YW5jZW9mIHQuUHJvbWlzZT9vLmRvbmUoZnVuY3Rpb24obil7cyhuKX0pOnMociksb30sX21hcmtGaWxlQXNTdWNjZXNzZnVsOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX3RlbXBsYXRpbmc7dGhpcy5faXNEZWxldGVQb3NzaWJsZSgpJiZpLnNob3dEZWxldGVCdXR0b24obik7dChpLmdldEZpbGVDb250YWluZXIobikpLmFkZENsYXNzKHRoaXMuX2NsYXNzZXMuc3VjY2Vzcyk7dGhpcy5fbWF5YmVVcGRhdGVUaHVtYm5haWwobil9LF9vblVwbG9hZFByZXA6ZnVuY3Rpb24obil7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25VcGxvYWRQcmVwLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLnNob3dTcGlubmVyKG4pfSxfb25VcGxvYWQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25VcGxvYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLl90ZW1wbGF0aW5nLnNob3dTcGlubmVyKG4pLHR9LF9vblVwbG9hZENodW5rOmZ1bmN0aW9uKG4sdCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25VcGxvYWRDaHVuay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dC5wYXJ0SW5kZXg+MCYmdGhpcy5faGFuZGxlci5pc1Jlc3VtYWJsZShuKSYmdGhpcy5fdGVtcGxhdGluZy5hbGxvd1BhdXNlKG4pfSxfb25DYW5jZWw6ZnVuY3Rpb24obil7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25DYW5jZWwuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3JlbW92ZUZpbGVJdGVtKG4pOzA9PT10aGlzLl9nZXROb3RGaW5pc2hlZCgpJiZ0aGlzLl90ZW1wbGF0aW5nLnJlc2V0VG90YWxQcm9ncmVzcygpfSxfb25CZWZvcmVBdXRvUmV0cnk6ZnVuY3Rpb24obil7dmFyIHIsdSxpO3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uQmVmb3JlQXV0b1JldHJ5LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9zaG93Q2FuY2VsTGluayhuKTt0aGlzLl9vcHRpb25zLnJldHJ5LnNob3dBdXRvUmV0cnlOb3RlJiYocj10aGlzLl9hdXRvUmV0cmllc1tuXSx1PXRoaXMuX29wdGlvbnMucmV0cnkubWF4QXV0b0F0dGVtcHRzLGk9dGhpcy5fb3B0aW9ucy5yZXRyeS5hdXRvUmV0cnlOb3RlLnJlcGxhY2UoL1x7cmV0cnlOdW1cfS9nLHIpLGk9aS5yZXBsYWNlKC9ce21heEF1dG9cfS9nLHUpLHRoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChuLGkpLHQodGhpcy5fdGVtcGxhdGluZy5nZXRGaWxlQ29udGFpbmVyKG4pKS5hZGRDbGFzcyh0aGlzLl9jbGFzc2VzLnJldHJ5aW5nKSl9LF9vbkJlZm9yZU1hbnVhbFJldHJ5OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vbkJlZm9yZU1hbnVhbFJldHJ5LmFwcGx5KHRoaXMsYXJndW1lbnRzKT8odGhpcy5fdGVtcGxhdGluZy5yZXNldFByb2dyZXNzKG4pLHQodGhpcy5fdGVtcGxhdGluZy5nZXRGaWxlQ29udGFpbmVyKG4pKS5yZW1vdmVDbGFzcyh0aGlzLl9jbGFzc2VzLmZhaWwpLHRoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChuKSx0aGlzLl90ZW1wbGF0aW5nLnNob3dTcGlubmVyKG4pLHRoaXMuX3Nob3dDYW5jZWxMaW5rKG4pLCEwKToodCh0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobikpLmFkZENsYXNzKHRoaXMuX2NsYXNzZXMucmV0cnlhYmxlKSx0aGlzLl90ZW1wbGF0aW5nLnNob3dSZXRyeShuKSwhMSl9LF9vblN1Ym1pdERlbGV0ZTpmdW5jdGlvbihuKXt2YXIgaT10LmJpbmQodGhpcy5fb25TdWJtaXREZWxldGVTdWNjZXNzLHRoaXMpO3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uU3VibWl0RGVsZXRlLmNhbGwodGhpcyxuLGkpfSxfb25TdWJtaXREZWxldGVTdWNjZXNzOmZ1bmN0aW9uKCl7dGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmZvcmNlQ29uZmlybT90aGlzLl9zaG93RGVsZXRlQ29uZmlybS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5fc2VuZERlbGV0ZVJlcXVlc3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfb25EZWxldGVDb21wbGV0ZTpmdW5jdGlvbihuLHQsaSl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25EZWxldGVDb21wbGV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy5oaWRlU3Bpbm5lcihuKTtpPyh0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobix0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuZGVsZXRpbmdGYWlsZWRUZXh0KSx0aGlzLl90ZW1wbGF0aW5nLnNob3dEZWxldGVCdXR0b24obikpOnRoaXMuX3JlbW92ZUZpbGVJdGVtKG4pfSxfc2VuZERlbGV0ZVJlcXVlc3Q6ZnVuY3Rpb24obil7dGhpcy5fdGVtcGxhdGluZy5oaWRlRGVsZXRlQnV0dG9uKG4pO3RoaXMuX3RlbXBsYXRpbmcuc2hvd1NwaW5uZXIobik7dGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KG4sdGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmRlbGV0aW5nU3RhdHVzVGV4dCk7dGhpcy5fZGVsZXRlSGFuZGxlci5zZW5kRGVsZXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX3Nob3dEZWxldGVDb25maXJtOmZ1bmN0aW9uKG4pe3ZhciBpLGY9dGhpcy5nZXROYW1lKG4pLGU9dGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmNvbmZpcm1NZXNzYWdlLnJlcGxhY2UoL1x7ZmlsZW5hbWVcfS9nLGYpLHU9KHRoaXMuZ2V0VXVpZChuKSxhcmd1bWVudHMpLHI9dGhpcztpPXRoaXMuX29wdGlvbnMuc2hvd0NvbmZpcm0oZSk7dC5pc0dlbmVyaWNQcm9taXNlKGkpP2kudGhlbihmdW5jdGlvbigpe3IuX3NlbmREZWxldGVSZXF1ZXN0LmFwcGx5KHIsdSl9KTppIT09ITEmJnIuX3NlbmREZWxldGVSZXF1ZXN0LmFwcGx5KHIsdSl9LF9hZGRUb0xpc3Q6ZnVuY3Rpb24obixpLHIpe3ZhciBmLHUsZT0wLG89dGhpcy5faGFuZGxlci5pc1Byb3hpZWQobikmJnRoaXMuX29wdGlvbnMuc2NhbGluZy5oaWRlU2NhbGVkO3RoaXMuX29wdGlvbnMuZGlzcGxheS5wcmVwZW5kRmlsZXMmJih0aGlzLl90b3RhbEZpbGVzSW5CYXRjaD4xJiZ0aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWk+MCYmKGU9dGhpcy5fZmlsZXNJbkJhdGNoQWRkZWRUb1VpLTEpLGY9e2luZGV4OmV9KTtyfHwodGhpcy5fb3B0aW9ucy5kaXNhYmxlQ2FuY2VsRm9yRm9ybVVwbG9hZHMmJiF0LnN1cHBvcnRlZEZlYXR1cmVzLmFqYXhVcGxvYWRpbmcmJnRoaXMuX3RlbXBsYXRpbmcuZGlzYWJsZUNhbmNlbCgpLHRoaXMuX29wdGlvbnMubXVsdGlwbGV8fCh1PXRoaXMuZ2V0VXBsb2Fkcyh7aWQ6bn0pLHRoaXMuX2hhbmRsZWRQcm94eUdyb3VwPXRoaXMuX2hhbmRsZWRQcm94eUdyb3VwfHx1LnByb3h5R3JvdXBJZCx1LnByb3h5R3JvdXBJZD09PXRoaXMuX2hhbmRsZWRQcm94eUdyb3VwJiZ1LnByb3h5R3JvdXBJZHx8KHRoaXMuX2hhbmRsZXIuY2FuY2VsQWxsKCksdGhpcy5fY2xlYXJMaXN0KCksdGhpcy5faGFuZGxlZFByb3h5R3JvdXA9bnVsbCkpKTtyPyh0aGlzLl90ZW1wbGF0aW5nLmFkZEZpbGVUb0NhY2hlKG4sdGhpcy5fb3B0aW9ucy5mb3JtYXRGaWxlTmFtZShpKSxmLG8pLHRoaXMuX3RlbXBsYXRpbmcudXBkYXRlVGh1bWJuYWlsKG4sdGhpcy5fdGh1bWJuYWlsVXJsc1tuXSwhMCx0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMuY3VzdG9tUmVzaXplcikpOih0aGlzLl90ZW1wbGF0aW5nLmFkZEZpbGUobix0aGlzLl9vcHRpb25zLmZvcm1hdEZpbGVOYW1lKGkpLGYsbyksdGhpcy5fdGVtcGxhdGluZy5nZW5lcmF0ZVByZXZpZXcobix0aGlzLmdldEZpbGUobiksdGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLmN1c3RvbVJlc2l6ZXIpKTt0aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWkrPTE7KHJ8fHRoaXMuX29wdGlvbnMuZGlzcGxheS5maWxlU2l6ZU9uU3VibWl0JiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmFqYXhVcGxvYWRpbmcpJiZ0aGlzLl9kaXNwbGF5RmlsZVNpemUobil9LF9jbGVhckxpc3Q6ZnVuY3Rpb24oKXt0aGlzLl90ZW1wbGF0aW5nLmNsZWFyRmlsZXMoKTt0aGlzLmNsZWFyU3RvcmVkRmlsZXMoKX0sX2Rpc3BsYXlGaWxlU2l6ZTpmdW5jdGlvbihuLHQsaSl7dmFyIHI9dGhpcy5nZXRTaXplKG4pLHU9dGhpcy5fZm9ybWF0U2l6ZShyKTtyPj0wJiYodm9pZCAwIT09dCYmdm9pZCAwIT09aSYmKHU9dGhpcy5fZm9ybWF0UHJvZ3Jlc3ModCxpKSksdGhpcy5fdGVtcGxhdGluZy51cGRhdGVTaXplKG4sdSkpfSxfZm9ybWF0UHJvZ3Jlc3M6ZnVuY3Rpb24obix0KXtmdW5jdGlvbiByKG4sdCl7aT1pLnJlcGxhY2Uobix0KX12YXIgaT10aGlzLl9vcHRpb25zLnRleHQuZm9ybWF0UHJvZ3Jlc3M7cmV0dXJuIHIoIntwZXJjZW50fSIsTWF0aC5yb3VuZChuL3QqMTAwKSkscigie3RvdGFsX3NpemV9Iix0aGlzLl9mb3JtYXRTaXplKHQpKSxpfSxfY29udHJvbEZhaWx1cmVUZXh0RGlzcGxheTpmdW5jdGlvbihuLHQpe3ZhciBpLHUscjtpPXRoaXMuX29wdGlvbnMuZmFpbGVkVXBsb2FkVGV4dERpc3BsYXkubW9kZTt1PXRoaXMuX29wdGlvbnMuZmFpbGVkVXBsb2FkVGV4dERpc3BsYXkucmVzcG9uc2VQcm9wZXJ0eTsiY3VzdG9tIj09PWk/KHI9dFt1XSxyfHwocj10aGlzLl9vcHRpb25zLnRleHQuZmFpbFVwbG9hZCksdGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KG4sciksdGhpcy5fb3B0aW9ucy5mYWlsZWRVcGxvYWRUZXh0RGlzcGxheS5lbmFibGVUb29sdGlwJiZ0aGlzLl9zaG93VG9vbHRpcChuLHIpKToiZGVmYXVsdCI9PT1pP3RoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChuLHRoaXMuX29wdGlvbnMudGV4dC5mYWlsVXBsb2FkKToibm9uZSIhPT1pJiZ0aGlzLmxvZygiZmFpbGVkVXBsb2FkVGV4dERpc3BsYXkubW9kZSB2YWx1ZSBvZiAnIitpKyInIGlzIG5vdCB2YWxpZCIsIndhcm4iKX0sX3Nob3dUb29sdGlwOmZ1bmN0aW9uKG4sdCl7dGhpcy5fdGVtcGxhdGluZy5nZXRGaWxlQ29udGFpbmVyKG4pLnRpdGxlPXR9LF9zaG93Q2FuY2VsTGluazpmdW5jdGlvbihuKXt0aGlzLl9vcHRpb25zLmRpc2FibGVDYW5jZWxGb3JGb3JtVXBsb2FkcyYmIXQuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZ3x8dGhpcy5fdGVtcGxhdGluZy5zaG93Q2FuY2VsKG4pfSxfaXRlbUVycm9yOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fcGFyZW50LnByb3RvdHlwZS5faXRlbUVycm9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9vcHRpb25zLnNob3dNZXNzYWdlKG4pfSxfYmF0Y2hFcnJvcjpmdW5jdGlvbihuKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9iYXRjaEVycm9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9vcHRpb25zLnNob3dNZXNzYWdlKG4pfSxfc2V0dXBQYXN0ZVByb21wdDpmdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25QYXN0ZVJlY2VpdmVkPWZ1bmN0aW9uKCl7dmFyIHQ9bi5fb3B0aW9ucy5wYXN0ZS5uYW1lUHJvbXB0TWVzc2FnZSxpPW4uX29wdGlvbnMucGFzdGUuZGVmYXVsdE5hbWU7cmV0dXJuIG4uX29wdGlvbnMuc2hvd1Byb21wdCh0LGkpfX0sX2ZpbGVPckJsb2JSZWplY3RlZDpmdW5jdGlvbigpe3RoaXMuX3RvdGFsRmlsZXNJbkJhdGNoLT0xO3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX2ZpbGVPckJsb2JSZWplY3RlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9wcmVwYXJlSXRlbXNGb3JVcGxvYWQ6ZnVuY3Rpb24obil7dGhpcy5fdG90YWxGaWxlc0luQmF0Y2g9bi5sZW5ndGg7dGhpcy5fZmlsZXNJbkJhdGNoQWRkZWRUb1VpPTA7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fcHJlcGFyZUl0ZW1zRm9yVXBsb2FkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX21heWJlVXBkYXRlVGh1bWJuYWlsOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX3RodW1ibmFpbFVybHNbbl07dGhpcy5nZXRVcGxvYWRzKHtpZDpufSkuc3RhdHVzIT09dC5zdGF0dXMuREVMRVRFRCYmKGl8fHRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5wbGFjZWhvbGRlcnMud2FpdFVudGlsUmVzcG9uc2V8fCF0LnN1cHBvcnRlZEZlYXR1cmVzLmltYWdlUHJldmlld3MpJiZ0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVRodW1ibmFpbChuLGksdGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLmN1c3RvbVJlc2l6ZXIpfSxfYWRkQ2FubmVkRmlsZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX3BhcmVudC5wcm90b3R5cGUuX2FkZENhbm5lZEZpbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLl9hZGRUb0xpc3Qobix0aGlzLmdldE5hbWUobiksITApLHRoaXMuX3RlbXBsYXRpbmcuaGlkZVNwaW5uZXIobiksdGhpcy5fdGVtcGxhdGluZy5oaWRlQ2FuY2VsKG4pLHRoaXMuX21hcmtGaWxlQXNTdWNjZXNzZnVsKG4pLG59LF9zZXRTaXplOmZ1bmN0aW9uKG4sdCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fc2V0U2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy51cGRhdGVTaXplKG4sdGhpcy5fZm9ybWF0U2l6ZSh0KSl9LF9zZXNzaW9uUmVxdWVzdENvbXBsZXRlOmZ1bmN0aW9uKCl7dGhpcy5fdGVtcGxhdGluZy5hZGRDYWNoZVRvRG9tKCk7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fc2Vzc2lvblJlcXVlc3RDb21wbGV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0oKTt0LkZpbmVVcGxvYWRlcj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj10aGlzO3RoaXMuX3BhcmVudD1pP3RbaV0uRmluZVVwbG9hZGVyQmFzaWM6dC5GaW5lVXBsb2FkZXJCYXNpYzt0aGlzLl9wYXJlbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3QuZXh0ZW5kKHRoaXMuX29wdGlvbnMse2VsZW1lbnQ6bnVsbCxidXR0b246bnVsbCxsaXN0RWxlbWVudDpudWxsLGRyYWdBbmREcm9wOntleHRyYURyb3B6b25lczpbXSxyZXBvcnREaXJlY3RvcnlQYXRoczohMX0sdGV4dDp7Zm9ybWF0UHJvZ3Jlc3M6IntwZXJjZW50fSUgb2Yge3RvdGFsX3NpemV9IixmYWlsVXBsb2FkOiJVcGxvYWQgZmFpbGVkIix3YWl0aW5nRm9yUmVzcG9uc2U6IlByb2Nlc3NpbmcuLi4iLHBhdXNlZDoiUGF1c2VkIn0sdGVtcGxhdGU6InFxLXRlbXBsYXRlIixjbGFzc2VzOntyZXRyeWluZzoicXEtdXBsb2FkLXJldHJ5aW5nIixyZXRyeWFibGU6InFxLXVwbG9hZC1yZXRyeWFibGUiLHN1Y2Nlc3M6InFxLXVwbG9hZC1zdWNjZXNzIixmYWlsOiJxcS11cGxvYWQtZmFpbCIsZWRpdGFibGU6InFxLWVkaXRhYmxlIixoaWRlOiJxcS1oaWRlIixkcm9wQWN0aXZlOiJxcS11cGxvYWQtZHJvcC1hcmVhLWFjdGl2ZSJ9LGZhaWxlZFVwbG9hZFRleHREaXNwbGF5Onttb2RlOiJkZWZhdWx0IixyZXNwb25zZVByb3BlcnR5OiJlcnJvciIsZW5hYmxlVG9vbHRpcDohMH0sbWVzc2FnZXM6e3Rvb01hbnlGaWxlc0Vycm9yOiJZb3UgbWF5IG9ubHkgZHJvcCBvbmUgZmlsZSIsdW5zdXBwb3J0ZWRCcm93c2VyOiJVbnJlY292ZXJhYmxlIGVycm9yIC0gdGhpcyBicm93c2VyIGRvZXMgbm90IHBlcm1pdCBmaWxlIHVwbG9hZGluZyBvZiBhbnkga2luZC4ifSxyZXRyeTp7c2hvd0F1dG9SZXRyeU5vdGU6ITAsYXV0b1JldHJ5Tm90ZToiUmV0cnlpbmcge3JldHJ5TnVtfS97bWF4QXV0b30uLi4ifSxkZWxldGVGaWxlOntmb3JjZUNvbmZpcm06ITEsY29uZmlybU1lc3NhZ2U6IkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUge2ZpbGVuYW1lfT8iLGRlbGV0aW5nU3RhdHVzVGV4dDoiRGVsZXRpbmcuLi4iLGRlbGV0aW5nRmFpbGVkVGV4dDoiRGVsZXRlIGZhaWxlZCJ9LGRpc3BsYXk6e2ZpbGVTaXplT25TdWJtaXQ6ITEscHJlcGVuZEZpbGVzOiExfSxwYXN0ZTp7cHJvbXB0Rm9yTmFtZTohMSxuYW1lUHJvbXB0TWVzc2FnZToiUGxlYXNlIG5hbWUgdGhpcyBpbWFnZSJ9LHRodW1ibmFpbHM6e2N1c3RvbVJlc2l6ZXI6bnVsbCxtYXhDb3VudDowLHBsYWNlaG9sZGVyczp7d2FpdFVudGlsUmVzcG9uc2U6ITEsbm90QXZhaWxhYmxlUGF0aDpudWxsLHdhaXRpbmdQYXRoOm51bGx9LHRpbWVCZXR3ZWVuVGh1bWJzOjc1MH0sc2NhbGluZzp7aGlkZVNjYWxlZDohMX0sc2hvd01lc3NhZ2U6ZnVuY3Rpb24obil7aWYoci5fdGVtcGxhdGluZy5oYXNEaWFsb2coImFsZXJ0IikpcmV0dXJuIHIuX3RlbXBsYXRpbmcuc2hvd0RpYWxvZygiYWxlcnQiLG4pO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cuYWxlcnQobil9LDApfSxzaG93Q29uZmlybTpmdW5jdGlvbihuKXtyZXR1cm4gci5fdGVtcGxhdGluZy5oYXNEaWFsb2coImNvbmZpcm0iKT9yLl90ZW1wbGF0aW5nLnNob3dEaWFsb2coImNvbmZpcm0iLG4pOndpbmRvdy5jb25maXJtKG4pfSxzaG93UHJvbXB0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHIuX3RlbXBsYXRpbmcuaGFzRGlhbG9nKCJwcm9tcHQiKT9yLl90ZW1wbGF0aW5nLnNob3dEaWFsb2coInByb21wdCIsbix0KTp3aW5kb3cucHJvbXB0KG4sdCl9fSwhMCk7dC5leHRlbmQodGhpcy5fb3B0aW9ucyxuLCEwKTt0aGlzLl90ZW1wbGF0aW5nPW5ldyB0LlRlbXBsYXRpbmcoe2xvZzp0LmJpbmQodGhpcy5sb2csdGhpcyksdGVtcGxhdGVJZE9yRWw6dGhpcy5fb3B0aW9ucy50ZW1wbGF0ZSxjb250YWluZXJFbDp0aGlzLl9vcHRpb25zLmVsZW1lbnQsZmlsZUNvbnRhaW5lckVsOnRoaXMuX29wdGlvbnMubGlzdEVsZW1lbnQsYnV0dG9uOnRoaXMuX29wdGlvbnMuYnV0dG9uLGltYWdlR2VuZXJhdG9yOnRoaXMuX2ltYWdlR2VuZXJhdG9yLGNsYXNzZXM6e2hpZGU6dGhpcy5fb3B0aW9ucy5jbGFzc2VzLmhpZGUsZWRpdGFibGU6dGhpcy5fb3B0aW9ucy5jbGFzc2VzLmVkaXRhYmxlfSxsaW1pdHM6e21heFRodW1iczp0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMubWF4Q291bnQsdGltZUJldHdlZW5UaHVtYnM6dGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLnRpbWVCZXR3ZWVuVGh1bWJzfSxwbGFjZWhvbGRlcnM6e3dhaXRVbnRpbFVwZGF0ZTp0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMucGxhY2Vob2xkZXJzLndhaXRVbnRpbFJlc3BvbnNlLHRodW1ibmFpbE5vdEF2YWlsYWJsZTp0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMucGxhY2Vob2xkZXJzLm5vdEF2YWlsYWJsZVBhdGgsd2FpdGluZ0ZvclRodW1ibmFpbDp0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMucGxhY2Vob2xkZXJzLndhaXRpbmdQYXRofSx0ZXh0OnRoaXMuX29wdGlvbnMudGV4dH0pO3RoaXMuX29wdGlvbnMud29ya2Fyb3VuZHMuaW9zOFNhZmFyaVVwbG9hZHMmJnQuaW9zODAwKCkmJnQuaW9zU2FmYXJpKCk/dGhpcy5fdGVtcGxhdGluZy5yZW5kZXJGYWlsdXJlKHRoaXMuX29wdGlvbnMubWVzc2FnZXMudW5zdXBwb3J0ZWRCcm93c2VySW9zOFNhZmFyaSk6IXQuc3VwcG9ydGVkRmVhdHVyZXMudXBsb2FkaW5nfHx0aGlzLl9vcHRpb25zLmNvcnMuZXhwZWN0ZWQmJiF0LnN1cHBvcnRlZEZlYXR1cmVzLnVwbG9hZENvcnM/dGhpcy5fdGVtcGxhdGluZy5yZW5kZXJGYWlsdXJlKHRoaXMuX29wdGlvbnMubWVzc2FnZXMudW5zdXBwb3J0ZWRCcm93c2VyKToodGhpcy5fd3JhcENhbGxiYWNrcygpLHRoaXMuX3RlbXBsYXRpbmcucmVuZGVyKCksdGhpcy5fY2xhc3Nlcz10aGlzLl9vcHRpb25zLmNsYXNzZXMsIXRoaXMuX29wdGlvbnMuYnV0dG9uJiZ0aGlzLl90ZW1wbGF0aW5nLmdldEJ1dHRvbigpJiYodGhpcy5fZGVmYXVsdEJ1dHRvbklkPXRoaXMuX2NyZWF0ZVVwbG9hZEJ1dHRvbih7ZWxlbWVudDp0aGlzLl90ZW1wbGF0aW5nLmdldEJ1dHRvbigpLHRpdGxlOnRoaXMuX29wdGlvbnMudGV4dC5maWxlSW5wdXRUaXRsZX0pLmdldEJ1dHRvbklkKCkpLHRoaXMuX3NldHVwQ2xpY2tBbmRFZGl0RXZlbnRIYW5kbGVycygpLHQuRHJhZ0FuZERyb3AmJnQuc3VwcG9ydGVkRmVhdHVyZXMuZmlsZURyb3AmJih0aGlzLl9kbmQ9dGhpcy5fc2V0dXBEcmFnQW5kRHJvcCgpKSx0aGlzLl9vcHRpb25zLnBhc3RlLnRhcmdldEVsZW1lbnQmJnRoaXMuX29wdGlvbnMucGFzdGUucHJvbXB0Rm9yTmFtZSYmKHQuUGFzdGVTdXBwb3J0P3RoaXMuX3NldHVwUGFzdGVQcm9tcHQoKTp0aGlzLmxvZygiUGFzdGUgc3VwcG9ydCBtb2R1bGUgbm90IGZvdW5kLiIsImVycm9yIikpLHRoaXMuX3RvdGFsRmlsZXNJbkJhdGNoPTAsdGhpcy5fZmlsZXNJbkJhdGNoQWRkZWRUb1VpPTApfTt0LmV4dGVuZCh0LkZpbmVVcGxvYWRlci5wcm90b3R5cGUsdC5iYXNlUHVibGljQXBpKTt0LmV4dGVuZCh0LkZpbmVVcGxvYWRlci5wcm90b3R5cGUsdC5iYXNlUHJpdmF0ZUFwaSk7dC5leHRlbmQodC5GaW5lVXBsb2FkZXIucHJvdG90eXBlLHQudWlQdWJsaWNBcGkpO3QuZXh0ZW5kKHQuRmluZVVwbG9hZGVyLnByb3RvdHlwZSx0LnVpUHJpdmF0ZUFwaSk7dC5UZW1wbGF0aW5nPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaCx5dCxwdCxldCxzLHYseSxvdCxwPXtjb250ZW50OmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxtYXA6e319LHN0PSExLHc9MCxnPSExLG50PVtdLGE9LTEscj17bG9nOm51bGwsbGltaXRzOnttYXhUaHVtYnM6MCx0aW1lQmV0d2VlblRodW1iczo3NTB9LHRlbXBsYXRlSWRPckVsOiJxcS10ZW1wbGF0ZSIsY29udGFpbmVyRWw6bnVsbCxmaWxlQ29udGFpbmVyRWw6bnVsbCxidXR0b246bnVsbCxpbWFnZUdlbmVyYXRvcjpudWxsLGNsYXNzZXM6e2hpZGU6InFxLWhpZGUiLGVkaXRhYmxlOiJxcS1lZGl0YWJsZSJ9LHBsYWNlaG9sZGVyczp7d2FpdFVudGlsVXBkYXRlOiExLHRodW1ibmFpbE5vdEF2YWlsYWJsZTpudWxsLHdhaXRpbmdGb3JUaHVtYm5haWw6bnVsbH0sdGV4dDp7cGF1c2VkOiJQYXVzZWQifX0saT17YnV0dG9uOiJxcS11cGxvYWQtYnV0dG9uLXNlbGVjdG9yIixhbGVydERpYWxvZzoicXEtYWxlcnQtZGlhbG9nLXNlbGVjdG9yIixkaWFsb2dDYW5jZWxCdXR0b246InFxLWNhbmNlbC1idXR0b24tc2VsZWN0b3IiLGNvbmZpcm1EaWFsb2c6InFxLWNvbmZpcm0tZGlhbG9nLXNlbGVjdG9yIixkaWFsb2dNZXNzYWdlOiJxcS1kaWFsb2ctbWVzc2FnZS1zZWxlY3RvciIsZGlhbG9nT2tCdXR0b246InFxLW9rLWJ1dHRvbi1zZWxlY3RvciIscHJvbXB0RGlhbG9nOiJxcS1wcm9tcHQtZGlhbG9nLXNlbGVjdG9yIix1cGxvYWRlcjoicXEtdXBsb2FkZXItc2VsZWN0b3IiLGRyb3A6InFxLXVwbG9hZC1kcm9wLWFyZWEtc2VsZWN0b3IiLGxpc3Q6InFxLXVwbG9hZC1saXN0LXNlbGVjdG9yIixwcm9ncmVzc0JhckNvbnRhaW5lcjoicXEtcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lci1zZWxlY3RvciIscHJvZ3Jlc3NCYXI6InFxLXByb2dyZXNzLWJhci1zZWxlY3RvciIsdG90YWxQcm9ncmVzc0JhckNvbnRhaW5lcjoicXEtdG90YWwtcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lci1zZWxlY3RvciIsdG90YWxQcm9ncmVzc0JhcjoicXEtdG90YWwtcHJvZ3Jlc3MtYmFyLXNlbGVjdG9yIixmaWxlOiJxcS11cGxvYWQtZmlsZS1zZWxlY3RvciIsc3Bpbm5lcjoicXEtdXBsb2FkLXNwaW5uZXItc2VsZWN0b3IiLHNpemU6InFxLXVwbG9hZC1zaXplLXNlbGVjdG9yIixjYW5jZWw6InFxLXVwbG9hZC1jYW5jZWwtc2VsZWN0b3IiLHBhdXNlOiJxcS11cGxvYWQtcGF1c2Utc2VsZWN0b3IiLGNvbnRpbnVlQnV0dG9uOiJxcS11cGxvYWQtY29udGludWUtc2VsZWN0b3IiLGRlbGV0ZUJ1dHRvbjoicXEtdXBsb2FkLWRlbGV0ZS1zZWxlY3RvciIscmV0cnk6InFxLXVwbG9hZC1yZXRyeS1zZWxlY3RvciIsc3RhdHVzVGV4dDoicXEtdXBsb2FkLXN0YXR1cy10ZXh0LXNlbGVjdG9yIixlZGl0RmlsZW5hbWVJbnB1dDoicXEtZWRpdC1maWxlbmFtZS1zZWxlY3RvciIsZWRpdE5hbWVJY29uOiJxcS1lZGl0LWZpbGVuYW1lLWljb24tc2VsZWN0b3IiLGRyb3BUZXh0OiJxcS11cGxvYWQtZHJvcC1hcmVhLXRleHQtc2VsZWN0b3IiLGRyb3BQcm9jZXNzaW5nOiJxcS1kcm9wLXByb2Nlc3Npbmctc2VsZWN0b3IiLGRyb3BQcm9jZXNzaW5nU3Bpbm5lcjoicXEtZHJvcC1wcm9jZXNzaW5nLXNwaW5uZXItc2VsZWN0b3IiLHRodW1ibmFpbDoicXEtdGh1bWJuYWlsLXNlbGVjdG9yIn0sbD17fSx0dD1uZXcgdC5Qcm9taXNlLGQ9bmV3IHQuUHJvbWlzZSx0aT1mdW5jdGlvbigpe3ZhciBuPXIucGxhY2Vob2xkZXJzLnRodW1ibmFpbE5vdEF2YWlsYWJsZSx0PXIucGxhY2Vob2xkZXJzLndhaXRpbmdGb3JUaHVtYm5haWwsaT17bWF4U2l6ZTphLHNjYWxlOm90fTt5JiYobj9yLmltYWdlR2VuZXJhdG9yLmdlbmVyYXRlKG4sbmV3IEltYWdlLGkpLnRoZW4oZnVuY3Rpb24obil7dHQuc3VjY2VzcyhuKX0sZnVuY3Rpb24oKXt0dC5mYWlsdXJlKCk7aCgiUHJvYmxlbSBsb2FkaW5nICdub3QgYXZhaWxhYmxlJyBwbGFjZWhvbGRlciBpbWFnZSBhdCAiK24sImVycm9yIil9KTp0dC5mYWlsdXJlKCksdD9yLmltYWdlR2VuZXJhdG9yLmdlbmVyYXRlKHQsbmV3IEltYWdlLGkpLnRoZW4oZnVuY3Rpb24obil7ZC5zdWNjZXNzKG4pfSxmdW5jdGlvbigpe2QuZmFpbHVyZSgpO2goIlByb2JsZW0gbG9hZGluZyAnd2FpdGluZyBmb3IgdGh1bWJuYWlsJyBwbGFjZWhvbGRlciBpbWFnZSBhdCAiK3QsImVycm9yIil9KTpkLmZhaWx1cmUoKSl9LGh0PWZ1bmN0aW9uKG4pe3ZhciBpPW5ldyB0LlByb21pc2U7cmV0dXJuIGQudGhlbihmdW5jdGlvbih0KXtndCh0LG4pO24uc3JjP2kuc3VjY2VzcygpOihuLnNyYz10LnNyYyxuLm9ubG9hZD1mdW5jdGlvbigpe24ub25sb2FkPW51bGw7byhuKTtpLnN1Y2Nlc3MoKX0pfSxmdW5jdGlvbigpe2Yobik7aS5zdWNjZXNzKCl9KSxpfSxpaT1mdW5jdGlvbihuLHQsaSl7dmFyIHU9YihuKTtyZXR1cm4gaCgiR2VuZXJhdGluZyBuZXcgdGh1bWJuYWlsIGZvciAiK24pLHQucXFUaHVtYm5haWxJZD1uLHIuaW1hZ2VHZW5lcmF0b3IuZ2VuZXJhdGUodCx1LGkpLnRoZW4oZnVuY3Rpb24oKXt3Kys7byh1KTtsW25dLnN1Y2Nlc3MoKX0sZnVuY3Rpb24oKXtsW25dLmZhaWx1cmUoKTtyLnBsYWNlaG9sZGVycy53YWl0VW50aWxVcGRhdGV8fGsobix1KX0pfSxjPWZ1bmN0aW9uKCl7aWYobnQubGVuZ3RoKXtnPSEwO3ZhciBuPW50LnNoaWZ0KCk7bi51cGRhdGU/ZWkobik6Zmkobil9ZWxzZSBnPSExfSx3dD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuY2FuY2VsKX0sY3Q9ZnVuY3Rpb24obil7cmV0dXJuIHUoZShuKSxpLmNvbnRpbnVlQnV0dG9uKX0sYnQ9ZnVuY3Rpb24obil7cmV0dXJuIHUocyxpW24rIkRpYWxvZyJdKX0sbHQ9ZnVuY3Rpb24obil7cmV0dXJuIHUoZShuKSxpLmRlbGV0ZUJ1dHRvbil9LGF0PWZ1bmN0aW9uKCl7cmV0dXJuIHUocyxpLmRyb3BQcm9jZXNzaW5nKX0sa3Q9ZnVuY3Rpb24obil7cmV0dXJuIHUoZShuKSxpLmVkaXROYW1lSWNvbil9LGU9ZnVuY3Rpb24obil7cmV0dXJuIHAubWFwW25dfHx0KHYpLmdldEZpcnN0QnlDbGFzcygicXEtZmlsZS1pZC0iK24pfSxpdD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuZmlsZSl9LHJ0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5wYXVzZSl9LHV0PWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uP3UocyxpLnRvdGFsUHJvZ3Jlc3NCYXJDb250YWluZXIpfHx1KHMsaS50b3RhbFByb2dyZXNzQmFyKTp1KGUobiksaS5wcm9ncmVzc0JhckNvbnRhaW5lcil8fHUoZShuKSxpLnByb2dyZXNzQmFyKX0sdnQ9ZnVuY3Rpb24obil7cmV0dXJuIHUoZShuKSxpLnJldHJ5KX0sZHQ9ZnVuY3Rpb24obil7cmV0dXJuIHUoZShuKSxpLnNpemUpfSxmdD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuc3Bpbm5lcil9LHU9ZnVuY3Rpb24obixpKXtyZXR1cm4gbiYmdChuKS5nZXRGaXJzdEJ5Q2xhc3MoaSl9LGI9ZnVuY3Rpb24obil7cmV0dXJuIHkmJnUoZShuKSxpLnRodW1ibmFpbCl9LGY9ZnVuY3Rpb24obil7biYmdChuKS5hZGRDbGFzcyhyLmNsYXNzZXMuaGlkZSl9LGd0PWZ1bmN0aW9uKG4saSl7dmFyIHI9bi5zdHlsZS5tYXhXaWR0aCx1PW4uc3R5bGUubWF4SGVpZ2h0O3UmJnImJiFpLnN0eWxlLm1heFdpZHRoJiYhaS5zdHlsZS5tYXhIZWlnaHQmJnQoaSkuY3NzKHttYXhXaWR0aDpyLG1heEhlaWdodDp1fSl9LGs9ZnVuY3Rpb24obixpKXt2YXIgdT1sW25dfHwobmV3IHQuUHJvbWlzZSkuZmFpbHVyZSgpLHI9bmV3IHQuUHJvbWlzZTtyZXR1cm4gdHQudGhlbihmdW5jdGlvbihuKXt1LnRoZW4oZnVuY3Rpb24oKXtyLnN1Y2Nlc3MoKX0sZnVuY3Rpb24oKXtndChuLGkpO2kub25sb2FkPWZ1bmN0aW9uKCl7aS5vbmxvYWQ9bnVsbDtyLnN1Y2Nlc3MoKX07aS5zcmM9bi5zcmM7byhpKX0pfSkscn0scmk9ZnVuY3Rpb24oKXt2YXIgcyxlLG8sbix3LGMsdSxmLGwsdixwO2lmKGgoIlBhcnNpbmcgdGVtcGxhdGUiKSxudWxsPT1yLnRlbXBsYXRlSWRPckVsKXRocm93IG5ldyBFcnJvcigiWW91IE1VU1Qgc3BlY2lmeSBlaXRoZXIgYSB0ZW1wbGF0ZSBlbGVtZW50IG9yIElEISIpO2lmKHQuaXNTdHJpbmcoci50ZW1wbGF0ZUlkT3JFbCkpe2lmKHM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoci50ZW1wbGF0ZUlkT3JFbCksbnVsbD09PXMpdGhyb3cgbmV3IEVycm9yKHQuZm9ybWF0KCJDYW5ub3QgZmluZCB0ZW1wbGF0ZSBzY3JpcHQgYXQgSUQgJ3t9JyEiLHIudGVtcGxhdGVJZE9yRWwpKTtlPXMuaW5uZXJIVE1MfWVsc2V7aWYodm9pZCAwPT09ci50ZW1wbGF0ZUlkT3JFbC5pbm5lckhUTUwpdGhyb3cgbmV3IEVycm9yKCJZb3UgaGF2ZSBzcGVjaWZpZWQgYW4gaW52YWxpZCB2YWx1ZSBmb3IgdGhlIHRlbXBsYXRlIG9wdGlvbiEgIEl0IG11c3QgYmUgYW4gSUQgb3IgYW4gRWxlbWVudC4iKTtlPXIudGVtcGxhdGVJZE9yRWwuaW5uZXJIVE1MfWlmKGU9dC50cmltU3RyKGUpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iiksbi5hcHBlbmRDaGlsZCh0LnRvRWxlbWVudChlKSkscD10KG4pLmdldEZpcnN0QnlDbGFzcyhpLnVwbG9hZGVyKSxyLmJ1dHRvbiYmKGM9dChuKS5nZXRGaXJzdEJ5Q2xhc3MoaS5idXR0b24pLGMmJnQoYykucmVtb3ZlKCkpLHQuRHJhZ0FuZERyb3AmJnQuc3VwcG9ydGVkRmVhdHVyZXMuZmlsZURyb3B8fChsPXQobikuZ2V0Rmlyc3RCeUNsYXNzKGkuZHJvcFByb2Nlc3NpbmcpLGwmJnQobCkucmVtb3ZlKCkpLHU9dChuKS5nZXRGaXJzdEJ5Q2xhc3MoaS5kcm9wKSx1JiYhdC5EcmFnQW5kRHJvcCYmKGgoIkRuRCBtb2R1bGUgdW5hdmFpbGFibGUuIiwiaW5mbyIpLHQodSkucmVtb3ZlKCkpLHQuc3VwcG9ydGVkRmVhdHVyZXMuZmlsZURyb3A/dChwKS5oYXNBdHRyaWJ1dGUoInFxLWRyb3AtYXJlYS10ZXh0IikmJnUmJih2PXQodSkuZ2V0Rmlyc3RCeUNsYXNzKGkuZHJvcFRleHQpLHYmJnQodikucmVtb3ZlKCkpOihwLnJlbW92ZUF0dHJpYnV0ZSgicXEtZHJvcC1hcmVhLXRleHQiKSx1JiZ0KHUpLmhhc0F0dHJpYnV0ZSgicXEtaGlkZS1kcm9wem9uZSIpJiZ0KHUpLmNzcyh7ZGlzcGxheToibm9uZSJ9KSksZj10KG4pLmdldEZpcnN0QnlDbGFzcyhpLnRodW1ibmFpbCkseT9mJiYoYT1wYXJzZUludChmLmdldEF0dHJpYnV0ZSgicXEtbWF4LXNpemUiKSksYT1hPjA/YTpudWxsLG90PXQoZikuaGFzQXR0cmlidXRlKCJxcS1zZXJ2ZXItc2NhbGUiKSk6ZiYmdChmKS5yZW1vdmUoKSx5PXkmJmYseXQ9dChuKS5nZXRCeUNsYXNzKGkuZWRpdEZpbGVuYW1lSW5wdXQpLmxlbmd0aD4wLHB0PXQobikuZ2V0QnlDbGFzcyhpLnJldHJ5KS5sZW5ndGg+MCxvPXQobikuZ2V0Rmlyc3RCeUNsYXNzKGkubGlzdCksbnVsbD09byl0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kIHRoZSBmaWxlIGxpc3QgY29udGFpbmVyIGluIHRoZSB0ZW1wbGF0ZSEiKTtyZXR1cm4gdz1vLmNoaWxkcmVuWzBdLmNsb25lTm9kZSghMCksby5pbm5lckhUTUw9IiIsbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiRElBTE9HIikubGVuZ3RoJiZkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaWFsb2ciKSxoKCJUZW1wbGF0ZSBwYXJzaW5nIGNvbXBsZXRlIikse3RlbXBsYXRlOm4sZmlsZVRlbXBsYXRlOnd9fSx1aT1mdW5jdGlvbihuLGkscil7dmFyIHU9cixmPXUuZmlyc3RDaGlsZDtpPjAmJihmPXQodSkuY2hpbGRyZW4oKVtpXS5uZXh0U2libGluZyk7dS5pbnNlcnRCZWZvcmUobixmKX0sZmk9ZnVuY3Rpb24obil7dmFyIGk9bi5pZCxmPW4ub3B0RmlsZU9yQmxvYixlPWYmJmYucXFUaHVtYm5haWxJZCx1PWIoaSksbz17Y3VzdG9tUmVzaXplRnVuY3Rpb246bi5jdXN0b21SZXNpemVGdW5jdGlvbixtYXhTaXplOmEsb3JpZW50OiEwLHNjYWxlOiEwfTt0LnN1cHBvcnRlZEZlYXR1cmVzLmltYWdlUHJldmlld3M/dT9yLmxpbWl0cy5tYXhUaHVtYnMmJnIubGltaXRzLm1heFRodW1iczw9dz8oayhpLHUpLGMoKSk6aHQodSkuZG9uZShmdW5jdGlvbigpe2xbaV09bmV3IHQuUHJvbWlzZTtsW2ldLmRvbmUoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGMsci5saW1pdHMudGltZUJldHdlZW5UaHVtYnMpfSk7bnVsbCE9ZT9vaShpLGUpOmlpKGksZixvKX0pOmMoKTp1JiYoaHQodSksYygpKX0sZWk9ZnVuY3Rpb24obil7dmFyIGk9bi5pZCx1PW4udGh1bWJuYWlsVXJsLGY9bi5zaG93V2FpdGluZ0ltZyx0PWIoaSksZT17Y3VzdG9tUmVzaXplRnVuY3Rpb246bi5jdXN0b21SZXNpemVGdW5jdGlvbixzY2FsZTpvdCxtYXhTaXplOmF9O2lmKHQpaWYodSl7aWYoIShyLmxpbWl0cy5tYXhUaHVtYnMmJnIubGltaXRzLm1heFRodW1iczw9dykpcmV0dXJuIGYmJmh0KHQpLHIuaW1hZ2VHZW5lcmF0b3IuZ2VuZXJhdGUodSx0LGUpLnRoZW4oZnVuY3Rpb24oKXtvKHQpO3crKztzZXRUaW1lb3V0KGMsci5saW1pdHMudGltZUJldHdlZW5UaHVtYnMpfSxmdW5jdGlvbigpe2soaSx0KTtzZXRUaW1lb3V0KGMsci5saW1pdHMudGltZUJldHdlZW5UaHVtYnMpfSk7ayhpLHQpO2MoKX1lbHNlIGsoaSx0KSxjKCl9LG5pPWZ1bmN0aW9uKG4scil7dmFyIHU9dXQobiksZj1udWxsPT1uP2kudG90YWxQcm9ncmVzc0JhcjppLnByb2dyZXNzQmFyO3UmJiF0KHUpLmhhc0NsYXNzKGYpJiYodT10KHUpLmdldEZpcnN0QnlDbGFzcyhmKSk7dSYmKHQodSkuY3NzKHt3aWR0aDpyKyIlIn0pLHUuc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVlbm93IixyKSl9LG89ZnVuY3Rpb24obil7biYmdChuKS5yZW1vdmVDbGFzcyhyLmNsYXNzZXMuaGlkZSl9LG9pPWZ1bmN0aW9uKG4saSl7dmFyIHU9YihuKSxmPWIoaSk7aCh0LmZvcm1hdCgiSUQge30gaXMgdGhlIHNhbWUgZmlsZSBhcyBJRCB7fS4gIFdpbGwgdXNlIGdlbmVyYXRlZCB0aHVtYm5haWwgZnJvbSBJRCB7fSBpbnN0ZWFkLiIsbixpLGkpKTtsW2ldLnRoZW4oZnVuY3Rpb24oKXt3Kys7bFtuXS5zdWNjZXNzKCk7aCh0LmZvcm1hdCgiTm93IHVzaW5nIHByZXZpb3VzbHkgZ2VuZXJhdGVkIHRodW1ibmFpbCBjcmVhdGVkIGZvciBJRCB7fSBvbiBJRCB7fS4iLGksbikpO3Uuc3JjPWYuc3JjO28odSl9LGZ1bmN0aW9uKCl7bFtuXS5mYWlsdXJlKCk7ci5wbGFjZWhvbGRlcnMud2FpdFVudGlsVXBkYXRlfHxrKG4sdSl9KX07dC5leHRlbmQocixuKTtoPXIubG9nO3Quc3VwcG9ydGVkRmVhdHVyZXMuaW1hZ2VQcmV2aWV3c3x8KHIubGltaXRzLnRpbWVCZXR3ZWVuVGh1bWJzPTAsci5saW1pdHMubWF4VGh1bWJzPTApO3M9ci5jb250YWluZXJFbDt5PXZvaWQgMCE9PXIuaW1hZ2VHZW5lcmF0b3I7ZXQ9cmkoKTt0aSgpO3QuZXh0ZW5kKHRoaXMse3JlbmRlcjpmdW5jdGlvbigpe2goIlJlbmRlcmluZyB0ZW1wbGF0ZSBpbiBET00uIik7dz0wO3MuYXBwZW5kQ2hpbGQoZXQudGVtcGxhdGUuY2xvbmVOb2RlKCEwKSk7ZihhdCgpKTt0aGlzLmhpZGVUb3RhbFByb2dyZXNzKCk7dj1yLmZpbGVDb250YWluZXJFbHx8dShzLGkubGlzdCk7aCgiVGVtcGxhdGUgcmVuZGVyaW5nIGNvbXBsZXRlIil9LHJlbmRlckZhaWx1cmU6ZnVuY3Rpb24obil7dmFyIGk9dC50b0VsZW1lbnQobik7cy5pbm5lckhUTUw9IiI7cy5hcHBlbmRDaGlsZChpKX0scmVzZXQ6ZnVuY3Rpb24oKXtzLmlubmVySFRNTD0iIjt0aGlzLnJlbmRlcigpfSxjbGVhckZpbGVzOmZ1bmN0aW9uKCl7di5pbm5lckhUTUw9IiJ9LGRpc2FibGVDYW5jZWw6ZnVuY3Rpb24oKXtzdD0hMH0sYWRkRmlsZTpmdW5jdGlvbihuLHIsZSxoLGMpe3ZhciBhLGw9ZXQuZmlsZVRlbXBsYXRlLmNsb25lTm9kZSghMCkseT11KGwsaS5maWxlKSxrPXUocyxpLnVwbG9hZGVyKSx3PWM/cC5jb250ZW50OnY7YyYmKHAubWFwW25dPWwpO3QobCkuYWRkQ2xhc3MoInFxLWZpbGUtaWQtIituKTtrLnJlbW92ZUF0dHJpYnV0ZSgicXEtZHJvcC1hcmVhLXRleHQiKTt5JiYodCh5KS5zZXRUZXh0KHIpLHkuc2V0QXR0cmlidXRlKCJ0aXRsZSIscikpO2wuc2V0QXR0cmlidXRlKCJxcS1maWxlLWlkIixuKTtlP3VpKGwsZS5pbmRleCx3KTp3LmFwcGVuZENoaWxkKGwpO2g/KGwuc3R5bGUuZGlzcGxheT0ibm9uZSIsdChsKS5hZGRDbGFzcygicXEtaGlkZGVuLWZvcmV2ZXIiKSk6KGYodXQobikpLGYoZHQobikpLGYobHQobikpLGYodnQobikpLGYocnQobikpLGYoY3QobikpLHN0JiZ0aGlzLmhpZGVDYW5jZWwobiksYT1iKG4pLGEmJiFhLnNyYyYmZC50aGVuKGZ1bmN0aW9uKG4pe2Euc3JjPW4uc3JjO24uc3R5bGUubWF4SGVpZ2h0JiZuLnN0eWxlLm1heFdpZHRoJiZ0KGEpLmNzcyh7bWF4SGVpZ2h0Om4uc3R5bGUubWF4SGVpZ2h0LG1heFdpZHRoOm4uc3R5bGUubWF4V2lkdGh9KTtvKGEpfSkpfSxhZGRGaWxlVG9DYWNoZTpmdW5jdGlvbihuLHQsaSxyKXt0aGlzLmFkZEZpbGUobix0LGksciwhMCl9LGFkZENhY2hlVG9Eb206ZnVuY3Rpb24oKXt2LmFwcGVuZENoaWxkKHAuY29udGVudCk7cC5jb250ZW50PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtwLm1hcD17fX0scmVtb3ZlRmlsZTpmdW5jdGlvbihuKXt0KGUobikpLnJlbW92ZSgpfSxnZXRGaWxlSWQ6ZnVuY3Rpb24obil7dmFyIHQ9bjtpZih0KXtmb3IoO251bGw9PXQuZ2V0QXR0cmlidXRlKCJxcS1maWxlLWlkIik7KXQ9dC5wYXJlbnROb2RlO3JldHVybiBwYXJzZUludCh0LmdldEF0dHJpYnV0ZSgicXEtZmlsZS1pZCIpKX19LGdldEZpbGVMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHZ9LG1hcmtGaWxlbmFtZUVkaXRhYmxlOmZ1bmN0aW9uKG4pe3ZhciBpPWl0KG4pO2kmJnQoaSkuYWRkQ2xhc3Moci5jbGFzc2VzLmVkaXRhYmxlKX0sdXBkYXRlRmlsZW5hbWU6ZnVuY3Rpb24obixpKXt2YXIgcj1pdChuKTtyJiYodChyKS5zZXRUZXh0KGkpLHIuc2V0QXR0cmlidXRlKCJ0aXRsZSIsaSkpfSxoaWRlRmlsZW5hbWU6ZnVuY3Rpb24obil7ZihpdChuKSl9LHNob3dGaWxlbmFtZTpmdW5jdGlvbihuKXtvKGl0KG4pKX0saXNGaWxlTmFtZTpmdW5jdGlvbihuKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpLmZpbGUpfSxnZXRCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gci5idXR0b258fHUocyxpLmJ1dHRvbil9LGhpZGVEcm9wUHJvY2Vzc2luZzpmdW5jdGlvbigpe2YoYXQoKSl9LHNob3dEcm9wUHJvY2Vzc2luZzpmdW5jdGlvbigpe28oYXQoKSl9LGdldERyb3Bab25lOmZ1bmN0aW9uKCl7cmV0dXJuIHUocyxpLmRyb3ApfSxpc0VkaXRGaWxlbmFtZVBvc3NpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHl0fSxoaWRlUmV0cnk6ZnVuY3Rpb24obil7Zih2dChuKSl9LGlzUmV0cnlQb3NzaWJsZTpmdW5jdGlvbigpe3JldHVybiBwdH0sc2hvd1JldHJ5OmZ1bmN0aW9uKG4pe28odnQobikpfSxnZXRGaWxlQ29udGFpbmVyOmZ1bmN0aW9uKG4pe3JldHVybiBlKG4pfSxzaG93RWRpdEljb246ZnVuY3Rpb24obil7dmFyIGk9a3Qobik7aSYmdChpKS5hZGRDbGFzcyhyLmNsYXNzZXMuZWRpdGFibGUpfSxpc0hpZGRlbkZvcmV2ZXI6ZnVuY3Rpb24obil7cmV0dXJuIHQoZShuKSkuaGFzQ2xhc3MoInFxLWhpZGRlbi1mb3JldmVyIil9LGhpZGVFZGl0SWNvbjpmdW5jdGlvbihuKXt2YXIgaT1rdChuKTtpJiZ0KGkpLnJlbW92ZUNsYXNzKHIuY2xhc3Nlcy5lZGl0YWJsZSl9LGlzRWRpdEljb246ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5lZGl0TmFtZUljb24sITApfSxnZXRFZGl0SW5wdXQ6ZnVuY3Rpb24obil7cmV0dXJuIHUoZShuKSxpLmVkaXRGaWxlbmFtZUlucHV0KX0saXNFZGl0SW5wdXQ6ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5lZGl0RmlsZW5hbWVJbnB1dCwhMCl9LHVwZGF0ZVByb2dyZXNzOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcix1PXV0KG4pO3UmJmk+MCYmKHI9TWF0aC5yb3VuZCh0L2kqMTAwKSwxMDA9PT1yP2YodSk6byh1KSxuaShuLHIpKX0sdXBkYXRlVG90YWxQcm9ncmVzczpmdW5jdGlvbihuLHQpe3RoaXMudXBkYXRlUHJvZ3Jlc3MobnVsbCxuLHQpfSxoaWRlUHJvZ3Jlc3M6ZnVuY3Rpb24obil7dmFyIHQ9dXQobik7dCYmZih0KX0saGlkZVRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt0aGlzLmhpZGVQcm9ncmVzcygpfSxyZXNldFByb2dyZXNzOmZ1bmN0aW9uKG4pe25pKG4sMCk7dGhpcy5oaWRlVG90YWxQcm9ncmVzcyhuKX0scmVzZXRUb3RhbFByb2dyZXNzOmZ1bmN0aW9uKCl7dGhpcy5yZXNldFByb2dyZXNzKCl9LHNob3dDYW5jZWw6ZnVuY3Rpb24obil7aWYoIXN0KXt2YXIgaT13dChuKTtpJiZ0KGkpLnJlbW92ZUNsYXNzKHIuY2xhc3Nlcy5oaWRlKX19LGhpZGVDYW5jZWw6ZnVuY3Rpb24obil7Zih3dChuKSl9LGlzQ2FuY2VsOmZ1bmN0aW9uKG4pe3JldHVybiB0KG4pLmhhc0NsYXNzKGkuY2FuY2VsLCEwKX0sYWxsb3dQYXVzZTpmdW5jdGlvbihuKXtvKHJ0KG4pKTtmKGN0KG4pKX0sdXBsb2FkUGF1c2VkOmZ1bmN0aW9uKG4pe3RoaXMuc2V0U3RhdHVzVGV4dChuLHIudGV4dC5wYXVzZWQpO3RoaXMuYWxsb3dDb250aW51ZUJ1dHRvbihuKTtmKGZ0KG4pKX0saGlkZVBhdXNlOmZ1bmN0aW9uKG4pe2YocnQobikpfSxpc1BhdXNlOmZ1bmN0aW9uKG4pe3JldHVybiB0KG4pLmhhc0NsYXNzKGkucGF1c2UsITApfSxpc0NvbnRpbnVlQnV0dG9uOmZ1bmN0aW9uKG4pe3JldHVybiB0KG4pLmhhc0NsYXNzKGkuY29udGludWVCdXR0b24sITApfSxhbGxvd0NvbnRpbnVlQnV0dG9uOmZ1bmN0aW9uKG4pe28oY3QobikpO2YocnQobikpfSx1cGxvYWRDb250aW51ZWQ6ZnVuY3Rpb24obil7dGhpcy5zZXRTdGF0dXNUZXh0KG4sIiIpO3RoaXMuYWxsb3dQYXVzZShuKTtvKGZ0KG4pKX0sc2hvd0RlbGV0ZUJ1dHRvbjpmdW5jdGlvbihuKXtvKGx0KG4pKX0saGlkZURlbGV0ZUJ1dHRvbjpmdW5jdGlvbihuKXtmKGx0KG4pKX0saXNEZWxldGVCdXR0b246ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5kZWxldGVCdXR0b24sITApfSxpc1JldHJ5OmZ1bmN0aW9uKG4pe3JldHVybiB0KG4pLmhhc0NsYXNzKGkucmV0cnksITApfSx1cGRhdGVTaXplOmZ1bmN0aW9uKG4saSl7dmFyIHI9ZHQobik7ciYmKG8ociksdChyKS5zZXRUZXh0KGkpKX0sc2V0U3RhdHVzVGV4dDpmdW5jdGlvbihuLHIpe3ZhciBmPXUoZShuKSxpLnN0YXR1c1RleHQpO2YmJihudWxsPT1yP3QoZikuY2xlYXJUZXh0KCk6dChmKS5zZXRUZXh0KHIpKX0saGlkZVNwaW5uZXI6ZnVuY3Rpb24obil7dChlKG4pKS5yZW1vdmVDbGFzcygicXEtaW4tcHJvZ3Jlc3MiKTtmKGZ0KG4pKX0sc2hvd1NwaW5uZXI6ZnVuY3Rpb24obil7dChlKG4pKS5hZGRDbGFzcygicXEtaW4tcHJvZ3Jlc3MiKTtvKGZ0KG4pKX0sZ2VuZXJhdGVQcmV2aWV3OmZ1bmN0aW9uKG4sdCxpKXt0aGlzLmlzSGlkZGVuRm9yZXZlcihuKXx8KG50LnB1c2goe2lkOm4sY3VzdG9tUmVzaXplRnVuY3Rpb246aSxvcHRGaWxlT3JCbG9iOnR9KSwhZyYmYygpKX0sdXBkYXRlVGh1bWJuYWlsOmZ1bmN0aW9uKG4sdCxpLHIpe3RoaXMuaXNIaWRkZW5Gb3JldmVyKG4pfHwobnQucHVzaCh7Y3VzdG9tUmVzaXplRnVuY3Rpb246cix1cGRhdGU6ITAsaWQ6bix0aHVtYm5haWxVcmw6dCxzaG93V2FpdGluZ0ltZzppfSksIWcmJmMoKSl9LGhhc0RpYWxvZzpmdW5jdGlvbihuKXtyZXR1cm4gdC5zdXBwb3J0ZWRGZWF0dXJlcy5kaWFsb2dFbGVtZW50JiYhIWJ0KG4pfSxzaG93RGlhbG9nOmZ1bmN0aW9uKG4scixmKXt2YXIgZT1idChuKSx5PXUoZSxpLmRpYWxvZ01lc3NhZ2UpLHM9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiSU5QVVQiKVswXSxoPXUoZSxpLmRpYWxvZ0NhbmNlbEJ1dHRvbiksbz11KGUsaS5kaWFsb2dPa0J1dHRvbiksYz1uZXcgdC5Qcm9taXNlLHY9ZnVuY3Rpb24oKXtoLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIixsKTtvJiZvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIixhKTtjLmZhaWx1cmUoKX0sbD1mdW5jdGlvbigpe2gucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGwpO2UuY2xvc2UoKX0sYT1mdW5jdGlvbigpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xvc2UiLHYpO28ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGEpO2UuY2xvc2UoKTtjLnN1Y2Nlc3MocyYmcy52YWx1ZSl9O3JldHVybiBlLmFkZEV2ZW50TGlzdGVuZXIoImNsb3NlIix2KSxoLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixsKSxvJiZvLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixhKSxzJiYocy52YWx1ZT1mKSx5LnRleHRDb250ZW50PXIsZS5zaG93TW9kYWwoKSxjfX0pfTt0LlVpRXZlbnRIYW5kbGVyPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGYobil7dS5hdHRhY2gobixyLmV2ZW50VHlwZSxmdW5jdGlvbihuKXtuPW58fHdpbmRvdy5ldmVudDt2YXIgdD1uLnRhcmdldHx8bi5zcmNFbGVtZW50O3Iub25IYW5kbGVkKHQsbil9KX12YXIgdT1uZXcgdC5EaXNwb3NlU3VwcG9ydCxyPXtldmVudFR5cGU6ImNsaWNrIixhdHRhY2hUbzpudWxsLG9uSGFuZGxlZDpmdW5jdGlvbigpe319O3QuZXh0ZW5kKHRoaXMse2FkZEhhbmRsZXI6ZnVuY3Rpb24obil7ZihuKX0sZGlzcG9zZTpmdW5jdGlvbigpe3UuZGlzcG9zZSgpfX0pO3QuZXh0ZW5kKGkse2dldEZpbGVJZEZyb21JdGVtOmZ1bmN0aW9uKG4pe3JldHVybiBuLnFxRmlsZUlkfSxnZXREaXNwb3NlU3VwcG9ydDpmdW5jdGlvbigpe3JldHVybiB1fX0pO3QuZXh0ZW5kKHIsbik7ci5hdHRhY2hUbyYmZihyLmF0dGFjaFRvKX07dC5GaWxlQnV0dG9uc0NsaWNrSGFuZGxlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihuLHIpe3QuZWFjaCh1LGZ1bmN0aW9uKHUsZil7dmFyIGUsbz11LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSk7aWYoaS50ZW1wbGF0aW5nWyJpcyIrb10obikpcmV0dXJuIGU9aS50ZW1wbGF0aW5nLmdldEZpbGVJZChuKSx0LnByZXZlbnREZWZhdWx0KHIpLGkubG9nKHQuZm9ybWF0KCJEZXRlY3RlZCB2YWxpZCBmaWxlIGJ1dHRvbiBjbGljayBldmVudCBvbiBmaWxlICd7fScsIElEOiB7fS4iLGkub25HZXROYW1lKGUpLGUpKSxmKGUpLCExfSl9dmFyIGk9e3RlbXBsYXRpbmc6bnVsbCxsb2c6ZnVuY3Rpb24oKXt9LG9uRGVsZXRlRmlsZTpmdW5jdGlvbigpe30sb25DYW5jZWw6ZnVuY3Rpb24oKXt9LG9uUmV0cnk6ZnVuY3Rpb24oKXt9LG9uUGF1c2U6ZnVuY3Rpb24oKXt9LG9uQ29udGludWU6ZnVuY3Rpb24oKXt9LG9uR2V0TmFtZTpmdW5jdGlvbigpe319LHU9e2NhbmNlbDpmdW5jdGlvbihuKXtpLm9uQ2FuY2VsKG4pfSxyZXRyeTpmdW5jdGlvbihuKXtpLm9uUmV0cnkobil9LGRlbGV0ZUJ1dHRvbjpmdW5jdGlvbihuKXtpLm9uRGVsZXRlRmlsZShuKX0scGF1c2U6ZnVuY3Rpb24obil7aS5vblBhdXNlKG4pfSxjb250aW51ZUJ1dHRvbjpmdW5jdGlvbihuKXtpLm9uQ29udGludWUobil9fTt0LmV4dGVuZChpLG4pO2kuZXZlbnRUeXBlPSJjbGljayI7aS5vbkhhbmRsZWQ9cjtpLmF0dGFjaFRvPWkudGVtcGxhdGluZy5nZXRGaWxlTGlzdCgpO3QuZXh0ZW5kKHRoaXMsbmV3IHQuVWlFdmVudEhhbmRsZXIoaSx7fSkpfTt0LkZpbGVuYW1lQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1KG4sdSl7aWYoaS50ZW1wbGF0aW5nLmlzRmlsZU5hbWUobil8fGkudGVtcGxhdGluZy5pc0VkaXRJY29uKG4pKXt2YXIgZj1pLnRlbXBsYXRpbmcuZ2V0RmlsZUlkKG4pO2kub25HZXRVcGxvYWRTdGF0dXMoZik9PT10LnN0YXR1cy5TVUJNSVRURUQmJihpLmxvZyh0LmZvcm1hdCgiRGV0ZWN0ZWQgdmFsaWQgZmlsZW5hbWUgY2xpY2sgZXZlbnQgb24gZmlsZSAne30nLCBJRDoge30uIixpLm9uR2V0TmFtZShmKSxmKSksdC5wcmV2ZW50RGVmYXVsdCh1KSxyLmhhbmRsZUZpbGVuYW1lRWRpdChmLG4sITApKX19dmFyIHI9e30saT17dGVtcGxhdGluZzpudWxsLGxvZzpmdW5jdGlvbigpe30sY2xhc3Nlczp7ZmlsZToicXEtdXBsb2FkLWZpbGUiLGVkaXROYW1lSWNvbjoicXEtZWRpdC1maWxlbmFtZS1pY29uIn0sb25HZXRVcGxvYWRTdGF0dXM6ZnVuY3Rpb24oKXt9LG9uR2V0TmFtZTpmdW5jdGlvbigpe319O3QuZXh0ZW5kKGksbik7aS5ldmVudFR5cGU9ImNsaWNrIjtpLm9uSGFuZGxlZD11O3QuZXh0ZW5kKHRoaXMsbmV3IHQuRmlsZW5hbWVFZGl0SGFuZGxlcihpLHIpKX07dC5GaWxlbmFtZUlucHV0Rm9jdXNJbkhhbmRsZXI9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdShuKXtpZihyLnRlbXBsYXRpbmcuaXNFZGl0SW5wdXQobikpe3ZhciB1PXIudGVtcGxhdGluZy5nZXRGaWxlSWQobik7ci5vbkdldFVwbG9hZFN0YXR1cyh1KT09PXQuc3RhdHVzLlNVQk1JVFRFRCYmKHIubG9nKHQuZm9ybWF0KCJEZXRlY3RlZCB2YWxpZCBmaWxlbmFtZSBpbnB1dCBmb2N1cyBldmVudCBvbiBmaWxlICd7fScsIElEOiB7fS4iLHIub25HZXROYW1lKHUpLHUpKSxpLmhhbmRsZUZpbGVuYW1lRWRpdCh1LG4pKX19dmFyIHI9e3RlbXBsYXRpbmc6bnVsbCxvbkdldFVwbG9hZFN0YXR1czpmdW5jdGlvbigpe30sbG9nOmZ1bmN0aW9uKCl7fX07aXx8KGk9e30pO3IuZXZlbnRUeXBlPSJmb2N1c2luIjtyLm9uSGFuZGxlZD11O3QuZXh0ZW5kKHIsbik7dC5leHRlbmQodGhpcyxuZXcgdC5GaWxlbmFtZUVkaXRIYW5kbGVyKHIsaSkpfTt0LkZpbGVuYW1lSW5wdXRGb2N1c0hhbmRsZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO24uZXZlbnRUeXBlPSJmb2N1cyI7bi5hdHRhY2hUbz1udWxsO3QuZXh0ZW5kKHRoaXMsbmV3IHQuRmlsZW5hbWVJbnB1dEZvY3VzSW5IYW5kbGVyKG4se30pKX07dC5GaWxlbmFtZUVkaXRIYW5kbGVyPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGYobil7dmFyIHQ9ci5vbkdldE5hbWUobiksaT10Lmxhc3RJbmRleE9mKCIuIik7cmV0dXJuIGk+MCYmKHQ9dC5zdWJzdHIoMCxpKSksdH1mdW5jdGlvbiBlKG4pe3ZhciBpPXIub25HZXROYW1lKG4pO3JldHVybiB0LmdldEV4dGVuc2lvbihpKX1mdW5jdGlvbiB1KG4saSl7dmFyIGYsdT1uLnZhbHVlO3ZvaWQgMCE9PXUmJnQudHJpbVN0cih1KS5sZW5ndGg+MCYmKGY9ZShpKSx2b2lkIDAhPT1mJiYodT11KyIuIitmKSxyLm9uU2V0TmFtZShpLHUpKTtyLm9uRWRpdGluZ1N0YXR1c0NoYW5nZShpLCExKX1mdW5jdGlvbiBvKG4sdCl7aS5nZXREaXNwb3NlU3VwcG9ydCgpLmF0dGFjaChuLCJibHVyIixmdW5jdGlvbigpe3Uobix0KX0pfWZ1bmN0aW9uIHMobix0KXtpLmdldERpc3Bvc2VTdXBwb3J0KCkuYXR0YWNoKG4sImtleXVwIixmdW5jdGlvbihpKXsxMz09PShpLmtleUNvZGV8fGkud2hpY2gpJiZ1KG4sdCl9KX12YXIgcj17dGVtcGxhdGluZzpudWxsLGxvZzpmdW5jdGlvbigpe30sb25HZXRVcGxvYWRTdGF0dXM6ZnVuY3Rpb24oKXt9LG9uR2V0TmFtZTpmdW5jdGlvbigpe30sb25TZXROYW1lOmZ1bmN0aW9uKCl7fSxvbkVkaXRpbmdTdGF0dXNDaGFuZ2U6ZnVuY3Rpb24oKXt9fTt0LmV4dGVuZChyLG4pO3IuYXR0YWNoVG89ci50ZW1wbGF0aW5nLmdldEZpbGVMaXN0KCk7dC5leHRlbmQodGhpcyxuZXcgdC5VaUV2ZW50SGFuZGxlcihyLGkpKTt0LmV4dGVuZChpLHtoYW5kbGVGaWxlbmFtZUVkaXQ6ZnVuY3Rpb24obix0LGkpe3ZhciB1PXIudGVtcGxhdGluZy5nZXRFZGl0SW5wdXQobik7ci5vbkVkaXRpbmdTdGF0dXNDaGFuZ2UobiwhMCk7dS52YWx1ZT1mKG4pO2kmJnUuZm9jdXMoKTtvKHUsbik7cyh1LG4pfX0pfX0od2luZG93KQ==","CacheKey":"AevPmXKnwzB5waSlt7DF9h5Ixmo"}